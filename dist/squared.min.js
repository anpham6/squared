!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).squared={})}(this,function(e){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){this.wrapped=e}function n(e){var t,n;function a(t,n){try{var o=e[t](n),l=o.value,u=l instanceof r;Promise.resolve(u?l.wrapped:l).then(function(e){u?a("next",e):i(o.done?"return":"normal",e)},function(e){a("throw",e)})}catch(e){i("throw",e)}}function i(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(i,o){var l={key:e,arg:r,resolve:i,reject:o,next:null};n?n=n.next=l:(t=n=l,a(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(e){return this._invoke("next",e)},n.prototype.throw=function(e){return this._invoke("throw",e)},n.prototype.return=function(e){return this._invoke("return",e)};function i(e,t){return l(e)||function(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||c()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e){if(Array.isArray(e))return e}function u(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var s="ABCDEFGHIJKLMNOPQRSTUVWXYZ",f=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function v(e,t,r,n){for(var a=r.split("."),i=e,o=t,l=Array.isArray(c=a),u=0,c=l?c:c[Symbol.iterator]();;){var s;if(l){if(u>=c.length)break;s=c[u++]}else{if((u=c.next()).done)break;s=u.value}if(void 0===i[s]||void 0===o[s])return(void 0!==i[s]||void 0!==o[s])&&(void 0!==i[s]?[1,0]:[0,1]);i=i[s],o=o[s]}if(n){var f=parseInt(i),v=parseInt(o);if(!isNaN(f)&&!isNaN(v))return[f,v];if(!isNaN(f))return[1,0];if(!isNaN(v))return[0,1]}return[i,o]}var h={DECIMAL:"-?\\d+(?:.\\d+)?",ZERO_ONE:"0(?:\\.\\d+)?|1(?:\\.0+)?"};h.UNIT="(".concat(h.DECIMAL,")(px|em|ch|pc|pt|vw|vh|vmin|vmax|mm|cm|in)"),h.DEGREE="(".concat(h.DECIMAL,")(deg|rad|turn|grad)"),h.LENGTH="(".concat(h.DECIMAL,"(?:[a-z]{2,}|%)?)");var g={URL:/url\("?(.+?)"?\)/,URI:/^[A-Za-z]+:\/\//,UNIT:RegExp("^".concat(h.UNIT,"$")),ATTRIBUTE:/([^\s]+)="([^"]+)"/};function d(e){return""!==e?!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?e.charAt(0).toUpperCase()+e.substring(1).toLowerCase():e.charAt(0).toLowerCase()+e.substring(1):e}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",r=e.replace(RegExp("^".concat(t,"+")),"").match(RegExp("(".concat(t,"[a-z])"),"g"));if(r)for(var n=Array.isArray(i=r),a=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(a>=i.length)break;o=i[a++]}else{if((a=i.next()).done)break;o=a.value}e=e.replace(o,o[1].toUpperCase())}return e}function m(e){return e&&parseFloat(e)||0}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e<1?"".concat(0===t?Math.round(100*e):parseFloat((100*e).toPrecision(t)),"%"):"100%"}function b(e,t){if(e){if(C(e))return"".concat(e,"px");if((e=e.trim()).endsWith("px")||e.endsWith("%")||"auto"===e)return e;var r=e.match(g.UNIT);if(r){var n=parseFloat(r[1]);switch(r[2]){case"em":case"ch":n*=t||16;break;case"pc":n*=12;case"pt":n*=4/3;break;case"vw":n*=window.innerWidth/100;break;case"vh":n*=window.innerHeight/100;break;case"vmin":n*=Math.min(window.innerWidth,window.innerHeight)/100;break;case"vmax":n*=Math.max(window.innerWidth,window.innerHeight)/100;break;case"mm":n/=10;case"cm":n/=2.54;case"in":n*=96*window.devicePixelRatio}return"".concat(n,"px")}}return"0px"}function F(e,t,r){return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?D(e)?m(e)/100:parseFloat(b(e,r))/t:D(e)?Math.round(t*(m(e)/100)):parseFloat(b(e,r))}function A(e){return"string"==typeof e&&(e=parseFloat(e)),isNaN(e)?"0px":"".concat(Math.round(e),"px")}function E(e){return"string"==typeof e&&(e=parseFloat(e)),isNaN(e)?"0%":e<1?y(e):"".concat(Math.round(e),"%")}function x(e,t){return(e&t)===t}function C(e){return""!==e&&/^-?\d+(\.\d+)?$/.test(e.trim())}function k(e){return"string"==typeof e&&""!==e.trim()}function D(e){return/^\d+(\.\d+)?%$/.test(e)}function B(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=Array.isArray(o=e),i=0,o=a?o:o[Symbol.iterator]();;){var l;if(a){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var u=l;Array.isArray(u)?r.push(B(u,[],n)):n&&"object"===t(u)?r.push(S(u,{},!0)):r.push(u)}return r}function S(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var a in e)r[a]=Array.isArray(e[a])?n?B(e[a],[],!0):e[a]:"object"===t(e[a])?S(e[a],{},n):e[a];return r}function w(e,r,n){var a,i=!1;if(e&&"object"===t(e)){a=e;var o=r.split("."),l=0;do{a=a[o[l]]}while(null!=a&&++l<o.length&&"string"!=typeof a&&"number"!=typeof a&&"boolean"!=typeof a);i=null!=a&&l===o.length}switch(n){case"object":return i?a:null;case"number":return i&&!isNaN(parseInt(a))?parseInt(a):0;case"boolean":return i&&!0===a;default:return i?""+a:""}}function M(e){if(!g.URI.test(e)){var t=location.pathname.split("/");if(t.pop(),"/"===e.charAt(0))e=location.origin+e;else if(e.startsWith("../")){var r,n=[],a=0,i=e.split("/"),o=Array.isArray(i),l=0;for(i=o?i:i[Symbol.iterator]();;){var u;if(o){if(l>=i.length)break;u=i[l++]}else{if((l=i.next()).done)break;u=l.value}".."===u?a++:n.push(u)}(r=t=t.slice(0,Math.max(t.length-a,0))).push.apply(r,n),e=location.origin+t.join("/")}else e="".concat(location.origin+t.join("/"),"/").concat(e)}return e}function I(e,t){return e?e.replace(RegExp("^".concat(t,"+")),""):""}function R(e,t){return e?e.replace(RegExp("".concat(t,"+$")),""):""}function N(e){return null!=e&&""!==(""+e).trim()}function O(e,t){return e===t||Math.floor(e)===Math.floor(t)||Math.ceil(e)===Math.ceil(t)||Math.ceil(e)===Math.floor(t)||Math.floor(e)===Math.ceil(t)}function T(e,t){for(var r=[],n=[],a=0;a<e.length;a++){var i=e[a];t(i,a,e)?r.push(i):n.push(i)}return[r,n]}function L(e,t,r){for(var n=0;n<e.length;n++)t(e[n],n,e)&&(r&&r(e[n],n,e),e.splice(n--,1));return e}function _(e,t){for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}function P(e,t){for(var r=[],n=0;n<e.length;n++){var a=t(e[n],n,e);N(a)&&r.push(a)}return r}function G(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n,e);return r}function j(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",n="",a=0;a<e.length;a++){var i=t(e[a],a,e);""!==i&&(n+=i+r)}return n.substring(0,n.length-r.length)}var z=Object.freeze({REGEXP_STRING:h,REGEXP_PATTERN:g,capitalize:d,convertUnderscore:function(e){var t=(e=e.charAt(0).toLowerCase()+e.substring(1)).match(/([a-z][A-Z])/g);if(t)for(var r=Array.isArray(a=t),n=0,a=r?a:a[Symbol.iterator]();;){var i;if(r){if(n>=a.length)break;i=a[n++]}else{if((n=a.next()).done)break;i=n.value}var o=i;e=e.replace(o,"".concat(o[0],"_").concat(o[1].toLowerCase()))}return e},convertCamelCase:p,convertWord:function(e){return e?e.replace(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?/[^a-zA-Z\d]+/g:/[^\w]+/g,"_").trim():""},convertInt:function(e){return e&&parseInt(e)||0},convertFloat:m,convertAngle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"deg",r=parseFloat(e);switch(t){case"rad":r*=180/Math.PI;break;case"grad":r/=400;case"turn":r*=360}return r},convertPercent:y,convertPX:b,convertPercentPX:F,convertAlpha:function e(t){for(var r="";t>=s.length;){var n=Math.floor(t/s.length);n>1&&n<=s.length?(r+=s.charAt(n-1),t-=n*s.length):n>s.length&&(r+=e(n*s.length),t-=n*s.length);var a=t%s.length;r+=s.charAt(a),t-=a+s.length}return r=s.charAt(t)+r},convertRoman:function(e){for(var t=(""+e).split(""),r="",n=3;n--;)r=(f[parseInt(t.pop()||"")+10*n]||"")+r;return"M".repeat(parseInt(t.join("")))+r},convertEnum:function(e,t,r){for(var n=Object.keys(t),a=0;a<n.length;a++){var i=n[a];if(e===t[i])return r[i]}return""},formatPX:A,formatPercent:E,formatString:function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t++)e=e.replace("{".concat(t,"}"),t+1<1||arguments.length<=t+1?void 0:arguments[t+1]);return e},hasBit:x,isNumber:C,isString:k,isArray:function(e){return Array.isArray(e)&&e.length>0},isUnit:function(e){return g.UNIT.test(e)},isPercent:D,isEqual:function(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}}else if(Object.keys(e).length===Object.keys(t).length){for(var n in e)if(e[n]!==t[n])return!1;return!0}return!1},includes:function(e,t){if(e){var r=e.split(arguments.length>2&&void 0!==arguments[2]?arguments[2]:","),n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var i;if(n){if(a>=r.length)break;i=r[a++]}else{if((a=r.next()).done)break;i=a.value}if(i.trim()===t)return!0}}return!1},cloneInstance:function(e){return Object.assign(Object.create(Object.getPrototypeOf(e)),e)},cloneArray:B,cloneObject:S,optional:w,optionalAsObject:function(e,t){return w(e,t,"object")},optionalAsString:function(e,t){return w(e,t,"string")},optionalAsNumber:function(e,t){return w(e,t,"number")},optionalAsBoolean:function(e,t){return w(e,t,"boolean")},resolvePath:M,trimNull:function(e){return e?e.trim():""},trimString:function(e,t){return e?I(R(e,t),t):""},trimStart:I,trimEnd:R,indexOf:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var a=0;a<r.length;a++){var i=e.indexOf(r[a]);if(-1!==i)return i}return-1},lastIndexOf:function(e){return e.substring(e.lastIndexOf(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/")+1)},searchObject:function(e,r){var n,a=[];if("object"===t(r))for(var i in r){var o=r[i];N(e[o])&&a.push([o,e[o]])}else for(var l in n=/^\*.+\*$/.test(r)?function(e){return-1!==e.indexOf(r.replace(/\*/g,""))}:/^\*/.test(r)?function(e){return e.endsWith(r.replace(/\*/,""))}:/\*$/.test(r)?function(e){return e.startsWith(r.replace(/\*/,""))}:function(e){return e===r},e)n(l)&&a.push([l,e[l]]);return a},hasValue:N,hasInSet:function(e,t){for(var r=Array.isArray(a=e),n=0,a=r?a:a[Symbol.iterator]();;){var i;if(r){if(n>=a.length)break;i=a[n++]}else{if((n=a.next()).done)break;i=n.value}if(t(i))return!0}return!1},withinRange:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t>=e-r&&t<=e+r},withinFraction:O,assignWhenNull:function(e,t){for(var r in t)N(e[r])||(e[r]=t[r])},defaultWhenNull:function(e){for(var r=e,n=0;n<(arguments.length<=1?0:arguments.length-1)-1;n++){var a=n+1<1||arguments.length<=n+1?void 0:arguments[n+1];if(n===(arguments.length<=1?0:arguments.length-1)-2)N(r[a])||(r[a]=n+1+1<1||arguments.length<=n+1+1?void 0:arguments[n+1+1]);else{if(!k(a))break;if("object"===t(r[a]))r=r[a];else{if(void 0!==r[a])break;r[a]={},r=r[a]}}}},sortNumber:function(e){return e.sort(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?function(e,t){return e>t?-1:1}:function(e,t){return e<t?-1:1})},sortArray:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return e.sort(function(e,r){for(var a=0;a<n.length;a++){var i=v(e,r,n[a],!0);if(i&&i[0]!==i[1])return t?i[0]>i[1]?1:-1:i[0]<i[1]?1:-1}return 0})},flatArray:function(e){for(var t=e;t.some(function(e){return Array.isArray(e)});)t=[].concat.apply([],_(t,function(e){return null!=e}));return t},partitionArray:T,spliceArray:L,filterArray:_,flatMap:P,filterMap:function(e,t,r){for(var n=[],a=0;a<e.length;a++)t(e[a],a,e)&&n.push(r(e[a],a,e));return n},replaceMap:function(e,t){for(var r=0;r<e.length;r++)e[r]=t(e[r],r,e);return e},objectMap:G,joinMap:j,captureMap:function(e,t,r){for(var n=0;n<e.length&&(!t(e[n],n,e)||!1!==r(e[n],n,e));n++);}}),W=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._children=t||[]}var t,r,n;return t=e,(r=[{key:Symbol.iterator,value:function(){var e=this._children,t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0,value:void 0}}}}},{key:"item",value:function(e,t){return void 0===e||void 0===t?void 0===e?this._children[this._children.length-1]:this._children[e]:e>=0&&e<this._children.length?(this._children[e]=t,t):void 0}},{key:"append",value:function(e){return this._children.push(e),this}},{key:"remove",value:function(e){for(var t=0;t<this._children.length;t++)if(this._children[t]===e)return this._children.splice(t,1);return[]}},{key:"contains",value:function(e){return-1!==this._children.indexOf(e)}},{key:"retain",value:function(e){return this._children=e,this}},{key:"duplicate",value:function(){return this._children.slice(0)}},{key:"clear",value:function(){return this._children.length=0,this}},{key:"each",value:function(e){for(var t=0;t<this._children.length;t++)e(this._children[t],t,this._children);return this}},{key:"find",value:function(e,t){if("string"==typeof e){for(var r=0;r<this._children.length;r++)if(this._children[r][e]===t)return this._children[r]}else for(var n=0;n<this._children.length;n++)if(e(this._children[n],n,this._children))return this._children[n]}},{key:"sort",value:function(e){return this._children.sort(e),this}},{key:"every",value:function(e){if(this.length>0){for(var t=0;t<this._children.length;t++)if(!e(this._children[t],t,this._children))return!1;return!0}return!1}},{key:"some",value:function(e){for(var t=0;t<this._children.length;t++)if(e(this._children[t],t,this._children))return!0;return!1}},{key:"filter",value:function(e){return _(this._children,e)}},{key:"partition",value:function(e){return T(this._children,e)}},{key:"splice",value:function(e,t){return L(this._children,e,t)}},{key:"map",value:function(e){return G(this._children,e)}},{key:"flatMap",value:function(e){return P(this._children,e)}},{key:"cascade",value:function(){function t(r){for(var n=[],a=Array.isArray(l=r.children),i=0,l=a?l:l[Symbol.iterator]();;){var u;if(a){if(i>=l.length)break;u=l[i++]}else{if((i=l.next()).done)break;u=i.value}var c=u;n.push(c),c instanceof e&&c.length&&n.push.apply(n,o(t(c)))}return n}return t(this)}},{key:"children",get:function(){return this._children}},{key:"length",get:function(){return this._children.length}}])&&a(t.prototype,r),n&&a(t,n),e}(),X="0123456789ABCDEF",U={Pink:{value:"#FFC0CB"},LightPink:{value:"#FFB6C1"},HotPink:{value:"#FF69B4"},DeepPink:{value:"#FF1493"},PaleVioletRed:{value:"#DB7093"},MediumVioletRed:{value:"#C71585"},LightSalmon:{value:"#FFA07A"},Salmon:{value:"#FA8072"},DarkSalmon:{value:"#E9967A"},LightCoral:{value:"#F08080"},IndianRed:{value:"#CD5C5C"},Crimson:{value:"#DC143C"},Firebrick:{value:"#B22222"},DarkRed:{value:"#8B0000"},Red:{value:"#FF0000"},OrangeRed:{value:"#FF4500"},Tomato:{value:"#FF6347"},Coral:{value:"#FF7F50"},Orange:{value:"#FFA500"},DarkOrange:{value:"#FF8C00"},Yellow:{value:"#FFFF00"},LightYellow:{value:"#FFFFE0"},LemonChiffon:{value:"#FFFACD"},LightGoldenrodYellow:{value:"#FAFAD2"},PapayaWhip:{value:"#FFEFD5"},Moccasin:{value:"#FFE4B5"},PeachPuff:{value:"#FFDAB9"},PaleGoldenrod:{value:"#EEE8AA"},Khaki:{value:"#F0E68C"},DarkKhaki:{value:"#BDB76B"},Gold:{value:"#FFD700"},Cornsilk:{value:"#FFF8DC"},BlanchedAlmond:{value:"#FFEBCD"},Bisque:{value:"#FFE4C4"},NavajoWhite:{value:"#FFDEAD"},Wheat:{value:"#F5DEB3"},Burlywood:{value:"#DEB887"},Tan:{value:"#D2B48C"},RosyBrown:{value:"#BC8F8F"},SandyBrown:{value:"#F4A460"},Goldenrod:{value:"#DAA520"},DarkGoldenrod:{value:"#B8860B"},Peru:{value:"#CD853F"},Chocolate:{value:"#D2691E"},SaddleBrown:{value:"#8B4513"},Sienna:{value:"#A0522D"},Brown:{value:"#A52A2A"},Maroon:{value:"#800000"},DarkOliveGreen:{value:"#556B2F"},Olive:{value:"#808000"},OliveDrab:{value:"#6B8E23"},YellowGreen:{value:"#9ACD32"},LimeGreen:{value:"#32CD32"},Lime:{value:"#00FF00"},LawnGreen:{value:"#7CFC00"},Chartreuse:{value:"#7FFF00"},GreenYellow:{value:"#ADFF2F"},SpringGreen:{value:"#00FF7F"},MediumSpringGreen:{value:"#00FA9A"},LightGreen:{value:"#90EE90"},PaleGreen:{value:"#98FB98"},DarkSeaGreen:{value:"#8FBC8F"},MediumAquamarine:{value:"#66CDAA"},MediumSeaGreen:{value:"#3CB371"},SeaGreen:{value:"#2E8B57"},ForestGreen:{value:"#228B22"},Green:{value:"#008000"},DarkGreen:{value:"#006400"},Aqua:{value:"#00FFFF"},Cyan:{value:"#00FFFF"},LightCyan:{value:"#E0FFFF"},PaleTurquoise:{value:"#AFEEEE"},Aquamarine:{value:"#7FFFD4"},Turquoise:{value:"#40E0D0"},DarkTurquoise:{value:"#00CED1"},MediumTurquoise:{value:"#48D1CC"},LightSeaGreen:{value:"#20B2AA"},CadetBlue:{value:"#5F9EA0"},DarkCyan:{value:"#008B8B"},Teal:{value:"#008080"},LightSteelBlue:{value:"#B0C4DE"},PowderBlue:{value:"#B0E0E6"},LightBlue:{value:"#ADD8E6"},SkyBlue:{value:"#87CEEB"},LightSkyBlue:{value:"#87CEFA"},DeepSkyBlue:{value:"#00BFFF"},DodgerBlue:{value:"#1E90FF"},Cornflower:{value:"#6495ED"},SteelBlue:{value:"#4682B4"},RoyalBlue:{value:"#4169E1"},Blue:{value:"#0000FF"},MediumBlue:{value:"#0000CD"},DarkBlue:{value:"#00008B"},Navy:{value:"#000080"},MidnightBlue:{value:"#191970"},Lavender:{value:"#E6E6FA"},Thistle:{value:"#D8BFD8"},Plum:{value:"#DDA0DD"},Violet:{value:"#EE82EE"},Orchid:{value:"#DA70D6"},Fuchsia:{value:"#FF00FF"},Magenta:{value:"#FF00FF"},MediumOrchid:{value:"#BA55D3"},MediumPurple:{value:"#9370DB"},BlueViolet:{value:"#8A2BE2"},DarkViolet:{value:"#9400D3"},DarkOrchid:{value:"#9932CC"},DarkMagenta:{value:"#8B008B"},Purple:{value:"#800080"},RebeccaPurple:{value:"#663399"},Indigo:{value:"#4B0082"},DarkSlateBlue:{value:"#483D8B"},SlateBlue:{value:"#6A5ACD"},MediumSlateBlue:{value:"#7B68EE"},White:{value:"#FFFFFF"},Snow:{value:"#FFFAFA"},Honeydew:{value:"#F0FFF0"},MintCream:{value:"#F5FFFA"},Azure:{value:"#F0FFFF"},AliceBlue:{value:"#F0F8FF"},GhostWhite:{value:"#F8F8FF"},WhiteSmoke:{value:"#F5F5F5"},Seashell:{value:"#FFF5EE"},Beige:{value:"#F5F5DC"},OldLace:{value:"#FDF5E6"},FloralWhite:{value:"#FFFAF0"},Ivory:{value:"#FFFFF0"},AntiqueWhite:{value:"#FAEBD7"},Linen:{value:"#FAF0E6"},LavenderBlush:{value:"#FFF0F5"},MistyRose:{value:"#FFE4E1"},Gainsboro:{value:"#DCDCDC"},LightGray:{value:"#D3D3D3"},Silver:{value:"#C0C0C0"},DarkGray:{value:"#A9A9A9"},Gray:{value:"#808080"},DimGray:{value:"#696969"},LightSlateGray:{value:"#778899"},SlateGray:{value:"#708090"},DarkSlateGray:{value:"#2F4F4F"},LightGrey:{value:"#D3D3D3"},DarkGrey:{value:"#A9A9A9"},Grey:{value:"#808080"},DimGrey:{value:"#696969"},LightSlateGrey:{value:"#778899"},SlateGrey:{value:"#708090"},DarkSlateGrey:{value:"#2F4F4F"},Black:{value:"#000000"}},H=/[A-Za-z\d]{3,}/,q=/rgba?\((\d+), (\d+), (\d+)(?:, ([\d.]+))?\)/,V=[];for(var $ in U){var Y=U[$];Y.name=$;var K=ne(Y.value);K&&(Y.rgba=K,Y.hsl=Z(Y.rgba),V.push(Y))}function Z(e){var t=e.r,r=void 0===t?0:t,n=e.g,a=void 0===n?0:n,i=e.b,o=void 0===i?0:i,l=Math.min(r/=255,a/=255,o/=255),u=Math.max(r,a,o),c=(u+l)/2,s=c,f=c;if(u===l)c=0,s=0;else{var v=u-l;switch(s=f>.5?v/(2-u-l):v/(u+l),u){case r:c=(a-o)/v+(a<o?6:0);break;case a:c=(o-r)/v+2;break;case o:c=(r-a)/v+4}c/=6}return{h:360*c,s:100*s,l:100*f}}function Q(e,t){if(e.hsl&&t.hsl){var r=e.hsl.h,n=t.hsl.h;return r===n&&(r=e.hsl.s)===(n=t.hsl.s)&&(r=e.hsl.l,n=t.hsl.l),r>=n?1:-1}return 0}function J(e){return"rgb".concat(e.a<255?"a":"","(").concat(e.r,", ").concat(e.g,", ").concat(e.b).concat(e.a<255?", ".concat((e.a/255).toPrecision(2)):"",")")}function ee(e){return parseFloat(e)<1?re(255*parseFloat(e)):"FF"}function te(e){for(var t in U)if(t.toLowerCase()===e.trim().toLowerCase())return U[t]}function re(){for(var e="",t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var a=0;a<r.length;a++){var i=r[a],o="string"==typeof i?parseInt(i):i;if(isNaN(o))return"00";e+=X.charAt(((o=Math.max(0,Math.min(o,255)))-o%16)/16)+X.charAt(o%16)}return e}function ne(e){if(e=e.replace(/#/g,"").trim(),H.test(e)){var t=255;switch(e.length){case 4:t=parseInt(e.charAt(3).repeat(2),16);case 3:e=e.charAt(0).repeat(2)+e.charAt(1).repeat(2)+e.charAt(2).repeat(2);break;case 5:e+=e.charAt(4);break;default:e.length>=8&&(t=parseInt(e.substring(6,8),16)),e=e.substring(0,6)}if(6===e.length)return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4),16),a:t}}}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&("transparent"!==e||r)){if(""===t.trim()&&(t="1"),"#"===e.charAt(0)){var n=ne(e);n&&(e=J(n))}else if("initial"===e)e=J({r:0,g:0,b:0,a:1});else if("transparent"===e)e=J({r:0,g:0,b:0,a:0});else if(!e.startsWith("rgb")){var a=te(e);a&&a.rgba&&(a.rgba.a=parseFloat(ee(t)),e=J(a.rgba))}var i=e.match(q);if(i&&i.length>=4&&(void 0===i[4]||parseFloat(i[4])>0||r)){void 0===i[4]&&(i[4]=parseFloat(t).toPrecision(2));var o=re(i[1])+re(i[2])+re(i[3]),l=ee(i[4]),u="#".concat(o+l),c=parseFloat(i[4]);return{valueRGB:"#".concat(o),valueRGBA:u,valueARGB:"#".concat(l+o),alpha:c,rgba:ne(u),opaque:c<1,visible:c>0}}}}V.sort(Q);var ie=Object.freeze({getColorByName:te,getColorByShade:function(e){var t=V.slice(0),r=t.findIndex(function(t){return t.value===e});if(-1!==r)return t[r];var n=ne(e);if(n){var a=Z(n);if(a)return t.push({name:"",value:"",hsl:a,rgba:{r:-1,g:-1,b:-1,a:1}}),t.sort(Q),r=t.findIndex(function(e){return""===e.name}),t[Math.min(r+1,t.length-1)]}},convertHex:re,convertRGBA:ne,parseRGBA:ae,reduceRGBA:function(e,t){var r=ne(e);if(r){var n=t<0?0:255;return r.r=Math.round((n-r.r)*(t=Math.abs(t)))+r.r,r.g=Math.round((n-r.g)*t)+r.g,r.b=Math.round((n-r.b)*t)+r.b,ae(J(r))}}}),oe=/((?:\d+%\s*,?\s*)+|from|to)\s*{\s*(.+?)\s*}/;function le(){return{top:0,left:0,right:0,bottom:0}}function ue(){return Object.assign({width:0,height:0},{top:0,left:0,right:0,bottom:0})}function ce(e){return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function se(e){if(e){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]){var t=Fe(e,"style");if(t)return t;var r=Ae(e);if(r&&r.plainText)return r.unsafe("styleMap")}if(me(e)){var n=getComputedStyle(e);return be(e,"style",n),n}return{}}return{display:"none"}}function fe(e,t,r,n){var a="";if(e)for(var i=e.parentElement;i&&(void 0===n||!n.includes(i.tagName))&&(("inherit"===(a=se(i)[t]||"")||r&&r.some(function(e){return-1!==a.indexOf(e)}))&&(a=""),""===a&&i!==document.body);)i=i.parentElement;return a}function ve(e,t){if(e){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if("#"!==e.nodeName.charAt(0)&&n.includes(se(e)[t]))return!0;if(e.parentElement)return n.includes(se(e.parentElement)[t])}return!1}function he(e,r){var n="";if("object"===t(e.style)&&(n=e.style[r]),!n){var a=Fe(e,"styleMap");a&&(n=a[r])}return n||""}function ge(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Ae(e),a=p(t);return n&&n.cssInitial(a)||he(e,a)||de(e,t)||r&&se(e)[a]||""}function de(e,t){if(e){var r=e.attributes.getNamedItem(t);if(r)return r.value.trim()}return""}function pe(e){if(e&&"#text"===e.nodeName&&e.textContent){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){for(var t=e.textContent,r=!1,n=0;n<t.length;n++)switch(t.charCodeAt(n)){case 9:case 10:case 13:case 32:continue;default:r=!0}return r&&""!==t}return""!==e.textContent.trim()}return!1}function me(e){return!!e&&"object"===t(e.style)}function ye(e){return!(e.left<0&&e.top<0&&Math.abs(e.left)>=e.width&&Math.abs(e.top)>=e.height)}function be(e,t,r){e["__".concat(t)]=r}function Fe(e,t){return e["__".concat(t)]||void 0}function Ae(e){return k(e.className)&&e.className.startsWith("squared")?void 0:Fe(e,"node")}var Ee=Object.freeze({ELEMENT_BLOCK:["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","CANVAS","DD","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","LI","MAIN","NAV","OL","OUTPUT","P","PRE","SECTION","TFOOT","TH","THEAD","TR","UL","VIDEO"],ELEMENT_INLINE:["A","ABBR","ACRONYM","B","BDO","BIG","BR","BUTTON","CITE","CODE","DFN","EM","I","IFRAME","IMG","INPUT","KBD","LABEL","MAP","OBJECT","Q","S","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRIKE","STRONG","SUB","SUP","TEXTAREA","TIME","TT","U","VAR","PLAINTEXT"],isUserAgent:function(e){if("string"==typeof e){var t=e.toUpperCase();e=0,-1!==t.indexOf("CHROME")&&(e|=2),-1!==t.indexOf("SAFARI")&&(e|=4),-1!==t.indexOf("FIREFOX")&&(e|=16),-1!==t.indexOf("EDGE")&&(e|=8)}var r=navigator.userAgent;return x(e,-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome")?4:-1!==r.indexOf("Firefox")?16:-1!==r.indexOf("Edge")?8:2)},getDeviceDPI:function(){return 96*window.devicePixelRatio},getKeyframeRules:function(){var e=new Map;e:for(var t=0;t<document.styleSheets.length;t++){var r=document.styleSheets[t];if(r.cssRules)for(var n=0;n<r.cssRules.length;n++)try{var a=r.cssRules[n];if(7===a.type){for(var o={},l=0;l<a.cssRules.length;l++){var u=oe.exec(a.cssRules[l].cssText);if(u){var c=(a.cssRules[l].keyText||u[1].trim()).split(","),s=Array.isArray(c),f=0;for(c=s?c:c[Symbol.iterator]();;){var v;if(s){if(f>=c.length)break;v=c[f++]}else{if((f=c.next()).done)break;v=f.value}var h=v;switch(h=h.trim()){case"from":h="0%";break;case"to":h="100%"}o[h]={};var g=u[2].split(";"),d=Array.isArray(g),p=0;for(g=d?g:g[Symbol.iterator]();;){var m;if(d){if(p>=g.length)break;m=g[p++]}else{if((p=g.next()).done)break;m=p.value}var y=i(m.split(":"),2),b=y[1];b&&(o[h][y[0].trim()]=b.trim())}}}}e.set(a.name,o)}}catch(e){break e}}return e},checkStyleAttribute:function(e,t,r,n,a){if(void 0===n&&(n=se(e)),"inherit"===r&&(r=fe(e.parentElement,t)),"initial"!==r){if(r!==n[t])switch(t){case"backgroundColor":case"borderTopColor":case"borderRightColor":case"borderBottomColor":case"borderLeftColor":case"color":case"fontSize":case"fontWeight":return n[t]||r;case"width":case"height":case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":case"lineHeight":case"verticalAlign":case"textIndent":case"columnGap":case"top":case"right":case"bottom":case"left":case"marginTop":case"marginRight":case"marginBottom":case"marginLeft":case"paddingTop":case"paddingRight":case"paddingBottom":case"paddingLeft":return/^[A-Za-z\-]+$/.test(r)||D(r)?r:b(r,a)}return r}return""},getDataSet:function(e,t){var r={};if(me(e))for(var n in t=p(t,"\\."),e.dataset)n.length>t.length&&n.startsWith(t)&&(r[d(n.substring(t.length),!1)]=e.dataset[n]);return r},newBoxRect:le,newRectDimension:ue,newBoxModel:function(){return{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0}},getDOMRect:function(e){var t=e.getBoundingClientRect();return t.x=t.left,t.y=t.top,t},createElement:function(e){var t=document.createElement(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"div":"span"),r=t.style;return r.position="static",r.margin="0px",r.padding="0px",r.border="none",r.cssFloat="none",r.clear="none",r.display="none",t.className="__css.placeholder",e&&e.appendChild(t),t},removeElementsByClassName:function(e){for(var t=document.getElementsByClassName(e),r=0;r<t.length;r++){var n=t[r];n.parentElement&&n.parentElement.removeChild(n)}},getRangeClientRect:function(e){var t=document.createRange();t.selectNodeContents(e);for(var r=t.getClientRects(),n=[],a=0;a<r.length;a++){var i=r.item(a);0===Math.round(i.width)&&O(i.left,i.right)||n.push(i)}var o=ue(),l=0;if(n.length){o=ce(n[0]);for(var u=new Set([o.top]),c=new Set([o.bottom]),s=o.top,f=o.bottom,v=1;v<n.length;v++){var h=n[v];u.add(Math.round(h.top)),c.add(Math.round(h.bottom)),s=Math.min(s,h.top),f=Math.min(f,h.bottom),o.width+=h.width,o.right=Math.max(h.right,o.right),o.height=Math.max(h.height,o.height)}u.size>1&&c.size>1&&(o.top=s,o.bottom=f,n[n.length-1].top>=n[0].bottom&&e.textContent&&(""!==e.textContent.trim()||/^\s*\n/.test(e.textContent))&&(l=n.length-1))}return Object.assign({},o,{multiline:l})},assignBounds:ce,getStyle:se,getFontSize:function(e){return parseInt(se(e).fontSize||"16px")},cssResolveUrl:function(e){var t=e.match(g.URL);return t?M(t[1]):""},cssInheritStyle:fe,cssParent:ve,cssFromParent:function(e,t){if(me(e)&&e.parentElement){var r=Ae(e),n=se(e);if(r&&n)return n[t]===se(e.parentElement)[t]&&!r.cssInitial(t)}return!1},cssInline:he,cssAttribute:ge,cssInheritAttribute:function(e,t){for(var r=e,n="";r&&(""===(n=ge(r,t))||"inherit"===n);)r=r.parentElement;return n},getNamedItem:de,getBackgroundPosition:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0,right:0,bottom:0,horizontal:"left",vertical:"top",originalX:"",originalY:""},o="center"===e?["center","center"]:e.split(" ");if(4===o.length)for(var l=0;l<o.length;l++){var u=o[l];switch(l){case 0:i.horizontal=u;break;case 2:i.vertical=u;break;case 1:case 3:var c=F(u,1===l?t.width:t.height,r,a);1===l?n?"right"===i.horizontal?(i.originalX=D(u)?E(100-parseInt(u)):A(t.width-parseInt(b(u,r))),i.right=c,i.left=a?1-c:t.width-c):(i.left=c,i.originalX=u):"center"!==i.horizontal&&(i[i.horizontal]=c):n?"bottom"===i.vertical?(i.originalY=D(u)?E(100-parseInt(u)):A(t.height-parseInt(b(u,r))),i.bottom=c,i.top=a?1-c:t.height-c):(i.top=c,i.originalY=u):"center"!==i.vertical&&(i[i.vertical]=c)}}else if(2===o.length)for(var s=0;s<o.length;s++){var f=o[s],v=void 0,h=void 0,g=void 0;0===s?(v=t.width,h="left",g="originalX"):(v=t.height,h="top",g="originalY");var d=F(f,v,r,a);if(D(f))i[h]=d,i[g]=f;else if(/^[a-z]+$/.test(f)){if(i[0===s?"horizontal":"vertical"]=f,n)switch(f){case"left":case"top":i[g]="0%";break;case"right":case"bottom":i[h]=a?1:v,i[g]="100%";break;case"center":i[h]=a?.5:Math.round(v/2),i[g]="50%"}}else i[h]=d,i[g]=f}return i},getFirstChildElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)for(var r=0;r<e.childNodes.length;r++){var n=Ae(e.childNodes[r]);if(n&&(!n.excluded||t&&n.lineBreak))return n.element}return null},getLastChildElement:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)for(var r=e.childNodes.length-1;r>=0;r--){var n=Ae(e.childNodes[r]);if(n&&n.naturalElement&&(!n.excluded||t&&n.lineBreak))return n.element}return null},hasFreeFormText:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];function r(e){for(var n=0;n<e.length;n++){var a=e[n];if("#text"===a.nodeName){if(pe(a,t)||ve(a,"whiteSpace","pre","pre-wrap")&&a.textContent&&""!==a.textContent)return!0}else if(r(a.childNodes))return!0}return!1}return r("#text"===e.nodeName?[e]:e.childNodes)},isPlainText:pe,hasLineBreak:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var r=e.textContent||"";if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(r=r.trim()),e.children){for(var n=0;n<e.children.length;n++)if("BR"===e.children[n].tagName)return!0}else if(!t&&/\n/.test(r)){var a=Ae(e),i=a?a.css("whiteSpace"):se(e).whiteSpace||"";return["pre","pre-wrap"].includes(i)||"#text"===e.nodeName&&ve(e,"whiteSpace","pre","pre-wrap")}}return!1},isLineBreak:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var r=Ae(e);if(r)return"BR"===r.tagName||t&&r.excluded&&r.blockStatic}return!1},getElementsBetween:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||e.parentElement===t.parentElement){var n=t.parentElement;if(n){for(var a=e?-1:0,i=-1,o=Array.from(n.childNodes),l=0;l<o.length;l++)o[l]===e&&(a=l),o[l]===t&&(i=l);if(-1!==a&&-1!==i&&a!==i){var u=o.slice(Math.min(a,i)+1,Math.max(a,i));return L(u,r?function(e){return"#comment"===e.nodeName}:function(e){return"#"===e.nodeName.charAt(0)&&!pe(e)}),u}}}return[]},getPreviousElementSibling:function(e){if(e)for(e=e.previousSibling;e;){var t=Ae(e);if(t&&(!t.excluded||t.lineBreak))return t.element;e=e.previousSibling}return null},getNextElementSibling:function(e){if(e)for(e=e.nextSibling;e;){var t=Ae(e);if(t&&(!t.excluded||t.lineBreak))return t.element;e=e.nextSibling}return null},hasComputedStyle:me,hasVisibleRect:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.getBoundingClientRect();return 0!==r.width&&0!==r.height&&(!t||ye(r))},withinViewport:ye,setElementCache:be,getElementCache:Fe,deleteElementCache:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var a=0;a<r.length;a++)delete e["__".concat(r[a])]},getElementAsNode:Ae});function xe(e){return e.length?Math.min.apply(null,e):1/0}function Ce(e){return e*Math.PI/180}var ke=Object.freeze({minArray:xe,maxArray:function(e){return e.length?Math.max.apply(null,e):-1/0},distanceFromX:function(e,t){return e*Math.sin(Ce(t))},distanceFromY:function(e,t){return e*Math.cos(Ce(t))*-1},truncateString:function(e){for(var t,r=e,n=RegExp("(\\d+\\.\\d{".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,"})\\d+"),"g");null!==(t=n.exec(e));)r=r.replace(t[0],t[1]);return r},truncateRange:function(e){return 0===e||1===e?""+e:e.toPrecision(arguments.length>1&&void 0!==arguments[1]?arguments[1]:3).replace(/\.?0+$/,"")},truncatePrecision:function(e){var t=/^\d+\.(\d+?)(0{5,}|9{5,})\d*$/.exec(""+e);return t?parseFloat(e.toPrecision(t[1].length)):e},convertRadian:Ce,getAngle:function(e,t){var r=t.y-e.y,n=180*Math.atan2(r,t.x-e.x)/Math.PI;return n<0?270+(r<0?n:Math.abs(n))%360:(n+90)%360},getLeastCommonMultiple:function(e,t){if(e.length>1){var r=xe(e),n=0;if(t)if(t.length===e.length)for(var a=0;a<t.length;a++)n=Math.max(n,t[a]+e[a]);else t=void 0;void 0===t&&(n=Math.max(n,r));for(var i=n,o=!1;!o;)for(var l=0;l<e.length;l++){if((i-(t?t[l]:0))%e[l]!=0){o=!1,i+=r;break}o=!0}return i}return e[0]}});function De(e,t){for(var r in e)t=t.replace(RegExp("\\t*<<".concat(r,">>[\\w\\W]*<<").concat(r,">>")),"{%".concat(r,"}"));return t}var Be="__ROOT__";function Se(e){return"{".concat((arguments.length>1&&void 0!==arguments[1]?arguments[1]:":")+""+e,"}")}function we(e){for(var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\t",a=[],i=/\s*(<(\/)?([?\w]+)[^>]*>)\n?([^<]*)/g;null!==(t=i.exec(e));)a.push({tag:t[1],closing:!!t[2],tagName:t[3],value:""===t[4].trim()?"":t[4]});for(var o=/\/>\n*$/,l="",u=-1,c=0;c<a.length;c++){var s=a[c],f=u;if(c>0){if(s.closing)u--;else if(f++,!o.exec(s.tag))if(r&&""===s.value.trim()){var v=a[c+1];v&&v.closing&&v.tagName===s.tagName?(s.tag=s.tag.replace(/\s*>$/," />"),c++):u++}else u++;var h=!0,g=s.tag.trim().split("\n"),d=Array.isArray(g),p=0;for(g=d?g:g[Symbol.iterator]();;){var m;if(d){if(p>=g.length)break;m=g[p++]}else{if((p=g.next()).done)break;m=p.value}var y=m,b=f+(h?0:1);l+=(b>0?n.repeat(b):"")+y.trim()+"\n",h=!1}}else l+=s.tag+"\n";l+=s.value}return l.trim()}var Me,Ie,Re=Object.freeze({formatPlaceholder:Se,replacePlaceholder:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a="number"==typeof t?Se(t):t;return e.replace(a,(n?a:"")+r+"\n"+(n?"":a))},replaceIndent:function(e,t,r){if(t>=0){var n=-1;return j(e.split("\n"),function(e){var a=r.exec(e);return a?(-1===n&&(n=a[2].length),a[1]+"\t".repeat(t+(a[2].length-n))+a[3]):e})}return e},replaceTab:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return t>0?arguments.length>2&&void 0!==arguments[2]&&arguments[2]?j(e.split("\n"),function(e){var r=e.match(/^(\t+)(.*)$/);return r?" ".repeat(t*r[1].length)+r[2]:e}):e.replace(/\t/g," ".repeat(t)):e},replaceEntity:function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t))}).replace(/\u00A0/g,"&#160;").replace(/\u2002/g,"&#8194;").replace(/\u2003/g,"&#8195;").replace(/\u2009/g,"&#8201;").replace(/\u200C/g,"&#8204;").replace(/\u200D/g,"&#8205;").replace(/\u200E/g,"&#8206;").replace(/\u200F/g,"&#8207;")},replaceCharacter:function(e){return e.replace(/&nbsp;/g,"&#160;").replace(/&(?!#?[A-Za-z0-9]{2,};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")},parseTemplate:function(e){var t={};return t[Be]=De(function e(r){for(var n,a={},i=/(\t*<<(\w+)>>)\n*[\w\W]*\n*\1/g;null!==(n=i.exec(r));){var o=n[0].replace(RegExp("^".concat(n[1],"\\n")),"").replace(RegExp("".concat(n[1],"$")),"");a[n[2]]=De(e(o),o)}return Object.assign(t,a),a}(e),e),t},createTemplate:function e(r,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;void 0===i&&(i=Be);var o=r[i]||"",l=function(l){if(null!=n[l]){var u=n[l],c="",s="";if(Array.isArray(u))if(s="%",Array.isArray(u[0])){var f=function(e){return"((\\t*##".concat(l,"-").concat(e,"##\\s*\\n)([\\w\\W]*?\\s*\\n)(\\t*##").concat(l,"-").concat(e,"##\\s*\\n))")},v=RegExp(f("start")+"([\\w\\W]*?)"+f("end")).exec(o);if(v){for(var h=u[0].length,g=Object.assign({},r),d="",p="",m=0;m<h;m++){var y="".concat(i,"_").concat(l,"_").concat(m);g[y]=v[3],d+=e(g,u[0][m],a,y),p=v[8]+p}o=o.replace(v[1],d).replace(v[6],p)}else c=!1}else if(0===u.length||"object"!==t(u[0]))c=!1;else{for(var b=0;b<u.length;b++)c+=e(r,u[b],a,""+l);c=""!==c&&R(c,"\n")}else s="[&~]",c="boolean"==typeof u?"":""+u;if(c)""!==c&&(o=o.replace(RegExp("{".concat(s+l,"}")),c));else{if(RegExp("{&".concat(l,"}")).test(o))return{v:""};"%"===s&&(o=o.replace(RegExp("[ \\t]*{%".concat(l,"}\\n*")),""))}}};for(var u in n){var c=l(u);if("object"===t(c))return c.v}return i===Be&&(o=o.replace(/\n*\t*{%\w+}\n+/g,"\n").replace(/\n\n/g,"\n").trim(),a&&(o=we(o))),o.replace(/\s*((\w+:)?\w+="[^"]*)?{~\w+}"?/g,"")},formatTemplate:we});e.settings={},e.system={};var Ne=new Set,Oe=new Map;function Te(e){if(Me){if(e instanceof squared.base.Extension)return Me.extensionManager.include(e);if("string"==typeof e){e=e.trim();var t=Me.builtInExtensions[e]||_e(e);if(t)return Me.extensionManager.include(t)}}return!1}function Le(r,n){if("object"===t(n)){if(r instanceof squared.base.Extension)return Object.assign(r.options,n),!0;if("string"==typeof r&&Me){r=r.trim();var a=Me.extensionManager.retrieve(r)||Array.from(Ne).find(function(e){return e.name===r});if(a)return Object.assign(a.options,n),!0;if(Oe.set(r,n),e.settings.handleExtensionsAsync)return!0}}return!1}function _e(e){return Me&&Me.extensionManager.retrieve(e)}function Pe(){Me&&Me.reset()}var Ge={base:{Container:W},color:ie,dom:Ee,math:ke,util:z,xml:Re};e.setFramework=function(t){if(Ie!==t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?t.cached():t.create();if(void 0===Ie&&Object.assign(r.userSettings,e.settings),e.settings=r.userSettings,(Me=r.application).userSettings=e.settings,Array.isArray(e.settings.builtInExtensions)){for(var n=new Set,a=Array.isArray(o=e.settings.builtInExtensions),i=0,o=a?o:o[Symbol.iterator]();;){var l;if(a){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var u=l;if(u=u.trim(),Me.builtInExtensions[u])n.add(Me.builtInExtensions[u]);else for(var c in Me.builtInExtensions)c.startsWith("".concat(u,"."))&&n.add(Me.builtInExtensions[c])}for(var s=Array.isArray(v=n),f=0,v=s?v:v[Symbol.iterator]();;){var h;if(s){if(f>=v.length)break;h=v[f++]}else{if((f=v.next()).done)break;h=f.value}Me.extensionManager.include(h)}}Ie=t,e.system=t.system}Pe()},e.parseDocument=function t(){for(var r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];if(Me&&!Me.closed){var o;if(e.settings.handleExtensionsAsync){for(var l=Array.isArray(c=Ne),u=0,c=l?c:c[Symbol.iterator]();;){var s;if(l){if(u>=c.length)break;s=c[u++]}else{if((u=c.next()).done)break;s=u.value}Me.extensionManager.include(s)}var f=Oe.entries(),v=Array.isArray(f),h=0;for(f=v?f:f[Symbol.iterator]();;){var g;if(v){if(h>=f.length)break;g=f[h++]}else{if((h=f.next()).done)break;g=h.value}var d=i(g,2);Le(d[0],d[1])}Ne.clear(),Oe.clear()}return(o=Me).parseDocument.apply(o,n)}return{then:function(e){Me?Me.closed&&confirm("ERROR: Document is closed. Reset and rerun?")&&(Me.reset(),t.call.apply(t,[null].concat(n)).then(e)):alert("ERROR: Framework not installed.")}}},e.include=Te,e.includeAsync=function(t){return!!Te(t)||!!(t instanceof squared.base.Extension&&(Ne.add(t),e.settings.handleExtensionsAsync))},e.exclude=function(e){if(Me){if(e instanceof squared.base.Extension)return Ne.has(e)?(Ne.delete(e),Me.extensionManager.exclude(e),!0):Me.extensionManager.exclude(e);if("string"==typeof e){e=e.trim();var t=Me.extensionManager.retrieve(e);if(t)return Me.extensionManager.exclude(t)}}return!1},e.configure=Le,e.apply=function(e,r){return e instanceof squared.base.Extension?Te(e):"string"==typeof e&&(e=e.trim(),"object"===t(r)?Le(e,r):_e(e))},e.retrieve=_e,e.ready=function(){return!!Me&&!Me.initialized&&!Me.closed},e.close=function(){Me&&!Me.initialized&&Me.size&&Me.finalize()},e.reset=Pe,e.saveAllToDisk=function(){Me&&!Me.initialized&&Me.size&&(Me.closed||Me.finalize(),Me.saveAllToDisk())},e.toString=function(){return Me?""+Me:""},e.lib=Ge,Object.defineProperty(e,"__esModule",{value:!0})});
