this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.floatingactionbutton=function(){"use strict";const t=squared.lib,{parseColor:e}=t.color,{assignEmptyValue:o}=t.util,{NODE_PROCEDURE:a,NODE_RESOURCE:r}=squared.base.lib.enumeration,i=android.lib,{EXT_ANDROID:n,STRING_ANDROID:d,SUPPORT_ANDROID:s,SUPPORT_ANDROID_X:l}=i.constant,{CONTAINER_NODE:c}=i.enumeration,{createViewAttribute:u,getHorizontalBias:g,getVerticalBias:p}=i.util,{Resource:T}=android.base,N="ic_dialog_";class m extends squared.base.ExtensionUI{is(t){const e=t.element;return super.is(t)&&("INPUT"!==e.tagName||["button","file","image","reset","search","submit"].includes(e.type))}condition(t){return this.included(t.element)}processNode(t,i){const m=this.resource,I=t.element,O=t.dataset.target,b=u(this.options[I.id]),_=T.addColor(e(t.css("backgroundColor"),t.toFloat("opacity",!0,1)));o(b,"android","backgroundTint",""!==_?"@color/"+_:"?attr/colorAccent"),t.hasProcedure(a.ACCESSIBILITY)||o(b,"android","focusable","false");let y="";switch(I.tagName){case"IMG":y=m.addImageSrc(I,N);break;case"INPUT":if("image"===I.type){y=m.addImageSrc(I,N);break}case"BUTTON":y=m.addImageSrc(t.backgroundImage,N)}""!==y&&o(b,"app","srcCompat","@drawable/"+y);const E=t.localSettings.targetAPI<29?s.FLOATING_ACTION_BUTTON:l.FLOATING_ACTION_BUTTON;let R;if(t.setControlType(E,c.BUTTON),t.exclude(r.BOX_STYLE|r.ASSET),T.formatOptions(b,this.application.extensionManager.optionValueAsBoolean(n.RESOURCE_STRINGS,"numberResourceValue")),!t.pageFlow||O){const e=g(t),o=p(t),r=t.documentParent,n=[];n.push(e<.5?t.localizeString("left"):e>.5?t.localizeString("right"):d.CENTER_HORIZONTAL),o<.5?(n.push("top"),t.app("layout_dodgeInsetEdges","top")):n.push(o>.5?"bottom":d.CENTER_VERTICAL);for(const e of n)t.mergeGravity("layout_gravity",e);if(e>0&&e<1&&.5!==e&&(e<.5?t.modifyBox(16,t.linear.left-r.box.left):t.modifyBox(4,r.box.right-t.linear.right)),o>0&&o<1&&.5!==o&&(o<.5?t.modifyBox(2,t.linear.top-r.box.top):t.modifyBox(8,r.box.bottom-t.linear.bottom)),t.positioned=!0,O){const e=t.android("layout_gravity");let o=i.documentId;if(i.controlName===(t.localSettings.targetAPI<29?s.TOOLBAR:l.TOOLBAR)){const t=i.data("android.widget.toolbar","outerParent");t&&(o=t)}""!==e&&(t.app("layout_anchorGravity",e),t.delete("android","layout_gravity")),t.app("layout_anchor",o),t.exclude(0,a.ALIGNMENT),t.render(this.application.resolveTarget(O)),R=t.renderParent}}return O||t.render(i),t.apply(b),{outerParent:R,output:{type:1,node:t,controlName:E},complete:!0}}}const I=new m("android.widget.floatingactionbutton",2,["BUTTON","INPUT","IMG"]);return squared&&squared.includeAsync(I),I}();
