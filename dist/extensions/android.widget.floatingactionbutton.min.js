this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.floatingactionbutton=function(){"use strict";const e=squared.lib,t=android.lib,{parseColor:o}=e.color,{assignEmptyValue:a}=e.util,{NODE_PROCEDURE:i,NODE_RESOURCE:r}=squared.base.lib.enumeration,{createViewAttribute:n,getHorizontalBias:d,getVerticalBias:s}=t.util,{EXT_ANDROID:l,STRING_ANDROID:c,SUPPORT_ANDROID:u,SUPPORT_ANDROID_X:p}=t.constant,{CONTAINER_NODE:g}=t.enumeration,T=android.base.Resource,N=["button","file","image","reset","search","submit"];class m extends squared.base.ExtensionUI{is(e){const t=e.element;return super.is(e)&&("INPUT"!==t.tagName||N.includes(t.type))}condition(e){return this.included(e.element)}processNode(e,t){const N=this.resource,m=e.element,O=e.dataset.target,I=n(this.options[m.id]),_=T.addColor(o(e.css("backgroundColor"),e.toFloat("opacity",1)));a(I,"android","backgroundTint",""!==_?"@color/"+_:"?attr/colorAccent"),e.hasProcedure(i.ACCESSIBILITY)||a(I,"android","focusable","false");let b="";switch(m.tagName){case"IMG":b=N.addImageSrc(m,"ic_dialog_");break;case"INPUT":if("image"===m.type){b=N.addImageSrc(m,"ic_dialog_");break}case"BUTTON":b=N.addImageSrc(e.backgroundImage,"ic_dialog_")}if(""!==b){let e=I.app;void 0===e&&(e={},I.app=e),a(e,"srcCompat","@drawable/"+b)}const y=e.api<29?u.FLOATING_ACTION_BUTTON:p.FLOATING_ACTION_BUTTON;let E;if(e.setControlType(y,g.BUTTON),e.exclude({resource:r.BOX_STYLE|r.ASSET}),T.formatOptions(I,this.application.extensionManager.optionValueAsBoolean(l.RESOURCE_STRINGS,"numberResourceValue")),!e.pageFlow||O){const o=d(e),a=s(e),r=e.documentParent,n=[];n.push(o<.5?e.localizeString("left"):o>.5?e.localizeString("right"):c.CENTER_HORIZONTAL),a<.5?(n.push("top"),e.app("layout_dodgeInsetEdges","top")):n.push(a>.5?"bottom":c.CENTER_VERTICAL);for(const t of n)e.mergeGravity("layout_gravity",t);if(o>0&&o<1&&.5!==o&&(o<.5?e.modifyBox(16,e.linear.left-r.box.left):e.modifyBox(4,r.box.right-e.linear.right)),a>0&&a<1&&.5!==a&&(a<.5?e.modifyBox(2,e.linear.top-r.box.top):e.modifyBox(8,r.box.bottom-e.linear.bottom)),e.positioned=!0,O){const o=e.android("layout_gravity");let a=t.documentId;if(t.controlName===(e.api<29?u.TOOLBAR:p.TOOLBAR)){const e=t.data("android.widget.toolbar","outerParent");e&&(a=e)}""!==o&&(e.app("layout_anchorGravity",o),e.delete("android","layout_gravity")),e.app("layout_anchor",a),e.exclude({procedure:i.ALIGNMENT}),e.render(this.application.resolveTarget(O)),E=e.renderParent}}return O||e.render(t),e.apply(I),{outerParent:E,output:{type:1,node:e,controlName:y},complete:!0}}}const O=new m("android.widget.floatingactionbutton",2,["BUTTON","INPUT","IMG"]);return squared&&squared.includeAsync(O),O}();
