this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.floatingactionbutton=function(){"use strict";const t=squared.lib,e=android.lib,{parseColor:o}=t.color,{assignEmptyValue:a,safeNestedMap:i}=t.util,{BOX_STANDARD:r,NODE_PROCEDURE:n,NODE_RESOURCE:l,NODE_TEMPLATE:s}=squared.base.lib.enumeration,{adjustAbsolutePaddingOffset:d,createViewAttribute:c,getHorizontalBias:g,getVerticalBias:u}=e.util,{EXT_ANDROID:y,SUPPORT_ANDROID:m,SUPPORT_ANDROID_X:p}=e.constant,{BUILD_ANDROID:f,CONTAINER_NODE:_}=e.enumeration,T=android.base.Resource,N=["button","file","image","reset","search","submit"];class FloatingActionButton extends squared.base.ExtensionUI{is(t){const e=t.element;return super.is(t)&&("INPUT"!==e.tagName||N.includes(e.type))}condition(t){return this.included(t.element)}processNode(t,e){const r=this.resource,s=t.element,f=t.target,N=c(this.options[s.id]),O=T.addColor(o(t.css("backgroundColor"),t.toFloat("opacity",1)));if(a(N,"android","backgroundTint",""!==O?"@color/"+O:"?attr/colorAccent"),!t.hasProcedure(n.ACCESSIBILITY))a(N,"android","focusable","false");let v;switch(s.tagName){case"IMG":v=r.addImageSrc(s,"ic_dialog_");break;case"INPUT":if("image"===s.type){v=r.addImageSrc(s,"ic_dialog_");break}case"BUTTON":v=r.addImageSrc(t.backgroundImage,"ic_dialog_");break}if(v)a(i(N,"app"),"srcCompat","@drawable/"+v);const b=t.api<29?m.FLOATING_ACTION_BUTTON:p.FLOATING_ACTION_BUTTON;if(t.setControlType(b,_.BUTTON),t.exclude({resource:l.BOX_STYLE|l.ASSET}),T.formatOptions(N,this.application.extensionManager.optionValueAsBoolean(y.RESOURCE_STRINGS,"numberResourceValue")),!t.pageFlow){const{leftRight:o,topBottom:a}=t.autoMargin,i=this.application.resolveTarget(f)||e;if(o)t.mergeGravity("layout_gravity","center_horizontal");else if(t.hasPX("left"))t.mergeGravity("layout_gravity",t.localizeString("left")),t.modifyBox(16,d(i,256,t.left));else if(t.hasPX("right"))t.mergeGravity("layout_gravity",t.localizeString("right")),t.modifyBox(4,d(i,64,t.right));if(a)t.mergeGravity("layout_gravity","center_vertical");else if(t.hasPX("top"))t.app("layout_dodgeInsetEdges","top"),t.mergeGravity("layout_gravity","top"),t.modifyBox(2,d(i,32,t.top));else if(t.hasPX("bottom"))t.mergeGravity("layout_gravity","bottom"),t.modifyBox(8,d(i,128,t.bottom));t.positioned=true}else if(f){const e=t.documentParent.box,o=t.linear,a=g(t),i=u(t);if(a<.5)t.mergeGravity("layout_gravity",t.localizeString("left")),t.modifyBox(16,o.left-e.left);else if(a>.5)t.mergeGravity("layout_gravity",t.localizeString("right")),t.modifyBox(4,e.right-o.right);else t.mergeGravity("layout_gravity","center_horizontal");if(i<.5)t.app("layout_dodgeInsetEdges","top"),t.mergeGravity("layout_gravity","top"),t.modifyBox(2,o.top-e.top);else if(i>.5)t.mergeGravity("layout_gravity","bottom"),t.modifyBox(8,e.bottom-o.bottom);else t.mergeGravity("layout_gravity","center_vertical");t.positioned=true}if(f){const o=t.android("layout_gravity");let a=e.documentId;if(e.controlName===(t.api<29?m.TOOLBAR:p.TOOLBAR)){const t=e.data("android.widget.toolbar","outerParent");if(t)a=t}if(""!==o)t.app("layout_anchorGravity",o),t.delete("android","layout_gravity");t.app("layout_anchor",a),t.exclude({procedure:n.ALIGNMENT})}return t.render(e),t.apply(N),{output:{type:1,node:t,controlName:b},complete:true}}}const O=new FloatingActionButton("android.widget.floatingactionbutton",2,["BUTTON","INPUT","IMG"]);if(squared)squared.include(O);return O}();
