this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.floatingactionbutton=function(){"use strict";const t=squared.lib,e=android.lib,{parseColor:o}=t.color,{assignEmptyValue:a,safeNestedMap:r}=t.util,{BOX_STANDARD:i,NODE_PROCEDURE:n,NODE_RESOURCE:l,NODE_TEMPLATE:d}=squared.base.lib.enumeration,{adjustAbsolutePaddingOffset:s,createViewAttribute:c,getHorizontalBias:g,getVerticalBias:u}=e.util,{EXT_ANDROID:y,SUPPORT_ANDROID:m,SUPPORT_ANDROID_X:p}=e.constant,{BUILD_ANDROID:_,CONTAINER_NODE:T}=e.enumeration,N=android.base.Resource,b=["button","file","image","reset","search","submit"];class v extends squared.base.ExtensionUI{is(t){const e=t.element;return super.is(t)&&("INPUT"!==e.tagName||b.includes(e.type))}condition(t){return this.included(t.element)}processNode(t,e){const i=this.resource,d=t.element,_=t.dataset.target,b=c(this.options[d.id]),v=N.addColor(o(t.css("backgroundColor"),t.toFloat("opacity",1)));a(b,"android","backgroundTint",""!==v?"@color/"+v:"?attr/colorAccent"),t.hasProcedure(n.ACCESSIBILITY)||a(b,"android","focusable","false");let O="";switch(d.tagName){case"IMG":O=i.addImageSrc(d,"ic_dialog_");break;case"INPUT":if("image"===d.type){O=i.addImageSrc(d,"ic_dialog_");break}case"BUTTON":O=i.addImageSrc(t.backgroundImage,"ic_dialog_")}""!==O&&a(r(b,"app"),"srcCompat","@drawable/"+O);const f=t.api<29?m.FLOATING_ACTION_BUTTON:p.FLOATING_ACTION_BUTTON;t.setControlType(f,T.BUTTON),t.exclude({resource:l.BOX_STYLE|l.ASSET}),N.formatOptions(b,this.application.extensionManager.optionValueAsBoolean(y.RESOURCE_STRINGS,"numberResourceValue"));let h=this.application.resolveTarget(_);if(t.pageFlow){if(_){const e=g(t),o=u(t),a=t.documentParent;e<.5?(t.mergeGravity("layout_gravity",t.localizeString("left")),t.modifyBox(16,t.linear.left-a.box.left)):e>.5?(t.mergeGravity("layout_gravity",t.localizeString("right")),t.modifyBox(4,a.box.right-t.linear.right)):t.mergeGravity("layout_gravity","center_horizontal"),o<.5?(t.app("layout_dodgeInsetEdges","top"),t.mergeGravity("layout_gravity","top"),t.modifyBox(2,t.linear.top-a.box.top)):o>.5?(t.mergeGravity("layout_gravity","bottom"),t.modifyBox(8,a.box.bottom-t.linear.bottom)):t.mergeGravity("layout_gravity","center_vertical"),t.positioned=true}}else{const{leftRight:o,topBottom:a}=t.autoMargin,r=h||e;o?t.mergeGravity("layout_gravity","center_horizontal"):t.hasPX("left")?(t.mergeGravity("layout_gravity",t.localizeString("left")),t.modifyBox(16,s(r,256,t.left))):t.hasPX("right")&&(t.mergeGravity("layout_gravity",t.localizeString("right")),t.modifyBox(4,s(r,64,t.right))),a?t.mergeGravity("layout_gravity","center_vertical"):t.hasPX("top")?(t.app("layout_dodgeInsetEdges","top"),t.mergeGravity("layout_gravity","top"),t.modifyBox(2,s(r,32,t.top))):t.hasPX("bottom")&&(t.mergeGravity("layout_gravity","bottom"),t.modifyBox(8,s(r,128,t.bottom))),t.positioned=true}if(_){const o=t.android("layout_gravity");let a=e.documentId;if(e.controlName===(t.api<29?m.TOOLBAR:p.TOOLBAR)){const t=e.data("android.widget.toolbar","outerParent");t&&(a=t)}""!==o&&(t.app("layout_anchorGravity",o),t.delete("android","layout_gravity")),t.app("layout_anchor",a),t.exclude({procedure:n.ALIGNMENT}),t.render(h)}else t.render(e),h=void 0;return t.apply(b),{outerParent:h,output:{type:1,node:t,controlName:f},complete:true}}}const O=new v("android.widget.floatingactionbutton",2,["BUTTON","INPUT","IMG"]);return squared&&squared.include(O),O}();
