this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.floatingactionbutton=function(){"use strict";const t=squared.lib,e=android.lib,{parseColor:o}=t.color,{assignEmptyValue:a,safeNestedMap:i}=t.util,{BOX_STANDARD:r,NODE_PROCEDURE:n,NODE_RESOURCE:l,NODE_TEMPLATE:s}=squared.base.lib.enumeration,{adjustAbsolutePaddingOffset:d,createViewAttribute:c,getHorizontalBias:g,getVerticalBias:u}=e.util,{EXT_ANDROID:y,SUPPORT_ANDROID:m,SUPPORT_ANDROID_X:p}=e.constant,{BUILD_ANDROID:f,CONTAINER_NODE:_}=e.enumeration,T=android.base.Resource,b=["button","file","image","reset","search","submit"];class N extends squared.base.ExtensionUI{is(t){const e=t.element;return super.is(t)&&("INPUT"!==e.tagName||b.includes(e.type))}condition(t){return this.included(t.element)}processNode(t,e){const r=this.resource,s=t.element,f=t.dataset.target,b=c(this.options[s.id]),N=T.addColor(o(t.css("backgroundColor"),t.toFloat("opacity",1)));if(a(b,"android","backgroundTint",""!==N?"@color/"+N:"?attr/colorAccent"),!t.hasProcedure(n.ACCESSIBILITY))a(b,"android","focusable","false");let v="";switch(s.tagName){case"IMG":v=r.addImageSrc(s,"ic_dialog_");break;case"INPUT":if("image"===s.type){v=r.addImageSrc(s,"ic_dialog_");break}case"BUTTON":v=r.addImageSrc(t.backgroundImage,"ic_dialog_");break}if(""!==v)a(i(b,"app"),"srcCompat","@drawable/"+v);const O=t.api<29?m.FLOATING_ACTION_BUTTON:p.FLOATING_ACTION_BUTTON;t.setControlType(O,_.BUTTON),t.exclude({resource:l.BOX_STYLE|l.ASSET}),T.formatOptions(b,this.application.extensionManager.optionValueAsBoolean(y.RESOURCE_STRINGS,"numberResourceValue"));let h=this.application.resolveTarget(f);if(!t.pageFlow){const{leftRight:o,topBottom:a}=t.autoMargin,i=h||e;if(o)t.mergeGravity("layout_gravity","center_horizontal");else if(t.hasPX("left"))t.mergeGravity("layout_gravity",t.localizeString("left")),t.modifyBox(16,d(i,256,t.left));else if(t.hasPX("right"))t.mergeGravity("layout_gravity",t.localizeString("right")),t.modifyBox(4,d(i,64,t.right));if(a)t.mergeGravity("layout_gravity","center_vertical");else if(t.hasPX("top"))t.app("layout_dodgeInsetEdges","top"),t.mergeGravity("layout_gravity","top"),t.modifyBox(2,d(i,32,t.top));else if(t.hasPX("bottom"))t.mergeGravity("layout_gravity","bottom"),t.modifyBox(8,d(i,128,t.bottom));t.positioned=true}else if(f){const e=g(t),o=u(t),a=t.documentParent;if(e<.5)t.mergeGravity("layout_gravity",t.localizeString("left")),t.modifyBox(16,t.linear.left-a.box.left);else if(e>.5)t.mergeGravity("layout_gravity",t.localizeString("right")),t.modifyBox(4,a.box.right-t.linear.right);else t.mergeGravity("layout_gravity","center_horizontal");if(o<.5)t.app("layout_dodgeInsetEdges","top"),t.mergeGravity("layout_gravity","top"),t.modifyBox(2,t.linear.top-a.box.top);else if(o>.5)t.mergeGravity("layout_gravity","bottom"),t.modifyBox(8,a.box.bottom-t.linear.bottom);else t.mergeGravity("layout_gravity","center_vertical");t.positioned=true}if(f){const o=t.android("layout_gravity");let a=e.documentId;if(e.controlName===(t.api<29?m.TOOLBAR:p.TOOLBAR)){const t=e.data("android.widget.toolbar","outerParent");if(t)a=t}if(""!==o)t.app("layout_anchorGravity",o),t.delete("android","layout_gravity");t.app("layout_anchor",a),t.exclude({procedure:n.ALIGNMENT}),t.render(h)}else t.render(e),h=void 0;return t.apply(b),{outerParent:h,output:{type:1,node:t,controlName:O},complete:true}}}const v=new N("android.widget.floatingactionbutton",2,["BUTTON","INPUT","IMG"]);if(squared)squared.include(v);return v}();
