this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.floatingactionbutton=function(){"use strict";const e=squared.lib,t=android.lib,{parseColor:o}=e.color,{assignEmptyValue:a,safeNestedMap:i}=e.util,{NODE_PROCEDURE:r,NODE_RESOURCE:n}=squared.base.lib.enumeration,{createViewAttribute:d,getHorizontalBias:s,getVerticalBias:c}=t.util,{EXT_ANDROID:l,SUPPORT_ANDROID:u,SUPPORT_ANDROID_X:p}=t.constant,{CONTAINER_NODE:g}=t.enumeration,m=android.base.Resource,T=["button","file","image","reset","search","submit"];class N extends squared.base.ExtensionUI{is(e){const t=e.element;return super.is(e)&&("INPUT"!==t.tagName||T.includes(t.type))}condition(e){return this.included(e.element)}processNode(e,t){const T=this.resource,N=e.element,b=e.dataset.target,O=d(this.options[N.id]),_=m.addColor(o(e.css("backgroundColor"),e.toFloat("opacity",1)));a(O,"android","backgroundTint",""!==_?`@color/${_}`:"?attr/colorAccent"),e.hasProcedure(r.ACCESSIBILITY)||a(O,"android","focusable","false");let I="";switch(N.tagName){case"IMG":I=T.addImageSrc(N,"ic_dialog_");break;case"INPUT":if("image"===N.type){I=T.addImageSrc(N,"ic_dialog_");break}case"BUTTON":I=T.addImageSrc(e.backgroundImage,"ic_dialog_")}if(""!==I){const e=i(O,"app");a(e,"srcCompat",`@drawable/${I}`)}const y=e.api<29?u.FLOATING_ACTION_BUTTON:p.FLOATING_ACTION_BUTTON;let f;if(e.setControlType(y,g.BUTTON),e.exclude({resource:n.BOX_STYLE|n.ASSET}),m.formatOptions(O,this.application.extensionManager.optionValueAsBoolean(l.RESOURCE_STRINGS,"numberResourceValue")),!e.pageFlow||b){const o=s(e),a=c(e),i=e.documentParent,n=[];n.push(o<.5?e.localizeString("left"):o>.5?e.localizeString("right"):"center_horizontal"),a<.5?(n.push("top"),e.app("layout_dodgeInsetEdges","top")):n.push(a>.5?"bottom":"center_vertical");for(const t of n)e.mergeGravity("layout_gravity",t);if(o>0&&o<1&&.5!==o&&(o<.5?e.modifyBox(16,e.linear.left-i.box.left):e.modifyBox(4,i.box.right-e.linear.right)),a>0&&a<1&&.5!==a&&(a<.5?e.modifyBox(2,e.linear.top-i.box.top):e.modifyBox(8,i.box.bottom-e.linear.bottom)),e.positioned=!0,b){const o=e.android("layout_gravity");let a=t.documentId;if(t.controlName===(e.api<29?u.TOOLBAR:p.TOOLBAR)){const e=t.data("android.widget.toolbar","outerParent");e&&(a=e)}""!==o&&(e.app("layout_anchorGravity",o),e.delete("android","layout_gravity")),e.app("layout_anchor",a),e.exclude({procedure:r.ALIGNMENT}),e.render(this.application.resolveTarget(b)),f=e.renderParent}}return b||e.render(t),e.apply(O),{outerParent:f,output:{type:1,node:e,controlName:y},complete:!0}}}const b=new N("android.widget.floatingactionbutton",2,["BUTTON","INPUT","IMG"]);return squared&&squared.includeAsync(b),b}();
