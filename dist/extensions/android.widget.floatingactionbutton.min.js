this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.floatingactionbutton=function(){"use strict";var e=android.base.Resource;const t=squared.lib,o=android.lib,{parseColor:a}=t.color,{assignEmptyValue:i}=t.util,{NODE_PROCEDURE:r,NODE_RESOURCE:n}=squared.base.lib.enumeration,{createViewAttribute:d,getHorizontalBias:s,getVerticalBias:l}=o.util,{EXT_ANDROID:c,STRING_ANDROID:u,SUPPORT_ANDROID:p,SUPPORT_ANDROID_X:g}=o.constant,{CONTAINER_NODE:T}=o.enumeration,N=["button","file","image","reset","search","submit"];class m extends squared.base.ExtensionUI{is(e){const t=e.element;return super.is(e)&&("INPUT"!==t.tagName||N.includes(t.type))}condition(e){return this.included(e.element)}processNode(t,o){const N=this.resource,m=t.element,O=t.dataset.target,I=d(this.options[m.id]),_=e.addColor(a(t.css("backgroundColor"),t.toFloat("opacity",1)));i(I,"android","backgroundTint",""!==_?"@color/"+_:"?attr/colorAccent"),t.hasProcedure(r.ACCESSIBILITY)||i(I,"android","focusable","false");let b="";switch(m.tagName){case"IMG":b=N.addImageSrc(m,"ic_dialog_");break;case"INPUT":if("image"===m.type){b=N.addImageSrc(m,"ic_dialog_");break}case"BUTTON":b=N.addImageSrc(t.backgroundImage,"ic_dialog_")}if(""!==b){let e=I.app;void 0===e&&(e={},I.app=e),i(e,"srcCompat","@drawable/"+b)}const y=t.api<29?p.FLOATING_ACTION_BUTTON:g.FLOATING_ACTION_BUTTON;let E;if(t.setControlType(y,T.BUTTON),t.exclude({resource:n.BOX_STYLE|n.ASSET}),e.formatOptions(I,this.application.extensionManager.optionValueAsBoolean(c.RESOURCE_STRINGS,"numberResourceValue")),!t.pageFlow||O){const e=s(t),a=l(t),i=t.documentParent,n=[];n.push(e<.5?t.localizeString("left"):e>.5?t.localizeString("right"):u.CENTER_HORIZONTAL),a<.5?(n.push("top"),t.app("layout_dodgeInsetEdges","top")):n.push(a>.5?"bottom":u.CENTER_VERTICAL);for(const e of n)t.mergeGravity("layout_gravity",e);if(e>0&&e<1&&.5!==e&&(e<.5?t.modifyBox(16,t.linear.left-i.box.left):t.modifyBox(4,i.box.right-t.linear.right)),a>0&&a<1&&.5!==a&&(a<.5?t.modifyBox(2,t.linear.top-i.box.top):t.modifyBox(8,i.box.bottom-t.linear.bottom)),t.positioned=!0,O){const e=t.android("layout_gravity");let a=o.documentId;if(o.controlName===(t.api<29?p.TOOLBAR:g.TOOLBAR)){const e=o.data("android.widget.toolbar","outerParent");e&&(a=e)}""!==e&&(t.app("layout_anchorGravity",e),t.delete("android","layout_gravity")),t.app("layout_anchor",a),t.exclude({procedure:r.ALIGNMENT}),t.render(this.application.resolveTarget(O)),E=t.renderParent}}return O||t.render(o),t.apply(I),{outerParent:E,output:{type:1,node:t,controlName:y},complete:!0}}}const O=new m("android.widget.floatingactionbutton",2,["BUTTON","INPUT","IMG"]);return squared&&squared.includeAsync(O),O}();
