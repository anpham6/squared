this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.floatingactionbutton=function(){"use strict";const t=squared.lib,{parseColor:e}=t.color,{assignEmptyValue:o}=t.util,{NODE_PROCEDURE:a,NODE_RESOURCE:i}=squared.base.lib.enumeration,r=android.lib,{EXT_ANDROID:n,STRING_ANDROID:d,SUPPORT_ANDROID:s,SUPPORT_ANDROID_X:l}=r.constant,{CONTAINER_NODE:c}=r.enumeration,{createViewAttribute:u,getHorizontalBias:g,getVerticalBias:p}=r.util,{Resource:T}=android.base;class N extends squared.base.ExtensionUI{is(t){const e=t.element;return super.is(t)&&("INPUT"!==e.tagName||["button","file","image","reset","search","submit"].includes(e.type))}condition(t){return this.included(t.element)}processNode(t,r){const N=this.resource,m=t.element,I=t.dataset.target,O=u(this.options[m.id]),_=T.addColor(e(t.css("backgroundColor"),t.toFloat("opacity",!0,1)));o(O,"android","backgroundTint",""!==_?"@color/"+_:"?attr/colorAccent"),t.hasProcedure(a.ACCESSIBILITY)||o(O,"android","focusable","false");let b="";switch(m.tagName){case"IMG":b=N.addImageSrc(m,"ic_dialog_");break;case"INPUT":if("image"===m.type){b=N.addImageSrc(m,"ic_dialog_");break}case"BUTTON":b=N.addImageSrc(t.backgroundImage,"ic_dialog_")}""!==b&&o(O,"app","srcCompat","@drawable/"+b);const y=t.localSettings.targetAPI<29?s.FLOATING_ACTION_BUTTON:l.FLOATING_ACTION_BUTTON;let E;if(t.setControlType(y,c.BUTTON),t.exclude(i.BOX_STYLE|i.ASSET),T.formatOptions(O,this.application.extensionManager.optionValueAsBoolean(n.RESOURCE_STRINGS,"numberResourceValue")),!t.pageFlow||I){const e=g(t),o=p(t),i=t.documentParent,n=[];n.push(e<.5?t.localizeString("left"):e>.5?t.localizeString("right"):d.CENTER_HORIZONTAL),o<.5?(n.push("top"),t.app("layout_dodgeInsetEdges","top")):n.push(o>.5?"bottom":d.CENTER_VERTICAL);for(const e of n)t.mergeGravity("layout_gravity",e);if(e>0&&e<1&&.5!==e&&(e<.5?t.modifyBox(16,t.linear.left-i.box.left):t.modifyBox(4,i.box.right-t.linear.right)),o>0&&o<1&&.5!==o&&(o<.5?t.modifyBox(2,t.linear.top-i.box.top):t.modifyBox(8,i.box.bottom-t.linear.bottom)),t.positioned=!0,I){const e=t.android("layout_gravity");let o=r.documentId;if(r.controlName===(t.localSettings.targetAPI<29?s.TOOLBAR:l.TOOLBAR)){const t=r.data("android.widget.toolbar","outerParent");t&&(o=t)}""!==e&&(t.app("layout_anchorGravity",e),t.delete("android","layout_gravity")),t.app("layout_anchor",o),t.exclude(0,a.ALIGNMENT),t.render(this.application.resolveTarget(I)),E=t.renderParent}}return I||t.render(r),t.apply(O),{outerParent:E,output:{type:1,node:t,controlName:y},complete:!0}}}const m=new N("android.widget.floatingactionbutton",2,["BUTTON","INPUT","IMG"]);return squared&&squared.includeAsync(m),m}();
