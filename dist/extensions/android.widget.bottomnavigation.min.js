this.android=this.android||{},this.android.widget=this.android.widget||{},this.android.widget.bottomnavigation=function(){"use strict";const e=android.lib,{assignEmptyValue:t,iterateArray:n,safeNestedMap:i}=squared.lib.util,{NODE_RESOURCE:a}=squared.base.lib.enumeration,{EXT_ANDROID:o,SUPPORT_ANDROID:s,SUPPORT_ANDROID_X:d}=e.constant,{CONTAINER_NODE:r}=e.enumeration,{createStyleAttribute:u,createViewAttribute:c}=e.util,m=android.base.Resource;class p extends squared.base.ExtensionUI{constructor(e,t,n,i){super(e,t,n,i),this.require("android.widget.menu")}processNode(e,i){const u=c(this.options[e.elementId]);t(u,"android","background","?android:attr/windowBackground"),n(e.children,e=>{e.hide();for(const t of e.cascade())t.hide()},5);const p=e.api<29?s.BOTTOM_NAVIGATION:d.BOTTOM_NAVIGATION;e.setControlType(p,r.BLOCK),e.exclude({resource:a.ASSET}),e.render(i),e.apply(m.formatOptions(u,this.application.extensionManager.optionValueAsBoolean(o.RESOURCE_STRINGS,"numberResourceValue"))),e.setLayoutWidth("match_parent"),e.setLayoutHeight("wrap_content");for(const t of e.cascade())this.addDescendant(t);return this.setStyleTheme(),{output:{type:1,node:e,controlName:p},complete:!0,include:!0}}postOptimize(e){var n;const a=e.renderParent;a.documentRoot&&(a.inlineWidth&&a.setLayoutWidth("match_parent"),a.inlineHeight&&a.setLayoutHeight("match_parent"));const o=null===(n=p.findNestedElement(e.element,"android.widget.menu"))||void 0===n?void 0:n.dataset.layoutName;if(o){const n=c(this.options[e.elementId]),a=i(n,"app");t(a,"menu",`@menu/${o}`),e.app("menu",a.menu)}}setStyleTheme(){const e=u(this.options.resource);t(e,"name",this.application.userSettings.manifestThemeName),t(e,"parent","Theme.AppCompat.Light.DarkActionBar"),m.addTheme(e)}}const l=new p("android.widget.bottomnavigation",2);return squared&&squared.includeAsync(l),l}();
