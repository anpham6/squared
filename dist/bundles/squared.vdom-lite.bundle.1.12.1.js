!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).squared={})}(this,(function(e){"use strict";const t="-?(?:\\d+(?:\\.\\d+)?|\\d*\\.\\d+)",r="px|em|pt|rem|ch|pc|vw|vh|vmin|vmax|mm|cm|in|ex|Q",n={DECIMAL:t,PERCENT:"-?\\d+(?:\\.\\d+)?%",LENGTH:`(${t})(${r})?`,LENGTH_PERCENTAGE:`(${t}(?:${r}|%)?)`,UNIT_LENGTH:r,DATAURI:"(?:data:([^,]+),)?(.+?)",CSS_SELECTOR_LABEL:"[\\.#]?[\\w\\-]+",CSS_SELECTOR_PSEUDO_ELEMENT:"::[\\w\\-]+",CSS_SELECTOR_PSEUDO_CLASS:":[\\w\\-]+(?:\\(\\s*([^()]+)\\s*\\)|\\(\\s*([\\w\\-]+\\(.+?\\))\\s*\\))?",CSS_SELECTOR_ATTR:"\\[((?:\\*\\|)?(?:\\w+\\\\:)?[\\w\\-]+)(?:([~^$*|])?=(?:\"((?:[^\"]|\\\\\")+)\"|'((?:[^']|\\')+)'|([^\\s\\]]+))\\s*(i)?)?\\]",CSS_ANGLE:`(${t})(deg|rad|turn|grad)`,CSS_TIME:`(${t})(s|ms)`,CSS_CALC:"calc\\((.+)\\)"},i={NAME:/[/\\]?(([^/\\]+?)\.([^/\\]+?))$/,PROTOCOL:/^([A-Za-z]{3,}:\/\/)([A-Za-z\d\-.]+)(:\d+)?(\/[^?]*)?[?]?(.*)?$/,SVG:/\.svg$/i},a={URL:/^\s*url\((.+)\)\s*$/,HEX:/^#[A-Fa-f\d]{3,8}$/,RGBA:/rgba?\((\d+),\s+(\d+),\s+(\d+)(?:,\s+([\d.]+%?))?\)/,HSLA:/hsla?\((\d+),\s+(\d+)%,\s+(\d+)%(?:,\s+([\d.]+%?))?\)/,SELECTOR_G:new RegExp(`\\s*((?:${n.CSS_SELECTOR_ATTR}|${n.CSS_SELECTOR_PSEUDO_CLASS}|${n.CSS_SELECTOR_PSEUDO_ELEMENT}|${n.CSS_SELECTOR_LABEL})+|[>~+*])\\s*`,"g"),SELECTOR_LABEL:new RegExp(n.CSS_SELECTOR_LABEL),SELECTOR_PSEUDO_ELEMENT:new RegExp(n.CSS_SELECTOR_PSEUDO_ELEMENT),SELECTOR_PSEUDO_CLASS:new RegExp(n.CSS_SELECTOR_PSEUDO_CLASS),SELECTOR_ATTR:new RegExp(n.CSS_SELECTOR_ATTR)},s={MATRIX:new RegExp(`(matrix(?:3d)?)\\((${n.DECIMAL}),\\s+(${n.DECIMAL}),\\s+(${n.DECIMAL}),\\s+(${n.DECIMAL}),\\s+(${n.DECIMAL}),\\s+(${n.DECIMAL})(?:,\\s+(${n.DECIMAL}))?(?:,\\s+(${n.DECIMAL}))?(?:,\\s+(${n.DECIMAL}))?(?:,\\s+(${n.DECIMAL}))?(?:,\\s+(${n.DECIMAL}))?(?:,\\s+(${n.DECIMAL}))?(?:,\\s+(${n.DECIMAL}))?(?:,\\s+(${n.DECIMAL}))?(?:,\\s+(${n.DECIMAL}))?(?:,\\s+(${n.DECIMAL}))?\\)`),ROTATE:new RegExp(`(rotate[XYZ]?)\\(${n.CSS_ANGLE}\\)`),SKEW:new RegExp(`(skew[XY]?)\\(${n.CSS_ANGLE}(?:,\\s+${n.CSS_ANGLE})?\\)`),SCALE:new RegExp(`(scale[XYZ]?)\\((${n.DECIMAL})(?:,\\s+(${n.DECIMAL}))?\\)`),TRANSLATE:new RegExp(`(translate[XYZ]?)\\(${n.LENGTH_PERCENTAGE}(?:,\\s+${n.LENGTH_PERCENTAGE})?\\)`),PERSPECTIVE:new RegExp(`(perspective)\\(${n.LENGTH_PERCENTAGE}\\)`)};var l=Object.freeze({__proto__:null,STRING:n,FILE:i,CSS:a,TRANSFORM:s});const o=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],c={},u={},h=new RegExp(`^${n.DECIMAL}$`);function f(e){switch(I(e.trim(),".").toLowerCase()){case"aac":return"audio/aac";case"abw":return"application/x-abiword";case"apng":return"image/apng";case"arc":return"application/x-freearc";case"avi":return"video/x-msvideo";case"azw":return"application/vnd.amazon.ebook";case"bin":return"application/octet-stream";case"bmp":case"bmpf":case"bmpp":return"image/bmp";case"bz":return"application/x-bzip";case"bz2":return"application/x-bzip2";case"csh":return"application/x-csh";case"css":return"text/css";case"csv":return"text/csv";case"doc":return"application/msword";case"docx":return"application/vnd.openxmlformats-officedocument.wordprocessingml.document";case"eot":case"embedded-opentype":return"application/vnd.ms-fontobject";case"epub":return"application/epub+zip";case"flac":return"audio/flac";case"gif":return"image/gif";case"gsm":return"audio/gsm";case"heic":return"image/heic";case"heif":return"image/heif";case"htm":case"html":return"text/html";case"cur":case"ico":return"image/x-icon";case"ics":return"text/calendar";case"jar":return"application/java-archive";case"jpeg":case"jpg":case"jfif":case"pjpeg":case"pjp":return"image/jpeg";case"js":case"mjs":return"text/javascript";case"json":return"application/json";case"jsonp":return"application/javascript";case"jsonld":return"application/ld+json";case"mid":case"midi":return"audio/midi";case"mkv":return"video/x-matroska";case"mp3":case"mpeg":return"audio/mpeg";case"mp4":return"video/mp4";case"mpkg":return"application/vnd.apple.installer+xml";case"odp":return"application/vnd.oasis.opendocument.presentation";case"ods":return"application/vnd.oasis.opendocument.spreadsheet";case"odt":return"application/vnd.oasis.opendocument.text";case"oga":case"spx":case"ogg":return"audio/ogg";case"ogv":case"ogm":return"video/ogg";case"ogx":return"application/ogg";case"otf":case"opentype":return"font/otf";case"png":return"image/png";case"pdf":return"application/pdf";case"ppt":return"application/vnd.ms-powerpoint";case"pptx":return"application/vnd.openxmlformats-officedocument.presentationml.presentation";case"rar":return"application/x-rar-compressed";case"rtf":return"application/rtf";case"sh":return"application/x-sh";case"svg":return"image/svg+xml";case"swf":return"application/x-shockwave-flash";case"tar":return"application/x-tar";case"tif":case"tiff":return"image/tiff";case"ts":return"video/mp2t";case"ttf":case"truetype":return"font/ttf";case"txt":return"text/plain";case"vsd":return"application/vnd.visio";case"vtt":return"text/vtt";case"wav":return"audio/wav";case"weba":case"webm":return"audio/webm";case"webp":return"image/webp";case"woff":return"font/woff";case"woff2":return"font/woff2";case"xhtml":return"application/xhtml+xml";case"xls":return"application/vnd.ms-excel";case"xlsx":return"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";case"xml":return"application/xml";case"xul":return"application/vnd.mozilla.xul+xml";case"zip":return"application/zip";case"3gp":return"video/3gpp";case"3g2":return"video/3gpp2";case"7z":return"application/x-7z-compressed";default:return""}}function g(e){for(const t in e)return void 0!==e[t];return false}function d(e,t,r){return 0===t?e.substring(r):e.substring(0,t)+e.substring(t+r)}function p(e,t="-"){let r=e.indexOf(t);if(-1===r)return e;const n=c[e];if(n)return n;let i=e.substring(0,r),a="";const s=e.length;while(r<s){const n=e.charAt(r++);if(n!==t)if(a===t)i+=n.toUpperCase();else i+=n;a=n}return c[e]=i,i}function b(e){return parseFloat(e)||0}function m(e){if(e>=0){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let r="";const n=t.length;while(e>=n){const i=Math.floor(e/n);if(i>1&&i<=n)r+=t.charAt(i-1),e-=i*n;else if(i>0)return r+="Z",r+=m(e-=Math.pow(n,2)),r;const a=e%n;r+=t.charAt(a),e-=a+n}return t.charAt(e)+r}return e.toString()}function v(e){const t=e.toString().split("");let r="",n=3;while(n--)r=(o[parseInt(t.pop())+10*n]||"")+r;return"M".repeat(parseInt(t.join("")))+r}function w(e,t,r="",n="(",i=")"){if(r.length>1)return[];if(!t)t=n;const a=t!==n,s=a?t+n:n,l=[],o=e=>{for(let t of e.split(r))if(t=t.trim(),""!==t)l.push(t)};let c=0,u=-1;const h=e.length;while(-1!==(u=e.indexOf(s,c))){let s="";if(u!==c){let n=e.substring(c,u);if(r){if(n=n.trim(),""!==n)if(o(n),!a){const r=l[l.length-1];if(e.substring(u-r.length,u+1)===r+t)s=r,--l.length}}else l.push(n)}let f=false;for(let o=u+(a?t.length:0)+1,g=1,d=0;o<h;++o){switch(e.charAt(o)){case n:++g;break;case i:++d;break}if(g===d){if(r){for(;o<h;++o)if(e.charAt(o)===r)break;c=o+1,l.push(s+e.substring(u,o).trim())}else c=o+1,l.push(e.substring(u,c));if(c===h)return l;f=true;break}}if(!f)return[]}if(c<h){const t=e.substring(c);if(r){const e=t.trim();if(""!==e)o(e)}else l.push(t)}return l}function y(e,t){return(e&t)===t}function k(e){return h.test(e)}function x(e){return"string"==typeof e&&""!==e.trim()}function E(e){return"object"==typeof e&&null!==e}function S(e){return E(e)&&(e.constructor===Object||null===Object.getPrototypeOf(Object(e)))}function A(e,t=[],r){for(let n=0;n<e.length;++n){const i=e[n];if(Array.isArray(i))t.push(A(i,[],r));else if(r&&S(i))t.push(C(i,{},true));else t.push(i)}return t}function C(e,t={},r){for(const n in e){const i=e[n];if(Array.isArray(i))t[n]=r?A(i,[],true):i;else if(S(i))t[n]=C(i,{},r);else t[n]=i}return t}function R(e,t){if(""!==(e=e.trim())&&!i.PROTOCOL.test(e)){const r=((null==t?void 0:t.replace(location.origin,""))||location.pathname).replace(/\\/g,"/").split("/");if(r.pop(),"/"===(e=e.replace(/\\/g,"/")).charAt(0))return location.origin+e;else if(e.startsWith("../")){const t=[];for(const n of e.split("/"))if(".."===n)if(0===t.length)r.pop();else t.pop();else t.push(n);e=t.join("/")}else if(e.startsWith("./"))e=e.substring(2);return location.origin+r.join("/")+"/"+e}return e}function F(e,t){const r=new RegExp(`^(${t})+(.*?)\\1$`).exec(e);return r?r[2]:e}function T(e,t){return e.replace(new RegExp(`^(${t})+`),"")}function L(e,t){return e.replace(new RegExp(`(${t})+$`),"")}function I(e,...t){for(let r=0;r<t.length;++r){const n=e.lastIndexOf(t[r]);if(-1!==n)return e.substring(n+1)}return e}function N(e){return null!=e&&""!==e}function P(e,t,r=1){return t>=e-r&&t<=e+r}function M(e,t){let r=0;for(const n of e)if(t(n,r++,e))return n}function B(e,t){const r=e.length,n=new Array(r),i=new Array(r);let a=0,s=0,l=0;while(a<r){const r=e[a];if(t(r,a++,e))n[s++]=r;else i[l++]=r}return n.length=s,i.length=l,[n,i]}function _(e,t){const r=e.length;if(r){let n;for(let i=0;i<r;++i){const r=t(e[i],i,e);if(0===i)n=r;else if(r!==n)return false}return true}return false}function D(e,t,r="\n",n=true){let i="";const a=e.length;let s=0;while(s<a){const n=t(e[s],s++,e);if(""!==n)i+=n+r}return n?i:i.substring(0,i.length-r.length)}function O(e,t,r=0,n=1/0){r=Math.max(r,0);const i=Math.min(e.length,n);let a=r;while(a<i){if(true===t(e[a],a++,e))return 1/0}return i}function z(e,t){const r=e.length;let n=0;while(n<r)e[n]=t(e[n],n++,e);return e}function $(e,t){const r=e.length,n=new Array(r);let i=0;while(i<r)n[i]=t(e[i],i++,e);return n}var W=Object.freeze({__proto__:null,promisify:function(e){return(...t)=>new Promise((r,n)=>{try{r(e.call(null,...t))}catch(e){n(e)}})},hasMimeType:function(e,t){return"*"===e||e.includes(f(t))},parseMimeType:f,fromMimeType:function(e){switch(e){case"audio/aac":return"aac";case"application/x-abiword":return"abw";case"image/apng":return"apng";case"application/x-freearc":return"arc";case"video/x-msvideo":return"avi";case"application/vnd.amazon.ebook":return"azw";case"application/octet-stream":return"bin";case"image/bmp":case"image/x-ms-bmp":return"bmp";case"application/x-bzip":return"bz";case"application/x-bzip2":return"bz2";case"application/x-csh":return"csh";case"text/css":return"css";case"text/csv":return"csv";case"application/msword":return"doc";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return"docx";case"application/vnd.ms-fontobject":return"eot";case"application/epub+zip":return"epub";case"audio/flac":return"flac";case"image/gif":return"gif";case"audio/gsm":return"gsm";case"image/heic":return"heic";case"image/heif":return"heif";case"text/html":return"html";case"image/x-icon":return"ico";case"text/calendar":return"ics";case"application/java-archive":return"jar";case"image/jpeg":return"jpg";case"text/javascript":return"js";case"application/json":return"json";case"application/ld+json":return"jsonld";case"audio/midi":return"mid";case"video/x-matroska":return"mkv";case"audio/mpeg":return"mp3";case"video/mp4":return"mp4";case"application/vnd.apple.installer+xml":return"mpkg";case"application/vnd.oasis.opendocument.presentation":return"odp";case"application/vnd.oasis.opendocument.spreadsheet":return"ods";case"application/vnd.oasis.opendocument.text":return"odt";case"audio/ogg":return"ogg";case"video/ogg":return"ogv";case"application/ogg":return"ogx";case"font/otf":return"otf";case"image/png":return"png";case"application/pdf":return"pdf";case"application/vnd.ms-powerpoint":return"ppt";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return"pptx";case"application/x-rar-compressed":return"rar";case"application/rtf":return"rtf";case"application/x-sh":return"sh";case"image/svg+xml":return"svg";case"application/x-shockwave-flash":return"swf";case"application/x-tar":return"tar";case"image/tiff":return"tif";case"video/mp2t":return"ts";case"font/ttf":return"ttf";case"text/plain":return"txt";case"application/vnd.visio":return"vsd";case"text/vtt":return"vtt";case"audio/wav":return"wav";case"audio/webm":return"video/webm";case"image/webp":return"webp";case"font/woff":return"woff";case"font/woff2":return"woff2";case"application/xhtml+xml":return"xhtml";case"application/vnd.ms-excel":return"xls";case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return"xlsx";case"text/xml":return"xml";case"application/vnd.mozilla.xul+xml":return"xul";case"application/zip":return"zip";case"video/3gpp":return"3gp";case"video/3gpp2":return"3g2";case"application/x-7z-compressed":return"7z";default:return""}},hasKeys:g,capitalize:function(e,t){return false===t?e.charAt(0).toLowerCase()+e.substring(1):e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()},capitalizeString:function(e){let t;const r=/\b([a-z].*?)\b/g;let n;while(n=r.exec(e)){if(void 0===t)t=e.split("");t[n.index]=n[1].charAt(0).toUpperCase()}return(null==t?void 0:t.join(""))||e},lowerCaseString:function(e){const t=[],r=/&#?[A-Za-z\d]+?;/g;let n;while(n=r.exec(e))t.push(n[0]);if(t.length){let n="";const i=e.split(r),a=i.length;for(let e=0;e<a;++e)n+=i[e].toLowerCase()+(t[e]||"");return n}return e.toLowerCase()},spliceString:d,convertUnderscore:function(e){const t=u[e];if(t)return t;let r=e[0].toLowerCase(),n=true;const i=e.length;let a=1;while(a<i){const t=e.charAt(a++),i=t===t.toUpperCase();if(n&&i&&"_"!==t)r+="_"+t.toLowerCase();else r+=t;n=!i}return u[e]=r,r},convertCamelCase:p,convertWord:function(e,t){let r="";const n=t?/[a-zA-Z\d]/:/\w/,i=e.length;let a=0;while(a<i){const t=e.charAt(a++);r+=n.test(t)?t:"_"}return r},convertInt:function(e){return parseInt(e)||0},convertFloat:b,convertAlpha:m,convertRoman:v,convertEnum:function(e,t,r){for(const n of Object.keys(t))if(e===t[n])return r[n];return""},randomUUID:function(e="-"){let t="";for(const r of[8,4,4,4,12]){if(""!==t)t+=e;for(let e=0;e<r;++e)t+="0123456789abcdef".charAt(Math.floor(16*Math.random()))}return t},formatString:function(e,...t){const r=t.length;let n=0;while(n<r)e=e.replace(`{${n}}`,t[n++]);return e},delimitString:function(e,...t){const r=t.length,n=e.value;if(1===r&&!n)return t[0];const i=e.delimiter||", ",a=e.not||[],s=e.remove||false,l=""!==n?n.split(i):[];for(let e=0;e<r;++e){const r=t[e];if(""!==r){if(l.includes(a[e]))continue;const t=l.findIndex(e=>e===r);if(-1===t)l.push(r);else if(s)l.splice(t,1)}}if(e.sort)l.sort();return l.join(i)},splitEnclosing:w,hasBit:y,isNumber:k,isString:x,isArray:function(e){return Array.isArray(e)&&e.length>0},isObject:E,isPlainObject:S,isEqual:function e(t,r){if(t===r)return true;else if(Array.isArray(t)&&Array.isArray(r)){const e=t.length;if(e===r.length){let n=0;while(n<e)if(t[n]!==r[n++])return false;return true}}else if(S(t)&&S(r))if(Object.keys(t).length===Object.keys(r).length){for(const n in t){const i=t[n],a=r[n];if(i!==a){if(S(i)&&S(a)&&e(i,a))continue;return false}}return true}return false},includes:function(e,t,r=","){if(e)for(const n of e.split(r))if(n.trim()===t)return true;return false},cloneInstance:function(e){return Object.assign(Object.create(Object.getPrototypeOf(e)),e)},cloneArray:A,cloneObject:C,resolvePath:R,trimBoth:F,trimString:function(e,t){return T(L(e,t),t)},trimStart:T,trimEnd:L,appendSeparator:function(e,t,r="/"){switch(e=e.trim(),t=t.trim(),r){case"\\":e=e.replace(/\//g,"\\"),t=t.replace(/\//g,"\\");break;case"/":e=e.replace(/\\/g,"/"),t=t.replace(/\\/g,"/");break}return e+(""!==e&&""!==t&&!e.endsWith(r)&&!t.startsWith(r)?r:"")+t},fromLastIndexOf:I,partitionLastIndexOf:function(e,...t){for(let r=0;r<t.length;++r){const n=e.lastIndexOf(t[r]);if(-1!==n)return[e.substring(0,n),e.substring(n+1)]}return["",e]},searchObject:function(e,t){const r=[];if("object"==typeof t)for(const n in t){const i=t[n];if(N(e[i]))r.push([i,e[i]])}else{const n=/^\*.+\*$/.test(t)?e=>e.includes(t.replace(/^\*/,"").replace(/\*$/,"")):t.startsWith("*")?e=>e.endsWith(t.replace(/^\*/,"")):t.endsWith("*")?e=>e.startsWith(t.replace(/\*$/,"")):e=>e===t;for(const t in e)if(n(t))r.push([t,e[t]])}return r},hasValue:N,withinRange:P,aboveRange:function(e,t,r=1){return e+r>t},belowRange:function(e,t,r=1){return e-r<t},assignEmptyProperty:function(e,t){for(const r in t)if(!Object.prototype.hasOwnProperty.call(e,r))e[r]=t[r];return e},assignEmptyValue:function(e,...t){const r=t.length;if(r>1){let n=e,i=0;do{const e=t[i],a=n[e];if(i===r-2){if(!N(a))n[e]=t[i+1];break}else if(e)if(null==a)n={},n[e]=n;else if(E(a))n=a;else break;else break}while(++i)}},findSet:M,sortNumber:function(e,t=true){return t?e.sort((e,t)=>e<t?-1:1):e.sort((e,t)=>e>t?-1:1)},safeNestedArray:function(e,t){let r=e[t];if(null==r)r=[],e[t]=r;return r},safeNestedMap:function(e,t){let r=e[t];if(null==r)r={},e[t]=r;return r},sortArray:function(e,t,...r){return e.sort((e,n)=>{for(let i=0;i<r.length;++i){let a=e,s=n;for(const e of r[i].split(".")){const t=a[e],r=s[e];if(void 0!==t&&void 0!==r)a=t,s=r;else if(void 0===t&&void 0===r)return 0;else if(void 0!==t)return-1;else return 1}if(a!==s)if(t)return a>s?1:-1;else return a<s?-1:1}return 0})},flatArray:function e(t,r=0,n=0){let i=[];const a=t.length;let s=0;while(s<a){const a=t[s++];if(n<r&&Array.isArray(a)){if(a.length)i=i.concat(e(a,r,n+1))}else if(null!=a)i.push(a)}return i},spliceArray:function(e,t,r,n){let i=0;for(let a=0;a<e.length;++a){const s=e[a];if(t(s,a,e)){if(r)r(s,a,e);if(e.splice(a--,1),++i===n)break}}return e},partitionArray:B,sameArray:_,joinArray:D,iterateArray:O,iterateReverseArray:function(e,t,r=0,n=1/0){r=Math.max(r,0);const i=Math.min(e.length,n);let a=i-1;while(a>=r){if(true===t(e[a],a--,e))return 1/0}return i},conditionArray:function(e,t,r){const n=e.length;for(let i=0;i<n;++i){const n=e[i];if(t(n,i,e)){if(false===r(n,i,e))break}}},replaceMap:z,plainMap:$});function j(e){const t=navigator.userAgent;let r=2;if(t.includes("Safari/")&&!t.includes("Chrome/"))r=4;else if(t.includes("Firefox/"))r=8;else if(t.includes("Edg/"))r=16;if("string"==typeof e){const t=e.toUpperCase();if(e=0,t.includes("CHROME"))e|=2;if(t.includes("SAFARI"))e|=4;if(t.includes("FIREFOX"))e|=8;if(t.includes("EDGE"))e|=16}return y(e,r)}function G(){return 96*window.devicePixelRatio}var V=Object.freeze({__proto__:null,isPlatform:function(e){const t=navigator.platform.toLowerCase();if("string"==typeof e)return t.includes(e.toLowerCase());else return y(e,2)&&t.includes("win")||y(e,4)&&/(mac|iphone|ipad|ipod)/.test(t)},isUserAgent:j,getDeviceDPI:G});const H={};function X(e){return Math.min.apply(null,e)}function U(e,t,r=5){return r+=Math.floor(e).toString().length,e.toPrecision(r)===t.toPrecision(r)}function Y(e,t=3){if("string"==typeof e)e=parseFloat(e);const r=Math.floor(e);if(e===r)return e.toString();else if(e>=0&&e<=1/Math.pow(10,t)||e<0&&e>=-1/Math.pow(10,t))return"0";else{if(0!==r)t+=r.toString().length;return Z(e.toPrecision(t))}}function q(e){if(e!==Math.floor(e)){const t=/^(-?\d+)\.(\d*?)(0{5,}|9{5,})\d*$/.exec(function(e){const t=/^(-?\d+\.\d+)e(-?\d+)$/.exec(e.toString());return t?parseInt(t[2])>0?Number.MAX_SAFE_INTEGER.toString():"0":e.toString()}(e));if(t){const r=t[2];if(""===r)return Math.round(e);const n=t[1];return parseFloat(e.toPrecision(("0"!==n?n.length:0)+r.length))}}return e}function Z(e){const t=/\.(\d*?)(0+)$/.exec(e);return t?e.substring(0,e.length-t[t[1]?2:0].length):e}function K(e){return e*Math.PI/180}function Q(e,t){const r=t.x-e.x,n=t.y-e.y;return 180*Math.atan2(n,r)/Math.PI}function J(e,t=0,r=1){if(e<t)e=t;else if(e>r)e=r;return e}function ee(e,t=11){let r=e=K(e);for(let n=3,i=0;n<=t;n+=2,++i)r+=Math.pow(e,n)/re(n)*(i%2==0?-1:1);return r}function te(e,t=10){e=K(e);let r=1;for(let n=2,i=0;n<=t;n+=2,++i)r+=Math.pow(e,n)/re(n)*(i%2==0?-1:1);return r}function re(e){let t=2,r=3;while(r<=e)t*=r++;return t}var ne=Object.freeze({__proto__:null,minArray:X,maxArray:function(e){return Math.max.apply(null,e)},equal:U,moreEqual:function(e,t,r=5){return e>t||U(e,t,r)},lessEqual:function(e,t,r=5){return e<t||U(e,t,r)},truncate:Y,truncateFraction:q,truncateTrailingZero:Z,truncateString:function(e,t=3){let r=H[t];if(!r)r=new RegExp(`(-?\\d+\\.\\d{${t}})(\\d)\\d*`,"g"),H[t]=r;let n,i=e;while(n=r.exec(e)){let e=n[1];if(parseInt(n[2])>=5)e=q(parseFloat(e)+1/Math.pow(10,t)).toString();i=i.replace(n[0],Z(e))}return r.lastIndex=0,i},convertRadian:K,triangulate:function(e,t,r){const n=180-e-t;return[r/Math.sin(K(n))*Math.sin(K(e)),r/Math.sin(K(n))*Math.sin(K(t))]},absoluteAngle:Q,relativeAngle:function(e,t,r=90){let n=Q(e,t)+r;if(n<0)n+=360;return n},offsetAngleX:function(e,t){return t*Math.sin(K(e))},offsetAngleY:function(e,t){return t*Math.cos(K(e))*-1},clamp:J,multipleOf:function(e,t=0,r){const n=e.length;if(n>1){const i=X(e);if((null==r?void 0:r.length)===n){let i=0;while(i<n)t=Math.max(t,r[i]+e[i++])}else r=void 0,t=Math.max(t,i);let a=0;while(a<t)a+=i;const s=(null==r?void 0:r[0])||0;let l=false;while(!l){const t=s+a;let o=1;while(o<n){if(t%((r?r[o]:0)+e[o++])==0)l=true;else{l=false,a+=i;break}}}return s+a}return e[0]},sin:ee,cos:te,tan:function(e,t=11){return ee(e,t)/te(e,t)},factorial:re,hypotenuse:function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}});const ie=[{value:"#000000",key:"black",rgb:{r:0,g:0,b:0},hsl:{h:0,s:0,l:0}},{value:"#696969",key:"dimgray",rgb:{r:105,g:105,b:105},hsl:{h:0,s:0,l:41}},{value:"#696969",key:"dimgrey",rgb:{r:105,g:105,b:105},hsl:{h:0,s:0,l:41}},{value:"#808080",key:"gray",rgb:{r:128,g:128,b:128},hsl:{h:0,s:0,l:50}},{value:"#808080",key:"grey",rgb:{r:128,g:128,b:128},hsl:{h:0,s:0,l:50}},{value:"#A9A9A9",key:"darkgray",rgb:{r:169,g:169,b:169},hsl:{h:0,s:0,l:66}},{value:"#A9A9A9",key:"darkgrey",rgb:{r:169,g:169,b:169},hsl:{h:0,s:0,l:66}},{value:"#C0C0C0",key:"silver",rgb:{r:192,g:192,b:192},hsl:{h:0,s:0,l:75}},{value:"#D3D3D3",key:"lightgray",rgb:{r:211,g:211,b:211},hsl:{h:0,s:0,l:83}},{value:"#D3D3D3",key:"lightgrey",rgb:{r:211,g:211,b:211},hsl:{h:0,s:0,l:83}},{value:"#DCDCDC",key:"gainsboro",rgb:{r:220,g:220,b:220},hsl:{h:0,s:0,l:86}},{value:"#F5F5F5",key:"whitesmoke",rgb:{r:245,g:245,b:245},hsl:{h:0,s:0,l:96}},{value:"#FFFFFF",key:"white",rgb:{r:255,g:255,b:255},hsl:{h:0,s:0,l:100}},{value:"#BC8F8F",key:"rosybrown",rgb:{r:188,g:143,b:143},hsl:{h:0,s:25,l:65}},{value:"#CD5C5C",key:"indianred",rgb:{r:205,g:92,b:92},hsl:{h:0,s:53,l:58}},{value:"#A52A2A",key:"brown",rgb:{r:165,g:42,b:42},hsl:{h:0,s:59,l:41}},{value:"#B22222",key:"firebrick",rgb:{r:178,g:34,b:34},hsl:{h:0,s:68,l:42}},{value:"#F08080",key:"lightcoral",rgb:{r:240,g:128,b:128},hsl:{h:0,s:79,l:72}},{value:"#800000",key:"maroon",rgb:{r:128,g:0,b:0},hsl:{h:0,s:100,l:25}},{value:"#8B0000",key:"darkred",rgb:{r:139,g:0,b:0},hsl:{h:0,s:100,l:27}},{value:"#FF0000",key:"red",rgb:{r:255,g:0,b:0},hsl:{h:0,s:100,l:50}},{value:"#FFFAFA",key:"snow",rgb:{r:255,g:250,b:250},hsl:{h:0,s:100,l:99}},{value:"#FFE4E1",key:"mistyrose",rgb:{r:255,g:228,b:225},hsl:{h:6,s:100,l:94}},{value:"#FA8072",key:"salmon",rgb:{r:250,g:128,b:114},hsl:{h:6,s:93,l:71}},{value:"#FF6347",key:"tomato",rgb:{r:255,g:99,b:71},hsl:{h:9,s:100,l:64}},{value:"#E9967A",key:"darksalmon",rgb:{r:233,g:150,b:122},hsl:{h:15,s:72,l:70}},{value:"#FF7F50",key:"coral",rgb:{r:255,g:127,b:80},hsl:{h:16,s:100,l:66}},{value:"#FF4500",key:"orangered",rgb:{r:255,g:69,b:0},hsl:{h:16,s:100,l:50}},{value:"#FFA07A",key:"lightsalmon",rgb:{r:255,g:160,b:122},hsl:{h:17,s:100,l:74}},{value:"#A0522D",key:"sienna",rgb:{r:160,g:82,b:45},hsl:{h:19,s:56,l:40}},{value:"#FFF5EE",key:"seashell",rgb:{r:255,g:245,b:238},hsl:{h:25,s:100,l:97}},{value:"#D2691E",key:"chocolate",rgb:{r:210,g:105,b:30},hsl:{h:25,s:75,l:47}},{value:"#8B4513",key:"saddlebrown",rgb:{r:139,g:69,b:19},hsl:{h:25,s:76,l:31}},{value:"#F4A460",key:"sandybrown",rgb:{r:244,g:164,b:96},hsl:{h:28,s:87,l:67}},{value:"#FFDAB9",key:"peachpuff",rgb:{r:255,g:218,b:185},hsl:{h:28,s:100,l:86}},{value:"#CD853F",key:"peru",rgb:{r:205,g:133,b:63},hsl:{h:30,s:59,l:53}},{value:"#FAF0E6",key:"linen",rgb:{r:250,g:240,b:230},hsl:{h:30,s:67,l:94}},{value:"#FFE4C4",key:"bisque",rgb:{r:255,g:228,b:196},hsl:{h:33,s:100,l:88}},{value:"#FF8C00",key:"darkorange",rgb:{r:255,g:140,b:0},hsl:{h:33,s:100,l:50}},{value:"#DEB887",key:"burlywood",rgb:{r:222,g:184,b:135},hsl:{h:34,s:57,l:70}},{value:"#FAEBD7",key:"antiquewhite",rgb:{r:250,g:235,b:215},hsl:{h:34,s:78,l:91}},{value:"#D2B48C",key:"tan",rgb:{r:210,g:180,b:140},hsl:{h:34,s:44,l:69}},{value:"#FFDEAD",key:"navajowhite",rgb:{r:255,g:222,b:173},hsl:{h:36,s:100,l:84}},{value:"#FFEBCD",key:"blanchedalmond",rgb:{r:255,g:235,b:205},hsl:{h:36,s:100,l:90}},{value:"#FFEFD5",key:"papayawhip",rgb:{r:255,g:239,b:213},hsl:{h:37,s:100,l:92}},{value:"#FFE4B5",key:"moccasin",rgb:{r:255,g:228,b:181},hsl:{h:38,s:100,l:85}},{value:"#FFA500",key:"orange",rgb:{r:255,g:165,b:0},hsl:{h:39,s:100,l:50}},{value:"#F5DEB3",key:"wheat",rgb:{r:245,g:222,b:179},hsl:{h:39,s:77,l:83}},{value:"#FDF5E6",key:"oldlace",rgb:{r:253,g:245,b:230},hsl:{h:39,s:85,l:95}},{value:"#FFFAF0",key:"floralwhite",rgb:{r:255,g:250,b:240},hsl:{h:40,s:100,l:97}},{value:"#B8860B",key:"darkgoldenrod",rgb:{r:184,g:134,b:11},hsl:{h:43,s:89,l:38}},{value:"#DAA520",key:"goldenrod",rgb:{r:218,g:165,b:32},hsl:{h:43,s:74,l:49}},{value:"#FFF8DC",key:"cornsilk",rgb:{r:255,g:248,b:220},hsl:{h:48,s:100,l:93}},{value:"#FFD700",key:"gold",rgb:{r:255,g:215,b:0},hsl:{h:51,s:100,l:50}},{value:"#FFFACD",key:"lemonchiffon",rgb:{r:255,g:250,b:205},hsl:{h:54,s:100,l:90}},{value:"#F0E68C",key:"khaki",rgb:{r:240,g:230,b:140},hsl:{h:54,s:77,l:75}},{value:"#EEE8AA",key:"palegoldenrod",rgb:{r:238,g:232,b:170},hsl:{h:55,s:67,l:80}},{value:"#BDB76B",key:"darkkhaki",rgb:{r:189,g:183,b:107},hsl:{h:56,s:38,l:58}},{value:"#F5F5DC",key:"beige",rgb:{r:245,g:245,b:220},hsl:{h:60,s:56,l:91}},{value:"#FAFAD2",key:"lightgoldenrodyellow",rgb:{r:250,g:250,b:210},hsl:{h:60,s:80,l:90}},{value:"#808000",key:"olive",rgb:{r:128,g:128,b:0},hsl:{h:60,s:100,l:25}},{value:"#FFFF00",key:"yellow",rgb:{r:255,g:255,b:0},hsl:{h:60,s:100,l:50}},{value:"#FFFFE0",key:"lightyellow",rgb:{r:255,g:255,b:224},hsl:{h:60,s:100,l:94}},{value:"#FFFFF0",key:"ivory",rgb:{r:255,g:255,b:240},hsl:{h:60,s:100,l:97}},{value:"#6B8E23",key:"olivedrab",rgb:{r:107,g:142,b:35},hsl:{h:80,s:60,l:35}},{value:"#9ACD32",key:"yellowgreen",rgb:{r:154,g:205,b:50},hsl:{h:80,s:61,l:50}},{value:"#556B2F",key:"darkolivegreen",rgb:{r:85,g:107,b:47},hsl:{h:82,s:39,l:30}},{value:"#ADFF2F",key:"greenyellow",rgb:{r:173,g:255,b:47},hsl:{h:84,s:100,l:59}},{value:"#7FFF00",key:"chartreuse",rgb:{r:127,g:255,b:0},hsl:{h:90,s:100,l:50}},{value:"#7CFC00",key:"lawngreen",rgb:{r:124,g:252,b:0},hsl:{h:90,s:100,l:49}},{value:"#8FBC8F",key:"darkseagreen",rgb:{r:143,g:188,b:143},hsl:{h:120,s:25,l:65}},{value:"#228B22",key:"forestgreen",rgb:{r:34,g:139,b:34},hsl:{h:120,s:61,l:34}},{value:"#32CD32",key:"limegreen",rgb:{r:50,g:205,b:50},hsl:{h:120,s:61,l:50}},{value:"#90EE90",key:"lightgreen",rgb:{r:144,g:238,b:144},hsl:{h:120,s:73,l:75}},{value:"#98FB98",key:"palegreen",rgb:{r:152,g:251,b:152},hsl:{h:120,s:93,l:79}},{value:"#006400",key:"darkgreen",rgb:{r:0,g:100,b:0},hsl:{h:120,s:100,l:20}},{value:"#008000",key:"green",rgb:{r:0,g:128,b:0},hsl:{h:120,s:100,l:25}},{value:"#00FF00",key:"lime",rgb:{r:0,g:255,b:0},hsl:{h:120,s:100,l:50}},{value:"#F0FFF0",key:"honeydew",rgb:{r:240,g:255,b:240},hsl:{h:120,s:100,l:97}},{value:"#2E8B57",key:"seagreen",rgb:{r:46,g:139,b:87},hsl:{h:146,s:50,l:36}},{value:"#3CB371",key:"mediumseagreen",rgb:{r:60,g:179,b:113},hsl:{h:147,s:50,l:47}},{value:"#00FF7F",key:"springgreen",rgb:{r:0,g:255,b:127},hsl:{h:150,s:100,l:50}},{value:"#F5FFFA",key:"mintcream",rgb:{r:245,g:255,b:250},hsl:{h:150,s:100,l:98}},{value:"#00FA9A",key:"mediumspringgreen",rgb:{r:0,g:250,b:154},hsl:{h:157,s:100,l:49}},{value:"#66CDAA",key:"mediumaquamarine",rgb:{r:102,g:205,b:170},hsl:{h:160,s:51,l:60}},{value:"#7FFFD4",key:"aquamarine",rgb:{r:127,g:255,b:212},hsl:{h:160,s:100,l:75}},{value:"#40E0D0",key:"turquoise",rgb:{r:64,g:224,b:208},hsl:{h:174,s:72,l:56}},{value:"#20B2AA",key:"lightseagreen",rgb:{r:32,g:178,b:170},hsl:{h:177,s:70,l:41}},{value:"#48D1CC",key:"mediumturquoise",rgb:{r:72,g:209,b:204},hsl:{h:178,s:60,l:55}},{value:"#2F4F4F",key:"darkslategray",rgb:{r:47,g:79,b:79},hsl:{h:180,s:25,l:25}},{value:"#2F4F4F",key:"darkslategrey",rgb:{r:47,g:79,b:79},hsl:{h:180,s:25,l:25}},{value:"#AFEEEE",key:"paleturquoise",rgb:{r:175,g:238,b:238},hsl:{h:180,s:65,l:81}},{value:"#008080",key:"teal",rgb:{r:0,g:128,b:128},hsl:{h:180,s:100,l:25}},{value:"#008B8B",key:"darkcyan",rgb:{r:0,g:139,b:139},hsl:{h:180,s:100,l:27}},{value:"#00FFFF",key:"aqua",rgb:{r:0,g:255,b:255},hsl:{h:180,s:100,l:50}},{value:"#00FFFF",key:"cyan",rgb:{r:0,g:255,b:255},hsl:{h:180,s:100,l:50}},{value:"#E0FFFF",key:"lightcyan",rgb:{r:224,g:255,b:255},hsl:{h:180,s:100,l:94}},{value:"#F0FFFF",key:"azure",rgb:{r:240,g:255,b:255},hsl:{h:180,s:100,l:97}},{value:"#00CED1",key:"darkturquoise",rgb:{r:0,g:206,b:209},hsl:{h:181,s:100,l:41}},{value:"#5F9EA0",key:"cadetblue",rgb:{r:95,g:158,b:160},hsl:{h:182,s:25,l:50}},{value:"#B0E0E6",key:"powderblue",rgb:{r:176,g:224,b:230},hsl:{h:187,s:52,l:80}},{value:"#ADD8E6",key:"lightblue",rgb:{r:173,g:216,b:230},hsl:{h:195,s:53,l:79}},{value:"#00BFFF",key:"deepskyblue",rgb:{r:0,g:191,b:255},hsl:{h:195,s:100,l:50}},{value:"#87CEEB",key:"skyblue",rgb:{r:135,g:206,b:235},hsl:{h:197,s:71,l:73}},{value:"#87CEFA",key:"lightskyblue",rgb:{r:135,g:206,b:250},hsl:{h:203,s:92,l:75}},{value:"#4682B4",key:"steelblue",rgb:{r:70,g:130,b:180},hsl:{h:207,s:44,l:49}},{value:"#F0F8FF",key:"aliceblue",rgb:{r:240,g:248,b:255},hsl:{h:208,s:100,l:97}},{value:"#1E90FF",key:"dodgerblue",rgb:{r:30,g:144,b:255},hsl:{h:210,s:100,l:56}},{value:"#708090",key:"slategray",rgb:{r:112,g:128,b:144},hsl:{h:210,s:13,l:50}},{value:"#708090",key:"slategrey",rgb:{r:112,g:128,b:144},hsl:{h:210,s:13,l:50}},{value:"#778899",key:"lightslategray",rgb:{r:119,g:136,b:153},hsl:{h:210,s:14,l:53}},{value:"#778899",key:"lightslategrey",rgb:{r:119,g:136,b:153},hsl:{h:210,s:14,l:53}},{value:"#B0C4DE",key:"lightsteelblue",rgb:{r:176,g:196,b:222},hsl:{h:214,s:41,l:78}},{value:"#6495ED",key:"cornflower",rgb:{r:100,g:149,b:237},hsl:{h:219,s:79,l:66}},{value:"#4169E1",key:"royalblue",rgb:{r:65,g:105,b:225},hsl:{h:225,s:73,l:57}},{value:"#191970",key:"midnightblue",rgb:{r:25,g:25,b:112},hsl:{h:240,s:64,l:27}},{value:"#E6E6FA",key:"lavender",rgb:{r:230,g:230,b:250},hsl:{h:240,s:67,l:94}},{value:"#000080",key:"navy",rgb:{r:0,g:0,b:128},hsl:{h:240,s:100,l:25}},{value:"#00008B",key:"darkblue",rgb:{r:0,g:0,b:139},hsl:{h:240,s:100,l:27}},{value:"#0000CD",key:"mediumblue",rgb:{r:0,g:0,b:205},hsl:{h:240,s:100,l:40}},{value:"#0000FF",key:"blue",rgb:{r:0,g:0,b:255},hsl:{h:240,s:100,l:50}},{value:"#F8F8FF",key:"ghostwhite",rgb:{r:248,g:248,b:255},hsl:{h:240,s:100,l:99}},{value:"#6A5ACD",key:"slateblue",rgb:{r:106,g:90,b:205},hsl:{h:248,s:53,l:58}},{value:"#483D8B",key:"darkslateblue",rgb:{r:72,g:61,b:139},hsl:{h:248,s:39,l:39}},{value:"#7B68EE",key:"mediumslateblue",rgb:{r:123,g:104,b:238},hsl:{h:249,s:80,l:67}},{value:"#9370DB",key:"mediumpurple",rgb:{r:147,g:112,b:219},hsl:{h:260,s:60,l:65}},{value:"#8A2BE2",key:"blueviolet",rgb:{r:138,g:43,b:226},hsl:{h:271,s:76,l:53}},{value:"#4B0082",key:"indigo",rgb:{r:75,g:0,b:130},hsl:{h:275,s:100,l:25}},{value:"#9932CC",key:"darkorchid",rgb:{r:153,g:50,b:204},hsl:{h:280,s:61,l:50}},{value:"#9400D3",key:"darkviolet",rgb:{r:148,g:0,b:211},hsl:{h:282,s:100,l:41}},{value:"#BA55D3",key:"mediumorchid",rgb:{r:186,g:85,b:211},hsl:{h:288,s:59,l:58}},{value:"#D8BFD8",key:"thistle",rgb:{r:216,g:191,b:216},hsl:{h:300,s:24,l:80}},{value:"#DDA0DD",key:"plum",rgb:{r:221,g:160,b:221},hsl:{h:300,s:47,l:75}},{value:"#EE82EE",key:"violet",rgb:{r:238,g:130,b:238},hsl:{h:300,s:76,l:72}},{value:"#800080",key:"purple",rgb:{r:128,g:0,b:128},hsl:{h:300,s:100,l:25}},{value:"#8B008B",key:"darkmagenta",rgb:{r:139,g:0,b:139},hsl:{h:300,s:100,l:27}},{value:"#FF00FF",key:"fuchsia",rgb:{r:255,g:0,b:255},hsl:{h:300,s:100,l:50}},{value:"#FF00FF",key:"magenta",rgb:{r:255,g:0,b:255},hsl:{h:300,s:100,l:50}},{value:"#DA70D6",key:"orchid",rgb:{r:218,g:112,b:214},hsl:{h:302,s:59,l:65}},{value:"#C71585",key:"mediumvioletred",rgb:{r:199,g:21,b:133},hsl:{h:322,s:81,l:43}},{value:"#FF1493",key:"deeppink",rgb:{r:255,g:20,b:147},hsl:{h:328,s:100,l:54}},{value:"#FF69B4",key:"hotpink",rgb:{r:255,g:105,b:180},hsl:{h:330,s:100,l:71}},{value:"#FFF0F5",key:"lavenderblush",rgb:{r:255,g:240,b:245},hsl:{h:340,s:100,l:97}},{value:"#DB7093",key:"palevioletred",rgb:{r:219,g:112,b:147},hsl:{h:340,s:60,l:65}},{value:"#DC143C",key:"crimson",rgb:{r:220,g:20,b:60},hsl:{h:348,s:83,l:47}},{value:"#FFC0CB",key:"pink",rgb:{r:255,g:192,b:203},hsl:{h:350,s:100,l:88}},{value:"#FFB6C1",key:"lightpink",rgb:{r:255,g:182,b:193},hsl:{h:351,s:100,l:86}}],ae={};function se(e,t,r){if(e<0)e+=1;else if(e>1)e-=1;if(e<1/6)return t+6*(r-t)*e;else if(e<.5)return r;else if(e<2/3)return t+(r-t)*(2/3-e)*6;return t}const le=e=>parseFloat(e)/(e.includes("%")?100:1),oe=e=>255*J(e);function ce(e){e=e.toLowerCase();const t=ie.length;let r=0;while(r<t){const t=ie[r++];if(t.key===e)return t}}function ue(e,t=1,r){if(e&&("transparent"!==e||r)){let n=ae[e];if(n)return n;let i,s="";if("#"===e.charAt(0))i=fe(e);else{let r=a.RGBA.exec(e);if(r)i={r:parseInt(r[1]),g:parseInt(r[2]),b:parseInt(r[3]),a:r[4]?255*le(r[4]):oe(t)};else if(r=a.HSLA.exec(e),r)i=de({h:parseInt(r[1]),s:parseInt(r[2]),l:parseInt(r[3]),a:J(r[4]?le(r[4]):t)});else switch(e){case"transparent":i={r:0,g:0,b:0,a:0},s="transparent";break;case"initial":i={r:0,g:0,b:0,a:255},s="black";break;default:{const r=ce(e);if(r)i=Object.assign(Object.assign({},r.rgb),{a:oe(t)}),s=e;break}}}if(i){const a=i.a;if(a>0||r){const r=he(i.r,i.g,i.b),l=he(a),o="#"+(r+l);if(ae[o])return ae[o];if(t=a/255,n={key:s,value:e="#"+r,valueAsRGBA:o,valueAsARGB:"#"+(l+r),rgba:i,hsl:ge(i),opacity:t,transparent:0===t},1===t)ae[e]=n;return ae[o]=n,n}}}}function he(...e){let t="",r=0;while(r<e.length){const n=Math.max(0,Math.min(e[r++],255));t+=isNaN(n)?"00":"0123456789ABCDEF".charAt((n-n%16)/16)+"0123456789ABCDEF".charAt(n%16)}return t}function fe(e){if(a.HEX.test(e)){let t=255;switch((e=e.substring(1)).length){case 4:t=parseInt(e.charAt(3).repeat(2),16);case 3:e=e.charAt(0).repeat(2)+e.charAt(1).repeat(2)+e.charAt(2).repeat(2);break;case 5:e+=e.charAt(4);break;default:if(e.length>=8)t=parseInt(e.substring(6,8),16);e=e.substring(0,6);break}if(6===e.length)return{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4),16),a:t}}}function ge(e){const t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n);let s=(a+i)/2;const l=s;let o;if(a===i)s=0,o=0;else{const e=a-i;switch(o=l>.5?e/(2-a-i):e/(a+i),a){case t:s=(r-n)/e+(r<n?6:0);break;case r:s=(n-t)/e+2;break;case n:s=(t-r)/e+4;break}s/=6}return{h:Math.round(360*s),s:Math.round(100*o),l:Math.round(100*l),a:e.a/255}}function de(e){let t,r,n,{h:i,s:a,l:s,a:l}=e;if(i/=360,a/=100,s/=100,0===a)t=s,r=s,n=s;else{const e=s<.5?s*(1+a):s+a-s*a,l=2*s-e;t=se(i+1/3,l,e),r=se(i,l,e),n=se(i-1/3,l,e)}return t=Math.round(255*Math.min(t,1)),r=Math.round(255*Math.min(r,1)),n=Math.round(255*Math.min(n,1)),l=Math.round(255*Math.min(l,1)),{r:t,g:r,b:n,a:l}}function pe(e){return`rgb${e.a<255?"a":""}(${e.r}, ${e.g}, ${e.b}`+(e.a<255?", "+(e.a/255).toPrecision(2):"")+")"}var be=Object.freeze({__proto__:null,findColorName:ce,findColorShade:function(e){const t=fe(e);if(t){const r=ge(t),n=[];let i=-1;const a=ie.length;let s=0;while(s<a){const t=ie[s++];if(t.value===e)return t;else if(-1!==i){if(i===t.hsl.h)n.push(t)}else if(r.h<=t.hsl.h)n.push(t),i=t.hsl.h}const l=n.length;if(1===l)return n[0];else if(l>1){const e=r.l+r.s;let t=1/0,i=-1;for(s=0;s<l;++s){const{l:r,s:a}=n[s].hsl,l=Math.abs(e-(r+a));if(l<t)t=l,i=s}return n[i]}else return ie[ie.length-1]}},parseColor:ue,reduceRGBA:function(e,t,r){if(r){const e=ae[r+="_"+t];if(e)return e}let{r:n,g:i,b:a}=e;if(0===n&&0===i&&0===a)if(n=255,i=255,a=255,t>0)t*=-1;const s=t<0?0:255;t=Math.abs(t);const l=ue(pe({r:(n+Math.round((s-n)*t))%255,g:(i+Math.round((s-i)*t))%255,b:(a+Math.round((s-a)*t))%255,a:e.a}));if(r)ae[r]=l;return l},getHexCode:he,convertHex:function(e){return"#"+he(e.r,e.g,e.b)+(e.a<255?he(e.a):"")},parseRGBA:fe,convertHSLA:ge,convertRGBA:de,formatRGBA:pe,formatHSLA:function(e){return`hsl${e.a<255?"a":""}(${e.h}, ${e.s}%, ${e.l}%`+(e.a<255?", "+(e.a/255).toPrecision(2):"")+")"}});const me=`(\\(\\s*(?:orientation:\\s*(?:portrait|landscape)|(?:max|min)-width:\\s*${n.LENGTH_PERCENTAGE})\\s*\\))`,ve=new RegExp(`^${n.LENGTH}$`),we=new RegExp(`^${n.PERCENT}$`),ye=new RegExp(`^${n.LENGTH_PERCENTAGE}$`),ke=new RegExp(`^${n.CSS_ANGLE}$`),xe=new RegExp(`^${n.CSS_TIME}$`),Ee=new RegExp(`^${n.CSS_CALC}$`),Se=new RegExp(n.CSS_CALC),Ae=new RegExp(`\\s*(?:(\\(\\s*)?${me}|(\\(\\s*))?\\s*(and|or|not)?\\s*(?:${me}(\\s*\\))?)?\\s*(.+)`),Ce=/\s+/,Re=/\s*,\s*/,Fe=/\s*\/\s*/;function Te(e,t,r){switch(e){case"<=":return t<=r;case"<":return t<r;case">=":return t>=r;case">":return t>r;default:return t===r}}function Le(e,t,r){const n=[];for(const e of z(w(t.trim(),"calc"),e=>e.trim()))if(e.includes(" ")&&!pt(e))n.push(...e.split(Ce));else n.push(e);const i=n.length;switch(i){case 1:case 2:return it(e,n.join(" "),{dimension:["width","height"],boundingBox:r,parent:false});case 3:case 4:{let t=0,a=0;for(let s=0;s<i;++s){const l=n[s];switch(l){case"top":case"bottom":if(2==++a)return"";break;case"center":if(4===i)return"";break;case"left":case"right":if(2==++t)return"";break;default:{let t;switch(n[s-1]){case"top":case"bottom":t="height";break;case"left":case"right":t="width";break;default:return""}if(pt(l)){const i=He(at(e,l,{dimension:t,boundingBox:r}));if(""!==i)n[s]=i;else return""}break}}}return n.join(" ")}}return""}function Ie(e,t){const r=w(t),n=r.length;if(n>1){for(let t=1;t<n;++t){const n=r[t].trim();if(yt(n)){const i=r[t-1].trim();if(Ve(i)){const a=Ue(n).split(Re),s=a.length;if(s>=3){const n=i.startsWith("hsl");for(let t=0;t<s;++t){const r=a[t];if(pt(r))if(n&&(1===t||2===t)){const n=at(e,r,{unitType:4,supportPercent:true});if(!isNaN(n))a[t]=J(n,0,100)+"%";else return""}else if(3===t){const n=r.includes("%");let i=at(e,r,n?{unitType:4}:{unitType:64});if(!isNaN(i)){if(n)i/=100;a[t]=J(i).toString()}else return""}else{const n=at(e,r,{unitType:64,supportPercent:false});if(!isNaN(n))a[t]=J(n,0,255).toString();else return""}}r[t]=`(${a.join(", ")})`;continue}}return""}}return r.join("")}return t}function Ne(e,t,r,n,i,a="width"){const s=w(t,"calc"),l=s.length;for(let t=0;t<l;++t){const l=s[t];if(pt(l)){const o=ve.test(l),c=at(e,l,o?{dimension:a,boundingBox:i,min:0,parent:false}:{unitType:r,min:n,supportPercent:false});if(!isNaN(c))s[t]=c+(o?"px":"");else return""}}return s.join("").trim()}function Pe(e){switch(e){case"vertical-lr":return 1;case"vertical-rl":return 2;default:return 0}}function Me(e){switch(e){case"none":case"initial":case"hidden":return false;default:return true}}function Be(e){return(Me(e.getPropertyValue("border-left-style"))?parseFloat(e.getPropertyValue("border-left-width")):0)+parseFloat(e.getPropertyValue("padding-left"))+parseFloat(e.getPropertyValue("padding-right"))+(Me(e.getPropertyValue("border-right-style"))?parseFloat(e.getPropertyValue("border-right-width")):0)}function _e(e){return(Me(e.getPropertyValue("border-top-style"))?parseFloat(e.getPropertyValue("border-top-width")):0)+parseFloat(e.getPropertyValue("padding-top"))+parseFloat(e.getPropertyValue("padding-bottom"))+(Me(e.getPropertyValue("border-bottom-style"))?parseFloat(e.getPropertyValue("border-bottom-width")):0)}function De(e=["left","top"]){return{static:true,top:0,left:0,right:0,bottom:0,topAsPercent:0,leftAsPercent:0,rightAsPercent:0,bottomAsPercent:0,horizontal:"left",vertical:"top",orientation:e}}function Oe(e,t){if(e)switch(t){case"+":case"-":if(k(e))return false;break;case"*":case"/":if(!k(e))return false;break}return true}function ze(e,t){if(e)switch(t){case"+":case"-":return false}return true}const $e=e=>(null==e?void 0:e.width)||window.innerWidth,We=e=>(null==e?void 0:e.height)||window.innerHeight,je=(e,t,r,n)=>wt(e)?Math.round(b(e)/100*t):ct(e,r,n),Ge=(e,t,r,n)=>wt(e)?parseFloat(e)/100:ct(e,r,n)/t,Ve=e=>/(rgb|hsl)a?/.test(e),He=e=>!isNaN(e)?e+"px":"",Xe=e=>!isNaN(e)?e.toString():"",Ue=e=>e.substring(1,e.length-1),Ye=e=>/^\*(\s+\*){0,2}$/.test(e)?"*":e.replace(/^(\*\s+){1,2}/,"");function qe(e,t=""){if(e){const r=e["__style"+t];if(r)return r;if(Ke(e)){const r=getComputedStyle(e,t);return e["__style"+t]=r,r}return{position:"static",display:"inline"}}return{position:"static",display:"none"}}function Ze(e){if("#"===e.nodeName.charAt(0))e=e.parentElement||document.documentElement;return parseFloat(qe(e).getPropertyValue("font-size"))}function Ke(e){return"#"!==e.nodeName.charAt(0)&&(e instanceof HTMLElement||e instanceof SVGElement)}function Qe(e,t){switch(e){case"inlineSize":return 0===Pe(t)?"width":"height";case"blockSize":return 0===Pe(t)?"height":"width";case"maxInlineSize":return 0===Pe(t)?"maxWidth":"maxHeight";case"maxBlockSize":return 0===Pe(t)?"maxHeight":"maxWidth";case"minInlineSize":return 0===Pe(t)?"minWidth":"minHeight";case"minBlockSize":return 0===Pe(t)?"minHeight":"minWidth";case"borderInlineStart":return 0===Pe(t)?"borderLeft":"borderTop";case"borderInlineEnd":return 0===Pe(t)?"borderRight":"borderBottom";case"borderInlineStartWidth":return 0===Pe(t)?"borderLeftWidth":"borderTopWidth";case"borderInlineEndWidth":return 0===Pe(t)?"borderRightWidth":"borderBottomWidth";case"insetInlineStart":return 0===Pe(t)?"left":"top";case"insetInlineEnd":return 0===Pe(t)?"right":"bottom";case"marginInlineStart":return 0===Pe(t)?"marginLeft":"marginTop";case"marginInlineEnd":return 0===Pe(t)?"marginRight":"marginBottom";case"paddingInlineStart":return 0===Pe(t)?"paddingLeft":"paddingTop";case"paddingInlineEnd":return 0===Pe(t)?"paddingRight":"paddingBottom";case"scrollMarginInlineStart":return 0===Pe(t)?"scrollMarginLeft":"scrollMarginTop";case"scrollMarginInlineEnd":return 0===Pe(t)?"scrollMarginRight":"scrollMarginBottom";case"scrollPaddingInlineStart":return 0===Pe(t)?"scrollPaddingLeft":"scrollPaddingTop";case"scrollPaddingInlineEnd":return 0===Pe(t)?"scrollPaddingRight":"scrollPaddingBottom";case"borderBlockStart":switch(Pe(t)){case 0:return"borderTop";case 1:return"borderLeft";case 2:return"borderRight"}case"borderBlockEnd":switch(Pe(t)){case 0:return"borderBottom";case 1:return"borderRight";case 2:return"borderLeft"}case"borderBlockStartWidth":switch(Pe(t)){case 0:return"borderTopWidth";case 1:return"borderLeftWidth";case 2:return"borderRightWidth"}case"borderBlockEndWidth":switch(Pe(t)){case 0:return"borderBottomWidth";case 1:return"borderRightWidth";case 2:return"borderLeftWidth"}case"insetBlockStart":switch(Pe(t)){case 0:return"top";case 1:return"left";case 2:return"right"}case"insetBlockEnd":switch(Pe(t)){case 0:return"bottom";case 1:return"right";case 2:return"left"}case"marginBlockStart":switch(Pe(t)){case 0:return"marginTop";case 1:return"marginLeft";case 2:return"marginRight"}case"marginBlockEnd":switch(Pe(t)){case 0:return"marginBottom";case 1:return"marginRight";case 2:return"marginLeft"}case"paddingBlockStart":switch(Pe(t)){case 0:return"paddingTop";case 1:return"paddingLeft";case 2:return"paddingRight"}case"paddingBlockEnd":switch(Pe(t)){case 0:return"paddingBottom";case 1:return"paddingRight";case 2:return"paddingLeft"}case"scrollMarginBlockStart":switch(Pe(t)){case 0:return"scrollMarginTop";case 1:return"scrollMarginLeft";case 2:return"scrollMarginRight"}case"scrollMarginBlockEnd":switch(Pe(t)){case 0:return"scrollMarginBottom";case 1:return"scrollMarginRight";case 2:return"scrollMarginLeft"}case"scrollPaddingBlockStart":switch(Pe(t)){case 0:return"scrollPaddingTop";case 1:return"scrollPaddingLeft";case 2:return"scrollPaddingRight"}case"scrollPaddingBlockEnd":switch(Pe(t)){case 0:return"scrollPaddingBottom";case 1:return"scrollPaddingRight";case 2:return"scrollPaddingLeft"}}return""}function Je(e,t,r,n){switch(t){case"left":case"right":case"textIndent":return He(at(e,r,{dimension:"width",boundingBox:n}));case"columnWidth":case"marginBottom":case"marginLeft":case"marginRight":case"marginTop":case"maxWidth":case"minWidth":case"paddingBottom":case"paddingLeft":case"paddingRight":case"paddingTop":case"scrollMarginBottom":case"scrollMarginLeft":case"scrollMarginRight":case"scrollMarginTop":case"scrollPaddingBottom":case"scrollPaddingLeft":case"scrollPaddingRight":case"scrollPaddingTop":case"width":return He(at(e,r,{dimension:"width",boundingBox:n,min:0}));case"columnGap":case"gridColumnGap":case"shapeMargin":return He(at(e,r,{dimension:"width",boundingBox:n,min:0,parent:false}));case"bottom":case"top":case"verticalAlign":return He(at(e,r,{dimension:"height",boundingBox:n}));case"height":case"maxHeight":case"minHeight":return He(at(e,r,{dimension:"height",boundingBox:n,min:0}));case"gridRowGap":case"rowGap":return He(at(e,r,{dimension:"height",boundingBox:n,min:0,parent:false}));case"flexBasis":{const t=e.parentElement;return He(at(e,r,{dimension:!!t&&qe(t).flexDirection.includes("column")?"height":"width",boundingBox:n,min:0}))}case"borderBottomWidth":case"borderLeftWidth":case"borderRightWidth":case"borderTopWidth":case"columnRuleWidth":case"letterSpacing":case"outlineOffset":case"outlineWidth":case"perspective":case"wordSpacing":return He(at(e,r,{min:0,supportPercent:false}));case"offsetDistance":{let t=0;if(r.includes("%")){const r=qe(e).getPropertyValue("offset-path");if("none"!==r){const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",r),t=e.getTotalLength()}}return He(at(e,r,{boundingSize:t}))}case"lineHeight":return He(at(e,r,{boundingSize:Ze(e),min:0}));case"fontSize":return He(at(e,r,{boundingSize:Ze(e.parentElement||document.documentElement),min:0}));case"margin":return it(e,r,{dimension:"width",boundingBox:n});case"borderBottomLeftRadius":case"borderBottomRightRadius":case"borderTopLeftRadius":case"borderTopRightRadius":case"borderRadius":case"padding":case"scrollMargin":case"scrollMarginBlock":case"scrollMarginInline":case"scrollPadding":case"scrollPaddingBlock":case"scrollPaddingInline":return it(e,r,{dimension:"width",boundingBox:n,min:0});case"objectPosition":return it(e,r,{dimension:["width","height"],boundingBox:n});case"gap":case"gridGap":case"perspectiveOrigin":return it(e,r,{dimension:["width","height"],boundingBox:n,min:"perspectiveOrigin"===t?void 0:0,parent:false});case"borderImageOutset":case"borderImageWidth":return it(e,r,{dimension:["height","width","height","width"],boundingBox:n,min:0,parent:false});case"borderWidth":case"borderSpacing":return it(e,r,{min:0,supportPercent:false});case"gridAutoColumns":case"gridTemplateColumns":return Ne(e,r,32,1,n);case"gridAutoRows":case"gridTemplateRows":return Ne(e,r,32,1,n,"height");case"zIndex":return Xe(at(e,r,{unitType:32}));case"tabSize":return Xe(at(e,r,{unitType:32,min:0}));case"columnCount":case"fontWeight":case"widows":return Xe(at(e,r,{unitType:32,min:1}));case"gridRow":case"gridRowEnd":case"gridRowStart":case"gridColumn":case"gridColumnEnd":case"gridColumnStart":case"counterIncrement":case"counterReset":return it(e,r,{unitType:32});case"gridArea":return it(e,r,{unitType:32,min:1});case"flexGrow":case"flexShrink":return Xe(at(e,r,{unitType:64,min:0}));case"animationIterationCount":case"fontSizeAdjust":return Xe(at(e,r,{unitType:64,min:0,supportPercent:false}));case"opacity":case"shapeImageThreshold":{const t=r.includes("%"),n=at(e,r,{unitType:t?4:64});return!isNaN(n)?J(n/(t?100:1)).toString():""}case"fontStretch":return it(e,r,{unitType:4,min:0,supportPercent:true});case"fontStyle":case"offsetRotate":return it(e,r,{unitType:16,supportPercent:false});case"offsetAnchor":case"transformOrigin":return Le(e,r,n);case"transform":{const t=w(r=r.trim()),i=t.length;if(i>1){for(let r=1;r<i;++r){let i=t[r];if(yt(i)){let a;switch(i=Ue(i),t[r-1].trim()){case"matrix":case"matrix3d":a=it(e,i,{unitType:64,supportPercent:false});break;case"scaleX":case"scaleY":case"scaleZ":{const t=at(e,i,{unitType:64,min:0,supportPercent:false});if(!isNaN(t))a=t.toString();break}case"scale":case"scale3d":a=it(e,i,{unitType:64,min:0,supportPercent:false});break;case"translateX":a=He(at(e,i,{dimension:"width",boundingBox:n,parent:true}));break;case"translateY":a=He(at(e,i,{dimension:"height",boundingBox:n,parent:true}));break;case"translateZ":case"perspective":a=He(at(e,i,{supportPercent:false}));break;case"translate":case"translate3d":a=it(e,i,{dimension:["width","height"],boundingBox:n,parent:true});break;case"skew":case"rotate":a=it(e,i,{unitType:16,supportPercent:false});break;case"skewX":case"skewY":case"rotateX":case"rotateY":case"rotateZ":{const t=at(e,i,{unitType:16,supportPercent:false});if(!isNaN(t))a=t+"deg";break}case"rotate3d":{const t=i.split(Re),r=t.length;if(3===r||4===r){a="";for(let n=0;n<r;++n){let r=t[n];if(pt(r)){const t=at(e,r,{unitType:3===n?16:64,supportPercent:false});if(!isNaN(t))r=t+(3===n?"deg":"");else return""}a+=(""!==a?", ":"")+r}}break}}if(a)t[r]=`(${a})`;else return""}}return t.join("")}return r}case"backgroundImage":case"borderImageSource":{const t=w(r=r.trim()),n=t.length;if(n>1){for(let r=1;r<n;++r){const n=t[r];if(Ve(n)&&yt(n)){const i=w(Ue(n)),a=i.length;for(let t=1;t<a;++t)if(yt(i[t])){const r=i[t-1];if(Ve(r)){const n=r.split(Ce).pop(),a=Ie(e,n+i[t]);if(""!==a){i[t]=a.replace(n,"");continue}}return""}t[r]=`(${i.join("")})`}}return t.join("")}return r}case"borderColor":case"scrollbarColor":{const t=w(r=r.trim()),n=t.length;if(n>1){for(let r=1;r<n;++r){const n=t[r-1];if(Ve(n)&&yt(t[r])){const i=n.split(Ce).pop(),a=Ie(e,i+t[r]);if(""!==a)t[r]=a,t[r-1]=n.substring(0,n.length-i.length);else return""}}return t.join("")}return r}case"boxShadow":case"textShadow":return it(e,Je(e,"borderColor",r),{supportPercent:false,errorString:/-?[\d.]+[a-z]*\s+-?[\d.]+[a-z]*(\s+-[\d.]+[a-z]*)/});case"backgroundSize":case"animation":case"animationDelay":case"animationDuration":case"transition":case"transitionDelay":case"transitionDuration":return it(e,r,{unitType:8,min:0,precision:0,separator:","});case"fontFeatureSettings":case"fontVariantCaps":case"fontVariantEastAsian":case"fontVariantLigatures":case"fontVariantNumeric":case"fontVariationSettings":return it(e,r,{unitType:32,min:0,separator:","});case"columns":return Ne(e,r,32,1,n);case"borderImageSlice":case"flex":case"font":return Ne(e,r,64,0,n);case"backgroundPosition":{const t=[];for(const i of r.split(Re)){const r=Le(e,i,n);if(""!==r)t.push(r);else return""}return t.join(", ")}case"border":case"borderBottom":case"borderLeft":case"borderRight":case"borderTop":case"columnRule":case"outline":{const t=w(r=r.trim()),n=t.length;if(n>1){for(let r=1;r<n;++r){const n=t[r-1],i=n.split(Ce).pop();let a;if("calc"===i)a=He(at(e,i+t[r],{min:0,supportPercent:false}));else if(Ve(i))a=Ie(e,i+t[r]);else continue;if(""!==a)t[r]=a,t[r-1]=n.substring(0,n.length-i.length);else return""}return t.join("")}return r}case"animationTimingFunction":case"transitionTimingFunction":{const t=w(r=r.trim()),n=t.length;if(n>1){for(let r=1;r<n;++r){let n=t[r];if(yt(n)){const i=t[r-1].trim();let a;if(n=Ue(n),i.endsWith("cubic-bezier")){const t=n.split(Re),r=t.length;if(4===r){a="";const n={unitType:64,supportPercent:false};for(let i=0;i<r;++i){let r=t[i];if(pt(r)){if(i%2==0)n.min=0,n.max=1;else n.min=void 0,n.max=void 0;const t=at(e,r,n);if(!isNaN(t))r=t.toString();else return""}a+=(""!==a?", ":"")+r}}}else if(i.endsWith("steps"))a=it(e,n,{unitType:32,min:1});if(a)t[r]=`(${a})`;else return""}}return t.join("")}return r}case"clip":return kt(qe(e).position)?it(e,r,{supportPercent:false}):"";case"clipPath":case"offsetPath":case"shapeOutside":{const t=w(r=r.trim());if(2===t.length){const i=t[0].trim();let a=Ue(t[1].trim());switch(i){case"url":case"path":return!yt(t[1])?r:"";case"linear-gradient":case"radial-gradient":case"conic-gradient":case"repeating-linear-gradient":case"repeating-radial-gradient":return Je(e,"backgroundImage",r,n);case"circle":case"ellipse":{const t=[];let[r,s]=a.split(/\s+at\s+/);if(yt(r)){const a={boundingBox:n,min:0,parent:true};if("circle"===i){if(r.includes("%")){const{width:t,height:r}=n||st(e.parentElement);if(t>0&&r>0)a.boundingSize=Math.min(t,r);else return""}}else a.dimension=["width","height"];if(r=it(e,r,a),""!==r)t.push(r);else return""}else if(r)t.push(r);if(yt(s))if(s=it(e,s,{dimension:["width","height"],boundingBox:n,parent:true}),""!==s)t.push(s);else return"";else if(s)t.push(s);a=t.join(" at ");break}case"inset":a=it(e,a,{dimension:["height","width","height","width","width"],boundingBox:n,checkUnit:true});break;case"polygon":{const t=[];for(let r of a.split(Re))if(yt(r))if(r=it(e,r,{dimension:["width","height"],boundingBox:n,parent:true}),""!==r)t.push(r);else return"";else t.push(r);a=t.join(", ");break}default:return r}if(""!==a)return`${i}(${a})`}return r}case"grid":{let[t,i]=r.trim().split(Fe);if(yt(t)){const r=Je(e,"gridTemplateRows",t,n);if(""!==r)t=r;else return""}if(yt(i)){const t=Je(e,"gridTemplateColumns",i,n);if(""!==t)i=t;else return""}return t+(i?" / "+i:"")}case"offset":{let[t,i]=r.trim().split(Fe);if(yt(t)){const r=w(t.trim()),i=r.length;if(i>=2){if(t=r[0]+r[1],yt(t))if(t=Je(e,"offsetPath",t,n),""===t)return"";if(i>2){let i=r.slice(2).join("");if(yt(t))if(i=Je(e,ve.test(i)?"offsetDistance":"offsetRotate",i,n),""===i)return"";t+=" "+i}}else return""}if(yt(i)){const t=Je(e,"offsetAnchor",i,n);if(""!==t)i=t;else return""}return t+(i?" / "+i:"")}case"borderImage":{const t=/([a-z-]+\(.+?\))\s*([^/]+)(?:\s*\/\s*)?(.+)?/.exec(r.trim());if(t){let r=t[2].trim();if(yt(r))r=Je(e,"borderImageSlice",r,n);if(""!==r){let i,a;if(t[3]){if([i,a]=t[3].trim().split(Fe),yt(i)){const t=Je(e,"borderImageWidth",i,n);if(""!==t)i=t;else return""}if(yt(a)){const t=Je(e,"borderImageOutset",a,n);if(""!==t)a=t;else return""}}return t[1]+" "+r+(i?" / "+i:"")+(a?" / "+a:"")}}return""}case"background":case"gridTemplate":return qe(e)[t];default:if(t.endsWith("Color"))return Ie(e,r.trim());else{const i=Qe(t,qe(e).writingMode);if(""!==i)return Je(e,i,r,n)}}return""}function et(e){const t={},r=e.length;let n=0;while(n<r){const r=e[n++],i=/((?:\d+%\s*,?\s*)+|from|to)\s*{\s*(.+?)\s*}/.exec(r.cssText);if(i){const e=(r.keyText||i[1]).trim().split(Re),n=e.length;let a=0;while(a<n){let r=e[a++];switch(r){case"from":r="0%";break;case"to":r="100%";break}const n={};for(const e of i[2].split(/\s*;\s*/)){const t=e.indexOf(":");if(-1!==t){const r=e.substring(t+1).trim();if(""!==r){n[e.substring(0,t).trim()]=r}}}t[r]=n}}}return t}function tt(e,t){switch(e.trim()){case"all":case"screen":case"only all":case"only screen":return true;default:{const r=/(?:(not|only)?\s*(?:all|screen)\s+and\s+)?((?:\([^)]+\)(?:\s+and\s+)?)+),?\s*/g;let n;while(n=r.exec(e)){const e=/\(([a-z-]+)\s*(:|<?=?|=?>?)?\s*([\w.%]+)?\)(?:\s+and\s+)?/g,r="not"===n[1];let i,a=false;while(i=e.exec(n[2])){const e=i[1];let r=i[2];const n=i[3];if(e.startsWith("min"))r=">=";else if(e.startsWith("max"))r="<=";switch(e){case"aspect-ratio":case"min-aspect-ratio":case"max-aspect-ratio":if(n){const[e,t]=z(n.split("/"),e=>parseInt(e));a=Te(r,window.innerWidth/window.innerHeight,e/t)}else a=false;break;case"width":case"min-width":case"max-width":case"height":case"min-height":case"max-height":a=Te(r,e.endsWith("width")?window.innerWidth:window.innerHeight,ct(n,t));break;case"orientation":a="portrait"===n&&window.innerWidth<=window.innerHeight||"landscape"===n&&window.innerWidth>window.innerHeight;break;case"resolution":case"min-resolution":case"max-resolution":if(n){let e=parseFloat(n);if(n.endsWith("dpcm"))e*=2.54;else if(n.endsWith("dppx"))e*=96;a=Te(r,G(),e)}else a=false;break;case"grid":a="0"===n;break;case"color":a=void 0===n||parseInt(n)>0;break;case"min-color":a=parseInt(n)<=screen.colorDepth/3;break;case"max-color":a=parseInt(n)>=screen.colorDepth/3;break;case"color-index":case"min-color-index":case"monochrome":case"min-monochrome":a="0"===n;break;case"max-color-index":case"max-monochrome":a=parseInt(n)>=0;break;default:a=false;break}if(!a)break}if(!r&&a||r&&!a)return true}}}return false}function rt(e,t,r,...n){let i="",a=e.parentElement;while(a&&!n.includes(a.tagName)){if(i=qe(a)[t],"inherit"===i||(null==r?void 0:r.test(i)))i="";else if(i)break;a=a.parentElement}return i}function nt(e,t){const r=qe(e),n=/var\((--[A-Za-z\d-]+)\s*(?!,\s*var\()(?:,\s*([a-z-]+\([^)]+\)|[^)]+))?\)/;let i;while(i=n.exec(t)){let e=r.getPropertyValue(i[1]).trim();const n=i[2];if(n&&(""===e||dt(n,true)&&!dt(e,true)||k(n)&&!k(e)||ue(n)&&!ue(e)))e=n;if(e)t=t.replace(i[0],e).trim();else return""}return t}function it(e,t,r){let n,i,a,s,l,o;const c={};if(r){if(Object.assign(c,r),Array.isArray(r.orderedSize))n=r.orderedSize;if(Array.isArray(r.dimension))i=r.dimension;({separator:a,unitType:s,checkUnit:l,errorString:o}=r)}let u;switch(t=t.trim(),s){case 32:case 64:u="";break;case 4:u="%";break;case 8:u="ms";break;case 16:u="deg";break;default:u="px",s=2;break}const h=[];for(let r of a?t.split(a):[t])if(r=r.trim(),""!==r){const t=w(r,"calc"),a=t.length;if(a){let r="",o=0,f=0;while(o<a){let a=t[o++];if(pt(a)){if(void 0!==(null==n?void 0:n[f]))c.boundingSize=n[f++];else if(i)c.dimension=i[f++],c.boundingSize=void 0;else if(n)c.boundingSize=void 0;const t=at(e,a,c);if(!isNaN(t))r+=t+u;else return""}else if(r+=a,i)if(a=a.trim(),""!==a&&(!l||2===s&&(dt(a,true)||"auto"===a)))++f}h.push(r)}else return""}if(t=1===h.length?h[0]:h.join(" "===a?" ":a?a+" ":""),o){let e;while(e=o.exec(t)){if(void 0===e[1])return"";const r=e[0];let n=r;let i=e.length-1;while(i>=1)n=n.replace(new RegExp(e[i--]+"$"),"");if(n===r)return"";else t=t.replace(r,n)}}return t}function at(e,t,r={}){const n=nt(e,t);if(n){if(t.includes("%")){if(false===r.supportPercent||32===r.unitType)return NaN;else if(void 0===r.boundingSize){const{dimension:t,boundingBox:n}=r;if(t)if(n)r.boundingSize=n[t];else{let n,i=0;if(false===r.parent)n=e;else if(n=e.parentElement,n instanceof HTMLElement){let r;if(kt(qe(e).position))do{if(r=qe(n),n===document.body)break;switch(r.position){case"static":case"initial":case"unset":n=n.parentElement;continue}break}while(n);else r=qe(n);if(r)i="width"===t?Be(r):_e(r)}else if(e instanceof SVGElement){if(true!==r.parent)n=e}else n=null;if(n)r.boundingSize=Math.max(0,n.getBoundingClientRect()[t]-i)}}}else if(r.supportPercent)return NaN;if((!r.unitType||2===r.unitType)&&/\d(em|ch)/.test(t)&&void 0===r.fontSize)r.fontSize=Ze(e);let i=ot(n,r);if(void 0!==r.precision)i=0===r.precision?Math.floor(i):parseFloat(Y(i,r.precision));else if(r.roundValue)i=Math.round(i);return i}return NaN}function st(e){let t=0,r=0;if(e){const n=qe(e);({width:t,height:r}=e.getBoundingClientRect()),t=Math.max(0,t-Be(n)),r=Math.max(0,r-_e(n))}return{width:t,height:r}}function lt(e){const t=a.URL.exec(e);return t?F(t[1].trim(),'"').trim():void 0}function ot(e,t){if(""===(e=e.trim()))return NaN;let r=e.length;if("("!==e.charAt(0)||")"!==e.charAt(r-1))e=`(${e})`,r+=2;let n=0;const i=[],a=[];for(let t=0;t<r;++t)switch(e.charAt(t)){case"(":++n,i[t]=true;break;case")":a.push(t);break}if(n===a.length){const r=[];let n=0;while(true)for(let s=0;s<a.length;++s){let l=false,o=a[s]-1;for(;o>=0;o--)if(i[o]){l=true,i[o]=false;break}else if(a.includes(o))break;if(l){let i,l,c,u,h;if(t)({boundingSize:i,min:l,max:c,unitType:u,fontSize:h}=t);let f,g,d=false;const p=[],b=[],m=e.substring(o+1,a[s]).split(/\s+([+-]\s+|\s*[*/])\s*/),v=m.length;let w=0;while(w<v){const e=m[w++].trim();switch(e){case"+":case"-":case"*":case"/":b.push(e),g=e;break;default:{const t=/\s*{(\d+)}\s*/.exec(e);if(t){switch(u){case 32:case 64:break;default:if(!Oe(f,g))return NaN;break}const e=r[parseInt(t[1])];p.push(e),f=e.toString(),d=true}else{switch(u){case 4:if(k(e)){if(!ze(f,g))return NaN;p.push(parseFloat(e))}else if(wt(e)){if(!Oe(f,g))return NaN;p.push(parseFloat(e)),d=true}else return NaN;break;case 8:if(k(e)){if(!ze(f,g))return NaN;p.push(parseFloat(e))}else if(vt(e)){if(!Oe(f,g))return NaN;p.push(ft(e)),d=true}else return NaN;break;case 16:if(k(e)){if(!ze(f,g))return NaN;p.push(parseFloat(e))}else if(mt(e)){if(!Oe(f,g))return NaN;const t=ut(e);if(!isNaN(t))p.push(),d=true;else return NaN}else return NaN;break;case 32:if(/^\s*-?\d+\s*$/.test(e))p.push(parseInt(e)),d=true;else return NaN;break;case 64:if(k(e))p.push(parseFloat(e)),d=true;else if(wt(e)&&void 0!==i&&!isNaN(i))p.push(parseFloat(e)/100*i);else return NaN;break;default:if(k(e)){if(!ze(f,g))return NaN;p.push(parseFloat(e))}else if(dt(e)){if(!Oe(f,g))return NaN;p.push(ct(e,h)),d=true}else if(wt(e)&&void 0!==i&&!isNaN(i)){if(!Oe(f,g))return NaN;p.push(parseFloat(e)/100*i),d=true}else return NaN;break}f=e}break}}}if(!d||p.length!==b.length+1)return NaN;for(w=0;w<b.length;++w)if("/"===b[w])if(0!==Math.abs(p[w+1]))p.splice(w,2,p[w]/p[w+1]),b.splice(w--,1);else return NaN;for(w=0;w<b.length;++w)if("*"===b[w])p.splice(w,2,p[w]*p[w+1]),b.splice(w--,1);for(w=0;w<b.length;++w)p.splice(w,2,p[w]+p[w+1]*("-"===b[w]?-1:1)),b.splice(w--,1);if(1===p.length)if(1===a.length){const e=p[0];if(void 0!==l&&e<l||void 0!==c&&e>c)return NaN;else return q(e)}else{r[n]=p[0];const t=`{${n++}}`,i=a[s]+1;e=e.substring(0,o)+t+" ".repeat(i-(o+t.length))+e.substring(i),a.splice(s--,1)}else return NaN}}}return NaN}function ct(e,t,r){const n=ve.exec(e);if(n){let e=parseFloat(n[1]);switch(n[2]){case"px":return e;case"ex":e/=2;case"em":case"ch":return e*(null!=t?t:Ze(document.documentElement));case"rem":return e*Ze(document.documentElement);case"pc":e*=12;case"pt":return 4*e/3;case"Q":e/=4;case"mm":e/=10;case"cm":e/=2.54;case"in":return e*G();case"vw":return e*$e(r)/100;case"vh":return e*We(r)/100;case"vmin":return e*Math.min($e(r),We(r))/100;case"vmax":return e*Math.max($e(r),We(r))/100}}return 0}function ut(e,t=NaN){const r=ke.exec(e);return r?ht(r[1],r[2]):t}function ht(e,t="deg",r=NaN){let n=b(e);if(isNaN(n))return r;switch(t){case"rad":n*=180/Math.PI;break;case"grad":n/=400;case"turn":n*=360;break}return n}function ft(e){const t=xe.exec(e);if(t)switch(t[2]){case"ms":return parseInt(t[1]);case"s":return 1e3*parseFloat(t[1])}return 0}function gt(e,t){if("string"==typeof e)if(e=parseFloat(e),isNaN(e))return"0%";return e*=100,(t?Math.round(e):e)+"%"}function dt(e,t){return!t?ve.test(e):ye.test(e)}function pt(e){return Ee.test(e)}function bt(e){return/^\s*var\(.+\)\s*$/.test(e)}function mt(e){return ke.test(e)}function vt(e){return xe.test(e)}function wt(e){return we.test(e)}function yt(e){return Se.test(e)}function kt(e){return"absolute"===e||"fixed"===e}var xt=Object.freeze({__proto__:null,CSS_PROPERTIES:{alignContent:{trait:16,value:"normal"},alignItems:{trait:16,value:"normal"},alignSelf:{trait:16,value:"auto"},animation:{trait:6,value:["animationDuration","animationTimingFunction","animationDelay","animationIterationCount","animationDirection","animationFillMode","animationPlayState","animationName"]},animationDelay:{trait:2,value:"0s"},animationDirection:{trait:0,value:"normal"},animationDuration:{trait:2,value:"0s"},animationFillMode:{trait:0,value:"none"},animationIterationCount:{trait:2,value:"1"},animationName:{trait:0,value:"none"},animationPlayState:{trait:0,value:"running"},animationTimingFunction:{trait:0,value:"ease"},backfaceVisibility:{trait:0,value:"visible"},background:{trait:6,value:["backgroundImage","backgroundPositionX","backgroundPositionY","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"]},backgroundAttachment:{trait:0,value:"scroll"},backgroundClip:{trait:0,value:"border-box"},backgroundColor:{trait:2,value:"rgba(0, 0, 0, 0)"},backgroundImage:{trait:2,value:"none"},backgroundOrigin:{trait:0,value:"padding-box"},backgroundPosition:{trait:6,value:["backgroundPositionX","backgroundPositionY"]},backgroundPositionX:{trait:2,value:"0%"},backgroundPositionY:{trait:2,value:"0%"},backgroundRepeat:{trait:0,value:"repeat"},backgroundSize:{trait:2,value:"auto"},border:{trait:14,value:["borderTopWidth","borderTopStyle","borderTopColor","borderRightWidth","borderRightStyle","borderRightColor","borderBottomWidth","borderBottomStyle","borderBottomColor","borderLeftWidth","borderLeftStyle","borderLeftColor"]},borderBottom:{trait:6,value:["borderBottomWidth","borderBottomStyle","borderBottomColor"]},borderBottomColor:{trait:34,value:""},borderBottomLeftRadius:{trait:2,value:"0"},borderBottomRightRadius:{trait:2,value:"0"},borderBottomStyle:{trait:0,value:"none"},borderBottomWidth:{trait:10,value:"0"},borderCollapse:{trait:8,value:"separate"},borderColor:{trait:6,value:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"]},borderImage:{trait:6,value:["borderImageSource","borderImageSlice","borderImageWidth","borderImageOutset","borderImageRepeat"]},borderImageOutset:{trait:2,value:"0"},borderImageRepeat:{trait:0,value:"stretch"},borderImageSlice:{trait:2,value:"100%"},borderImageSource:{trait:2,value:"none"},borderImageWidth:{trait:2,value:"1"},borderLeft:{trait:6,value:["borderLeftWidth","borderLeftStyle","borderLeftColor"]},borderLeftColor:{trait:34,value:""},borderLeftStyle:{trait:0,value:"none"},borderLeftWidth:{trait:10,value:"0"},borderRadius:{trait:6,value:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"]},borderRight:{trait:6,value:["borderRightWidth","borderRightStyle","borderRightColor"]},borderRightColor:{trait:34,value:""},borderRightStyle:{trait:0,value:"none"},borderRightWidth:{trait:10,value:"0"},borderSpacing:{trait:2,value:"0"},borderStyle:{trait:4,value:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"]},borderTop:{trait:6,value:["borderTopWidth","borderTopStyle","borderTopColor"]},borderTopColor:{trait:34,value:""},borderTopLeftRadius:{trait:2,value:"0"},borderTopRightRadius:{trait:2,value:"0"},borderTopStyle:{trait:0,value:"none"},borderTopWidth:{trait:10,value:"0"},borderWidth:{trait:14,value:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"]},bottom:{trait:10,value:"auto"},boxShadow:{trait:10,value:"none"},boxSizing:{trait:8,value:"content-box"},captionSide:{trait:0,value:"top"},clear:{trait:8,value:"none"},clip:{trait:66,value:"clip"},clipPath:{trait:2,value:"none"},color:{trait:34,value:""},columnCount:{trait:2,value:"auto"},columnFill:{trait:0,value:"balance"},columnGap:{trait:2,value:"normal"},columnRule:{trait:6,value:["columRuleWidth","columnRuleStyle","columnRuleColor"]},columnRuleColor:{trait:34,value:""},columnRuleStyle:{trait:0,value:"none"},columnRuleWidth:{trait:2,value:"0"},columnSpan:{trait:0,value:"none"},columnWidth:{trait:2,value:"auto"},columns:{trait:6,value:["columnCount","columnWidth"]},content:{trait:0,value:"normal"},counterIncrement:{trait:2,value:"none"},counterReset:{trait:2,value:"none"},cursor:{trait:0,value:"auto"},direction:{trait:8,value:"ltr"},display:{trait:8,value:"inline"},emptyCells:{trait:0,value:"show"},flex:{trait:6,value:["flexGrow","flexShrink","flexBasis"]},flexBasis:{trait:10,value:"auto"},flexDirection:{trait:8,value:"row"},flexFlow:{trait:12,value:["flexDirection","flexWrap"]},flexGrow:{trait:10,value:"0"},flexShrink:{trait:10,value:"1"},flexWrap:{trait:8,value:"nowrap"},float:{trait:8,value:"none"},font:{trait:14,value:["fontStyle","fontVariant","fontWeight","fontStretch","fontSize","lineHeight","fontFamily"]},fontFamily:{trait:8,value:""},fontFeatureSettings:{trait:10,value:"normal"},fontKerning:{trait:8,value:"auto"},fontSize:{trait:10,value:"medium"},fontSizeAdjust:{trait:10,value:"none"},fontStretch:{trait:10,value:"normal"},fontStyle:{trait:10,value:"normal"},fontVariant:{trait:14,value:["fontVariantCaps","fontVariantLigatures","fontVariantNumeric","fontVariantEastAsian"]},fontVariantCaps:{trait:10,value:"normal"},fontVariantEastAsian:{trait:10,value:"normal"},fontVariantLigatures:{trait:10,value:"normal"},fontVariantNumeric:{trait:10,value:"normal"},fontVariationSettings:{trait:10,value:"normal"},fontWeight:{trait:10,value:"normal"},gap:{trait:14,value:["rowGap","columnGap"]},grid:{trait:14,value:["gridTemplateRows","gridAutoColumns","gridTemplateColumns","gridAutoRows","gridTemplateAreas","gridAutoFlow","gridRowGap","gridColumnGap"]},gridArea:{trait:14,value:["gridRowStart","gridColumnStart","gridRowEnd","gridColumnEnd"]},gridAutoColumns:{trait:10,value:"auto"},gridAutoFlow:{trait:8,value:"row"},gridAutoRows:{trait:10,value:"auto"},gridColumn:{trait:14,value:["gridColumnStart","gridColumnEnd"]},gridColumnEnd:{trait:10,value:"auto"},gridColumnGap:{trait:10,value:"normal"},gridColumnStart:{trait:10,value:"auto"},gridGap:{trait:14,value:["gridRowGap","gridColumnGap"]},gridRow:{trait:14,value:["gridRowStart","gridRowEnd"]},gridRowEnd:{trait:10,value:"auto"},gridRowGap:{trait:10,value:"normal"},gridRowStart:{trait:10,value:"auto"},gridTemplate:{trait:14,value:["gridTemplateRows","gridTemplateColumns","gridTemplateAreas"]},gridTemplateAreas:{trait:8,value:"none"},gridTemplateColumns:{trait:10,value:"none"},gridTemplateRows:{trait:10,value:"none"},height:{trait:10,value:"auto"},justifyContent:{trait:16,value:"normal"},justifyIems:{trait:16,value:"normal"},justifySelf:{trait:16,value:"auto"},left:{trait:10,value:"auto"},letterSpacing:{trait:10,value:"normal"},lineHeight:{trait:10,value:"normal"},listStyle:{trait:12,value:["listStyleType","listStylePosition","listStyleImage"]},listStyleImage:{trait:8,value:"none"},listStylePosition:{trait:8,value:"outside"},listStyleType:{trait:8,value:"disc"},margin:{trait:14,value:["marginTop","marginRight","marginBottom","marginLeft"]},marginBottom:{trait:10,value:"0"},marginLeft:{trait:10,value:"0"},marginRight:{trait:10,value:"0"},marginTop:{trait:10,value:"0"},maxHeight:{trait:10,value:"none"},maxWidth:{trait:10,value:"none"},minHeight:{trait:10,value:"0"},minWidth:{trait:10,value:"0"},offset:{trait:6,value:["offsetPath","offsetDistance","offsetRotate","offsetAnchor"]},offsetPath:{trait:0,value:"none"},offsetDistance:{trait:2,value:"0"},offsetRotate:{trait:2,value:"auto 0deg"},offsetAnchor:{trait:2,value:"auto"},opacity:{trait:2,value:"1"},order:{trait:14,value:"0"},outline:{trait:6,value:["outlineWidth","outlineStyle","outlineColor"]},outlineColor:{trait:34,value:""},outlineOffset:{trait:2,value:"0"},outlineStyle:{trait:0,value:"none"},outlineWidth:{trait:2,value:"0"},overflow:{trait:12,value:["overflowX","overflowY"]},overflowX:{trait:8,value:"visible"},overflowY:{trait:8,value:"visible"},padding:{trait:14,value:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},paddingBottom:{trait:10,value:"0"},paddingLeft:{trait:10,value:"0"},paddingRight:{trait:10,value:"0"},paddingTop:{trait:10,value:"0"},pageBreakAfter:{trait:0,value:"auto"},pageBreakBefore:{trait:0,value:"auto"},pageBreakInside:{trait:0,value:"auto"},perspective:{trait:2,value:"none"},perspectiveOrigin:{trait:2,value:"50% 50%"},placeContent:{trait:16,value:["alignContent","justifyContent"]},placeItems:{trait:20,value:["alignItems","justifyItems"]},placeSelf:{trait:20,value:["alignSelf","justifySelf"]},position:{trait:8,value:"static"},quotes:{trait:8,value:"none"},resize:{trait:8,value:"none"},right:{trait:10,value:"0"},rowGap:{trait:10,value:"normal"},scrollMargin:{trait:14,value:["scrollMarginTop","scrollMarginRight","scrollMarginBottom","scrollMarginLeft"]},scrollMarginBottom:{trait:10,value:"0"},scrollMarginLeft:{trait:10,value:"0"},scrollMarginRight:{trait:10,value:"0"},scrollMarginTop:{trait:10,value:"0"},scrollPadding:{trait:14,value:["scrollPaddingTop","scrollPaddingRight","scrollPaddingBottom","scrollPaddingLeft"]},scrollPaddingBottom:{trait:8,value:"0"},scrollPaddingLeft:{trait:8,value:"0"},scrollPaddingRight:{trait:8,value:"0"},scrollPaddingTop:{trait:8,value:"0"},shapeOutside:{trait:2,value:"none"},tabSize:{trait:8,value:"8"},tableLayout:{trait:8,value:"auto"},textAlign:{trait:0,value:"start"},textAlignLast:{trait:0,value:"auto"},textDecoration:{trait:4,value:["textDecorationLine","textDecorationStyle","textDecorationColor"]},textDecorationColor:{trait:34,value:""},textDecorationLine:{trait:0,value:"none"},textDecorationStyle:{trait:0,value:"solid"},textIndent:{trait:10,value:"0"},textJustify:{trait:0,value:"auto"},textOverflow:{trait:0,value:"clip"},textShadow:{trait:2,value:"none"},textTransform:{trait:8,value:"none"},top:{trait:10,value:"0"},transform:{trait:2,value:"none"},transformOrigin:{trait:2,value:"50% 50% 0"},transformStyle:{trait:0,value:"flat"},transition:{trait:6,value:["transitionProperty","transitionDuration","transitionTimingFunction","transitionDelay"]},transitionDelay:{trait:2,value:"0s"},transitionDuration:{trait:2,value:"0s"},transitionProperty:{trait:0,value:"all"},transitionTimingFunction:{trait:2,value:"ease"},unicodeBidi:{trait:8,value:"normal"},verticalAlign:{trait:10,value:"baseline"},visibility:{trait:8,value:"visible"},whiteSpace:{trait:8,value:"normal"},width:{trait:10,value:"auto"},wordBreak:{trait:8,value:"normal"},wordSpacing:{trait:10,value:"normal"},wordWrap:{trait:8,value:"normal"},zIndex:{trait:2,value:"auto"}},SVG_PROPERTIES:{clipRule:{trait:0,value:"nonzero"},cx:{trait:2,value:"0"},cy:{trait:2,value:"0"},fill:{trait:34,value:"black"},fillOpacity:{trait:2,value:"1"},fillRule:{trait:0,value:"nonzero"},stroke:{trait:34,value:"none"},strokeDasharray:{trait:2,value:"none"},strokeDashoffset:{trait:2,value:"0"},strokeLinecap:{trait:0,value:"butt"},strokeLinejoin:{trait:0,value:"miter"},strokeMiterlimit:{trait:2,value:"4"},strokeOpacity:{trait:2,value:"1"},strokeWidth:{trait:2,value:"1"},r:{trait:2,value:"0"},rx:{trait:2,value:"0"},ry:{trait:2,value:"0"},x:{trait:2,value:"0"},x1:{trait:2,value:"0"},x2:{trait:2,value:"0"},y:{trait:2,value:"0"},y1:{trait:2,value:"0"},y2:{trait:2,value:"0"}},newBoxModel:function(){return{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0}},getStyle:qe,getFontSize:Ze,hasComputedStyle:Ke,parseSelectorText:function(e,t){if((e=t?e.trim():Ye(e.trim())).includes(",")){let t,r=e,n=false;while(t=a.SELECTOR_ATTR.exec(r)){const e=t.index,i=t[0].length;r=(e>0?r.substring(0,e):"")+"_".repeat(i)+r.substring(e+i),n=true}if(n){const t=[];let n=0;while(true){const i=r.indexOf(",",n);if(-1!==i){const r=e.substring(n,i).trim();t.push(0===n?r:Ye(r)),n=i+1}else{if(n>0)t.push(Ye(e.substring(n).trim()));break}}return t}return z(e.split(Re),e=>Ye(e))}return[e]},getSpecificity:function e(t){let r,n=0;while(r=a.SELECTOR_G.exec(t)){let t,i=r[1];if(1===i.length)switch(i.charAt(0)){case"+":case"~":case">":case"*":continue}else if(i.startsWith("*|*")){if(i.length>3){n=0;break}}else if(i.startsWith("*|"))i=i.substring(2);else if(i.startsWith("::")){n=0;break}while(t=a.SELECTOR_ATTR.exec(i)){if(t[1])n+=1;if(t[3]||t[4]||t[5])n+=10;i=d(i,t.index,t[0].length)}while(t=a.SELECTOR_PSEUDO_CLASS.exec(i)){if(t[0].startsWith(":not(")){const r=t[1];if(r){const t=a.SELECTOR_G.lastIndex;n+=e(r),a.SELECTOR_G.lastIndex=t}}else switch(r[2]){case":scope":case":root":break;default:n+=10;break}i=d(i,t.index,t[0].length)}while(t=a.SELECTOR_PSEUDO_ELEMENT.exec(i))n+=1,i=d(i,t.index,t[0].length);while(t=a.SELECTOR_LABEL.exec(i)){const e=t[0];switch(e.charAt(0)){case"#":n+=100;break;case".":n+=10;break;default:n+=1;break}i=d(i,t.index,e.length)}}return a.SELECTOR_G.lastIndex=0,n},checkWritingMode:Qe,calculateStyle:Je,checkStyleValue:function(e,t,r,n){if("initial"===r)switch(t){case"position":case"display":case"baseline":case"lineHeight":case"backgroundColor":case"backgroundImage":case"borderTopStyle":case"borderRightStyle":case"borderBottomStyle":case"borderLeftStyle":return r;default:return""}else if("inherit"===r)switch(t){case"fontSize":case"lineHeight":if(n)return n[t];default:return rt(e,t)}else if(yt(r))r=Je(e,t,r);else if(bt(r))r=nt(e,r);return""===r&&(null==n?void 0:n[t])||r},getKeyframesRules:function(){const e={};e:{const t=document.styleSheets,r=t.length;let n=0;while(n<r)try{const r=t[n++].cssRules;if(r){const t=r.length;for(let n=0;n<t;++n)try{const t=r[n];if(t.type===CSSRule.KEYFRAMES_RULE){const r=et(t.cssRules);if(g(r)){const n=t.name;if(e[n])Object.assign(e[n],r);else e[n]=r}}}catch(e){break e}}}catch(e){}}return e},parseKeyframes:et,checkMediaRule:tt,isParentStyle:function(e,t,...r){if("#"!==e.nodeName.charAt(0)&&r.includes(qe(e)[t]))return true;const n=e.parentElement;return!!n&&r.includes(qe(n)[t])},getInheritedStyle:rt,parseVar:nt,calculateVarAsString:it,calculateVar:at,getContentBoxDimension:st,getBackgroundPosition:function(e,t,r){if(""!==(e=e.trim())){let n,i,a,s;if(r)({fontSize:n,imageDimension:i,imageSize:a,screenDimension:s}=r);const{width:l,height:o}=t,c=(e,t,r,c)=>{if(i&&!dt(e)){let e=h[c];if(a&&"auto"!==a&&"initial"!==a){const[r,c]=a.split(Ce);if(t){let t=l;if(dt(r,true))if(wt(r))t*=parseFloat(r)/100;else{const e=ct(r,n,s);if(e)t=e}else if(c){let e=1;if(wt(c))e=parseFloat(c)/100*o/i.height;else if(dt(c)){const t=ct(c,n,s);if(t)e=t/i.height}t=e*i.width}e*=t}else{let t=o;if(dt(c,true))if(wt(c))t*=parseFloat(c)/100;else{const e=ct(c,n,s);if(e)t=e}else if(r){let e=1;if(wt(r))e=parseFloat(r)/100*l/i.width;else if(dt(r)){const t=ct(r,n,s);if(t)e=t/i.width}t=e*i.height}e*=t}}else e*=t?i.width:i.height;h[r]-=e}},u=e.split(Ce);if(1===u.length)u.push("center");const h=De(u),f=Math.min(u.length,4);if(2===f){u.sort((e,t)=>{switch(e){case"left":case"right":return-1;case"top":case"bottom":return 1}switch(t){case"left":case"right":return 1;case"top":case"bottom":return-1}return 0});for(let e=0;e<2;++e){let t=u[e];const r=0===e,[i,a]=r?["left",l]:["top",o],f=i+"AsPercent";switch(t){case"0%":if(r)t="left";case"left":case"top":break;case"100%":if(r)t="right";case"right":case"bottom":h[i]=a,h[f]=1;break;case"50%":case"center":t="center",h[i]=a/2,h[f]=.5;break;default:{const l=Ge(t,a,n,s);if(l>1)u[e]="100%",t=r?"right":"bottom",h[t]=-1*je(gt(l-1),a,n,s);else h[i]=je(t,a,n,s);h[f]=l;break}}if(r)h.horizontal=t;else h.vertical=t;c(t,r,i,f)}}else{let e=0,t=0;const r=(r,n)=>{switch(r){case"left":case"right":h.horizontal=r,++e;break;case"center":if(4===f)return false;else{let t=true;if(void 0===n)if(e>0)h.vertical=r,t=false;else h.horizontal=r;else switch(n){case"left":case"right":h.vertical=r,t=false;break;case"top":case"bottom":h.horizontal=r;break;default:return false}if(t)h.left=l/2,h.leftAsPercent=.5,c(r,true,"left","leftAsPercent");else h.top=o/2,h.topAsPercent=.5,c(r,false,"top","topAsPercent")}break;case"top":case"bottom":h.vertical=r,++t;break;default:return false}return e<2&&t<2};for(let e=0;e<f;++e){const t=u[e];if(dt(t,true)){const r=u[e-1];switch(r){case"left":case"right":{const e=je(t,l,n,s),i=Ge(t,l,n,s);if("right"===r)h.right=e,h.rightAsPercent=i,c(t,true,"right","rightAsPercent"),h.left=l-e,h.leftAsPercent=1-i;else{if(i>1){const e=1-i;h.horizontal="right",h.right=je(gt(e),l,n,s),h.rightAsPercent=e,c(t,true,"right","rightAsPercent")}h.left=e,h.leftAsPercent=i}c(t,true,"left","leftAsPercent");break}case"top":case"bottom":{const e=je(t,o,n,s),i=Ge(t,o,n,s);if("bottom"===r)h.bottom=e,h.bottomAsPercent=i,c(t,false,"bottom","bottomAsPercent"),h.top=o-e,h.topAsPercent=1-i;else{if(i>1){const e=1-i;h.horizontal="bottom",h.bottom=je(gt(e),o,n,s),h.bottomAsPercent=e,c(t,false,"bottom","bottomAsPercent")}h.top=e,h.topAsPercent=i}c(t,false,"top","topAsPercent");break}default:return De()}}else if(!r(t,u[e+1]))return De()}}return h.static=0===h.top&&0===h.right&&0===h.bottom&&0===h.left,h}return De()},getSrcSet:function(e,t){const r=[],n=e.parentElement;let{srcset:i,sizes:a}=e;if("PICTURE"===(null==n?void 0:n.tagName))O(n.children,e=>{if("SOURCE"===e.tagName)if(x(e.srcset)&&!(x(e.media)&&!tt(e.media))&&(!x(e.type)||!t||t.includes(e.type.trim().toLowerCase())))return({srcset:i,sizes:a}=e),true});if(""!==i)for(const e of i.trim().split(Re)){const t=/^(.*?)(?:\s+([\d.]+)([xw]))?$/.exec(e);if(t){let e=0,n=0;switch(t[3]){case"w":e=b(t[2]);break;case"x":n=b(t[2]);break;default:n=1;break}r.push({src:R(t[1].split(Ce)[0]),pixelRatio:n,width:e})}}const s=r.length;if(0!==s){if(s>1)if(r.sort((e,t)=>{const r=e.pixelRatio,n=t.pixelRatio;if(r>0&&n>0){if(r!==n)return r<n?-1:1}else{const r=e.width,n=t.width;if(r!==n&&r>0&&n>0)return r<n?-1:1}return 0}),x(a)){let t=NaN;for(const r of a.trim().split(Re)){let n=Ae.exec(r);if(n){const r=n[2]?tt(n[2]):void 0,i=n[6]?tt(n[6]):void 0;switch(n[5]){case"and":if(!r||!i)continue;break;case"or":if(!r&&!i)continue;break;case"not":if(void 0!==r||i)continue;break;default:if(false===r||void 0!==i)continue;break}const a=n[9];if(a)if(n=Ee.exec(a),n)t=ot(n[1],n[1].includes("%")?{boundingSize:st(e.parentElement).width}:void 0);else if(wt(a))t=parseFloat(a)/100*st(e.parentElement).width;else if(dt(a))t=ct(a);if(!isNaN(t))break}}if(!isNaN(t)){const e=t*window.devicePixelRatio;let n=-1;for(let t=0;t<s;++t){const i=r[t].width;if(i>0&&i<=e&&(-1===n||r[n].width<i))n=t}if(0===n){const e=r[0];e.pixelRatio=1,e.actualWidth=t}else if(n>0){const e=r.splice(n,1)[0];e.pixelRatio=1,e.actualWidth=t,r.unshift(e)}let i=1;while(i<s){const e=r[i++];if(0===e.pixelRatio)e.pixelRatio=e.width/t}}}return r}},convertListStyle:function(e,t,r){switch(e){case"decimal":return t.toString();case"decimal-leading-zero":return(t<9?"0":"")+t.toString();case"upper-alpha":case"upper-latin":if(t>=1)return m(t-1);break;case"lower-alpha":case"lower-latin":if(t>=1)return m(t-1).toLowerCase();break;case"upper-roman":return v(t);case"lower-roman":return v(t).toLowerCase()}return r?t.toString():""},extractURL:lt,resolveURL:function(e){const t=lt(e);return t?R(t):void 0},insertStyleSheetRule:function(e,t=0){const r=document.createElement("style");if(j(4))r.appendChild(document.createTextNode(""));document.head.appendChild(r);const n=r.sheet;if("function"==typeof(null==n?void 0:n.insertRule))try{n.insertRule(e,t)}catch(e){return null}return r},calculate:ot,parseUnit:ct,parseTransform:function(e,t){var r,n,i,a;let l,o,c;if(t)({accumulate:l,fontSize:o,boundingBox:c}=t);const u=[],h=/(\w+)\([^)]+\)/g;let f;while(f=h.exec(e)){const e=f[1];if(e.startsWith("translate")){const t=s.TRANSLATE.exec(f[0]);if(t){const n=t[2],i=t[3];if(l){let t=0,a=0,s=0;switch(e){case"translate":if(wt(n)){if(c)t=parseFloat(n)/100*c.width}else t=ct(n,o);if(i)if(wt(i)){if(c)a=parseFloat(i)/100*c.height}else a=ct(i,o);break;case"translateX":if(wt(n)){if(c)t=parseFloat(n)/100*c.width}else t=ct(n,o);break;case"translateY":if(wt(i)){if(c)a=parseFloat(i)/100*c.height}else a=ct(i,o);break;case"translateZ":s=ct(n,o);break}const l=null===(r=u.find(e=>"translate"===e.method))||void 0===r?void 0:r.values;if(l)l[0]+=t,l[1]+=a,l[2]+=s;else u.push({method:"translate",values:[t,a,s]})}else{const t=[ct(n,o)];if("translate"===e&&i)t.push(ct(i,o));u.push({method:e,values:t})}}}else if(e.startsWith("rotate")){const t=s.ROTATE.exec(f[0]);if(t){const r=ht(t[2],t[3]);if(!isNaN(r))if(l){let t=0,i=0,a=0;switch(e){case"rotate":t=r,i=r;break;case"rotateX":t=r;break;case"rotateY":i=r;break;case"rotateZ":a=r;break}const s=null===(n=u.find(e=>"rotate"===e.method))||void 0===n?void 0:n.values;if(s)s[0]+=t,s[1]+=i,s[2]+=a;else u.push({method:"rotate",values:[t,i,a]})}else u.push({method:e,values:[r]})}}else if(e.startsWith("scale")){const t=s.SCALE.exec(f[0]);if(t)if(l){let r=1,n=1,a=1;switch(e){case"scale":r=parseFloat(t[2]),n=parseFloat(t[3])||r;break;case"scaleX":r=parseFloat(t[2]);break;case"scaleY":n=parseFloat(t[2]);break;case"scaleZ":a=parseFloat(t[2]);break}const s=null===(i=u.find(e=>"scale"===e.method))||void 0===i?void 0:i.values;if(s)s[0]*=r,s[1]*=n,s[2]*=a;else u.push({method:"scale",values:[r,n,a]})}else{const r=[parseFloat(t[2])];if("scale"===e&&t[3])r.push(parseFloat(t[3]));u.push({method:e,values:r})}}else if(e.startsWith("skew")){const t=s.SKEW.exec(f[0]);if(t){let r=ht(t[2],t[3]);if(!isNaN(r))if(l){let n=0,i=0;switch(e){case"skew":if(n=r,t[4]&&t[5])i=ht(t[4],t[5],0);break;case"skewX":n=r;break;case"skewY":i=r;break}const s=null===(a=u.find(e=>"skew"===e.method))||void 0===a?void 0:a.values;if(s)s[0]+=n,s[1]+=i;else u.push({method:"skew",values:[n,i]})}else{const n=[r];if("skew"===e&&t[4]&&t[5])if(r=ht(t[4],t[5]),!isNaN(r))n.push(r);u.push({method:e,values:n})}}}else if(e.startsWith("matrix")&&!l){const t=s.MATRIX.exec(f[0]);if(t)u.push({method:e,values:[parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4]),parseFloat(t[5]),parseFloat(t[6]),parseFloat(t[7])]})}}return u},parseAngle:ut,convertAngle:ht,parseTime:ft,formatPX:function(e){return Math.round(e)+"px"},formatPercent:gt,isLength:dt,isPx:function(e){return/\dpx$/.test(e)},isCalc:pt,isCustomProperty:bt,isAngle:mt,isTime:vt,isPercent:wt,hasCalc:yt,hasCoords:kt});function Et(){return{top:0,left:0,right:0,bottom:0,width:0,height:0}}function St(e,t=true){const r={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height};if(t){if(0!==window.scrollY)r.top+=window.scrollY,r.bottom+=window.scrollY;if(0!==window.scrollX)r.left+=window.scrollX,r.right+=window.scrollX}return r}function At(e){const t=[],r=document.createRange();r.selectNodeContents(e);const n=r.getClientRects();let i,a=n.length,s=0;while(s<a){const e=n.item(s++);if(Math.round(e.width)>0&&!P(e.left,e.right,.5))t.push(e)}if(a=t.length,a){let e=1,r=false;i=St(t[0]),s=0;while(++s<a){const{left:n,right:a,top:l,bottom:o,width:c}=t[s];if(n<i.left)i.left=n;else if(n>i.right)r=true;if(a>i.right)i.right=a;if(l<i.top)i.top=l;else if(l>=t[s-1].bottom)++e;if(o>i.bottom)i.bottom=o;i.width+=c}if(i.height=i.bottom-i.top,e>1)i.numberOfLines=e,i.overflow=r}else i={top:0,left:0,right:0,bottom:0,width:0,height:0};return i}var Ct=Object.freeze({__proto__:null,ELEMENT_BLOCK:["ADDRESS","ARTICLE","ASIDE","BLOCKQUOTE","DD","DETAILS","DIALOG","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","MAIN","NAV","OL","P","PRE","SECTION","TABLE","UL"],newBoxRect:function(){return{top:0,left:0,right:0,bottom:0}},newBoxRectDimension:Et,withinViewport:function(e){return!(e.top+window.scrollY+e.height<0||e.left+window.scrollX+e.width<0)},assignRect:St,getRangeClientRect:At,removeElementsByClassName:function(e){Array.from(document.getElementsByClassName(e)).forEach(e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.removeChild(e)})},getElementsBetweenSiblings:function(e,t){const r=[];if(!e||e.parentElement===t.parentElement){const n=t.parentElement;if(n){let i=e?-1:0,a=-1;if(O(n.childNodes,(r,n)=>{if(r===t){if(a=n,-1!==i)return true}else if(r===e)if(i=n,-1!==a)return true}),-1!==i&&-1!==a)O(n.childNodes,e=>{const t=e.nodeName;if("#"!==t[0]||"#text"===t)r.push(e)},Math.min(i,a),Math.max(i,a)+1)}}return r},createElement:function(e,t){const r=document.createElement(e);if(t){const{parent:e,attrs:n,style:i}=t;if(i)for(const e in i)if(e.includes("-"))r.style.setProperty(e,i[e]);else r.style[e]=i[e];if(n)for(const e in n)if(e in r)r[e]=n[e];null==e||e.appendChild(r)}return r},measureTextWidth:function(e,t,r){if(t&&r){const n=document.createElement("canvas").getContext("2d");if(n)return n.font=`${r}px ${t}`,n.measureText(e).width}return 0},getNamedItem:function(e,t){var r;return(null===(r=e.attributes.getNamedItem(t))||void 0===r?void 0:r.value.trim())||""}});function Rt(){return Promise.reject(new Error("Framework not installed."))}function Ft(e,t){return Lt(e,"node",t)||null}function Tt(e,t,r,n){e[`__${t}::${r}`]=n}function Lt(e,t,r){if(!r)r=e["__sessionId::0"]||"0";return e[`__${t}::${r}`]}var It=Object.freeze({__proto__:null,frameworkNotInstalled:Rt,actualClientRect:function(e,t){if(t){const r=Lt(e,"clientRect",t);if(r)return r}const r=e.getBoundingClientRect();if(t)Tt(e,"clientRect",t,r);return r},actualTextRangeRect:function(e,t){if(t){const r=Lt(e,"textRangeRect",t);if(r)return r}let r;if(e.childElementCount)O(e.children,e=>{const t=qe(e);if("visible"!==t.getPropertyValue("visibility")){const n=t.getPropertyValue("position");if("absolute"===n||"fixed"===n){const n=t.getPropertyValue("display");if("none"!==n){if(e.style.display="none",!r)r=[];r.push([e,n])}}}});const n=At(e);if(r)for(let e=0;e<r.length;++e){const[t,n]=r[e];t.style.display=n}if(t)Tt(e,"textRangeRect",t,n);return n},getStyleValue:function(e,t,r){var n;return(null===(n=Lt(e,"styleMap",r))||void 0===n?void 0:n[p(t)])||""},getPseudoElt:function(e,t){return Lt(e,"pseudoElement",t)||""},getElementAsNode:Ft,setElementCache:Tt,getElementCache:Lt,deleteElementCache:function(e,t,r){e[`__${t}::${r}`]=void 0}});function Nt(e,t,r="\t",n){if(t>0){if(void 0===n)n=r.repeat(t);return D(e.split("\n"),e=>""!==e?n+e:"")}return e}var Pt=Object.freeze({__proto__:null,STRING_XMLENCODING:'<?xml version="1.0" encoding="utf-8"?>\n',STRING_SPACE:"&#160;",isPlainText:function(e){const t=e.length;let r=0;while(r<t)switch(e.charCodeAt(r++)){case 32:case 9:case 10:case 11:case 13:continue;default:return true}return false},pushIndent:Nt,pushIndentArray:function(e,t,r="\t",n=""){if(t>0){let i="";const a=r.repeat(t),s=e.length;let l=0;while(l<s)i+=(l>0?n:"")+Nt(e[l++],t,r,a);return i}return e.join(n)},replaceIndent:function(e,t,r){if(t>=0){let n=-1;return D(e.split("\n"),e=>{const i=r.exec(e);if(i){if(-1===n)n=i[2].length;return(i[1]||"")+"\t".repeat(t+(i[2].length-n))+i[3]}return e})}return e},replaceTab:function(e,t=4,r){if(t>0)if(r)return D(e.split("\n"),e=>{const r=/^(\t+)(.*)$/.exec(e);return r?" ".repeat(t*r[1].length)+r[2]:e});else return e.replace(/\t/g," ".repeat(t));return e},applyTemplate:function e(t,r,n,i){const a=r[t],s=true===a[">>"];let l="",o="",c=n.length;if(void 0===i)l+='<?xml version="1.0" encoding="utf-8"?>\n',i=0;else o+="\t".repeat(i);for(let r=0;r<c;++r){const c=n[r],u=a["#"]&&c[a["#"]],h=!s&&!u,f=a["@"],g=a[">"];let d=false;if(l+=o+"<"+t,f){const e=f.length;let t=0;while(t<e){const e=f[t++],r=c[e];if(r)l+=` ${(a["^"]?a["^"]+":":"")+e}="${r}"`}}if(g){let n="";const a=i+(s?r:0)+1;for(const t in g){const r=c[t];if(Array.isArray(r))n+=e(t,g,r,a);else if(S(r))n+=e(t,g,[r],a)}if(""!==n){if(l+=">\n"+n,h)l+=o+`</${t}>\n`}else l+=h?" />\n":">\n";d=true}else if(a["~"]){if(l+=">"+c.innerText,h)l+=`</${t}>\n`;d=true}else if(h)l+=" />\n";if(u){if(!d)l+=">\n";if(l+=u,!s)l+=o+`</${t}>\n`}if(s)o+="\t"}if(s)while(--c>=0)o=o.substring(1),l+=o+`</${t}>\n`;return l},formatTemplate:function(e,t,r=-1,n="\t"){const i=[],a=/\s*(<(\/)?([?\w]+)[^>]*>)\n?([^<]*)/g;let s,l="",o=r,c=false;while(s=a.exec(e))i.push({tag:s[1],closing:!!s[2],tagName:s[3],value:s[4]});const u=i.length;for(let e=0;e<u;++e){const a=i[e];let s=o;if(e>0){let r=false;if(a.closing)--o;else{const n=i[e+1];if(r=n.closing&&a.tagName===n.tagName,!/\/>\n*$/.exec(a.tag))if(t&&!x(a.value))if((null==n?void 0:n.closing)&&n.tagName===a.tagName)a.tag=a.tag.replace(/\s*>$/," />"),++e;else++o;else++o;++s}const u=a.tag.trim().split("\n"),h=u.length;for(let e=0;e<h;++e){const t=u[e];if(c)l+=t,c=false;else{const r=s+Math.min(e,1);l+=(r>0?n.repeat(r):"")+t.trim()}if(r&&1===h)c=true;else l+="\n"}}else l+=(r>0?n.repeat(r):"")+a.tag+"\n";l+=a.value}return l},replaceCharacterData:function(e,t){const r=[],n=(e=e.replace(/&nbsp;/g,"&#160;").replace(/&(?!#?[A-Za-z\d]{2,};)/g,"&amp;")).length;for(let i=0;i<n;++i)switch(e.charAt(i)){case"'":r.push({i:i,text:"\\'"});break;case'"':r.push({i:i,text:"&quot;"});break;case"<":r.push({i:i,text:"&lt;"});break;case">":r.push({i:i,text:"&gt;"});break;case"\t":if(t)r.push({i:i,text:"&#160;".repeat(t)});break;case"":r.push({i:i,text:" "});break;case"":r.push({i:i,text:"&#160;"});break}if(r.length){const t=e.split("");let n=0;while(n<r.length){const e=r[n++];t[e.i]=e.text}return t.join("")}return e}});class Iterator{constructor(e){this.children=e,this.index=-1,this._iterating=0,this.length=e.length}next(){if(this.hasNext())return this._iterating=1,this.children[++this.index]}hasNext(){return this.index<this.length-1}remove(){const e=this._iterating;if(0!==e)this.children.splice(this.index,1),this.index-=e,--this.length,this._iterating=0}forEachRemaining(e){while(this.hasNext())e(this.children[++this.index])}}class ListIterator extends Iterator{constructor(e){super(e)}add(e){const t=this._iterating;if(0!==t)this.children.splice(1===t?Math.min(++this.index,this.length):Math.max(--this.index,0),0,e),++this.length,this._iterating=0}set(e){if(0!==this._iterating)this.children[this.index]=e,this._iterating=0}nextIndex(){return Math.min(this.index+1,this.length)}hasPrevious(){return this.previousIndex()>0}previous(){if(this.hasPrevious())return this._iterating=-1,this.children[--this.index]}previousIndex(){return Math.max(this.index-1,-1)}}class Iter{constructor(e){this.children=e,this.index=-1,this.length=e.length}next(){const e=++this.index;return e<this.length?{value:this.children[e]}:{done:true}}}class Container{constructor(e){this._children=e||[]}[Symbol.iterator](){return new Iter(this._children)}item(e,t){const r=this._children;if(void 0!==e){if(t)if(e>=0&&e<r.length)return r[e]=t,t;else return;return r[e]}return r[r.length-1]}add(e){return this._children.push(e),this}addAll(e){return this._children=this._children.concat(e),this}remove(...e){const t=[],r=this._children;let n=0;while(n<e.length){const i=e[n++];for(let e=0;e<r.length;++e)if(r[e]===i){r.splice(e,1),t.push(i);break}}return t}removeAt(e){return this._children.splice(e,1)[0]}retainAs(e){return this._children=e,this}contains(e){return this._children.includes(e)}duplicate(){return this._children.slice(0)}clear(){return this._children.length=0,this}each(e){const t=this._children,r=t.length;let n=0;while(n<r)e(t[n],n++,t);return this}iterate(e,t){let r,n;if(t)({start:r,end:n}=t);return O(this._children,e,r,n)}every(e,t){const r=this._children;let n=r.length;if(n){let i=0;if(t){if(t.start)i=Math.max(t.start,0);if(t.end)n=Math.min(n,t.end)}while(i<n)if(!e(r[i],i++,r))return false;return true}return false}extract(e,t){let r,n;if(t)({also:r,error:n}=t);const i=[],a=this._children;for(let t=0;t<a.length;++t){const s=a[t];if(n&&n(s,t,a))break;if(e(s,t,a))null==r||r.call(s,s),i.push(s),a.splice(t--,1)}return i}findIndex(e,t){let r,n;if(t)({also:r,error:n}=t);const i=this._children,a=i.length;for(let t=0;t<a;++t){const a=i[t];if(n&&n(a,t,i))return-1;if(e(a,t,i))return null==r||r.call(a,a),t}return-1}find(e,t){let r,n,i,a,s;if(t)if(({also:r,error:n,cascade:i}=t),!i){if(({start:a,end:s}=t),a)a=Math.max(a,0);if(s)s=Math.min(this.length,s)}let l=false;const o=t=>{const c=t.children,u=null!=s?s:c.length;for(let t=a||0;t<u;++t){const a=c[t];if(n&&n(a,t,c)){l=true;break}if(e(a,t,c))return null==r||r.call(a,a),a;if(i&&a instanceof Container&&!a.isEmpty){const e=o(a);if(e)return null==r||r.call(a,a),e;else if(l)break}}};return o(this)}some(e,t){return void 0!==this.find(e,t)}cascade(e,t){let r,n;if(t)({also:r,error:n}=t);let i=false;const a=t=>{let s=[];const l=t.children,o=l.length;for(let t=0;t<o;++t){const o=l[t];if(n&&n(o,t,l)){i=true;break}if(!e||true===e(o))null==r||r.call(o,o),s.push(o);if(o instanceof Container&&!o.isEmpty)if(s=s.concat(a(o)),i)break}return s};return a(this)}map(e){return $(this._children,e)}same(e){return _(this._children,e)}partition(e){return B(this._children,e)}sort(e){return this._children.sort(e),this}joinWith(...e){let t=this._children,r=0;while(r<e.length)t=t.concat(e[r++].children);return this._children=t,this}iterator(){return new ListIterator(this._children)}get children(){return this._children}get isEmpty(){return 0===this._children.length}get length(){return this._children.length}}const Mt=new Set,Bt=new Set,_t=new Map,Dt={},Ot={};let zt,$t;function Wt(e,t){if(!e.includes(t))t.application=zt,e.push(t)}function jt(e){for(const t in e)delete e[t]}const Gt=e=>false===(null==e?void 0:e.initializing)&&e.length>0;function Vt(e,t){const r=null==zt?void 0:zt.extensionManager;if(r&&S(t))if("string"==typeof e){e=e.trim();const n=r.retrieve(e)||M(Mt,t=>t.name===e);if(n)Object.assign(n.options,t);else _t.set(e,t);return true}else if(e instanceof squared.base.Extension)return Object.assign(e.options,t),true;return false}function Ht(e){const t=null==zt?void 0:zt.extensionManager;if(t){const r=t.retrieve(e)||null;if(!r)for(const t of Bt)if(t.name===e)return t;return r}return null}function Xt(){null==zt||zt.reset()}const Ut={base:{Container:Container,ArrayIterator:Iterator,ListIterator:ListIterator},client:V,color:be,css:xt,dom:Ct,math:ne,regex:l,session:It,util:W,xml:Pt};e.appendFromArchive=function(e,t){var r;if(Gt(zt)&&x(e)&&S(t)&&(null===(r=t.assets)||void 0===r?void 0:r.length))return zt.appendFromArchive(e,t);else return Rt()},e.appendToArchive=function(e,t){if(Gt(zt)&&x(e))return zt.finalize(),zt.appendToArchive(e,t);else return Rt()},e.close=function(){if(Gt(zt))zt.finalize()},e.configure=Vt,e.copyToDisk=function(e,t){if(Gt(zt)&&x(e))return zt.finalize(),zt.copyToDisk(e,t);else return Rt()},e.createFrom=function(e,t){var r;if(Gt(zt)&&x(e)&&S(t)&&(null===(r=t.assets)||void 0===r?void 0:r.length))return zt.createFrom(e,t);else return Rt()},e.exclude=function(e){const t=null==zt?void 0:zt.extensionManager;if(t){if("string"==typeof e)e=t.retrieve(e.trim());if(e instanceof squared.base.Extension)return Mt.delete(e),Bt.delete(e),t.exclude(e)}return false},e.get=function(...e){const t=new Map,r=e.length;if(zt)for(const n of zt.session.active.keys()){let i=0;while(i<r){let r=e[i++];if("string"==typeof r)r=document.getElementById(r);if(r instanceof Element){const e=Ft(r,n);if(e)if(t.has(r))t.get(r).push(e);else t.set(r,[e])}}}return r<=1?1===t.size?t.values().next().value:[]:t},e.include=function(e,t){const r=null==zt?void 0:zt.extensionManager;if(r){if("string"==typeof e)e=e.trim(),e=zt.builtInExtensions[e]||Ht(e);if(e instanceof squared.base.Extension){if(Bt.add(e),!r.include(e))Mt.add(e);if(t)Vt(e,t);return true}}return false},e.latest=function(){let e="";if(zt)for(const t of zt.session.active.keys())e=t;return e},e.lib=Ut,e.parseDocument=function(...e){if(zt){const t=zt.extensionManager;if(t)if(Mt.size){for(const e of Mt)t.include(e);Mt.clear()}if(_t.size){for(const[e,t]of _t.entries())Vt(e,t);_t.clear()}if(!zt.closed)return zt.parseDocument(...e);else if(!Dt.showErrorMessages||confirm("ERROR: Document is closed. Reset and rerun?"))return zt.reset(),zt.parseDocument(...e)}return Rt()},e.ready=function(){return false===(null==zt?void 0:zt.initializing)&&!zt.closed},e.reset=Xt,e.retrieve=Ht,e.saveToArchive=function(e,t){if(Gt(zt))return zt.finalize(),zt.saveToArchive(e,t);else return Rt()},e.setFramework=function(e,t,r){const n=void 0!==$t;if($t!==e){const i=r?e.cached():e.create();if(!$t)Object.assign(i.userSettings,Dt);if(S(t))Object.assign(i.userSettings,t);jt(Dt),Object.assign(Dt,i.userSettings),zt=i.application,zt.userSettings=Dt;const{builtInExtensions:a,extensions:s}=zt;s.length=0;for(const e of Dt.builtInExtensions){const t=a[e];if(t)Wt(s,t);else{const t=e+".";for(const e in a)if(e.startsWith(t))Wt(s,a[e])}}if(n)jt(Ot);Object.assign(Ot,e.system),$t=e}if(n)Xt()},e.setHostname=function(e){var t;const r=null===(t=null==zt?void 0:zt.resourceHandler)||void 0===t?void 0:t.fileHandler;if(r){const t=i.PROTOCOL.exec(e);if(null==t?void 0:t[1].startsWith("http"))r.hostname=t[1]+t[2]+(t[3]||"")}},e.setViewModel=function(e){if(zt)zt.viewModel=e},e.settings=Dt,e.system=Ot,e.toString=function(){return(null==zt?void 0:zt.toString())||""},Object.defineProperty(e,"__esModule",{value:true})}));
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).vdom=t()}(this,(function(){"use strict";class NodeList extends squared.lib.base.Container{constructor(e){super(e)}add(e,t=false,i=false){var s;if(super.add(e),t)null===(s=this.afterAdd)||void 0===s||s.call(this,e,i);return this}reset(){return this.clear(),this}}const{extractURL:e}=squared.lib.css,{STRING:t}=squared.lib.regex,{fromLastIndexOf:i,fromMimeType:s,hasMimeType:n,randomUUID:a}=squared.lib.util,l=new RegExp(`^${t.DATAURI}$`);class Resource{reset(){var e;const t=Resource.ASSETS;for(const e in t)t[e].clear();null===(e=this._fileHandler)||void 0===e||e.reset()}addImage(e){if(e.complete){const t=e.src;if(t.startsWith("data:image/")){const i=l.exec(t);if(i){const s=i[1].trim().split(/\s*;\s*/);this.addRawData(t,s[0],i[2],{encoding:s[1]||"base64",width:e.naturalWidth,height:e.naturalHeight})}}if(""!==t)Resource.ASSETS.image.set(t,{width:e.naturalWidth,height:e.naturalHeight,uri:t})}}addVideo(e,t){Resource.ASSETS.video.set(e,{uri:e,mimeType:t})}addAudio(e,t){Resource.ASSETS.audio.set(e,{uri:e,mimeType:t})}addFont(e){const t=Resource.ASSETS.fonts,i=e.fontFamily.trim().toLowerCase();e.fontFamily=i;const s=t.get(i);if(s)s.push(e);else t.set(i,[e])}addRawData(e,t,n,a){let l,r,o,h,c,d;if(a)if(({filename:l,encoding:r,data:o,width:h,height:c}=a),r)r=r.toLowerCase();if(t=t.toLowerCase(),"base64"===r)if(n)if("image/svg+xml"===t)n=window.atob(n);else d=n;else if(o)d=o;else return"";else if(n)n=n.replace(/\\(["'])/g,(e,...t)=>t[0]);else if(!Array.isArray(o))return"";const u=this.mimeTypeMap.image;if("*"===u||u.includes(t)){if(!l){const n="."+(s(t)||"unknown");l=e.endsWith(n)?i(e,"/","\\"):this.randomUUID+n}return Resource.ASSETS.rawData.set(e,{pathname:e.startsWith(location.origin)?e.substring(location.origin.length+1,e.lastIndexOf("/")):"",filename:l,content:n,base64:d,mimeType:t,bytes:o,width:h,height:c}),l}return""}getImage(e){return Resource.ASSETS.image.get(e)}getVideo(e){return Resource.ASSETS.video.get(e)}getAudio(e){return Resource.ASSETS.audio.get(e)}getFont(e,t="normal",i){const s=Resource.ASSETS.fonts.get(e.trim().toLowerCase());if(s){const e=this.mimeTypeMap.font;return s.find(s=>t.startsWith(s.fontStyle)&&(!i||s.fontWeight===parseInt(i))&&(n(e,s.srcFormat)||s.srcUrl&&n(e,s.srcUrl)))}}getRawData(t){if(t.startsWith("url(")){const i=e(t);if(!i)return;t=i}return Resource.ASSETS.rawData.get(t)}set fileHandler(e){if(e)e.resource=this;this._fileHandler=e}get fileHandler(){return this._fileHandler}get controllerSettings(){return this.application.controllerHandler.localSettings}get mimeTypeMap(){return this.controllerSettings.mimeType}get randomUUID(){return a()}}Resource.KEY_NAME="squared.resource",Resource.ASSETS={fonts:new Map,image:new Map,video:new Map,audio:new Map,rawData:new Map},Resource.canCompressImage=(e,t)=>/\.(png|jpg|jpeg)$/i.test(e)||"image/png"===t||"image/jpeg"===t,Resource.getExtension=e=>{var t;return(null===(t=/\.(\w+)\s*$/.exec(e))||void 0===t?void 0:t[1])||""};const{CSS_PROPERTIES:r,checkMediaRule:o,getSpecificity:h,hasComputedStyle:c,insertStyleSheetRule:d,parseSelectorText:u}=squared.lib.css,{FILE:f,STRING:g}=squared.lib.regex,{frameworkNotInstalled:m,getElementCache:p,setElementCache:v}=squared.lib.session,{capitalize:b,convertCamelCase:y,isString:_,parseMimeType:S,plainMap:E,promisify:w,resolvePath:x,trimBoth:T}=squared.lib.util,{image:k,rawData:C}=Resource.ASSETS,I=new RegExp(`url\\("?(${g.DATAURI})"?\\),?\\s*`,"g");function R(e,t=0,i=0){if(_(e)){const s=k.get(e);if(t>0&&i>0||!s||0===s.width||0===s.height)k.set(e,{width:t,height:i,uri:e})}}function A(e){if(e)for(const t of e.split(","))R(x(t.trim().split(" ")[0]))}function N(e,t,i,s){const n=t[i];if(n&&"initial"!==n){let a,l;while(l=I.exec(n))if(l[2]){const[t,i]=l[2].trim().split(/\s*;\s*/);null==e||e.addRawData(l[1],t,l[3],{encoding:i})}else{const t=x(l[3],s);if(""!==t){if(e&&!e.getImage(t))R(t);a=(a||n).replace(l[0],`url("${t}")`)}}if(a)t[i]=a;I.lastIndex=0}}const M=e=>f.SVG.test(e),P=(e,t)=>{var i;return(null===(i=new RegExp(`\\s*@${e}([^{]+)`).exec(t))||void 0===i?void 0:i[1].trim())||t};class Application{constructor(e,t,i,s,n){if(this.framework=e,this.builtInExtensions={},this.extensions=[],this.closed=false,this.session={active:new Map,unusedStyles:new Set},this._nextId=0,this._controllerHandler=new i(this),s)this._resourceHandler=new s(this);if(n)this._extensionManager=new n(this);this._afterInsertNode=this._controllerHandler.afterInsertNode,this.Node=t}createNode(e,t){return new this.Node(this.nextId,e,t.element)}copyToDisk(e,t){var i,s;return(null===(s=null===(i=this._resourceHandler)||void 0===i?void 0:i.fileHandler)||void 0===s?void 0:s.copyToDisk(e,t))||m()}appendToArchive(e,t){var i,s;return(null===(s=null===(i=this._resourceHandler)||void 0===i?void 0:i.fileHandler)||void 0===s?void 0:s.appendToArchive(e,t))||m()}saveToArchive(e,t){var i;const s=this._resourceHandler;return s&&(null===(i=s.fileHandler)||void 0===i?void 0:i.saveToArchive(e||s.userSettings.outputArchiveName,t))||m()}createFrom(e,t){var i,s;return(null===(s=null===(i=this._resourceHandler)||void 0===i?void 0:i.fileHandler)||void 0===s?void 0:s.createFrom(e,t))||m()}appendFromArchive(e,t){var i,s;return(null===(s=null===(i=this._resourceHandler)||void 0===i?void 0:i.fileHandler)||void 0===s?void 0:s.appendFromArchive(e,t))||m()}finalize(){return this.closed}reset(){var e;this._nextId=0,this.session.active.clear(),this.session.unusedStyles.clear(),this.controllerHandler.reset(),null===(e=this.resourceHandler)||void 0===e||e.reset(),this.extensions.forEach(e=>e.subscribers.clear()),this.closed=false}parseDocument(...e){const{controllerHandler:t,resourceHandler:i}=this,s=new Set,n=t.generateSessionId,a=!!i&&i.userSettings.preloadImages,l=[],r=[],o={cache:new NodeList,excluded:new NodeList,rootElements:s,initializing:false};this.session.active.set(n,o),t.init(),this.setStyleMap(n);const h=d("html > body { overflow: hidden !important; }");let u;if(0===e.length)u=this.mainElement,s.add(u);else{let t=0;while(t<e.length){let i=e[t++];if("string"==typeof i)i=document.getElementById(i);if(i&&c(i)){if(!u)u=i;s.add(i)}}}if(!u)return Promise.reject(new Error("Document root not found."));for(const e of s)e.querySelectorAll("picture > source").forEach(e=>A(e.srcset)),e.querySelectorAll("video").forEach(e=>R(e.poster)),e.querySelectorAll("input[type=image]").forEach(e=>R(e.src,e.width,e.height)),e.querySelectorAll("object, embed").forEach(e=>{const t=e.data||e.src;if(t&&(e.type.startsWith("image/")||S(t).startsWith("image/")))R(t.trim())}),e.querySelectorAll("svg use").forEach(e=>{const t=e.href.baseVal||e.getAttributeNS("xlink","href");if(t&&t.indexOf("#")>0){const e=x(t.split("#")[0]);if(M(e))R(e)}});const f=()=>{const t=this.extensions;o.initializing=false;let i=l.length,a=0;while(a<i){const e=l[a++];if(e.parentElement)u.removeChild(e)}l.length=0,i=t.length,a=0;while(a<i)t[a++].beforeParseDocument(n);const r=[];for(const e of s){const t=this.createCache(e,n);if(t)this.afterCreateCache(t),r.push(t)}a=0;while(a<i)t[a++].afterParseDocument(n);try{document.head.removeChild(h)}catch(e){}return e.length>1?r:r[0]};if(a){for(const e of k.values()){const t=e.uri;if(M(t))r.push(t);else if(0===e.width||0===e.height){const i=document.createElement("img");if(i.src=t,i.naturalWidth>0&&i.naturalHeight>0)e.width=i.naturalWidth,e.height=i.naturalHeight;else u.appendChild(i),l.push(i)}}for(const[e,t]of C.entries()){const i=t.mimeType;if((null==i?void 0:i.startsWith("image/"))&&!i.endsWith("svg+xml")){const s=document.createElement("img");s.src=`data:${i};${t.base64?"base64,"+t.base64:t.content}`;const{naturalWidth:n,naturalHeight:a}=s;if(n>0&&a>0)t.width=n,t.height=a,k.set(e,{width:n,height:a,uri:t.filename});else document.body.appendChild(s),l.push(s)}}}if(i)for(const e of s)e.querySelectorAll("img").forEach(e=>{if(A(e.srcset),!a)i.addImage(e);else if(M(e.src))r.push(e.src);else if(e.complete)i.addImage(e);else r.push(e)});if(r.length)return o.initializing=true,Promise.all(E(r,e=>new Promise((t,i)=>{if("string"==typeof e)(async()=>{const i=await fetch(e,{method:"GET",headers:new Headers({Accept:"application/xhtml+xml, image/svg+xml","Content-Type":"image/svg+xml"})});t(await i.text())})();else e.addEventListener("load",()=>t(e)),e.addEventListener("error",()=>i(e))}))).then(e=>{const t=e.length;for(let s=0;s<t;++s){const t=e[s];if("string"==typeof t){const e=r[s];if("string"==typeof e)i.addRawData(e,"image/svg+xml",t,{encoding:"utf8"})}else i.addImage(t)}return f()}).catch(e=>{let t=e;if(e instanceof Event)t=e.target;const i=t instanceof HTMLImageElement?t.src:"";return!_(i)||!this.userSettings.showErrorMessages||confirm("FAIL: "+i)?f():Promise.reject(i)});else return w(f)()}createCache(e,t){const i=this.createRootNode(e,t);if(i)this.controllerHandler.sortInitialCache(this.getProcessingCache(t));return i}setStyleMap(e){const t=document.styleSheets,i=t.length;let s=0;while(s<i){const i=t[s++];let n;try{n=i.media.mediaText}catch(e){}if(!_(n)||o(n))this.applyStyleSheet(i,e)}}getProcessing(e){return this.session.active.get(e)}getProcessingCache(e){var t;return(null===(t=this.session.active.get(e))||void 0===t?void 0:t.cache)||new NodeList}getDatasetName(e,t){return t.dataset[e+b(this.systemName)]||t.dataset[e]}setDatasetName(e,t,i){t.dataset[e+b(this.systemName)]=i}toString(){return this.systemName}createRootNode(e,t){const i=this.getProcessing(t),s=this.extensionsCascade,n=this.cascadeParentNode(i.cache,i.excluded,i.rootElements,e,t,0,s.length?s:void 0);if(n){const s=new this.Node(0,t,e.parentElement);if(this._afterInsertNode(s),n.parent=s,n.actualParent=s,"HTML"===s.tagName)i.documentElement=s;n.depth=0,n.childIndex=0,n.documentRoot=true}return i.node=n,n}cascadeParentNode(e,t,i,s,n,a,l){const r=this.insertNode(s,n);if(r){const o=this.controllerHandler;if(0===a)e.add(r);if(o.preventNodeCascade(r))return r;const h=a+1,c=s.childNodes,d=c.length,u=new Array(d),f=new Array(s.childElementCount);let g=true,m=0,p=0,v=0;while(m<d){const s=c[m++];let a;if("#"===s.nodeName.charAt(0)){if("#text"===s.nodeName)a=this.insertNode(s,n),null==a||a.cssApply(r.textStyle)}else if(o.includeElement(s)){if(a=this.cascadeParentNode(e,t,i,s,n,h,l),a)f[v++]=a,g=false}else if(a=this.insertNode(s,n),a)t.add(a),g=false;if(a)a.$parent=r,a.childIndex=p,a.actualParent=r,a.depth=h,u[p++]=a,e.add(a)}if(u.length=p,f.length=v,r.naturalChildren=u,r.naturalElements=f,r.inlineText=g,r.retainAs(u),v>0&&this.userSettings.createQuerySelectorMap)r.queryMap=this.createQueryMap(f,v)}return r}createQueryMap(e,t){var i;const s=[e];let n=0;while(n<t){const t=e[n++].queryMap;if(t){const e=t.length;for(let n=0;n<e;++n){const e=n+1;s[e]=(null===(i=s[e])||void 0===i?void 0:i.concat(t[n]))||t[n]}}}return s}applyStyleRule(e,t){var i,s,n,a,l,o,c,d;const f=this.resourceHandler,g=(null===(i=e.parentStyleSheet)||void 0===i?void 0:i.href)||location.href,m=e.cssText;switch(e.type){case CSSRule.SUPPORTS_RULE:this.applyCSSRuleList(e.cssRules,t);break;case CSSRule.STYLE_RULE:{const i=this.session.unusedStyles,n={},a={};{const t=e.style,i=Array.from(t),s=i.length;let a=0;while(a<s){const e=i[a++];n[y(e)]=t[e]}}N(f,n,"backgroundImage",g),N(f,n,"listStyleImage",g),N(f,n,"content",g);{const e=/\s*([a-z-]+):[^!;]+!important;/g;let t;while(t=e.exec(m)){const e=y(t[1]),i=null===(s=r[e])||void 0===s?void 0:s.value;if(Array.isArray(i)){let e=0;while(e<i.length)a[i[e++]]=true}else a[e]=true}}for(const s of u(e.selectorText,true)){const e=h(s),[l,r]=s.split("::"),o=r?"::"+r:"",c=document.querySelectorAll(l||"*"),d=c.length;if(0===d){i.add(s);continue}let u=0;while(u<d){const i=c[u++],s="styleMap"+o,l="styleSpecificity"+o,r=p(i,s,t);if(r){const s=p(i,l,t)||{};for(const t in n){const i=s[t],l=e+(a[t]?1e3:0);if(void 0===i||l>=i)r[t]=n[t],s[t]=l}}else{const r=Object.assign({},n),o={};for(const t in r)o[t]=e+(a[t]?1e3:0);v(i,"sessionId","0",t),v(i,s,t,r),v(i,l,t,o)}}}break}case CSSRule.FONT_FACE_RULE:if(f){const e=null===(n=/\s*@font-face\s*{([^}]+)}\s*/.exec(m))||void 0===n?void 0:n[1];if(e){const t=T(((null===(a=/\s*font-family:([^;]+);/.exec(e))||void 0===a?void 0:a[1])||"").trim(),'"');if(""!==t){const i=((null===(l=/\s*src:\s*([^;]+);/.exec(e))||void 0===l?void 0:l[1])||"").split(","),s=i.length;if(s){const n=(null===(o=/\s*font-style:\s*(\w+)\s*;/.exec(e))||void 0===o?void 0:o[1].toLowerCase())||"normal",a=parseInt((null===(c=/\s*font-weight:\s*(\d+)\s*;/.exec(e))||void 0===c?void 0:c[1])||"400");let l=0;while(l<s){const e=/\s*(url|local)\((?:"((?:[^"]|\\")+)"|([^)]+))\)(?:\s*format\("?([\w-]+)"?\))?\s*/.exec(i[l++]);if(e){const i={fontFamily:t,fontWeight:a,fontStyle:n,srcFormat:(null===(d=e[4])||void 0===d?void 0:d.toLowerCase().trim())||"truetype"},s=(e[2]||e[3]).trim();if("url"===e[1])i.srcUrl=x(s,g);else i.srcLocal=s;f.addFont(i)}}}}}}break}}applyStyleSheet(e,t){var i,s;try{const n=e.cssRules;if(n){const e=n.length;let a=0;while(a<e){const e=n[a++];switch(e.type){case CSSRule.STYLE_RULE:case CSSRule.FONT_FACE_RULE:this.applyStyleRule(e,t);break;case CSSRule.IMPORT_RULE:{const n=x(e.href,(null===(i=e.parentStyleSheet)||void 0===i?void 0:i.href)||location.href);if(""!==n)null===(s=this.resourceHandler)||void 0===s||s.addRawData(n,"text/css",void 0,{encoding:"utf8"});this.applyStyleSheet(e.styleSheet,t);break}case CSSRule.MEDIA_RULE:if(o(e.conditionText||P("media",e.cssText)))this.applyCSSRuleList(e.cssRules,t);break;case CSSRule.SUPPORTS_RULE:if(CSS.supports&&CSS.supports(e.conditionText||P("supports",e.cssText)))this.applyCSSRuleList(e.cssRules,t);break}}}}catch(t){(this.userSettings.showErrorMessages?alert:console.log)("CSS cannot be parsed inside <link> tags when loading files directly from your hard drive or from external websites. Either use a local web server, embed your CSS into a <style> tag, or you can also try using a different browser. See the README for more detailed instructions.\n\n"+e.href+"\n\n"+t)}}applyCSSRuleList(e,t){const i=e.length;let s=0;while(s<i)this.applyStyleRule(e[s++],t)}get mainElement(){return document.documentElement}get initializing(){for(const e of this.session.active.values())if(e.initializing)return true;return false}get controllerHandler(){return this._controllerHandler}get resourceHandler(){return this._resourceHandler}get extensionManager(){return this._extensionManager}get extensionsCascade(){return[]}get childrenAll(){const e=this.session.active;if(1===e.size)return e.values().next().value.cache.children;let t=[];for(const i of e.values())t=t.concat(i.cache.children);return t}get nextId(){return++this._nextId}get length(){return this.session.active.size}}Application.KEY_NAME="squared.application";class Application$1 extends Application{constructor(e,t,i){super(e,t,i),this.systemName="vdom"}insertNode(e,t){return"#text"!==e.nodeName?new this.Node(this.nextId,t,e):void 0}afterCreateCache(){}}class Controller{constructor(e){this.application=e,this.localSettings={mimeType:{font:"*",image:"*",audio:"*",video:"*"}}}init(){}sortInitialCache(e){}applyDefaultStyles(e,t){}reset(){}includeElement(e){return true}preventNodeCascade(e){return false}get generateSessionId(){return Date.now().toString()+"-"+this.application.session.active.size}get afterInsertNode(){return e=>{}}get userSettings(){return this.application.userSettings}}const{USER_AGENT:L,isUserAgent:W}=squared.lib.client,{CSS_PROPERTIES:B,CSS_TRAITS:H,CSS_UNIT:F,checkStyleValue:U,checkWritingMode:O,formatPX:D,getInheritedStyle:q,getStyle:z,hasComputedStyle:X,isAngle:j,isLength:$,isPercent:V,isTime:G,isPx:Y,parseSelectorText:Q,parseUnit:K}=squared.lib.css,{ELEMENT_BLOCK:J,assignRect:Z,getNamedItem:ee,getRangeClientRect:te,newBoxRectDimension:ie}=squared.lib.dom,{CSS:se,FILE:ne}=squared.lib.regex,{actualClientRect:ae,actualTextRangeRect:le,deleteElementCache:re,getElementAsNode:oe,getElementCache:he,getPseudoElt:ce,setElementCache:de}=squared.lib.session,{aboveRange:ue,belowRange:fe,convertCamelCase:ge,convertFloat:me,convertInt:pe,hasBit:ve,hasValue:be,isNumber:ye,isObject:_e,iterateArray:Se,spliceString:Ee,splitEnclosing:we}=squared.lib.util,{SELECTOR_ATTR:xe,SELECTOR_G:Te,SELECTOR_LABEL:ke,SELECTOR_PSEUDO_CLASS:Ce}=se,Ie=B.borderTop.value,Re=B.borderRight.value,Ae=B.borderBottom.value,Ne=B.borderLeft.value;function Me(e,t,i,s,n){if(n!==s)if(e.style.setProperty(t,s),Le(s,e.style.getPropertyValue(t)))de(e,t,i,"auto"!==s?n:"");else return false;return true}function Pe(e,t,i){const s=he(e,t,i);if(void 0!==s)e.style.setProperty(t,s),re(e,t,i)}const Le=(e,t)=>e===t||$(e,true)&&Y(t),We=(e,t)=>e.id<t.id?-1:1,Be=e=>parseFloat(e.getPropertyValue("font-size")),He=e=>/\dem$/.test(e),Fe=e=>/^(inline|table-cell)/.test(e);function Ue(e,t,i,s){const n=(s||e).css(t);if(ye(n))return parseFloat(n);else if("inherit"===n&&!s)return Ue(e,t,i,e.actualParent);return i}function Oe(e,...t){const i=e.cssAscend("textAlign",{startSelf:e.textElement&&e.blockStatic&&!e.hasPX("width",{initial:true})});return""!==i&&t.includes(i)&&(e.blockStatic?e.textElement&&!e.hasPX("width",{initial:true})&&!e.hasPX("maxWidth",{initial:true}):e.display.startsWith("inline"))}function De(e,t,i,s,n){const a={dimension:i},l=t[i],r=e.parseUnit(l,a);let o=Math.max(r,e.parseUnit(t[s],a));if(0===o&&e.styleElement){const t=e.element;switch(t.tagName){case"IMG":case"INPUT":if("image"!==t.type)break;case"TD":case"TH":case"SVG":case"IFRAME":case"VIDEO":case"AUDIO":case"CANVAS":case"OBJECT":case"EMBED":{const s=ee(t,i);if(""!==s)if(o=ye(s)?parseFloat(s):e.parseUnit(s,a),o>0)e.css(i,V(s)?s:s+"px");break}}}let h=0;if(r>0&&!e.imageElement){const s=t[n];if(l===s)delete t[n];else if(h=e.parseUnit(s,{dimension:i}),h>0&&h<=r&&$(l))h=0,t[i]=s,delete t[n]}return h>0?Math.min(o,h):o}function qe(e,t,i){if(!e.plainText){switch(e.css(i[1])){case"none":case"initial":case"hidden":return 0}const s=e.css(i[0]),n=$(s,true)?e.parseUnit(s,{dimension:t}):me(e.style[i[0]]);if(n>0)return Math.max(Math.round(n),1)}return 0}function ze(e,t,i){var s;switch(e.display){case"table":if(!i&&"collapse"===e.css("borderCollapse"))return 0;break;case"table-row":return 0;case"table-cell":if(i){switch(e.tagName){case"TD":case"TH":return 0;default:{const i=e.ascend({condition:e=>"TABLE"===e.tagName})[0];if(i){const[s,n]=i.css("borderSpacing").split(" ");switch(t){case"marginTop":case"marginBottom":return n?e.parseUnit(n,{dimension:"height",parent:false}):e.parseUnit(s,{parent:false});case"marginRight":if(e.actualParent.lastChild!==e)return e.parseUnit(s,{parent:false});case"marginLeft":return 0}}break}}return 0}break}return e.parseUnit(e.css(t),{parent:!(true===(null===(s=e.actualParent)||void 0===s?void 0:s.gridElement))})}function Xe(e,t){if(!e.positionStatic){const i=Ge.call(e,t,{modified:true});if($(i))return e.parseUnit(i,{dimension:"left"===t||"right"===t?"width":"height"});else if(V(i)&&e.styleElement)return me(e.style[t])}return 0}function je(e,t,i,s,n,a){var l;if(i.all)return true;let r=i.tagName;if(r&&r!==t.tagName.toUpperCase())return false;if(i.id&&i.id!==t.elementId)return false;const{attrList:o,classList:h,notList:c,pseudoList:d}=i;if(d){const i=t.actualParent;r=t.tagName;let s=0;while(s<d.length){const o=d[s++];switch(o){case":first-child":case":nth-child(1)":if(t!==i.firstChild)return false;break;case":last-child":case":nth-last-child(1)":if(t!==i.lastChild)return false;break;case":only-child":if(i.naturalElements.length>1)return false;break;case":only-of-type":{const e=i.naturalElements,t=e.length;let s=0,n=0;while(s<t)if(e[s++].tagName===r&&++n>1)return false;break}case":first-of-type":{const e=i.naturalElements,s=e.length;let n=0;while(n<s){const i=e[n++];if(i.tagName===r){if(i!==t)return false;break}}break}case":nth-child(n)":case":nth-last-child(n)":break;case":empty":if(t.element.childNodes.length)return false;break;case":checked":switch(r){case"INPUT":if(!t.toElementBoolean("checked"))return false;break;case"OPTION":if(!t.toElementBoolean("selected"))return false;break;default:return false}break;case":enabled":if(!t.inputElement||t.toElementBoolean("disabled"))return false;break;case":disabled":if(!t.inputElement||!t.toElementBoolean("disabled"))return false;break;case":read-only":{const e=t.element;if(e.isContentEditable||("INPUT"===r||"TEXTAREA"===r)&&!e.readOnly)return false;break}case":read-write":{const e=t.element;if(!e.isContentEditable||("INPUT"===r||"TEXTAREA"===r)&&e.readOnly)return false;break}case":required":if(!t.inputElement||"BUTTON"===r||!t.toElementBoolean("required"))return false;break;case":optional":if(!t.inputElement||"BUTTON"===r||t.toElementBoolean("required"))return false;break;case":placeholder-shown":if(!(("INPUT"===r||"TEXTAREA"===r)&&""!==t.toElementString("placeholder")))return false;break;case":default":switch(r){case"INPUT":{const e=t.element;switch(e.type){case"radio":case"checkbox":if(!e.checked)return false;break;default:return false}break}case"OPTION":if(void 0===t.element.attributes.selected)return false;break;case"BUTTON":{const e=t.ascend({condition:e=>"FORM"===e.tagName})[0];if(e){let i=false;const s=t.element;if(Se(e.element.querySelectorAll("*"),e=>{switch(e.tagName){case"BUTTON":return i=s===e,true;case"INPUT":switch(e.type){case"submit":case"image":return i=s===e,true}break}}),!i)return false}break}default:return false}break;case":in-range":case":out-of-range":if("INPUT"===r){const e=t.element,i=parseFloat(e.value);if(!isNaN(i)){const t=parseFloat(e.min),s=parseFloat(e.max);if(i>=t&&i<=s){if(":out-of-range"===o)return false}else if(":in-range"===o)return false}else if(":in-range"===o)return false}else return false;break;case":indeterminate":if("INPUT"===r){const e=t.element;switch(e.type){case"checkbox":if(!e.indeterminate)return false;break;case"radio":if(e.checked)return false;else if(e.name)if(Se(((null===(l=t.ascend({condition:e=>"FORM"===e.tagName})[0])||void 0===l?void 0:l.element)||document).querySelectorAll(`input[type=radio][name="${e.name}"`),e=>e.checked)===1/0)return false;break;default:return false}}else if("PROGRESS"===r){if(-1!==t.toElementInt("value",-1))return false}else return false;break;case":target":if(""===location.hash)return false;else if(!(location.hash==="#"+t.elementId||"A"===r&&location.hash==="#"+t.toElementString("name")))return false;break;case":scope":if(!n||">"===a&&t!==e)return false;break;case":root":if(!n&&"HTML"!==e.tagName)return false;break;case":link":case":visited":case":any-link":case":hover":case":focus":case":focus-within":case":valid":case":invalid":{const e=t.element;if(Se(i.element.querySelectorAll(":scope > "+o),t=>t===e)!==1/0)return false;break}default:{let e=/^:nth(-last)?-(child|of-type)\((.+)\)$/.exec(o);if(e){const s=e[3].trim();let n=i.naturalElements;if(e[1])n=n.slice(0).reverse();const a="child"===e[2]?n.indexOf(t)+1:n.filter(e=>e.tagName===r).indexOf(t)+1;if(a>0){if(ye(s)){if(parseInt(s)!==a)return false}else switch(s){case"even":if(a%2!=0)return false;break;case"odd":if(a%2==0)return false;break;default:{const e=/^(-)?(\d+)?n\s*([+-]\d+)?$/.exec(s);if(e){const t=pe(e[3]);if(e[2]){if(e[1])return false;const i=parseInt(e[2]);if(0!==i){if(a!==t)for(let e=i;;e+=i){const e=i+t;if(e===a)break;else if(e>a)return false}}else if(a!==t)return false}else if(e[3])if(t>0){if(e[1]){if(a>t)return false}else if(a<t)return false}else return false}break}}continue}}else if(t.attributes.lang)if(e=/^:lang\((.+)\)$/.exec(o),e)if(t.attributes.lang.trim().toLowerCase()===e[1].trim().toLowerCase())continue;return false}}}}if(c){let i=0;while(i<c.length){const a=c[i++],l={};switch(a.charAt(0)){case".":l.classList=[a];break;case"#":l.id=a.substring(1);break;case":":l.pseudoList=[a];break;case"[":{const e=xe.exec(a);if(e){const t="i"===e[6];let i=e[3]||e[4]||e[5]||"";if(t)i=i.toLowerCase();l.attrList=[{key:e[1],symbol:e[2],value:i,caseInsensitive:t}],xe.lastIndex=0}else continue;break}default:if(/^[a-z\d+#.-]+$/i.test(a))l.tagName=a;else return false;break}if(je(e,t,l,s,n))return false}}if(h){const e=t.element.classList;let i=0;while(i<h.length)if(!e.contains(h[i++]))return false}if(o){const e=t.attributes;let i=0;while(i<o.length){const t=o[i++];let s;if(t.endsWith){const i=new RegExp(`^(.+:)?${t.key}$`);for(const t in e)if(i.test(t)){s=e[t];break}}else s=e[t.key];if(void 0===s)return false;else{const e=t.value;if(e){if(t.caseInsensitive)s=s.toLowerCase();if(t.symbol)switch(t.symbol){case"~":if(!s.split(/\s+/).includes(e))return false;break;case"^":if(!s.startsWith(e))return false;break;case"$":if(!s.endsWith(e))return false;break;case"*":if(!s.includes(e))return false;break;case"|":if(s!==e&&!s.startsWith(e+"-"))return false;break}else if(s!==e)return false}}}}return true}function $e(e,t,i,s,n,a){const l=e.depth,r=t[s],o=t.length,h=s===o-1,c=[],d=a.length;let u=0;while(u<d){const t=a[u++];if(n){const s=t.actualParent;if(">"===n){if(je(e,s,r,i,h,n))c.push(s)}else{const a=s.naturalElements;switch(n){case"+":{const s=a.indexOf(t)-1;if(s>=0){const t=a[s];if(je(e,t,r,i,h,n))c.push(t)}break}case"~":{const s=a.length;let l=0;while(l<s){const s=a[l++];if(s===t)break;else if(je(e,s,r,i,h,n))c.push(s)}break}}}}else if(t.depth-l>=o-s){let s=t.actualParent;do{if(je(e,s,r,i,h))c.push(s);s=s.actualParent}while(s)}}return c.length?++s===o?true:$e(e,t,i,s,r.adjacent,c):false}const Ve=e=>e.naturalChild&&(0===e.length||Fe(e.display))&&!e.floating&&true!==e.autoMargin.horizontal;function Ge(e,t){return!this._preferInitial&&this._styleMap[e]||this.cssInitial(e,t)}class Node extends squared.lib.base.Container{constructor(e,t="0",i){if(super(),this.id=e,this.sessionId=t,this.documentRoot=false,this.depth=-1,this.childIndex=1/0,this._preferInitial=false,this._element=null,this._data={},this._inlineText=false,this._parent=null,i)this._element=i,this.style=!this.pseudoElement?z(i):z(i.parentElement,ce(i,t));else this.style={},this._styleMap={}}init(){const e=this._element;if(e){const t=this.sessionId;if(!this.syncWith(t))this._styleMap={};if("0"!==t)de(e,"node",t,this)}}syncWith(e,t){const i=this._element;if(i){if(!e)if((e=he(i,"sessionId","0"))===this.sessionId)return true;const s=he(i,"styleMap",e);if(s){if(this.styleElement){const e=this.style,t={},n=e.writingMode;if(!this.pseudoElement){const e=Array.from(i.style),t=e.length;if(t){let n=0;while(n<t){const t=e[n++];s[ge(t)]=i.style.getPropertyValue(t)}}}for(let a in s){const l=s[a],r=O(a,n);if(""!==r)if(!s[r])a=r;else continue;const o=U(i,a,l,e);if(""!==o)t[a]=o}this._styleMap=t}else this._styleMap=s;if(this._cssStyle=s,t)this._cached={};return true}}return false}saveAsInitial(){this._initial={styleMap:Object.assign({},this._styleMap),children:this.length?this.duplicate():void 0,bounds:this._bounds}}data(e,t,i,s=true){const n=this._data;if(null===i){if(n[e])delete n[e][t];return}else if(void 0!==i){let a=n[e];if(!_e(a))a={},n[e]=a;if(s||void 0===a[t])a[t]=i}const a=n[e];return _e(a)?a[t]:void 0}unsetCache(...e){const t=e.length;if(t){const i=this._cached;let s=0;while(s<t){const t=e[s++];switch(t){case"position":if(!this._preferInitial)this.cascade(e=>!e.pageFlow&&e.unsetCache("absoluteParent"));case"display":case"float":case"tagName":return void(this._cached={});case"width":i.actualWidth=void 0,i.percentWidth=void 0;case"minWidth":i.width=void 0;break;case"height":i.actualHeight=void 0,i.percentHeight=void 0;case"minHeight":if(i.height=void 0,!this._preferInitial)this.unsetCache("blockVertical"),this.each(e=>e.unsetCache("height","actualHeight","blockVertical","overflow","bottomAligned"));break;case"verticalAlign":i.baseline=void 0;break;case"left":case"right":case"textAlign":i.rightAligned=void 0,i.centerAligned=void 0;break;case"top":case"bottom":i.bottomAligned=void 0;break;default:if(t.startsWith("margin"))i.autoMargin=void 0,i.rightAligned=void 0,i.centerAligned=void 0;else if(t.startsWith("padding"))i.contentBoxWidth=void 0,i.contentBoxHeight=void 0;else if(t.startsWith("border"))i.visibleStyle=void 0,i.contentBoxWidth=void 0,i.contentBoxHeight=void 0;else if(t.startsWith("background"))i.visibleStyle=void 0;else if(Node.TEXT_STYLE.includes(t))i.lineHeight=void 0,this._textStyle=void 0;break}if(t in i)i[t]=void 0}}else this._cached={},this._textStyle=void 0;if(!this._preferInitial){let t;if(e.some(e=>ve(B[e].trait,8)))t=this.pageFlow&&this.ascend({condition:e=>e.documentRoot})[0]||this;else if(e.some(e=>ve(B[e].trait,16)))t=this;if(t){t.resetBounds();const e=t.queryMap;if(e){const t=e.length;let i,s=0;while(s<t){const t=e[s++],n=t.length;i=0;while(i<n)t[i++].resetBounds()}}else this.cascade(e=>e.resetBounds())}}}ascend(e){let t=e.attr;if(!t)t="actualParent";else if(!/[pP]arent$/.test(t))return[];const{condition:i,including:s,error:n,every:a,excluding:l}=e,r=[];let o=e.startSelf?this:this[t];while(o&&o!==l){if(n&&n(o))break;if(i){if(i(o))if(r.push(o),!a)break}else r.push(o);if(o===s)break;o=o[t]}return r}intersectX(e,t="linear"){if(e.width>0){const{left:i,right:s}=this[t],{left:n,right:a}=e;return Math.ceil(i)>=n&&i<Math.floor(a)||Math.floor(s)>n&&s<=Math.ceil(a)||Math.ceil(n)>=i&&n<Math.floor(s)||Math.floor(a)>i&&a<=Math.ceil(s)}return false}intersectY(e,t="linear"){if(e.height>0){const{top:i,bottom:s}=this[t],{top:n,bottom:a}=e;return Math.ceil(i)>=n&&i<Math.floor(a)||Math.floor(s)>n&&s<=Math.ceil(a)||Math.ceil(n)>=i&&n<Math.floor(s)||Math.floor(a)>i&&a<=Math.ceil(s)}return false}withinX(e,t="linear"){if(this.pageFlow||e.width>0){const{left:i,right:s}=this[t];return ue(i,e.left)&&fe(s,e.right)}return true}withinY(e,t="linear"){if(this.pageFlow||e.height>0){const{top:i,bottom:s}=this[t];return Math.ceil(i)>=e.top&&Math.floor(s)<=e.bottom}return true}outsideX(e,t="linear"){if(this.pageFlow||e.width>0){const{left:i,right:s}=this[t];return i<Math.floor(e.left)||s>Math.ceil(e.right)}return false}outsideY(e,t="linear"){if(this.pageFlow||e.height>0){const{top:i,bottom:s}=this[t];return i<Math.floor(e.top)||s>Math.ceil(e.bottom)}return false}css(e,t,i=true){if(t&&this.styleElement)if(this.style[e]=t,Le(t,this.style[e])){if(this._styleMap[e]=t,i)this.unsetCache(e);return t}return this._styleMap[e]||this.styleElement&&this.style[e]||""}cssApply(e,t=true){for(const i in e){const s=e[i];if(this.css(i,s,t)===s&&t)this.unsetCache(i)}return this}cssParent(e,t,i=false){var s;return(null===(s=this.actualParent)||void 0===s?void 0:s.css(e,t,i))||""}cssInitial(e,t){var i;return((null===(i=this._initial)||void 0===i?void 0:i.styleMap)||this._styleMap)[e]||(null==t?void 0:t.modified)&&this._styleMap[e]||(null==t?void 0:t.computed)&&this.style[e]||""}cssAscend(e,t){let i,s;if(t)({startSelf:i,initial:s}=t);let n,a=i?this:this.actualParent;while(a){if(n=s?a.cssInitial(e):a.css(e),""!==n)return n;if(a.documentBody)break;a=a.actualParent}return""}cssAny(e,t){const i=t.initial?this.cssInitial(e,t):this.css(e);return""!==i&&t.values.includes(i)}cssSort(e,t={}){const i=false!==t.ascending,s=true===t.byFloat,n=!s&&true===t.byInt;return(t.duplicate?this.duplicate():this.children).sort((t,a)=>{let l,r;if(s)l=t.toFloat(e,t.childIndex),r=a.toFloat(e,a.childIndex);else if(n)l=t.toInt(e,t.childIndex),r=a.toInt(e,a.childIndex);else l=t.css(e),r=a.css(e);if(l===r)return 0;else if(i)return l<r?-1:1;return l>r?-1:1})}cssPX(e,t,i,s){const n=this._styleMap[e];if(n&&$(n)){if((t+=K(n,this.fontSize))<0&&true!==(null==s?void 0:s.negative))t=0;const a=D(t);if(this.css(e,a),i)this.unsetCache(e);return a}return""}cssSpecificity(e){var t,i;let s;if(this.styleElement){const n=this._element;s=this.pseudoElement?null===(t=he(n.parentElement,"styleSpecificity"+ce(n,this.sessionId),this.sessionId))||void 0===t?void 0:t[e]:null===(i=he(n,"styleSpecificity",this.sessionId))||void 0===i?void 0:i[e]}return s||0}cssTry(e,t){if(this.styleElement){const i=this._element;return Me(i,e,this.sessionId,t,z(i).getPropertyValue(e))}return false}cssFinally(e){if(this.styleElement){const t=this._element;if("string"==typeof e)Pe(t,e,this.sessionId);else for(const i in e)Pe(t,i,this.sessionId)}}cssTryAll(e){if(this.styleElement){const t=[],i=this._element,s=z(i);for(const n in e)if(Me(i,n,this.sessionId,e[n],s.getPropertyValue(n)))t.push(n);else{let e=0;while(e<t.length)this.cssFinally(t[e++]);return}return e}}cssCopy(e,...t){const i=this._styleMap;let s=0;while(s<t.length){const n=t[s++];i[n]=e.css(n)}}cssCopyIfEmpty(e,...t){const i=this._styleMap;let s=0;while(s<t.length){const n=t[s++];if(!be(i[n]))i[n]=e.css(n)}}cssAsTuple(...e){const t=e.length,i=new Array(t);let s=0;while(s<t)i[s]=this.css(e[s++]);return i}cssAsObject(...e){const t={};let i=0;while(i<e.length){const s=e[i++];t[s]=this.css(s)}return t}toInt(e,t=NaN,i=false){var s;const n=parseInt((i&&(null===(s=this._initial)||void 0===s?void 0:s.styleMap)||this._styleMap)[e]);return!isNaN(n)?n:t}toFloat(e,t=NaN,i=false){var s;const n=parseFloat((i&&(null===(s=this._initial)||void 0===s?void 0:s.styleMap)||this._styleMap)[e]);return!isNaN(n)?n:t}toElementInt(e,t=NaN){var i;const s=parseInt(null===(i=this._element)||void 0===i?void 0:i[e]);return!isNaN(s)?s:t}toElementFloat(e,t=NaN){var i;const s=parseFloat(null===(i=this._element)||void 0===i?void 0:i[e]);return!isNaN(s)?s:t}toElementBoolean(e,t=false){var i;const s=null===(i=this._element)||void 0===i?void 0:i[e];return"boolean"==typeof s?s:t}toElementString(e,t=""){var i,s;return(null!==(s=null===(i=this._element)||void 0===i?void 0:i[e])&&void 0!==s?s:t).toString()}parseUnit(e,t){var i;if(V(e)){const s=false!==(null==t?void 0:t.parent)&&(null===(i=this.absoluteParent)||void 0===i?void 0:i.box)||this.bounds;let n=parseFloat(e)/100;switch(null==t?void 0:t.dimension){case"height":n*=s.height;break;default:n*=s.width;break}return n}return K(e,this.fontSize,null==t?void 0:t.screenDimension)}has(e,t){var i,s;const n=("initial"===(null==t?void 0:t.map)&&(null===(i=this._initial)||void 0===i?void 0:i.styleMap)||this._styleMap)[e];if(n){if("initial"===n||n===(null===(s=B[e])||void 0===s?void 0:s.value))return false;let i,a;if(t)({not:i,type:a}=t);if(i)if(n===i)return false;else if(Array.isArray(i)){let e=0;while(e<i.length)if(n===i[e++])return false}if(a)return ve(a,2)&&$(n)||ve(a,4)&&V(n)||ve(a,8)&&G(n)||ve(a,16)&&j(n);else return true}return false}hasPX(e,t){var i;let s,n;if(t)({initial:s,percent:n}=t);return $((s&&(null===(i=this._initial)||void 0===i?void 0:i.styleMap)||this._styleMap)[e],false!==n)}setBounds(e=true){let t;if(this.styleElement){if(!e)re(this._element,"clientRect",this.sessionId);t=Z(ae(this._element,this.sessionId)),this._bounds=t}else if(this.plainText){const e=te(this._element);t=Z(e);const i=e.numberOfLines;t.numberOfLines=i,this._bounds=t,this._textBounds=t,this._cached.multiline=i>1}if(!e&&t)this._box=void 0,this._linear=void 0;return t}resetBounds(){this._bounds=void 0,this._box=void 0,this._linear=void 0,this._textBounds=void 0,this._cached.multiline=void 0}querySelector(e){return this.querySelectorAll(e,1)[0]||null}querySelectorAll(e,t=-1){let i=[];const s=this.queryMap;if(s&&0!==t){const n=Q(e);let a=n.length,l=0;while(l<a){const e=n[l++],r=[];let o=-1;if("*"===e)r.push({all:true}),++o;else{e:{let t,i;while(i=Te.exec(e)){let e=i[1],s=false;if(1===e.length){const i=e.charAt(0);switch(i){case"+":case"~":--o;case">":if(t||0===r.length){r.length=0;break e}t=i;continue;case"*":s=true;break}}else if(e.startsWith("*|*")){if(e.length>3){r.length=0;break e}s=true}else if(e.startsWith("*|"))e=e.substring(2);else if(e.startsWith("::")){r.length=0;break e}if(s)r.push({all:true});else{let i,s,n,a,l,o,h;while(h=xe.exec(e)){if(!a)a=[];let t=h[1].replace("\\:",":"),i=false;switch(t.indexOf("|")){case-1:break;case 1:if("*"===t.charAt(0)){i=true,t=t.substring(2);break}default:r.length=0;break e}const s="i"===h[6];let n=h[3]||h[4]||h[5]||"";if(s)n=n.toLowerCase();a.push({key:t,symbol:h[2],value:n,endsWith:i,caseInsensitive:s}),e=Ee(e,h.index,h[0].length)}if(e.includes("::")){r.length=0;break e}while(h=Ce.exec(e)){const t=h[0];if(t.startsWith(":not(")){if(h[1]){if(!o)o=[];o.push(h[1])}}else{if(!l)l=[];l.push(t)}e=Ee(e,h.index,t.length)}while(h=ke.exec(e)){const t=h[0];switch(t.charAt(0)){case"#":s=t.substring(1);break;case".":if(!n)n=[];n.push(t.substring(1));break;default:i=t.toUpperCase();break}e=Ee(e,h.index,t.length)}r.push({tagName:i,id:s,adjacent:t,classList:n,pseudoList:l,notList:o,attrList:a})}++o,t=void 0}}Te.lastIndex=0}if(a=s.length,r.length&&-1!==o&&o<a){const e=r.pop(),h=0===r.length,c=i.length;let d;if(e.all&&a-o==1)d=s[o];else{d=[];let t=o;while(t<a){const n=s[t++];if(e.all)d=d.concat(n);else{const t=n.length;let s=0;while(s<t){const t=n[s++];if((0===c||!i.includes(t))&&je(this,t,e,l,h))d.push(t)}}}}if(r.length){r.reverse();let s=c;const n=d.length;let a=0;while(a<n){const n=d[a++];if((0===c||!i.includes(n))&&$e(this,r,l,0,e.adjacent,[n]))if(i.push(n),++s===t)return i.sort(We)}}else if(0===c)if(l===n.length-1||t>0&&t<=d.length){if(t>0&&d.length>t)d.length=t;return d.sort(We)}else i=d;else{const e=d.length;if(t>0){let s=c,n=0;while(n<e){const e=d[n++];if(!i.includes(e))if(i.push(e),++s===t)return i.sort(We)}}else{let t=0;while(t<e){const e=d[t++];if(!i.includes(e))i.push(e)}}}}}}return i.sort(We)}set $parent(e){this._parent=e}set parent(e){if(e){const t=this._parent;if(e!==t)null==t||t.remove(this),this._parent=e,e.add(this);else if(!e.contains(this))e.add(this);if(-1===this.depth)this.depth=e.depth+1}}get parent(){return this._parent}get tagName(){let e=this._cached.tagName;if(void 0===e){const t=this._element;if(t){const i=t.nodeName;e="#"===i.charAt(0)?i:t.tagName}else e="";this._cached.tagName=e}return e}get element(){return this._element}get elementId(){var e;return((null===(e=this._element)||void 0===e?void 0:e.id)||"").trim()}get htmlElement(){let e=this._cached.htmlElement;if(void 0===e)e=!this.plainText&&this._element instanceof HTMLElement,this._cached.htmlElement=e;return e}get svgElement(){let e=this._cached.svgElement;if(void 0===e)e=!this.htmlElement&&!this.plainText&&this._element instanceof SVGElement||this.imageElement&&ne.SVG.test(this.toElementString("src")),this._cached.svgElement=e;return e}get styleElement(){return this.htmlElement||this.svgElement}get naturalChild(){return true}get naturalElement(){let e=this._cached.naturalElement;if(void 0===e)e=this.naturalChild&&this.styleElement&&!this.pseudoElement,this._cached.naturalElement=e;return e}get parentElement(){var e,t;return(null===(e=this._element)||void 0===e?void 0:e.parentElement)||(null===(t=this.actualParent)||void 0===t?void 0:t.element)||null}get textElement(){return this.plainText||this.inlineText&&"BUTTON"!==this.tagName}get pseudoElement(){return false}get imageElement(){return"IMG"===this.tagName}get flexElement(){return this.display.endsWith("flex")}get gridElement(){return this.display.endsWith("grid")}get tableElement(){return"TABLE"===this.tagName||"table"===this.display}get inputElement(){switch(this.tagName){case"INPUT":case"BUTTON":case"SELECT":case"TEXTAREA":return true;default:return false}}get plainText(){return"#text"===this.tagName}get styleText(){return this.naturalElement&&this.inlineText}get lineBreak(){return"BR"===this.tagName}get display(){return this.css("display")}get positionRelative(){return"relative"===this.css("position")}get floating(){return"none"!==this.float}get float(){return this.pageFlow&&this.css("float")||"none"}get zIndex(){return this.toInt("zIndex",0)}get textContent(){return this.naturalChild&&!this.svgElement?this._element.textContent:""}get dataset(){if(this.styleElement)return this._element.dataset;else{let e=this._dataset;if(void 0===e)e={},this._dataset=e;return e}}get documentBody(){return this._element===document.body}get initial(){return this._initial}get bounds(){return this._bounds||this.setBounds(false)||Z(this.boundingClientRect)}get linear(){if(void 0===this._linear){const e=this.bounds;if(e)if(this.styleElement){const{marginBottom:t,marginRight:i}=this,s=Math.max(this.marginTop,0),n=Math.max(this.marginLeft,0);this._linear={top:e.top-s,right:e.right+i,bottom:e.bottom+t,left:e.left-n,width:e.width+n+i,height:e.height+s+t}}else this._linear=e;else return ie()}return this._linear}get box(){if(void 0===this._box){const e=this.bounds;if(e)if(this.styleElement&&this.naturalChildren.length)this._box={top:e.top+(this.paddingTop+this.borderTopWidth),right:e.right-(this.paddingRight+this.borderRightWidth),bottom:e.bottom-(this.paddingBottom+this.borderBottomWidth),left:e.left+(this.paddingLeft+this.borderLeftWidth),width:e.width-this.contentBoxWidth,height:e.height-this.contentBoxHeight};else this._box=e;else return ie()}return this._box}get flexdata(){let e=this._cached.flexdata;if(void 0===e){if(this.flexElement){const{flexWrap:t,flexDirection:i,alignContent:s,justifyContent:n}=this.cssAsObject("flexWrap","flexDirection","alignContent","justifyContent"),a=i.startsWith("row");e={row:a,column:!a,reverse:i.endsWith("reverse"),wrap:t.startsWith("wrap"),wrapReverse:"wrap-reverse"===t,alignContent:s,justifyContent:n}}else e={};this._cached.flexdata=e}return e}get flexbox(){let e=this._cached.flexbox;if(void 0===e){if(this.styleElement&&this.actualParent.flexElement){const[t,i,s]=this.cssAsTuple("alignSelf","justifySelf","flexBasis");e={alignSelf:"auto"===t?this.cssParent("alignItems"):t,justifySelf:"auto"===i?this.cssParent("justifyItems"):i,basis:s,grow:Ue(this,"flexGrow",0),shrink:Ue(this,"flexShrink",1),order:this.toInt("order",0)}}else e={};this._cached.flexbox=e}return e}get width(){let e=this._cached.width;if(void 0===e)e=De(this,this._styleMap,"width","minWidth","maxWidth"),this._cached.width=e;return e}get height(){let e=this._cached.height;if(void 0===e)e=De(this,this._styleMap,"height","minHeight","maxHeight"),this._cached.height=e;return e}get hasWidth(){let e=this._cached.hasWidth;if(void 0===e)e=this.width>0,this._cached.hasWidth=e;return e}get hasHeight(){var e;let t=this._cached.hasHeight;if(void 0===t){const i=this.css("height");if(V(i))t=this.pageFlow?(null===(e=this.actualParent)||void 0===e?void 0:e.hasHeight)||this.documentBody:"fixed"===this.css("position")||this.hasPX("top")||this.hasPX("bottom");else t=this.height>0||this.hasPX("height",{percent:false});this._cached.hasHeight=t}return t}get lineHeight(){var e;let t=this._cached.lineHeight;if(void 0===t){if(t=0,!this.imageElement&&!this.svgElement){let i=this.has("lineHeight"),s=0;if(i){const t=this.css("lineHeight");if(V(t))s=me(this.style.lineHeight);else if(ye(t))s=parseFloat(t)*this.fontSize;else if(s=K(t,this.fontSize),Y(t)&&"inherit"!==(null===(e=this._cssStyle)||void 0===e?void 0:e.lineHeight)){const e=Ge.call(this,"fontSize");if(He(e))s*=parseFloat(e)}}else{let e=this.ascend({condition:e=>e.has("lineHeight")})[0];if(e){const t=e.css("lineHeight");if(ye(t))s=parseFloat(t)*this.fontSize,i=true}if(0===s)if(e=this.ascend({condition:e=>e.lineHeight>0})[0],e)s=e.lineHeight;if(this.styleElement){const e=Ge.call(this,"fontSize");if(He(e)){const t=parseFloat(e);if(1!==t)s*=t,this.css("lineHeight",D(s)),i=true}}}if(i||s>this.height||this.multiline||this.block&&this.naturalChildren.some(e=>e.textElement))t=s}this._cached.lineHeight=t}return t}get positionStatic(){var e;let t=this._cached.positionStatic;if(void 0===t){switch(this.css("position")){case"absolute":case"fixed":t=false;break;case"relative":t=!this.documentBody&&0===this.toFloat("top",0)&&0===this.toFloat("right",0)&&0===this.toFloat("bottom",0)&&0===this.toFloat("left",0),this._cached.positionRelative=!t;break;case"inherit":{const i=null===(e=this._element)||void 0===e?void 0:e.parentElement;if(i){const e=q(i,"position");t="static"===e||"initial"===e}else t=true;break}default:t=true;break}this._cached.positionStatic=t}return t}get top(){let e=this._cached.top;if(void 0===e)e=Xe(this,"top"),this._cached.top=e;return e}get right(){let e=this._cached.right;if(void 0===e)e=Xe(this,"right"),this._cached.right=e;return e}get bottom(){let e=this._cached.bottom;if(void 0===e)e=Xe(this,"bottom"),this._cached.bottom=e;return e}get left(){let e=this._cached.left;if(void 0===e)e=Xe(this,"left"),this._cached.left=e;return e}get marginTop(){let e=this._cached.marginTop;if(void 0===e)e=this.inlineStatic?0:ze(this,"marginTop",true),this._cached.marginTop=e;return e}get marginRight(){let e=this._cached.marginRight;if(void 0===e)e=ze(this,"marginRight",true),this._cached.marginRight=e;return e}get marginBottom(){let e=this._cached.marginBottom;if(void 0===e)e=this.inlineStatic?0:ze(this,"marginBottom",true),this._cached.marginBottom=e;return e}get marginLeft(){let e=this._cached.marginLeft;if(void 0===e)e=ze(this,"marginLeft",true),this._cached.marginLeft=e;return e}get borderTopWidth(){let e=this._cached.borderTopWidth;if(void 0===e)e=qe(this,"height",Ie),this._cached.borderTopWidth=e;return e}get borderRightWidth(){let e=this._cached.borderRightWidth;if(void 0===e)e=qe(this,"height",Re),this._cached.borderRightWidth=e;return e}get borderBottomWidth(){let e=this._cached.borderBottomWidth;if(void 0===e)e=qe(this,"width",Ae),this._cached.borderBottomWidth=e;return e}get borderLeftWidth(){let e=this._cached.borderLeftWidth;if(void 0===e)e=qe(this,"width",Ne),this._cached.borderLeftWidth=e;return e}get paddingTop(){let e=this._cached.paddingTop;if(void 0===e)e=ze(this,"paddingTop",false),this._cached.paddingTop=e;return e}get paddingRight(){let e=this._cached.paddingRight;if(void 0===e)e=ze(this,"paddingRight",false),this._cached.paddingRight=e;return e}get paddingBottom(){let e=this._cached.paddingBottom;if(void 0===e)e=ze(this,"paddingBottom",false),this._cached.paddingBottom=e;return e}get paddingLeft(){let e=this._cached.paddingLeft;if(void 0===e)e=ze(this,"paddingLeft",false),this._cached.paddingLeft=e;return e}get contentBox(){return"border-box"!==this.css("boxSizing")||this.tableElement&&W(8)}get contentBoxWidth(){let e=this._cached.contentBoxWidth;if(void 0===e)e=this.tableElement&&"collapse"===this.css("borderCollapse")?0:this.borderLeftWidth+this.paddingLeft+this.paddingRight+this.borderRightWidth,this._cached.contentBoxWidth=e;return e}get contentBoxHeight(){let e=this._cached.contentBoxHeight;if(void 0===e)e=this.tableElement&&"collapse"===this.css("borderCollapse")?0:this.borderTopWidth+this.paddingTop+this.paddingBottom+this.borderBottomWidth,this._cached.contentBoxHeight=e;return e}get inline(){let e=this._cached.inline;if(void 0===e){const t=this.display;e="inline"===t||"initial"===t&&!J.includes(this.tagName),this._cached.inline=e}return e}get inlineStatic(){let e=this._cached.inlineStatic;if(void 0===e)e=this.inline&&this.pageFlow&&!this.floating&&!this.imageElement,this._cached.inlineStatic=e;return e}set inlineText(e){switch(this.tagName){case"IMG":case"INPUT":case"SELECT":case"TEXTAREA":case"SVG":case"BR":case"HR":case"PROGRESS":case"METER":case"CANVAS":this._inlineText=false;break;case"BUTTON":this._inlineText=""!==this.textContent.trim();break;default:this._inlineText=e;break}}get inlineText(){return this._inlineText}get block(){let e=this._cached.block;if(void 0===e){switch(this.display){case"block":case"flex":case"grid":case"list-item":e=true;break;case"initial":e=J.includes(this.tagName);break;case"inline":if("svg"===this.tagName&&this.actualParent.htmlElement){e=!this.hasPX("width")&&0===me(ee(this._element,"width"));break}default:e=false;break}this._cached.block=e}return e}get blockStatic(){let e=this._cached.blockStatic;if(void 0===e){e=false;const t=this.pageFlow;if(t&&(this.block&&!this.floating||this.lineBreak))e=true;else if(!t||!this.inline&&!this.display.startsWith("table-")&&!this.hasPX("maxWidth")){const t=Ge.call(this,"width"),i=Ge.call(this,"minWidth");let s=0;if(V(t))s=parseFloat(t);if(V(i))s=Math.max(parseFloat(i),s);if(s>0){const t=Ge.call(this,"marginLeft"),i=Ge.call(this,"marginRight");e=s+(V(t)?parseFloat(t):0)+(V(i)?parseFloat(i):0)>=100}}this._cached.blockStatic=e}return e}get pageFlow(){let e=this._cached.pageFlow;if(void 0===e)e=this.positionStatic||this.positionRelative,this._cached.pageFlow=e;return e}get centerAligned(){let e=this._cached.centerAligned;if(void 0===e)e=!this.pageFlow?this.hasPX("left")&&this.hasPX("right"):this.autoMargin.leftRight||Ve(this)&&Oe(this,"center"),this._cached.centerAligned=e;return e}get rightAligned(){let e=this._cached.rightAligned;if(void 0===e)e=!this.pageFlow?this.hasPX("right")&&!this.hasPX("left"):"right"===this.float||this.autoMargin.left||Ve(this)&&Oe(this,"right","end"),this._cached.rightAligned=e;return e}get bottomAligned(){var e;let t=this._cached.bottomAligned;if(void 0===t)t=!this.pageFlow?this.hasPX("bottom")&&!this.hasPX("top"):true===(null===(e=this.actualParent)||void 0===e?void 0:e.hasHeight)&&true===this.autoMargin.top,this._cached.bottomAligned=t;return t}get autoMargin(){let e=this._cached.autoMargin;if(void 0===e){if(!this.pageFlow||this.blockStatic||"table"===this.display){const t=this._styleMap,i="auto"===t.marginLeft&&(this.pageFlow||this.hasPX("right")),s="auto"===t.marginRight&&(this.pageFlow||this.hasPX("left")),n="auto"===t.marginTop&&(this.pageFlow||this.hasPX("bottom")),a="auto"===t.marginBottom&&(this.pageFlow||this.hasPX("top"));e={horizontal:i||s,left:i&&!s,right:!i&&s,leftRight:i&&s,vertical:n||a,top:n&&!a,bottom:!n&&a,topBottom:n&&a}}else e={};this._cached.autoMargin=e}return e}get baseline(){let e=this._cached.baseline;if(void 0===e){if(this.pageFlow&&!this.floating){const t=this.css("verticalAlign");e="baseline"===t||"initial"===t||0===this.naturalElements.length&&$(t,true)}else e=false;this._cached.baseline=e}return e}get verticalAlign(){let e=this._cached.verticalAlign;if(void 0===e){if(this.pageFlow){if(e=this.css("verticalAlign"),$(e,true))e=this.parseUnit(e,{dimension:"height"})+"px"}else e="0px";this._cached.verticalAlign=e}return e}set textBounds(e){this._textBounds=e}get textBounds(){let e=this._textBounds;if(void 0===e){if(e=null,this.naturalChild)if(this.textElement)e=le(this._element,this.sessionId);else{const t=this.naturalChildren,i=t.length;if(i){let s=1/0,n=-1/0,a=-1/0,l=1/0,r=0,o=0;while(o<i){const e=t[o++];if(e.textElement){const t=le(e.element,e.sessionId);s=Math.min(t.top,s),n=Math.max(t.right,n),l=Math.min(t.left,l),a=Math.max(t.bottom,a),r+=t.numberOfLines||0}}if(r>0)e={top:s,right:n,left:l,bottom:a,width:n-l,height:a-s,numberOfLines:r}}}this._textBounds=e}return e}get multiline(){var e;let t=this._cached.multiline;if(void 0===t){if(this.styleText)t=(this.inline||0===this.naturalElements.length||Fe(this.display)||this.floating)&&(null===(e=this.textBounds)||void 0===e?void 0:e.numberOfLines)>1;else t=this.plainText&&Math.floor(te(this._element).width)>this.actualParent.box.width;this._cached.multiline=t}return t}get backgroundColor(){let e=this._cached.backgroundColor;if(void 0===e){if(!this.plainText)switch(e=this.css("backgroundColor"),e){case"initial":case"transparent":case"rgba(0, 0, 0, 0)":if(e="",this.inputElement)if("BUTTON"===this.tagName)e="rgba(0, 0, 0, 0)";else switch(this.toElementString("type")){case"button":case"submit":case"reset":case"image":e="rgba(0, 0, 0, 0)";break}break;default:if(""!==e&&this.styleElement&&!this.inputElement&&(!this._initial||Ge.call(this,"backgroundColor")===e)){let t=this.actualParent;while(t){const i=Ge.call(t,"backgroundColor",{modified:true});if(""!==i){if(i===e&&""===t.backgroundColor)e="";break}t=t.actualParent}}break}else e="";this._cached.backgroundColor=e}return e}get backgroundImage(){let e=this._cached.backgroundImage;if(void 0===e){if(!this.plainText){let t=this.css("backgroundImage");if(""!==t&&"none"!==t&&"initial"!==t)e=t;else{e="";const i=/\s*(url|[a-z-]+gradient)/;if(t=this.css("background"),i.test(t)){const s=we(t),n=s.length;for(let t=1;t<n;++t){const n=s[t-1].trim();if(i.test(n))e+=(""!==e?", ":"")+n+s[t]}}}}else e="";this._cached.backgroundImage=e}return e}get percentWidth(){let e=this._cached.percentWidth;if(void 0===e){const t=Ge.call(this,"width");e=V(t)?parseFloat(t)/100:0,this._cached.percentWidth=e}return e}get percentHeight(){var e;let t=this._cached.percentHeight;if(void 0===t){const i=Ge.call(this,"height");t=V(i)&&((null===(e=this.actualParent)||void 0===e?void 0:e.hasHeight)||"fixed"===this.css("position"))?parseFloat(i)/100:0,this._cached.percentHeight=t}return t}get visibleStyle(){let e=this._cached.visibleStyle;if(void 0===e){if(!this.plainText){const t=this.borderTopWidth>0||this.borderRightWidth>0||this.borderBottomWidth>0||this.borderLeftWidth>0,i=""!==this.backgroundColor,s=""!==this.backgroundImage;let n=false,a=false;if(s)for(const e of this.css("backgroundRepeat").split(",")){const[t,i]=e.trim().split(" ");if(!n)n="repeat"===t||"repeat-x"===t;if(!a)a="repeat"===t||"repeat-y"===t||"repeat"===i}e={background:t||s||i,borderWidth:t,backgroundImage:s,backgroundColor:i,backgroundRepeat:n||a,backgroundRepeatX:n,backgroundRepeatY:a}}else e={};this._cached.visibleStyle=e}return e}get absoluteParent(){let e=this._cached.absoluteParent;if(void 0===e){if(e=this.actualParent,!this.pageFlow&&!this.documentBody)while(e&&!e.documentBody){switch(Ge.call(e,"position",{computed:true})){case"static":case"initial":case"unset":e=e.actualParent;continue}break}this._cached.absoluteParent=e}return e}set actualParent(e){this._cached.actualParent=e}get actualParent(){var e;let t=this._cached.actualParent;if(void 0===t){const i=null===(e=this._element)||void 0===e?void 0:e.parentElement;t=i&&oe(i,this.sessionId)||null,this._cached.actualParent=t}return t}get actualWidth(){var e;let t=this._cached.actualWidth;if(void 0===t){if(this.plainText){const e=this.bounds;switch(e.numberOfLines||1){case 1:t=e.width;break;case 2:t=Math.min(e.width,this.actualParent.box.width);break;default:t=Math.min(e.right-e.left,this.actualParent.box.width);break}}else if(this.inlineStatic||"table-cell"===this.display||true===(null===(e=this.actualParent)||void 0===e?void 0:e.flexdata.row))t=this.bounds.width;else if(t=this.width,t>0){if(this.contentBox&&!this.tableElement)t+=this.contentBoxWidth}else t=this.bounds.width;this._cached.actualWidth=t}return t}get actualHeight(){var e;let t=this._cached.actualHeight;if(void 0===t){if(this.inlineStatic||"table-cell"===this.display||true===(null===(e=this.actualParent)||void 0===e?void 0:e.flexdata.column))t=this.bounds.height;else if(t=this.height,t>0){if(this.contentBox&&!this.tableElement)t+=this.contentBoxHeight}else t=this.bounds.height;this._cached.actualHeight=t}return t}get actualDimension(){return{width:this.actualWidth,height:this.actualHeight}}set naturalChildren(e){this._naturalChildren=e}get naturalChildren(){return this._naturalChildren||function(e){var t;let i;if(e.naturalElement){i=[];const t=e.sessionId;let s=0;e.element.childNodes.forEach(e=>{const n=oe(e,t);if(n)n.childIndex=s++,i.push(n)})}else i=((null===(t=e.initial)||void 0===t?void 0:t.children)||e.children).slice(0);return e.naturalChildren=i,i}(this)}set naturalElements(e){this._naturalElements=e}get naturalElements(){return this._naturalElements||function(e){const t=e.naturalChildren.filter(e=>e.naturalElement);return e.naturalElements=t,t}(this)}get firstChild(){return this.naturalElements[0]||null}get lastChild(){const e=this.naturalElements,t=e.length;return t?e[t-1]:null}get previousSibling(){var e;return(null===(e=this.actualParent)||void 0===e?void 0:e.naturalChildren[this.childIndex-1])||null}get nextSibling(){var e;return(null===(e=this.actualParent)||void 0===e?void 0:e.naturalChildren[this.childIndex+1])||null}get previousElementSibling(){var e;const t=null===(e=this.actualParent)||void 0===e?void 0:e.naturalElements;if(t){const e=t.indexOf(this);if(e>0)return t[e-1]}return null}get nextElementSibling(){var e;const t=null===(e=this.actualParent)||void 0===e?void 0:e.naturalElements;if(t){const e=t.indexOf(this);if(-1!==e)return t[e+1]||null}return null}get attributes(){let e=this._cached.attributes;if(void 0===e){if(e={},this.styleElement){const t=this._element.attributes,i=t.length;let s=0;while(s<i){const i=t.item(s++);e[i.name]=i.value}}this._cached.attributes=e}return e}get boundingClientRect(){var e;return this.naturalElement&&(null===(e=this._element)||void 0===e?void 0:e.getBoundingClientRect())||this._bounds||ie()}get fontSize(){var e,t,i,s;let n=this._fontSize;if(void 0===n){if(this.naturalChild&&this.styleElement){const i=Ge.call(this,"fontSize");if(Y(i))n=parseFloat(i);else if(V(i)&&this._element!==document.documentElement)n=(null!==(t=null===(e=this.actualParent)||void 0===e?void 0:e.fontSize)&&void 0!==t?t:Be(z(this._element.parentElement||document.documentElement)))*parseFloat(i)/100;else n=Be(this.style)}else n=K(this.css("fontSize"));if(0===n&&!this.naturalChild){const e=this.element;n=e&&X(e)?(null===(i=oe(e,this.sessionId))||void 0===i?void 0:i.fontSize)||Be(z(e)):(null===(s=this.ascend({condition:e=>e.fontSize>0})[0])||void 0===s?void 0:s.fontSize)||Be(z(document.documentElement))}this._fontSize=n}return n}get cssStyle(){return Object.assign({},this._cssStyle)}get textStyle(){let e=this._textStyle;if(void 0===e)e=this.cssAsObject(...Node.TEXT_STYLE),e.fontSize=this.fontSize+"px",this._textStyle=e;return e}set dir(e){this._cached.dir=e}get dir(){let e=this._cached.dir;if(void 0===e){if(e=this.naturalElement?this._element.dir:"",""===e){let t=this.actualParent;while(t){if(e=t.dir,""!==e)break;t=t.actualParent}}this._cached.dir=e}return e}get center(){const e=this.bounds;return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}}Node.BOX_POSITION=["top","right","bottom","left"],Node.TEXT_STYLE=["fontFamily","fontWeight","fontStyle","fontVariant","fontStretch","color","whiteSpace","textDecoration","textTransform","letterSpacing","wordSpacing"];class NodeElement extends Node{constructor(e,t,i){super(e,t,i),this._cached={},this.init()}}const Ye={builtInExtensions:[],createQuerySelectorMap:true,showErrorMessages:false};let Qe,Ke=false;const Je={base:{Application:Application$1},lib:{},extensions:{},system:{},create:()=>(Qe=new Application$1(1,NodeElement,Controller),Ke=true,{application:Qe,framework:1,userSettings:Object.assign({},Ye)}),cached(){if(Ke)return{application:Qe,framework:1,userSettings:Qe.userSettings};else return Je.create()}};return Je}));
