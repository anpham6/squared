var android=function(){"use strict";var t;!function(t){t[t.CHECKBOX=1]="CHECKBOX",t[t.RADIO=2]="RADIO",t[t.EDIT=3]="EDIT",t[t.SELECT=4]="SELECT",t[t.RANGE=5]="RANGE",t[t.SVG=6]="SVG",t[t.TEXT=7]="TEXT",t[t.IMAGE=8]="IMAGE",t[t.BUTTON=9]="BUTTON",t[t.INLINE=10]="INLINE",t[t.LINE=11]="LINE",t[t.SPACE=12]="SPACE",t[t.BLOCK=13]="BLOCK",t[t.FRAME=14]="FRAME",t[t.LINEAR=15]="LINEAR",t[t.GRID=16]="GRID",t[t.RELATIVE=17]="RELATIVE",t[t.CONSTRAINT=18]="CONSTRAINT",t[t.WEBVIEW=19]="WEBVIEW",t[t.UNKNOWN=20]="UNKNOWN"}(t||(t={}));var e=Object.freeze({get CONTAINER_NODE(){return t}});const n={DELEGATE_FIXED:"android.delegate.fixed",DELEGATE_MAXWIDTHHEIGHT:"android.delegate.max-width-height",DELEGATE_NEGATIVEX:"android.delegate.negative-x",DELEGATE_PERCENT:"android.delegate.percent",DELEGATE_RADIOGROUP:"android.delegate.radiogroup",DELEGATE_SCROLLBAR:"android.delegate.scrollbar",DELEGATE_VERTICALALIGN:"android.delegate.verticalalign",CONSTRAINT_GUIDELINE:"android.constraint.guideline",RESOURCE_INCLUDES:"android.resource.includes",RESOURCE_BACKGROUND:"android.resource.background",RESOURCE_SVG:"android.resource.svg",RESOURCE_STRINGS:"android.resource.strings",RESOURCE_FONTS:"android.resource.fonts",RESOURCE_DIMENS:"android.resource.dimens",RESOURCE_STYLES:"android.resource.styles"},a={CHECKBOX:"CheckBox",RADIO:"RadioButton",EDIT:"EditText",SELECT:"Spinner",RANGE:"SeekBar",SVG:"ImageView",TEXT:"TextView",IMAGE:"ImageView",BUTTON:"Button",LINE:"View",SPACE:"Space",FRAME:"FrameLayout",LINEAR:"LinearLayout",GRID:"GridLayout",RELATIVE:"RelativeLayout",WEBVIEW:"WebView",CONSTRAINT:"android.support.constraint.ConstraintLayout",GUIDELINE:"android.support.constraint.Guideline"},o={PLAINTEXT:t.TEXT,HR:t.LINE,SVG:t.SVG,IMG:t.IMAGE,SELECT:t.SELECT,RANGE:t.RANGE,TEXT:t.EDIT,PASSWORD:t.EDIT,NUMBER:t.EDIT,EMAIL:t.EDIT,SEARCH:t.EDIT,URL:t.EDIT,DATE:t.EDIT,TEL:t.EDIT,TIME:t.EDIT,WEEK:t.EDIT,MONTH:t.EDIT,TEXTAREA:t.EDIT,FILE:t.BUTTON,IMAGE:t.BUTTON,BUTTON:t.BUTTON,SUBMIT:t.BUTTON,RESET:t.BUTTON,CHECKBOX:t.CHECKBOX,RADIO:t.RADIO,IFRAME:t.WEBVIEW,"DATETIME-LOCAL":t.EDIT},i={MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft"},r={HORIZONTAL:"horizontal",VERTICAL:"vertical"},s={relativeParent:{left:"layout_alignParentLeft",top:"layout_alignParentTop",right:"layout_alignParentRight",bottom:"layout_alignParentBottom",centerHorizontal:"layout_centerHorizontal",centerVertical:"layout_centerVertical"},relative:{left:"layout_alignLeft",top:"layout_alignTop",right:"layout_alignRight",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",leftRight:"layout_toRightOf",rightLeft:"layout_toLeftOf",topBottom:"layout_below",bottomTop:"layout_above"},constraint:{left:"layout_constraintLeft_toLeftOf",top:"layout_constraintTop_toTopOf",right:"layout_constraintRight_toRightOf",bottom:"layout_constraintBottom_toBottomOf",leftRight:"layout_constraintLeft_toRightOf",rightLeft:"layout_constraintRight_toLeftOf",baseline:"layout_constraintBaseline_toBaselineOf",topBottom:"layout_constraintTop_toBottomOf",bottomTop:"layout_constraintBottom_toTopOf"}},l={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",aapt:"http://schemas.android.com/aapt",tools:"http://schemas.android.com/tools"},c=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"];var d=Object.freeze({EXT_ANDROID:n,CONTAINER_ANDROID:a,ELEMENT_ANDROID:o,SUPPORT_ANDROID:{DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},BOX_ANDROID:i,AXIS_ANDROID:r,LAYOUT_ANDROID:s,XMLNS_ANDROID:l,PREFIX_ANDROID:{MENU:"ic_menu_",DIALOG:"ic_dialog_"},RESERVED_JAVA:c});const h=squared.base.Resource,u=squared.lib.color,p=squared.lib.css,m=squared.lib.regex,g=squared.lib.util,f=/[^\w+]/g,b="res/values",y="themes.xml",T=h.STORED;let A;function E(t,e=!1){if(t)for(const n in t)if("object"==typeof t[n])E(t,e);else{let a=""+t[n];switch(n){case"text":if(!a.startsWith("@string/")&&""!==(a=S.addString(a,"",e))){t[n]=`@string/${a}`;continue}break;case"src":case"srcCompat":if(m.PREFIX.PROTOCOL.test(a)&&""!==(a=S.addImage({mdpi:a}))){t[n]=`@drawable/${a}`;continue}}const o=u.parseColor(a);if(o){const e=S.addColor(o);""!==e&&(t[n]=`@color/${e}`)}}}class S extends squared.base.Resource{constructor(t,e){super(t,e),T.styles=new Map,T.themes=new Map,T.dimens=new Map,T.drawables=new Map,T.animators=new Map,A=t.controllerHandler.localSettings.supported.imageFormat}static formatOptions(t,e=!1){for(const n in t){const a=t[n];"object"==typeof a&&E(a,e)}return t}static formatName(t){return m.CHAR.LEADINGNUMBER.test(t)&&(t="__"+t),t.replace(f,"_")}static addTheme(...t){for(const e of t){const t=e.output&&g.isString(e.output.path)?e.output.path.trim():b,n=e.output&&g.isString(e.output.file)?e.output.file.trim():y,a=`${g.trimString(t.trim(),"/")}/${g.trimString(n.trim(),"/")}`,o=T.themes.get(a)||new Map;let i="";if(""===e.name||"."===e.name.charAt(0)){t:for(const t of T.themes.values())for(const e of t.values())if(e.name){i=e.name;break t}if(""===i)continue}else i=e.name;e.name=i+("."===e.name.charAt(0)?e.name:""),S.formatOptions(e.items);const r=o.get(e.name);if(r)for(const t in e.items)r.items[t]=e.items[t];else o.set(e.name,e);T.themes.set(a,o)}}static addString(t,e="",n=!1){if(""!==t){""===e&&(e=t.trim());const a=g.isNumber(t);if(!a||n){for(const[e,n]of T.strings.entries())if(n===t)return e;const n=g.trimString(e.replace(m.XML.NONWORD_G,"_"),"_").split(/_+/);n.length>1?(n.length>4&&(n.length=4),e=n.join("_")):e=n[0],e=e.toLowerCase(),a||m.CHAR.LEADINGNUMBER.test(e)||c.includes(e)?e=`__${e}`:""===e&&(e=`__symbol${Math.ceil(1e5*Math.random())}`),T.strings.has(e)&&(e=S.generateId("string",e)),T.strings.set(e,t)}return e}return""}static addImageSrc(t,e=""){const n={};if(t.srcset){const e=p.getSrcSet(t,A);for(const t of e){const e=t.pixelRatio;if(e>0){const a=t.src;e<1?n.ldpi=a:1===e?(void 0===n.mdpi||t.actualWidth)&&(n.mdpi=a):e<=1.5?n.hdpi=a:e<=2?n.xhdpi=a:e<=3?n.xxhdpi=a:n.xxxhdpi=a}}}return void 0===n.mdpi&&(n.mdpi=t.src),this.addImage(n,e)}static addImage(t,e=""){if(t.mdpi){const n=g.fromLastIndexOf(t.mdpi,"/"),a=g.fromLastIndexOf(n,".").toLowerCase();if(A.includes(a))return S.insertStoredAsset("images",S.formatName(e+n.substring(0,n.length-a.length-1)),t)}return""}static addImageURL(t,e=""){return""!==(t=p.resolveURL(t)||g.resolvePath(t))?this.addImage({mdpi:t},e):""}static addColor(t,e=!1){if("string"==typeof t&&(t=u.parseColor(t,void 0,e)),t&&(!t.transparent||e)){const e=t.semiopaque||t.transparent?t.valueAsARGB:t.value;let n=T.colors.get(e);if(n)return n;const a=u.findColorShade(t.value);if(a)return n=e===a.value?a.name:S.generateId("color",a.name),T.colors.set(e,n),n}return""}get userSettings(){return this.application.userSettings}}const x=squared.lib.util;function w(t,e,n,a=0){return(!n||n>=a)&&(t.attr=e,!0)}const R={28:{android:{},app:{},assign:{}},27:{android:{accessibilityHeading:!1,accessibilityPaneTitle:!1,appComponentFactory:!1,buttonCornerRadius:!1,cantSaveState:!1,dialogCornerRadius:!1,fallbackLineSpacing:!1,firstBaselineToTopHeight:!1,fontVariationSettings:!1,lastBaselineToBottomHeight:!1,lineHeight:!1,maxLongVersionCode:!1,outlineAmbientShadowColor:!1,outlineSpotShadowColor:!1,screenReaderFocusable:!1,textFontWeight:!1,ttcIndex:!1,versionCodeMajor:!1,versionMajor:!1,widgetFeatures:!1,windowLayoutInDisplayCutoutMode:!1},app:{},assign:{}},26:{android:{classLoader:!1,navigationBarDividerColor:!1,showWhenLocked:!1,turnScreenOn:!1,windowLightNavigationBar:!1},app:{},assign:{}},25:{android:{fontWeight:!1,justificationMode:!1,layout_marginHorizontal:!1,layout_marginVertical:!1,paddingHorizontal:!1,paddingVertical:!1},app:{},assign:{}},24:{android:{colorSecondary:!1,contextDescription:!1,contextUri:!1,roundIcon:!1,shortcutDisabledMessage:!1,shortcutId:!1,shortcutLongLabel:!1,shortcutShortLabel:!1,showMetadataInPreview:!1},app:{},assign:{}},23:{android:{backupInForeground:!1,bitmap:!1,buttonGravity:!1,canControlMagnification:!1,canPerformGestures:!1,canRecord:!1,collapseIcon:!1,contentInsetEndWithActions:!1,contentInsetStartWithNavigation:!1,contextPopupMenuStyle:!1,countDown:!1,defaultHeight:!1,defaultToDeviceProtectedStorage:!1,defaultWidth:!1,directBootAware:!1,enableVrMode:!1,endX:!1,endY:!1,externalService:!1,fillType:!1,forceHasOverlappingRendering:!1,hotSpotX:!1,hotSpotY:!1,languageTag:!1,level:!1,listMenuViewStyle:!1,maxButtonHeight:!1,networkSecurityConfig:!1,numberPickerStyle:!1,offset:!1,pointerIcon:!1,popupEnterTransition:!1,popupExitTransition:!1,preferenceFragmentStyle:!1,resizeableActivity:!1,startX:!1,startY:!1,subMenuArrow:!1,supportsLocalInteraction:!1,supportsPictureInPicture:!1,textAppearancePopupMenuHeader:!1,tickMark:!1,tickMarkTint:!1,tickMarkTintMode:!1,titleMargin:!1,titleMarginBottom:!1,titleMarginEnd:!1,titleMarginStart:!1,titleMarginTop:!1,tunerCount:!1,use32bitAbi:!1,version:!1,windowBackgroundFallback:!1},app:{},assign:{}},22:{android:{allowUndo:!1,autoVerify:!1,breakStrategy:!1,colorBackgroundFloating:!1,contextClickable:!1,drawableTint:!1,drawableTintMode:!1,end:t=>w(t,"right"),extractNativeLibs:!1,fingerprintAuthDrawable:!1,fraction:!1,fullBackupContent:!1,hyphenationFrequency:!1,lockTaskMode:!1,logoDescription:!1,numbersInnerTextColor:!1,scrollIndicators:!1,showForAllUsers:!1,start:t=>w(t,"left"),subtitleTextColor:!1,supportsAssist:!1,supportsLaunchVoiceAssistFromKeyguard:!1,thumbPosition:!1,titleTextColor:!1,trackTint:!1,trackTintMode:!1,usesCleartextTraffic:!1,windowLightStatusBar:!1},app:{},assign:{}},21:{android:{accessibilityTraversalAfter:!1,accessibilityTraversalBefore:!1,collapseContentDescription:!1,dialogPreferredPadding:!1,resizeClip:!1,revisionCode:!1,searchHintIcon:!1},app:{},assign:{}},20:{android:{actionBarPopupTheme:!1,actionBarTheme:!1,actionModeFindDrawable:!1,actionModeShareDrawable:!1,actionModeWebSearchDrawable:!1,actionOverflowMenuStyle:!1,amPmBackgroundColor:!1,amPmTextColor:!1,ambientShadowAlpha:!1,autoRemoveFromRecents:!1,backgroundTint:!1,backgroundTintMode:!1,banner:!1,buttonBarNegativeButtonStyle:!1,buttonBarNeutralButtonStyle:!1,buttonBarPositiveButtonStyle:!1,buttonTint:!1,buttonTintMode:!1,calendarTextColor:!1,checkMarkTint:!1,checkMarkTintMode:!1,closeIcon:!1,colorAccent:!1,colorButtonNormal:!1,colorControlActivated:!1,colorControlHighlight:!1,colorControlNormal:!1,colorEdgeEffect:!1,colorPrimary:!1,colorPrimaryDark:!1,commitIcon:!1,contentAgeHint:!1,contentInsetEnd:!1,contentInsetLeft:!1,contentInsetRight:!1,contentInsetStart:!1,controlX1:!1,controlX2:!1,controlY1:!1,controlY2:!1,country:!1,datePickerDialogTheme:!1,datePickerMode:!1,dayOfWeekBackground:!1,dayOfWeekTextAppearance:!1,documentLaunchMode:!1,elegantTextHeight:!1,elevation:!1,excludeClass:!1,excludeId:!1,excludeName:!1,fastScrollStyle:!1,fillAlpha:!1,fillColor:!1,fontFeatureSettings:!1,foregroundTint:!1,foregroundTintMode:!1,fragmentAllowEnterTransitionOverlap:!1,fragmentAllowReturnTransitionOverlap:!1,fragmentEnterTransition:!1,fragmentExitTransition:!1,fragmentReenterTransition:!1,fragmentReturnTransition:!1,fragmentSharedElementEnterTransition:!1,fragmentSharedElementReturnTransition:!1,fromId:!1,fullBackupOnly:!1,goIcon:!1,headerAmPmTextAppearance:!1,headerDayOfMonthTextAppearance:!1,headerMonthTextAppearance:!1,headerTimeTextAppearance:!1,headerYearTextAppearance:!1,hideOnContentScroll:!1,indeterminateTint:!1,indeterminateTintMode:!1,inset:!1,isGame:!1,launchTaskBehindSourceAnimation:!1,launchTaskBehindTargetAnimation:!1,layout_columnWeight:!1,layout_rowWeight:!1,letterSpacing:!1,matchOrder:!1,maxRecentsv:!1,maximumAngle:!1,minimumHorizontalAngle:!1,minimumVerticalAngle:!1,multiArch:!1,navigationBarColor:!1,navigationContentDescription:!1,navigationIcon:!1,nestedScrollingEnabled:!1,numbersBackgroundColor:!1,numbersSelectorColor:!1,numbersTextColor:!1,outlineProvider:!1,overlapAnchor:!1,paddingMode:!1,pathData:!1,patternPathData:!1,persistableMode:!1,popupElevation:!1,popupTheme:!1,progressBackgroundTint:!1,progressBackgroundTintMode:!1,progressTint:!1,progressTintMode:!1,propertyXName:!1,propertyYName:!1,queryBackground:!1,recognitionService:!1,relinquishTaskIdentity:!1,reparent:!1,reparentWithOverlay:!1,restrictionType:!1,resumeWhilePausing:!1,reversible:!1,searchIcon:!1,searchViewStyle:!1,secondaryProgressTint:!1,secondaryProgressTintMode:!1,selectableItemBackgroundBorderless:!1,sessionService:!1,setupActivity:!1,showText:!1,slideEdge:!1,splitTrack:!1,spotShadowAlpha:!1,src:(t,e,n)=>(n.svgElement&&(t.obj="app",t.attr="srcCompat"),!0),stackViewStyle:!1,stateListAnimator:!1,statusBarColor:!1,strokeAlpha:!1,strokeColor:!1,strokeLineCap:!1,strokeLineJoin:!1,strokeMiterLimit:!1,strokeWidth:!1,submitBackground:!1,subtitleTextAppearance:!1,suggestionRowLayout:!1,switchStyle:!1,targetName:!1,textAppearanceListItemSecondary:!1,thumbTint:!1,thumbTintMode:!1,tileModeX:!1,tileModeY:!1,timePickerDialogTheme:!1,timePickerMode:!1,timePickerStyle:!1,tintMode:!1,titleTextAppearance:!1,toId:!1,toolbarStyle:!1,touchscreenBlocksFocus:!1,transitionGroup:!1,transitionName:!1,transitionVisibilityMode:!1,translateX:!1,translateY:!1,translationZ:!1,trimPathEnd:!1,trimPathOffset:!1,trimPathStart:!1,viewportHeight:!1,viewportWidth:!1,voiceIcon:!1,windowActivityTransitions:!1,windowAllowEnterTransitionOverlap:!1,windowAllowReturnTransitionOverlap:!1,windowClipToOutline:!1,windowContentTransitionManager:!1,windowContentTransitions:!1,windowDrawsSystemBarBackgrounds:!1,windowElevation:!1,windowEnterTransition:!1,windowExitTransition:!1,windowReenterTransition:!1,windowReturnTransition:!1,windowSharedElementEnterTransition:!1,windowSharedElementExitTransition:!1,windowSharedElementReenterTransition:!1,windowSharedElementReturnTransition:!1,windowSharedElementsUseOverlay:!1,windowTransitionBackgroundFadeDuration:!1,yearListItemTextAppearance:!1,yearListSelectorColor:!1},app:{},assign:{}},19:{android:{allowEmbedded:!1,windowSwipeToDismiss:!1},app:{},assign:{}},18:{android:{accessibilityLiveRegion:!1,addPrintersActivity:!1,advancedPrintOptionsActivity:!1,apduServiceBanner:!1,autoMirrored:!1,category:!1,fadingMode:!1,fromScene:!1,isAsciiCapable:!1,keySet:!1,requireDeviceUnlock:!1,ssp:!1,sspPattern:!1,sspPrefix:!1,startDelay:!1,supportsSwitchingToNextInputMethod:!1,targetId:!1,toScene:!1,transition:!1,transitionOrdering:!1,vendor:!1,windowTranslucentNavigation:!1,windowTranslucentStatus:!1},app:{},assign:{}},17:{android:{canRequestEnhancedWebAccessibility:(t,e)=>e<26,canRequestFilterKeyEvents:!1,canRequestTouchExplorationMode:!1,childIndicatorEnd:!1,childIndicatorStart:!1,indicatorEnd:!1,indicatorStart:!1,layoutMode:!1,mipMap:!1,mirrorForRtl:!1,requiredAccountType:!1,requiredForAllUsers:!1,restrictedAccountType:!1,windowOverscan:!1},app:{},assign:{}},16:{android:{checkedTextViewStyle:!1,format12Hour:!1,format24Hour:!1,initialKeyguardLayout:!1,labelFor:!1,layoutDirection:!1,layout_alignEnd:t=>w(t,"layout_alignRight"),layout_alignParentEnd:t=>w(t,"layout_alignParentRight"),layout_alignParentStart:t=>w(t,"layout_alignParentLeft"),layout_alignStart:t=>w(t,"layout_alignLeft"),layout_marginEnd:t=>w(t,"layout_marginRight"),layout_marginStart:t=>w(t,"layout_marginLeft"),layout_toEndOf:t=>w(t,"layout_toRightOf"),layout_toStartOf:t=>w(t,"layout_toLeftOf"),listPreferredItemPaddingEnd:t=>w(t,"listPreferredItemPaddingRight"),listPreferredItemPaddingStart:t=>w(t,"listPreferredItemPaddingLeft"),paddingEnd:t=>w(t,"paddingRight"),paddingStart:t=>w(t,"paddingLeft"),permissionFlags:!1,permissionGroupFlags:!1,presentationTheme:!1,showOnLockScreen:!1,singleUser:!1,subtypeId:!1,supportsRtl:!1,textAlignment:!1,textDirection:!1,timeZone:!1,widgetCategory:!1},app:{},assign:{}},15:{android:{fontFamily:!1,importantForAccessibility:!1,isolatedProcess:!1,keyboardLayout:!1,mediaRouteButtonStyle:!1,mediaRouteTypes:!1,parentActivityName:!1},app:{},assign:{}},14:{android:{},app:{},assign:{}},0:{android:{},app:{},assign:{Button:{android:{textAllCaps:"false"}}}}},_={android:{amPmBackgroundColor:(t,e)=>w(t,"headerBackground",e,23),amPmTextColor:(t,e)=>w(t,"headerTextColor",e,23),animationResolution:(t,e)=>e<16,canRequestEnhancedWebAccessibility:(t,e)=>e<26,dayOfWeekBackground:(t,e)=>e<23,dayOfWeekTextAppearance:(t,e)=>e<23,directionDescriptions:(t,e)=>e<23,headerAmPmTextAppearance:(t,e)=>w(t,"headerTextColor",e,23),headerDayOfMonthTextAppearance:(t,e)=>w(t,"headerTextColor",e,23),headerMonthTextAppearance:(t,e)=>w(t,"headerTextColor",e,23),headerTimeTextAppearance:(t,e)=>w(t,"headerTextColor",e,23),headerYearTextAppearance:(t,e)=>w(t,"headerTextColor",e,23),showOnLockScreen:(t,e)=>w(t,"showForAllUsers",e,23),targetDescriptions:(t,e)=>e<23,yearListItemTextAppearance:(t,e)=>w(t,"yearListTextColor",e,23),yearListSelectorColor:(t,e)=>e<23}};var v=Object.freeze({API_ANDROID:R,DEPRECATED_ANDROID:_,getValue:function(t,e,n,a){for(const o of[R[t],R[0]]){const t=x.optionalAsString(o,`assign.${e}.${n}.${a}`);if(x.isString(t))return t}return""}});function I(t,e,n=4){return 0===t?0:0===e?1:parseFloat(Math.max(t/(t+e),0).toPrecision(n))}function N(t){return t?t.replace(/^@\+?id\//,""):""}function P(t){return Object.assign({android:{},app:{}},t)}function C(t){const e={output:{path:"res/values",file:""},name:"",parent:"",items:{}};if(t&&"object"==typeof t)for(const n in e)typeof t[n]==typeof e[n]&&(e[n]=t[n]);return e}function L(t,e,n){if(e&&n>=17)switch(t){case"left":return"start";case"right":return"end";case"layout_marginLeft":return"layout_marginStart";case"layout_marginRight":return"layout_marginEnd";case"paddingLeft":return"paddingStart";case"paddingRight":return"paddingEnd";case"layout_alignParentLeft":return"layout_alignParentStart";case"layout_alignParentRight":return"layout_alignParentEnd";case"layout_alignLeft":return"layout_alignStart";case"layout_alignRight":return"layout_alignEnd";case"layout_toRightOf":return"layout_toEndOf";case"layout_toLeftOf":return"layout_toStartOf";case"layout_constraintLeft_toLeftOf":return"layout_constraintStart_toStartOf";case"layout_constraintRight_toRightOf":return"layout_constraintEnd_toEndOf";case"layout_constraintLeft_toRightOf":return"layout_constraintStart_toEndOf";case"layout_constraintRight_toLeftOf":return"layout_constraintEnd_toStartOf"}return t}function O(t){return l[t]?`xmlns:${t}="${l[t]}"`:""}function M(t){let e="";for(const n in l)-1!==t.indexOf(`${n}:`)&&(e+=`\n\t${O(n)}`);return e}var k=Object.freeze({stripId:N,getHorizontalBias:function(t){const e=t.documentParent;return I(Math.max(0,t.actualRect("left","bounds")-e.box.left),Math.max(0,e.box.right-t.actualRect("right","bounds")),t.localSettings.floatPrecision)},getVerticalBias:function(t){const e=t.documentParent;return I(Math.max(0,t.actualRect("top","bounds")-e.box.top),Math.max(0,e.box.bottom-t.actualRect("bottom","bounds")),t.localSettings.floatPrecision)},createViewAttribute:P,createStyleAttribute:C,localizeString:L,getXmlNs:O,getRootNs:M}),D=squared.base.NodeList,B=squared.base.Resource;const X=squared.base.lib.enumeration,G=squared.lib.client,V=squared.lib.css,W=squared.lib.dom,H=squared.lib.math,F=squared.lib.util,z=/^attr[A-Z]/,q=/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/,$=/[^\w$\-_.]/g;function U(t,e=!1){switch(t){case"justify":case"initial":case"inherit":return"";case"center":return"center_horizontal";case"start":case"left":if(e)return"";default:return t}}function j(t){const e=t.innerChild||t;if(!t.blockWidth||t.width>0||t.has("maxWidth")||e.has("width",32,{not:"100%"})){const e=[];if(t.autoMargin.leftRight?e.push("center_horizontal"):t.autoMargin.left?e.push("right"):t.autoMargin.right&&e.push("left"),t.autoMargin.topBottom?e.push("center_vertical"):t.autoMargin.top?e.push("bottom"):t.autoMargin.bottom&&e.push("top"),e.length){const n=void 0!==t.outerParent||!t.blockWidth&&t.pageFlow?"layout_gravity":"gravity";for(const a of e)t.mergeGravity(n,a);return!0}}return!1}function Y(t,e,n){if(t.localSettings.targetAPI>=28)t.android("lineHeight",V.formatPX(e),n);else{const a=(e-t.actualHeight)/2;a>0&&t.android("lineSpacingExtra",V.formatPX(a),n)}}function K(t,e,n,a=!0,o=!0){if(!t.imageElement&&!t.svgElement)if(t.multiline)Y(t,e,!1);else if(0===t.length){let i;if(t.styleElement&&!n&&!t.hasHeight&&t.cssTry("lineHeight","normal"))i=(e-(t.element.getBoundingClientRect().height||t.actualHeight))/2,t.cssFinally("lineHeight");else{if(n&&t.inlineText&&(!t.inlineVertical||"table-cell"===t.display))return void Z(t,e);i=(e-t.actualHeight)/2}Math.floor(i)>0&&(a&&t.modifyBox(2,Math.floor(i)),o&&t.modifyBox(8,Math.ceil(i)))}else n&&e>t.height&&(t.layoutHorizontal&&void 0===t.horizontalRows||t.hasAlign(2048))&&Z(t,e)}function Z(t,e){const n=t.parseUnit(t.css("minHeight"),!0);t.inlineText&&(e+=t.contentBoxHeight,t.mergeGravity("gravity","center_vertical",!1)),e>n&&t.android("minHeight",V.formatPX(e))}var J=e=>(class n extends e{constructor(t=0,e="0",n,a){super(t,e,n),this.renderChildren=[],this.constraint={horizontal:!1,vertical:!1,current:{}},this._namespaces=["android","app"],this._controlName="",this._fontSize=0,this._boxAdjustment=W.newBoxModel(),this._boxReset=W.newBoxModel(),this._containerType=0,this._localSettings={targetAPI:28,supportRTL:!1,floatPrecision:3},this.__android={},this.__app={},a&&a(this)}static documentBody(){if(void 0===n._documentBody){const t=new n(0,"0",document.body);t.hide(),t.setBounds(),n._documentBody=t}return n._documentBody}static getControlName(e){return a[t[e]]}attr(t,e,n,a=!0){const o={};return this.supported(t,e,o)?(Object.keys(o).length&&(F.isString(o.obj)&&(t=o.obj),F.isString(o.attr)&&(e=o.attr),F.isString(o.value)&&(n=o.value),"boolean"==typeof o.overwrite&&(a=o.overwrite)),super.attr(t,e,n,a)):""}android(t,e,n=!0){return e&&this.attr("android",t,e,n),this.__android[t]||""}app(t,e,n=!0){return e&&this.attr("app",t,e,n),this.__app[t]||""}apply(t){const e=Object.assign({},t);super.apply(e);for(const t in e)this.formatted(`${t}="${e[t]}"`)}formatted(t,e=!0){const n=q.exec(t);n&&this.attr(n[1]||"_",n[2],n[3],e)}anchor(t,e="",n){const a=this.actualAnchor,o=a.renderParent;if(o)if(o.layoutConstraint){if(""===e||void 0===this.constraint.current[t]||n){e&&void 0===n&&(n="parent"===e);const o=s.constraint[t];if(o){if(a.app(this.localizeString(o),e,n),"parent"===e)switch(t){case"left":case"right":a.constraint.horizontal=!0;break;case"top":case"bottom":case"baseline":a.constraint.vertical=!0}return a.constraint.current[t]={documentId:e,horizontal:-1!==F.firstIndexOf(t.toLowerCase(),"left","right")},!0}}}else if(o.layoutRelative){return e&&void 0===n&&(n="true"===e),a.android(this.localizeString(s["true"===e?"relativeParent":"relative"][t]),e,n),!0}return!1}anchorParent(t,e=!1,n){const a=this.actualAnchor,o=a.renderParent;if(o){const i=t===r.HORIZONTAL;if(o.layoutConstraint){if(e||!this.constraint[t])return a.anchor(i?"left":"top","parent"),a.anchor(i?"right":"bottom","parent"),a.constraint[t]=!0,void 0!==n&&a.anchorStyle(t,"packed",n,e),!0}else if(o.layoutRelative)return a.anchor(i?"left":"top","true"),a.anchor(i?"right":"bottom","true"),!0}return!1}anchorStyle(t,e="packed",n=0,a=!0){t=F.capitalize(t);const o=this.actualAnchor;o.app(`layout_constraint${t}_chainStyle`,e,a),o.app(`layout_constraint${t}_bias`,""+n,a)}anchorDelete(...t){const e=this.actualAnchor,n=e.renderParent;if(n)if(n.layoutConstraint)e.delete("app",...F.replaceMap(t,t=>this.localizeString(s.constraint[t])));else if(n.layoutRelative)for(const n of t)""!==e.alignSibling(n)?e.delete("android",s.relative[n],this.localizeString(s.relative[n])):s.relativeParent[n]&&e.delete("android",this.localizeString(s.relativeParent[n]))}anchorClear(){const t=this.actualAnchor,e=t.renderParent;e&&(e.layoutConstraint?t.anchorDelete(...Object.keys(s.constraint)):e.layoutRelative&&(t.anchorDelete(...Object.keys(s.relativeParent)),t.anchorDelete(...Object.keys(s.relative))))}alignParent(t){const e=this.actualAnchor,n=e.renderParent;if(n)if(n.layoutConstraint){const n=s.constraint[t];if(n)return"parent"===e.app(this.localizeString(n))||"parent"===e.app(n)}else if(n.layoutRelative){const n=s.relativeParent[t];if(n)return"true"===e.android(this.localizeString(n))||"true"===e.android(n)}return!1}alignSibling(t,e){const n=this.actualAnchor,a=n.renderParent;if(a)if(e){if(a.layoutConstraint){const a=s.constraint[t];a&&n.app(this.localizeString(a),e)}else if(a.layoutRelative){const a=s.relative[t];a&&n.android(this.localizeString(a),e)}}else if(a.layoutConstraint){const e=s.constraint[t];if(e){const t=n.app(this.localizeString(e))||n.app(e);return"parent"!==t&&t!==a.documentId?t:""}}else if(a.layoutRelative){const e=s.relative[t];if(e)return n.android(this.localizeString(e))||n.android(e)}return""}supported(t,e,n={}){if(this.localSettings.targetAPI<28){const a=_[t];if(a&&"function"==typeof a[e]){const t=a[e](n,this.localSettings.targetAPI,this);if(!t||Object.keys(n).length)return t}for(let a=this.localSettings.targetAPI;a<=28;a++){const o=R[a];if(o&&o[t]&&void 0!==o[t][e]){const a=o[t][e];if("boolean"==typeof a)return a;if("function"==typeof a)return a(n,this.localSettings.targetAPI,this)}}}return!0}combine(...t){const e=[];let n;for(const a of this._namespaces)if(0===t.length||t.includes(a)){const t=this[`__${a}`];if(t)for(const o in t){const i=("_"!==a?`${a}:`:"")+`${o}="${t[o]}"`;"id"===o?n=i:e.push(i)}}return e.sort((t,e)=>t>e?1:-1),n&&e.unshift(n),e}localizeString(t){return this.hasProcedure(X.NODE_PROCEDURE.LOCALIZATION)?L(t,this.localSettings.supportRTL,this.localSettings.targetAPI):t}hide(t){t?this.android("visibility","invisible"):super.hide()}clone(t,e=!1,a=!1){const o=new n(t||this.id,this.sessionId,this.element||void 0);if(Object.assign(o.localSettings,this.localSettings),o.tagName=this.tagName,void 0!==t?o.setControlType(this.controlName,this.containerType):(o.controlId=this.controlId,o.controlName=this.controlName,o.containerType=this.containerType),o.alignmentType=this.alignmentType,o.depth=this.depth,o.visible=this.visible,o.excluded=this.excluded,o.rendered=this.rendered,o.renderParent=this.renderParent,o.documentParent=this.documentParent,o.documentRoot=this.documentRoot,this.length&&o.retain(this.duplicate()),e){Object.assign(o.unsafe("boxReset"),this._boxReset),Object.assign(o.unsafe("boxAdjustment"),this._boxAdjustment);for(const t of this._namespaces){const e=this[`__${t}`];for(const n in e)o.attr(t,n,"android"===t&&"id"===n?o.documentId:e[n])}}return a&&(o.anchorClear(),o.anchor("left",this.documentId)&&(Object.assign(o.unsafe("boxReset"),{marginLeft:1}),Object.assign(o.unsafe("boxAdjustment"),{marginLeft:0})),o.anchor("top",this.documentId)&&(Object.assign(o.unsafe("boxReset"),{marginTop:1}),Object.assign(o.unsafe("boxAdjustment"),{marginTop:0}))),o.inherit(this,"initial","base","alignment","styleMap"),Object.assign(o.unsafe("cached"),this.unsafe("cached")),o}setControlType(e,n){if(this.controlName=e,this.containerType=n||t.UNKNOWN,this.controlId=N(this.android("id")),""===this.controlId){let t;this.styleElement&&this.naturalElement&&("parent"===(t=(t=>t?t.trim().replace($,"_"):"")(this.elementId||W.getNamedItem(this.element,"name")))||c.includes(t))&&(t=`_${t}`),this.controlId=F.convertWord(B.generateId("android",t||F.fromLastIndexOf(this.controlName,".").toLowerCase(),t?0:1)),this.android("id",this.documentId)}}setLayout(){const e=this.renderParent;if(e){switch(this.cssAscend("visibility",!0)){case"hidden":case"collapse":this.hide(!0)}if(this.plainText)return this.android("layout_width","wrap_content",!1),void this.android("layout_height","wrap_content",!1);if(this.documentBody&&(!this.hasWidth&&this.renderChildren.some(t=>t.alignParent("right"))&&this.android("layout_width","match_parent",!1),!this.hasHeight&&this.renderChildren.some(t=>t.alignParent("bottom"))&&this.android("layout_height","match_parent",!1)),""===this.android("layout_width")){let n;if(!this.inlineStatic&&this.has("width")||this.toInt("width")>0&&""===this.cssInitial("width")){const a=this.css("width");let o=-1;V.isLength(a)?o=this.actualWidth:V.isPercent(a)&&(e.is(t.GRID)?(n="0px",this.android("layout_columnWeight",H.truncate(parseInt(a)/100,this.localSettings.floatPrecision),!1)):"100%"===a?!this.has("maxWidth")||this.textElement||this.imageElement||this.svgElement?e.blockWidth?(n="match_parent",this.imageElement&&this.android("adjustViewBounds","true"),o=-1):o=this.imageElement?this.bounds.width:this.actualWidth:o=Math.min(this.parseUnit(this.css("maxWidth")),this.documentParent.box.width):o=this.actualWidth),o>0&&(n=V.formatPX(o))}else this.imageElement&&this.has("height",32)&&(n=V.formatPX(this.bounds.width));n||(this.textElement&&this.inlineText&&this.textEmpty&&!this.visibleStyle.backgroundImage?n=V.formatPX(this.actualWidth):(!this.blockStatic||this.inputElement||e.is(t.GRID)||(!this.documentParent.layoutElement||this.flexElement?n="match_parent":!this.documentParent.flexElement&&e.layoutConstraint&&this.alignParent("left")&&this.alignParent("right")&&(n=this.autoMargin.horizontal||this.ascend(!1,t=>t.has("width")||t.blockStatic).length>0?"0px":"match_parent")),!n&&(this.layoutVertical&&this.layoutLinear&&e.blockWidth&&this.actualChildren.some(t=>t.lineBreak)||!this.pageFlow&&this.absoluteParent===this.documentParent&&this.has("left")&&this.has("right")||this.documentParent.flexElement&&"column"!==this.documentParent.css("flexDirection")&&this.flexbox.grow>0&&e.flexibleWidth)&&(n="match_parent"))),!n&&this.some(t=>t.layoutConstraint&&t.some(t=>t.flexibleWidth))&&(n=V.formatPX(this.actualWidth)),this.android("layout_width",n||"wrap_content")}if(""===this.android("layout_height")){let n;if(!this.inlineStatic&&this.has("height")||this.toInt("height")>0&&""===this.cssInitial("height")){const a=this.css("height");let o=-1;V.isLength(a)?o=this.actualHeight:V.isPercent(a)&&("100%"===a&&(this.documentRoot||e.blockHeight&&!this.has("maxHeight"))?(n="match_parent",this.imageElement&&this.android("adjustViewBounds","true")):this.imageElement?o=this.bounds.height:this.documentParent.has("height",2)&&(o=this.actualHeight)),o>0&&(this.is(t.LINE)&&"HR"!==this.tagName&&this.has("height",0,{map:"initial"})&&(o+=this.borderTopWidth+this.borderBottomWidth),n=V.formatPX(o))}else this.imageElement&&this.has("width",32)&&(n=V.formatPX(this.bounds.height));n||(this.textElement&&this.inlineText&&this.textEmpty&&!this.visibleStyle.backgroundImage?e.layoutConstraint&&this.actualHeight>=(this.absoluteParent||this.documentParent).box.height&&this.alignParent("top")?(this.anchor("bottom","parent"),n="0px"):n=V.formatPX(this.actualHeight):("table-cell"===this.display||this.singleChild&&e.flexElement&&"row"===e.css("flexDirection")||!this.pageFlow&&this.leftTopAxis&&this.has("top")&&this.has("bottom"))&&(n="match_parent")),this.android("layout_height",n||"wrap_content")}this.has("minWidth")&&this.android("minWidth",this.convertPX(this.css("minWidth")),!1),this.has("minHeight")&&this.android("minHeight",this.convertPX(this.css("minHeight"),!1),!1),!this.pageFlow&&this.textElement&&this.inlineWidth&&-1!==this.textContent.indexOf(" ")&&this.android("maxWidth",V.formatPX(Math.ceil(this.bounds.width))),e.layoutConstraint&&!e.blockHeight&&void 0===e.horizontalRows&&!this.documentParent.documentBody&&this.pageFlow&&this.alignParent("top")&&!this.alignParent("bottom")&&""===this.alignSibling("bottomTop")&&F.withinRange(this.actualRect("bottom"),e.box.bottom)&&(this.anchor("bottom","parent",!1),this.anchorStyle(r.VERTICAL))}}setAlignment(){const e=this.renderParent;if(e){const n=this.hasAlign(512),a=this.outerParent||this,o=a.renderParent||e;let i=U(this.cssInitial("textAlign",!0)),r=U(this.cssAscend("textAlign"),!0);if(""===i&&this.groupParent&&!n){const t=D.actualParent(this.renderChildren);t&&(i=U(t.cssInitial("textAlign",!0)))}if(this.pageFlow){let s="";if(this.inlineVertical&&(o.layoutHorizontal&&!o.support.container.positionRelative||o.is(t.GRID))){let t=a,e="layout_gravity";switch("table-cell"===this.display&&(t=this,e="gravity"),this.cssInitial("verticalAlign",!0)){case"top":t.mergeGravity(e,"top");break;case"middle":t.mergeGravity(e,"center_vertical");break;case"bottom":t.mergeGravity(e,"bottom")}}if(!this.blockWidth&&(o.layoutVertical||this.documentRoot&&(this.layoutVertical||this.layoutFrame))&&(this.floating?a.mergeGravity("layout_gravity",this.float):j(a)||""===i||!this.hasWidth||this.blockStatic||"table"===this.display||a.mergeGravity("layout_gravity",i,!1)),this.hasAlign(1024)||this.renderChildren.length&&this.renderChildren.every(t=>t.rightAligned)?s="right":n&&this.groupParent&&!this.renderChildren.some(t=>"right"===t.float)&&(s="left"),e.layoutFrame&&void 0===this.innerChild&&(j(this)||""!==(s=this.floating?this.float:s)&&(e.inlineWidth||!e.documentRoot&&this.singleChild)&&e.mergeGravity("layout_gravity",s),"table-cell"===e.display&&this.singleChild)){let t;switch(e.css("verticalAlign")){case"top":t="top";break;case"bottom":t="bottom";break;default:t="center_vertical"}this.mergeGravity("layout_gravity",t)}""!==s?this.blockWidth?""!==i&&"right"!==s||(i=s):a.mergeGravity("layout_gravity",s):j(a)&&""!==i&&(r="")}if(""!==r)if(this.blockStatic)a.mergeGravity("layout_gravity","left",!1);else if(!this.blockWidth&&this.naturalElement&&(e.layoutFrame||e.layoutVertical&&e.layoutLinear)){const t=e.inlineWidth?e:a;t.documentRoot||t.mergeGravity("layout_gravity",r,!1)}if(!(this.layoutConstraint||this.layoutFrame||this.is(t.GRID)||this.layoutElement)){let t=!1;""===i&&(i=r,t=!0),""!==i&&this.mergeGravity("gravity",i,!t)}}}mergeGravity(t,e,n=!0){if("layout_gravity"===t){const t=this.renderParent;if(t){if(function(t){switch(t){case"left":case"start":case"right":case"end":case"center_horizontal":return!0}return!1}(e)&&(t.inlineWidth&&this.singleChild||!n&&this.outerParent&&this.has("maxWidth")))return;if(t.layoutConstraint){if(!this.positioned)switch(e){case"top":this.anchor("top","parent",!1);break;case"right":case"end":this.anchor("right","parent",!1);break;case"bottom":this.anchor("bottom","parent",!1);break;case"left":case"start":this.anchor("left","parent",!1);break;case"center_horizontal":this.anchorParent(r.HORIZONTAL,!0)}return}}}const a=new Set,o=this.android(t);if(""!==o)for(const t of o.split("|"))a.add(t);a.add(this.localizeString(e));let i="";switch(a.size){case 0:break;case 1:i=U(a.values().next().value);default:function s(t){const e=`${t}_horizontal`,n=`${t}_vertical`;(a.has(t)||a.has(e)&&a.has(n))&&(a.delete(e),a.delete(n),a.add(t))}s("center"),s("fill");let t="",e="",o="";for(const i of a.values())switch(i){case"justify":case"initial":case"inherit":continue;case"left":case"start":case"right":case"end":case"center_horizontal":(""===t||n)&&(t=i);break;case"top":case"bottom":case"center_vertical":(""===e||n)&&(e=i);break;default:o+=(""!==o?"|":"")+i}i=""!==t&&""!==e?`${t}|${e}`:t||e,""!==o&&(i+=(""!==i?"|":"")+o)}""!==i&&this.android(t,i)}applyOptimizations(){this.renderParent&&(this.autoSizeBoxModel(),this.alignLayout(),this.setLineHeight())}applyCustomizations(t=!0){const e=(e,n)=>{const a=e.assign[n];if(a)for(const e in a)for(const n in a[e])this.attr(e,n,a[e][n],t)};e(R[0],this.tagName),e(R[0],this.controlName);const n=R[this.localSettings.targetAPI];n&&(e(n,this.tagName),e(n,this.controlName))}setBoxSpacing(){const e=this.localSettings.targetAPI>=26,n=(t,n,a=!0)=>{const[o,i,r,s]=t,l={};let c=0,d=0,h=0;for(const e of t)if(l[e]=this._boxAdjustment[e],0===this._boxReset[e]){let t=this[e];if(0!==t){if("marginRight"===e)if(t<0&&"right"===this.float)t=0;else if(this.inline){const e=this.documentParent.box.right;if(Math.floor(this.bounds.right)>e){this.textElement&&!this.multiline&&(this.android("maxLines","1"),this.android("ellipsize","end"));continue}this.bounds.right+t>e&&(t=Math.max(0,e-this.bounds.right))}l[e]+=t}}e&&a&&(l[o]===l[i]&&l[i]===l[r]&&l[r]===l[s]?c=l[o]:(l[s]===l[i]&&(d=l[s]),l[o]===l[r]&&(h=l[o]))),0!==c?this.android(n,V.formatPX(c)):(0!==d?this.android(`${n}Horizontal`,V.formatPX(d)):(0!==l[s]&&this.android(this.localizeString(`${n}Left`),V.formatPX(l[s])),0!==l[i]&&this.android(this.localizeString(`${n}Right`),V.formatPX(l[i]))),0!==h?this.android(`${n}Vertical`,V.formatPX(h)):(0!==l[o]&&this.android(`${n}Top`,V.formatPX(l[o])),0!==l[r]&&this.android(`${n}Bottom`,V.formatPX(l[r]))))};n(V.BOX_MARGIN,"layout_margin",void 0===this.renderParent||!this.renderParent.is(t.GRID)),n(V.BOX_PADDING,"padding")}extractAttributes(t){if("rtl"===this.dir&&this.android(this.length?"layoutDirection":"textDirection","rtl"),this.styleElement){const t=V.getDataSet(this.element,"android");for(const e in t){const n="attr"===e?"android":z.test(e)?F.capitalize(e.substring(4),!1):"";if(""!==n)for(const a of t[e].split(";")){const[t,e]=a.split("::");t&&e&&this.attr(n,t,e)}}}const e="\n"+"\t".repeat(t);let n="";for(const t of this.combine())n+=e+t;return n}autoSizeBoxModel(){if(this.renderParent&&this.hasProcedure(X.NODE_PROCEDURE.AUTOFIT)){let e=!1;this.tableElement?e="content-box"===this.css("boxSizing")||G.isUserAgent(24):this.styleElement&&(this.is(t.BUTTON)&&this.inlineHeight&&!this.has("minHeight")&&this.android("minHeight",V.formatPX(Math.ceil(this.actualHeight))),e=!0),e&&this.visibleStyle.borderWidth&&!this.is(t.LINE)&&(this.modifyBox(256,this.borderLeftWidth),this.modifyBox(64,this.borderRightWidth),this.modifyBox(32,this.borderTopWidth),this.modifyBox(128,this.borderBottomWidth))}}alignLayout(){const t=this.renderChildren;if(this.layoutHorizontal){if(this.layoutLinear)if(t.some(t=>t.floating)&&!t.some(t=>t.imageElement&&t.baseline))this.android("baselineAligned","false");else{const e=D.baseline(F.filterArray(t,t=>t.baseline&&!t.layoutRelative&&!t.layoutConstraint))[0];e&&this.android("baselineAlignedChildIndex",""+t.indexOf(e))}if(void 0===this.horizontalRows&&!this.hasAlign(1024)&&!this.visibleStyle.background){const t=this.find(t=>"left"===t.float)||this.renderChildren[0];if(t&&t.marginLeft<0){const e=Math.abs(t.marginLeft);e===this.marginLeft?(this.modifyBox(16,null),t.modifyBox(16,null)):e<this.marginLeft?(this.modifyBox(16,t.marginLeft),t.modifyBox(16,null)):(this.modifyBox(16,null),t.modifyBox(16,this.marginLeft))}}}else if(this.layoutVertical&&this.layoutLinear){const e=t[0];e.textElement&&e.baseline&&this.android("baselineAlignedChildIndex","0")}}setLineHeight(){const t=this.lineHeight;if(t>0){const e=this.has("lineHeight");if(this.multiline)Y(this,t,e);else if(e||this.renderChildren.length||this.renderParent&&0===this.renderParent.lineHeight)if(0===this.length)K(this,t,e);else if(this.renderChildren.length){const e=this.horizontalRows||[this.renderChildren],n=e.length;let a=!1;for(let o=0;o<n;o++){const i=e[o],r=e[o+1];let s=r&&(1===r.length&&r[0].multiline||r[0].lineBreakLeading);if(!s&&o<n-1){const t=e[o+1].find(t=>t.baselineActive);t&&t.has("lineHeight")&&(s=!0)}const l=i.find(t=>t.baselineActive),c=!a&&(o>0||1===n)||i[0].lineBreakLeading,d=!s&&(o<n-1||1===n);if(l){if(l.has("lineHeight")){a=!0;continue}K(l,t,!1,c,d)}else for(let e=0;e<i.length;e++){const n=i[e];0!==n.length||n.has("lineHeight")||n.baselineAltered||K(n,t,!1,c,d)}a=1===i.length&&i[0].multiline}}}}get documentId(){return this.controlId?`@+id/${this.controlId}`:""}set anchored(t){this.constraint.horizontal=t,this.constraint.vertical=t}get anchored(){return this.constraint.horizontal&&this.constraint.vertical}set containerType(t){this._containerType=t}get containerType(){if(0===this._containerType){const t=o[this.tagName]||0;0!==t&&(this._containerType=t)}return this._containerType||0}get layoutFrame(){return this.is(t.FRAME)}get layoutLinear(){return this.is(t.LINEAR)}get layoutRelative(){return this.is(t.RELATIVE)}get layoutConstraint(){return this.is(t.CONSTRAINT)}get actualAnchor(){const t=this.renderParent;return t&&(t.layoutConstraint||t.layoutRelative)?this:this.outerParent&&this.outerParent.visible?this.outerParent:this}get support(){const t=this.unsafe("cached")||{};return void 0===t.support&&(t.support={container:{positionRelative:this.layoutRelative||this.layoutConstraint}}),t.support}get inlineWidth(){return"wrap_content"===this.android("layout_width")}get inlineHeight(){return"wrap_content"===this.android("layout_height")}get blockWidth(){return"match_parent"===this.android("layout_width")}get blockHeight(){return"match_parent"===this.android("layout_height")}get flexibleWidth(){return!!this.renderParent&&this.renderParent.layoutConstraint&&"0px"===this.android("layout_width")}get flexibleHeight(){return!!this.renderParent&&this.renderParent.layoutConstraint&&"0px"===this.android("layout_height")}get fontSize(){return 0===this._fontSize&&(this._fontSize=V.parseUnit(this.css("fontSize"))||16),this._fontSize}set localSettings(t){Object.assign(this._localSettings,t)}get localSettings(){return this._localSettings}});class Q extends(J(squared.base.Node)){}class tt extends(J(squared.base.NodeGroup)){constructor(t,e,n,a){super(t,e.sessionId,void 0,a),this.tagName=`${e.tagName}_GROUP`,this.documentParent=e.documentParent,this.retain(n)}}var et=squared.base.NodeList;const nt=squared.base.lib.enumeration,at=squared.lib.color,ot=squared.lib.css,it=squared.lib.dom,rt=squared.lib.math,st=squared.lib.regex,lt=squared.lib.session,ct=squared.lib.util,dt=squared.lib.xml,ht=[r.HORIZONTAL,r.VERTICAL];function ut(t){t.some(t=>t.floating)&&t.sort((t,e)=>{if(t.floating&&!e.floating)return"left"===t.float?-1:1;if(!t.floating&&e.floating)return"left"===e.float?1:-1;if(t.floating&&e.floating){if(t.float!==e.float)return"left"===t.float?-1:1;if("right"===t.float&&"right"===e.float)return 1}return 0})}function pt(t){return t.length>1&&t.sort((t,e)=>{const n=t.node,a=e.node;return n.intersectX(a.bounds,"bounds")&&n.intersectY(a.bounds,"bounds")?n.depth===a.depth?n.documentParent===a.documentParent?n.zIndex===a.zIndex?n.siblingIndex<a.siblingIndex?-1:1:n.zIndex<a.zIndex?-1:1:0:n.id<a.id?-1:1:0}),t}function mt(t,e){for(const n of e)n===t||n.baselineAltered||(!n.textElement&&n.actualHeight>t.actualHeight?ct.withinRange(n.linear.top,n.documentParent.box.top)&&n.anchor("top","true"):n.imageElement&&t.imageElement?n.actualHeight<t.actualHeight&&n.baseline&&n.anchor("baseline",t.documentId):n.inputElement?n.baseline&&t.textElement?n.anchor("bottom",t.documentId):n.baseline||"0px"===n.verticalAlign||n.anchor("baseline",t.documentId):(n.element&&0===n.length||n.layoutHorizontal&&n.renderChildren.every(t=>t.baseline))&&n.anchor("baseline",t.documentId))}function gt(t,e=!1,n=!1){!t.textElement||"center"===t.cssAscend("textAlign",!0)||t.hasWidth||t.multiline&&!n||!e&&!t.textContent.trim().split(" ").length||(t.android("maxLines","1"),t.android("ellipsize","end"))}function ft(t,e,n,a=!1){return t>0?(a&&(t-=e[`padding${n}`]),e.documentBody&&(t-=e[`margin${n}`]),Math.max(t,0)):t}function bt(t,e){if("left"===e.float){if(e.marginRight<0){return t.modifyBox(16,e.actualWidth+(e.hasWidth?e.paddingLeft+e.borderLeftWidth:0)-Math.abs(e.marginRight)),t.anchor("left",e.documentId),e.modifyBox(4,null),!0}}else if("right"===t.float&&"right"===e.float&&e.marginLeft<0){const n=Math.abs(e.marginLeft),a=e.actualWidth;return n<a&&t.modifyBox(4,a-n),t.anchor("right",e.documentId),e.modifyBox(16,null),!0}return!1}function yt(t,e){const n=ct.capitalize(e),a=t.cssInitial(`min${n}`),o=t.cssInitial(`max${n}`);ot.isLength(a)&&(t.app(`layout_constraint${n}_min`,a),"width"===e&&!t.blockStatic&&!t.has("width")&&t.ascend(!1,t=>t.has("width")||t.blockStatic).length>0&&t.android(`layout_${e}`,"0px",!1)),ot.isLength(o)&&(t.app(`layout_constraint${n}_max`,o),"width"===e&&t.blockStatic&&!t.has("width")&&t.ascend(!1,t=>t.has("width")||t.blockStatic).length>0&&t.android(`layout_${e}`,"0px",!1))}function Tt(t,e,n){const a=t.cssInitial(e);if(n){if(ot.isLength(a,!0)){const n="width"===e;if(t.android(`layout_${e}`,ot.formatPX(t.bounds[e]),!1),t.imageElement){const a=t.element;if(a&&a.naturalWidth>0&&a.naturalHeight>0){t.android(`layout_${n?"height":"width"}`,ot.formatPX(t.bounds[e]/(n?a.naturalWidth:a.naturalHeight)*(n?a.naturalHeight:a.naturalWidth)),!1)}}return!0}}else if(ot.isPercent(a)&&"100%"!==a){const n=parseFloat(a)/100;return t.app(`layout_constraint${ct.capitalize(e)}_percent`,rt.truncate(n,t.localSettings.floatPrecision)),t.android(`layout_${e}`,"0px"),!0}return!1}function At(t,e=!1){return t.documentParent.has("height",2)?Tt(t,"height",e):!!ot.isLength(t.cssInitial("height"),!0)&&(t.android("layout_height",ot.formatPX(t.bounds.height),!1),!0)}function Et(e){return ct.filterArray(e,t=>"text-bottom"===t.verticalAlign||"inline-block"===t.display&&t.baseline).sort((e,n)=>e.bounds.height===n.bounds.height?e.is(t.SELECT)?1:-1:e.bounds.height>n.bounds.height?-1:1)[0]}function St(t){return t?{anchorStart:"right",anchorEnd:"left",chainStart:"rightLeft",chainEnd:"leftRight"}:{anchorStart:"left",anchorEnd:"right",chainStart:"leftRight",chainEnd:"rightLeft"}}const xt=(t,e=!1)=>Tt(t,"width",e),wt=t=>Math.max(t.actualHeight,t.lineHeight);class Rt extends squared.base.Controller{constructor(){super(...arguments),this.localSettings={layout:{pathName:"res/layout",fileExtension:"xml",baseTemplate:dt.STRING_XMLENCODING},svg:{enabled:!1},supported:{imageFormat:["jpg","jpeg","png","gif","bmp","webp","ico","cur"]},unsupported:{excluded:new Set(["BR"]),tagName:new Set(["OPTION","INPUT:hidden","MAP","AREA","SOURCE"])},precision:{standardFloat:4},deviations:{constraintParentBottomOffset:3.5,subscriptBottomOffset:.25,superscriptTopOffset:.25,legendBottomOffset:.25}}}static evaluateAnchors(t){const e=[],n=[];for(const a of t)if(a.constraint.horizontal&&e.push(a),a.constraint.vertical&&n.push(a),a.alignParent("top")){let e=a;for(;;){const n=e.alignSibling("bottomTop");if(""===n)break;{const o=t.find(t=>t.documentId===n);if(!o||o.alignSibling("topBottom")!==e.documentId)break;if(o.alignParent("bottom")){a.anchorStyle(r.VERTICAL,"packed",0,!1);break}e=o}}}let a=-1;for(;++a<t.length;){const o=t[a];if(!o.constraint.horizontal)for(const t in o.constraint.current){const n=o.constraint.current[t];if(n.horizontal&&e.find(t=>t.documentId===n.documentId)){o.constraint.horizontal=!0,e.push(o),a=-1;break}}if(!o.constraint.vertical)for(const t in o.constraint.current){const e=o.constraint.current[t];if(!e.horizontal&&n.find(t=>t.documentId===e.documentId)){o.constraint.vertical=!0,n.push(o),a=-1;break}}}}static setConstraintDimension(t,e=!1){xt(t),At(t),yt(t,"width"),yt(t,"height"),e&&(t.rightAligned?t.anchor("right","parent"):t.centerAligned?t.anchorParent(r.HORIZONTAL):t.anchor("left","parent"))}static setFlexDimension(t,e){const n="width"===e,a=t.flexbox,o=a.basis,i=ct.capitalize(e);function r(o,r){t.android(`layout_${e}`,"0px"),r>0?(t.app(`layout_constraint${n?"Horizontal":"Vertical"}_weight`,rt.truncate(r,t.localSettings.floatPrecision)),""!==o&&t.css(`min${i}`,o,!0)):""!==o&&(a.shrink<1?(t.app(`layout_constraint${i}_min`,ot.formatPX((1-a.shrink)*parseFloat(o))),t.app(`layout_constraint${i}_max`,o)):t.app(`layout_constraint${i}_min`,o))}ot.isLength(o)?r(t.convertPX(o),t.flexbox.grow):ot.isPercent(o)&&"0%"!==o?(t.app(`layout_constraint${i}_percent`,(parseFloat(o)/100).toPrecision(t.localSettings.floatPrecision)),r("",t.flexbox.grow)):a.grow>0?r(t.has(e,2)?ot.formatPX(t[`actual${i}`]):"",t.flexbox.grow):n?xt(t):At(t),a.shrink>1&&t.app(`layout_constrained${i}`,"true"),yt(t,"width"),n?At(t,!0):xt(t,!0),yt(t,"height")}finalize(t){for(const e in t)for(const n of t[e])n.content=dt.replaceTab(n.content.replace(/{#0}/,M(n.content)),this.userSettings.insertSpaces)}processUnknownParent(e){const{node:n,parent:a}=e;let o,i=!1;if(n.has("columnCount")||n.has("columnWidth"))e.setType(t.CONSTRAINT,256,4);else if(e.some(t=>!t.pageFlow))e.setType(t.CONSTRAINT,32,2);else if(1===e.length){const r=n.item(0);n.documentRoot&&function(t,e){if(t.element&&e.dataset.target){const n=document.getElementById(e.dataset.target);return null!==n&&n!==t.element}return!1}(n,r)?(n.hide(),i=!0):n.naturalElement&&r.plainText&&0===n.element.children.length?(n.clear(),n.setInlineText(!0),n.textContent=r.textContent,r.hide(),e.setType(t.TEXT)):!(this.userSettings.collapseUnattributedElements&&n.naturalElement&&n.positionStatic&&n.documentParent===n.actualParent)||n.documentParent.hasAlign(4)||n.groupParent||n.pseudoElement||n.elementId||n.marginTop||n.marginBottom||n.hasWidth||n.hasHeight||n.visibleStyle.padding||n.visibleStyle.background||n.rightAligned||n.autoMargin.horizontal||n.autoMargin.vertical||n.companion||n.has("maxWidth")||n.has("maxHeight")||n.has("textAlign")||n.has("verticalAlign")||n.has("lineHeight")&&!(r.length>0)||n.blockStatic&&!r.blockStatic||n.dataset.use||n.dataset.target||this.hasAppendProcessing(n.id)?n.autoMargin.horizontal||a.layoutConstraint&&a.flexElement&&"baseline"===n.flexbox.alignSelf&&r.textElement?e.setType(t.LINEAR,2056):e.setType(t.FRAME,2048):(r.documentRoot=n.documentRoot,r.parent=a,n.renderAs=r,n.resetBox(30,r,!0),n.hide(),n.innerChild=r,r.outerParent=n,o=r)}else n.element&&S.hasLineBreak(n,!0)?e.setType(e.some(t=>t.positionRelative&&!t.positionAuto)?t.RELATIVE:t.LINEAR,16,2):this.checkConstraintFloat(e)?e.setType(t.CONSTRAINT,512):e.linearX?(this.checkFrameHorizontal(e)?e.renderType|=520:this.checkConstraintHorizontal(e)?e.setType(t.CONSTRAINT):this.checkRelativeHorizontal(e)?e.setType(t.RELATIVE):(e.setType(t.LINEAR),e.floated.size&&ut(e.children)),e.add(8)):e.linearY?e.setType(e.some(t=>t.positionRelative&&!t.positionStatic)?t.RELATIVE:t.LINEAR,16,n.documentRoot?2:0):e.every(t=>t.inlineFlow)?this.checkFrameHorizontal(e)?e.renderType|=520:e.setType(t.RELATIVE,8,2):e.some(t=>t.alignedVertically(t.previousSiblings(),t.siblingIndex>0?e.children.slice(0,t.siblingIndex):void 0,e.cleared))?e.setType(t.LINEAR,16,2):e.setType(t.CONSTRAINT,2);return{layout:e,next:i,renderAs:o}}processUnknownChild(e){const n=e.node;let a=!1;if(0===e.containerType){const o=n.visibleStyle;n.textContent.length&&(n.inlineText||o.borderWidth)?e.setType(t.TEXT):n.blockStatic&&(o.borderWidth||o.backgroundImage||n.paddingTop+n.paddingBottom>0)?e.setType(t.LINE):!this.userSettings.collapseUnattributedElements||!n.naturalElement||n.documentRoot||n.elementId||n.bounds.height||n.marginTop||n.marginBottom||o.background||n.dataset.use?e.setType(o.background?t.TEXT:t.FRAME):(n.hide(),a=!0)}return{layout:e,next:a}}processTraverseHorizontal(t,e){const{node:n,parent:a,children:o}=t;return this.checkFrameHorizontal(t)?(t.node=this.createNodeGroup(n,o,a),t.renderType|=520):void 0===e||t.length!==e.length||a.hasAlign(16)?(t.node=this.createNodeGroup(n,o,a),this.processLayoutHorizontal(t)):a.hasAlign(8)||(a.alignmentType|=8),{layout:t}}processTraverseVertical(e,n){const{node:a,parent:o,children:i,floated:r,cleared:s}=e;return!r.size||!s.size||1===r.size&&e.every((t,n)=>0===n||n===e.length-1||s.has(t))?r.size&&i[0].floating?(e.node=this.createNodeGroup(a,i,o),e.renderType|=520):void 0===n||e.length!==n.length||o.hasAlign(8)?(e.node=this.createNodeGroup(a,i,o),e.setType(t.LINEAR,16)):o.hasAlign(16)||(o.alignmentType|=16):(e.node=this.createNodeGroup(a,i,o),e.renderType|=528),{layout:e}}processLayoutHorizontal(e){let n=0;return this.checkConstraintFloat(e,!0)?e.setType(t.CONSTRAINT,512):this.checkConstraintHorizontal(e)?n=t.CONSTRAINT:this.checkRelativeHorizontal(e)?n=t.RELATIVE:(n=t.LINEAR,e.floated.size&&ut(e.children)),0!==n&&e.setType(n,8),{layout:e}}sortRenderPosition(t,e){if(t.layoutConstraint&&e.some(t=>!t.node.pageFlow)){const t=[],n=[],a=[];for(const o of e){const e=o.node;e.pageFlow?n.push(o):e.zIndex>=0?a.push(o):t.push(o)}return pt(t),pt(a),ct.concatMultiArray(t,n,a)}return e}checkFrameHorizontal(t){const[e,n]=t.partition(t=>t.floating);if(2===t.floated.size||t.cleared.size||t.some(t=>t.pageFlow&&(t.autoMargin.left||t.autoMargin.right)))return!0;if(n.length){if(t.floated.has("right"))return!0;if(t.floated.has("left")&&!t.linearX){let t=1/0;for(const e of n)t=Math.min(t,e.siblingIndex);return ct.replaceMap(e,t=>t.siblingIndex).some(e=>e<t)}}return!1}checkConstraintFloat(t,e=!1){let n=0,a=0;for(const o of t){const i=t.cleared.has(o)||o.renderExclude;if(-1!==n&&((o.floating||o.autoMargin.horizontal)&&o.positiveAxis||i)?n++:n=-1,-1!==a&&(o.has("width",32)||i)?a++:e||(a=-1),n<=0&&a<=0)return!1}return!0}checkConstraintHorizontal(t){return(t.node.cssInitialAny("textAlign","center","end","right")||!t.parent.hasHeight&&t.some(t=>"middle"===t.verticalAlign||"bottom"===t.verticalAlign))&&t.singleRowAligned&&t.every(t=>t.positiveAxis||t.renderExclude)}checkRelativeHorizontal(t){return 2!==t.floated.size&&!t.every(t=>t.imageElement&&t.baseline&&!t.positionRelative)&&t.some(t=>t.positionRelative||t.textElement||t.imageElement||!t.baseline)}setConstraints(){for(const t of this.cache)if((t.layoutRelative||t.layoutConstraint)&&t.hasProcedure(nt.NODE_PROCEDURE.CONSTRAINT)){const e=t.renderFilter(t=>!t.positioned);if(e.length)if(t.layoutRelative)this.processRelativeHorizontal(t,e);else{const[n,a]=ct.partitionArray(e,t=>t.pageFlow);let o=t.box.bottom;if(a.length){t.renderEach(t=>o=Math.max(o,t.linear.bottom));for(const e of a)!e.positionAuto&&e.leftTopAxis&&(e.hasWidth&&e.autoMargin.horizontal?e.has("left")&&e.autoMargin.right?(e.anchor("left","parent"),e.modifyBox(16,e.left)):e.has("right")&&e.autoMargin.left?(e.anchor("right","parent"),e.modifyBox(4,e.right)):(e.anchorParent(r.HORIZONTAL),e.modifyBox(16,e.left),e.modifyBox(4,e.right)):(e.has("left")&&(e.anchor("left","parent"),e.modifyBox(16,ft(e.left,t,"Left",!0))),!e.has("right")||e.hasWidth&&e.has("left")||(e.anchor("right","parent"),e.modifyBox(4,ft(e.right,t,"Right",!0)))),e.hasHeight&&e.autoMargin.vertical?e.has("top")&&e.autoMargin.bottom?(e.anchor("top","parent"),e.modifyBox(2,e.top)):e.has("bottom")&&e.autoMargin.top?(e.anchor("bottom","parent"),e.modifyBox(8,e.bottom)):(e.anchorParent(r.VERTICAL),e.modifyBox(2,e.top),e.modifyBox(8,e.bottom)):(e.has("top")&&(e.anchor("top","parent"),e.modifyBox(2,ft(e.top,t,"Top",!0))),!e.has("bottom")||e.hasHeight&&e.has("top")||(e.anchor("bottom","parent"),e.modifyBox(8,ft(e.bottom,t,"Bottom",!0)))),e.positioned=!0)}if(t.layoutHorizontal)this.processConstraintHorizontal(t,n);else if(t.hasAlign(256))this.processConstraintColumn(t,n);else if(n.length>1)this.processConstraintChain(t,n);else for(const e of n)e.autoMargin.leftRight||e.inlineStatic&&"center"===e.cssAscend("textAlign",!0)?e.anchorParent(r.HORIZONTAL):e.rightAligned&&void 0===e.outerParent?e.anchor("right","parent"):(ct.withinRange(e.linear.left,t.box.left)||e.linear.left<t.box.left)&&e.anchor("left","parent"),(ct.withinRange(e.linear.top,t.box.top)||e.linear.top<t.box.top)&&e.anchor("top","parent"),this.withinParentBottom(e.pageFlow,e.linear.bottom,o)&&e.actualParent&&!e.actualParent.documentBody&&!e.has("height",32,{not:"100%"})&&(e.anchor("bottom","parent"),e.alignParent("top")&&e.anchorStyle(r.VERTICAL,"packed",0,!1)),Rt.setConstraintDimension(e);Rt.evaluateAnchors(n);for(const a of e)a.anchored||(this.addGuideline(a,t),a.pageFlow&&Rt.evaluateAnchors(n))}}}renderNodeGroup(e){const{node:n,parent:a,containerType:o,alignmentType:i,rowCount:s,columnCount:l}=e,c=P();let d=!1;switch(o){case t.LINEAR:ct.hasBit(i,16)?(c.android.orientation=r.VERTICAL,d=!0):ct.hasBit(i,8)&&(c.android.orientation=r.HORIZONTAL,d=!0);break;case t.GRID:c.android.rowCount=s?""+s:"",c.android.columnCount=l?""+l:"2",d=!0;break;case t.FRAME:case t.RELATIVE:case t.CONSTRAINT:d=!0;break;default:if(0===e.length)return this.renderNode(e)}if(d)return n.alignmentType|=i,n.setControlType(Q.getControlName(o),o),n.render(!n.dataset.use&&n.dataset.target?this.application.resolveTarget(n.dataset.target):a),n.apply(c),{type:1,node:n,controlName:n.controlName}}renderNode(e){const{node:n,containerType:o,alignmentType:i}=e,s=Q.getControlName(o);n.setControlType(s,o),n.alignmentType|=i;let l=e.parent,c=n.dataset.use?void 0:n.dataset.target;if(n.element)switch(n.element.tagName){case"IMG":if(n.hasResource(nt.NODE_RESOURCE.IMAGE_SOURCE)){const o=n.element;let i=n.toFloat("width"),r=n.toFloat("height"),s=n.has("width",32),d=n.has("height",32),h="fitXY";const u=()=>{const t=this.application.session.image.get(o.src);t&&t.width>0&&t.height>0?n.css("width",ot.formatPX(i=t.width*(r/t.height)),!0):n.android("adjustViewBounds","true")},p=()=>{const t=this.application.session.image.get(o.src);t&&t.width>0&&t.height>0?n.css("height",ot.formatPX(r=t.height*(i/t.width)),!0):n.android("adjustViewBounds","true")};if(o.srcset){const t=ot.getSrcSet(o,this.localSettings.supported.imageFormat);t.length&&t[0].actualWidth&&(n.css("width",ot.formatPX(i=t[0].actualWidth),!0),p(),s=!1,d=!1)}if(s||d){if(s&&!l.layoutConstraint){const t=l.box.width*i/100;t>0&&(i<100&&n.css("width",ot.formatPX(i)),i=t,0===r&&p())}if(d&&(!l.layoutConstraint||!n.documentParent.has("height",2))){const t=l.box.height*r/100;t>0&&(r<100&&n.css("height",ot.formatPX(t)),r=t,0===i&&u())}}else switch(n.css("objectFit")){case"contain":h="centerInside";break;case"cover":h="centerCrop";break;case"scale-down":h="fitCenter";break;case"none":h="center"}n.android("scaleType",h),0===i&&r>0&&u(),0===r&&i>0&&p(),n.baseline&&n.android("baselineAlignBottom","true");const m=S.addImageSrc(o);if(""!==m&&n.android("src",`@drawable/${m}`),!n.pageFlow&&(n.left<0||n.top<0)&&n.absoluteParent&&"hidden"===n.absoluteParent.css("overflow")){const o=this.application.createNode(it.createElement(n.actualParent&&n.actualParent.element));o.setControlType(a.FRAME,t.FRAME),o.inherit(n,"base"),o.exclude({procedure:nt.NODE_PROCEDURE.ALL,resource:nt.NODE_RESOURCE.ALL}),o.cssApply({position:n.position,zIndex:""+n.zIndex}),l.appendTry(n,o),n.parent=o,o.android("layout_width",i>0?i<l.box.width?ot.formatPX(i):"match_parent":"wrap_content"),o.android("layout_height",r>0?r<l.box.height?ot.formatPX(r):"match_parent":"wrap_content"),o.render(c?this.application.resolveTarget(c):l),o.saveAsInitial(),this.application.addRenderTemplate(l,o,{type:1,node:o,controlName:a.FRAME}),n.modifyBox(2,n.top),n.modifyBox(16,n.left),o.innerChild=n,n.outerParent=o,l=o,e.parent=o,c=void 0}}break;case"INPUT":{const t=n.element;switch(t.type){case"checkbox":t.checked&&n.android("checked","true");break;case"text":n.android("inputType","text");break;case"password":n.android("inputType","textPassword");break;case"range":case"time":case"number":case"datetime-local":switch(t.type){case"number":case"range":n.android("inputType","number");break;case"time":n.android("inputType","time");break;case"datetime-local":n.android("inputType","datetime")}ct.isString(t.min)&&n.android("min",t.min),ct.isString(t.max)&&n.android("max",t.max);break;case"email":case"tel":case"url":case"week":case"month":case"search":switch(t.type){case"email":n.android("inputType","textEmailAddress");break;case"tel":n.android("inputType","phone");break;case"url":n.android("inputType","textUri");break;default:n.android("inputType","text")}-1!==t.minLength&&n.android("minLength",""+t.minLength),t.maxLength>0&&n.android("maxLength",""+t.maxLength)}break}case"TEXTAREA":{const t=n.element;switch(n.android("minLines",t.rows?""+t.rows:"2"),n.css("verticalAlign")){case"middle":n.mergeGravity("gravity","center_vertical");break;case"bottom":n.mergeGravity("gravity","bottom");break;default:n.mergeGravity("gravity","top")}t.maxLength>0&&n.android("maxLength",""+t.maxLength),!n.hasWidth&&t.cols>0&&n.css("width",ot.formatPX(8*t.cols),!0),n.android("hint",t.placeholder),n.android("scrollbars",r.VERTICAL),n.android("inputType","textMultiLine"),n.overflowX&&n.android("scrollHorizontally","true");break}case"LEGEND":n.hasWidth||(n.css("minWidth",ot.formatPX(n.actualWidth),!0),n.css("display","inline-block",!0)),n.modifyBox(8,n.actualHeight*this.localSettings.deviations.legendBottomOffset)}switch(s){case a.TEXT:let t="";if(n.overflowX&&(t+=r.HORIZONTAL),n.overflowY&&(t+=(""!==t?"|":"")+r.VERTICAL),""!==t&&n.android("scrollbars",t),n.has("letterSpacing")&&n.android("letterSpacing",n.css("letterSpacing")),"justify"===n.css("textAlign")&&n.android("justificationMode","inter_word"),n.has("textShadow")){const t=/^(rgba?\(\d+, \d+, \d+(?:, [\d.]+)?\)) (-?[\d.]+[a-z]+) (-?[\d.]+[a-z]+)\s*(-?[\d.]+[a-z]+)?$/.exec(n.css("textShadow"));if(t){const e=S.addColor(at.parseColor(t[1]));""!==e&&(n.android("shadowColor",`@color/${e}`),n.android("shadowDx",rt.truncate(ot.parseUnit(t[2],n.fontSize))),n.android("shadowDy",rt.truncate(ot.parseUnit(t[3],n.fontSize))),n.android("shadowRadius",t[4]?rt.truncate(ot.parseUnit(t[4],n.fontSize)):"0"))}}"nowrap"===n.css("whiteSpace")&&(n.android("maxLines","1"),n.android("ellipsize","end"));break;case a.BUTTON:n.mergeGravity("gravity","center_vertical");break;case a.EDIT:case a.RANGE:n.hasWidth||n.css("width",ot.formatPX(n.bounds.width),!0);break;case a.LINE:n.hasHeight||n.android("layout_height",ot.formatPX(n.contentBoxHeight||1))}if(n.textElement||n.imageElement||n.svgElement){let t=0,e=0;if(n.has("maxWidth")&&(t=n.parseUnit(n.css("maxWidth"))),n.has("maxHeight")&&(e=n.parseUnit(n.css("maxHeight"),!1)),n.imageElement){const a=this.application.session.image.get(n.src);a&&(t>0&&0===e?e=a.height*(t/a.width):e>0&&0===t&&(t=a.width*(e/a.height)),t=Math.min(t,a.width),e=Math.min(e,a.height),t>0&&(n.has("width")?(n.android("layout_width","wrap_content"),n.android("adjustViewBounds","true")):(a.width>=l.box.width&&"100%"===n.css("maxWidth")&&l.has("width")?n.android("layout_width","match_parent"):t===a.width?(n.android("layout_height","wrap_content"),n.android("adjustViewBounds","true")):n.css("width",ot.formatPX(t),!0),t=0)),e>0&&(n.has("height")?(n.android("layout_height","wrap_content"),n.android("adjustViewBounds","true")):(a.height>=l.box.height&&"100%"===n.css("maxHeight")&&l.has("height")?n.android("layout_height","match_parent"):e===a.height?(n.android("layout_height","wrap_content"),n.android("adjustViewBounds","true")):n.css("height",ot.formatPX(e),!0),e=0)))}t>0&&n.android("maxWidth",ot.formatPX(t)),e>0&&n.android("maxHeight",ot.formatPX(e))}return n.render(c?this.application.resolveTarget(c):l),{type:1,node:n,controlName:s}}renderNodeStatic(t,e,n,a,o){const i=new Q(0,"0",void 0,this.afterInsertNode);return i.setControlType(t),""!==n&&i.android("layout_width",n||"wrap_content"),""!==a&&i.android("layout_height",a||"wrap_content"),e&&(i.apply(e),e.documentId=i.documentId),this.getEnclosingTag(1,{controlName:t,attributes:this.userSettings.showAttributes?i.extractAttributes(1):void 0,content:o})}renderSpace(t,e,n,o,i){return i=P(i),ot.isPercent(t)&&(i.android.layout_columnWeight=rt.truncate(parseFloat(t)/100,this.localSettings.precision.standardFloat),t="0px"),e&&ot.isPercent(e)&&(i.android.layout_rowWeight=rt.truncate(parseFloat(e)/100,this.localSettings.precision.standardFloat),e="0px"),n&&(i.android.layout_columnSpan=""+n),o&&(i.android.layout_rowSpan=""+o),this.renderNodeStatic(a.SPACE,i,t,e||void 0)}addGuideline(t,e,n,o=!1,i=!1){const s=e.groupParent&&!t.documentParent.hasAlign(4)?e:t.documentParent;ht.forEach(l=>{if(!(t.constraint[l]||n&&l!==n)){const n=l===r.HORIZONTAL,c=s.box;let d,h,u,p;if(n?(d=i?"right":"left",h=i?"left":"right",u=i?"rightLeft":"leftRight",p=i?"leftRight":"rightLeft"):(d=i?"bottom":"top",h=i?"top":"bottom",u=i?"bottomTop":"topBottom",p=i?"topBottom":"bottomTop"),ct.withinRange(t.linear[d],c[d]))return void t.anchor(d,"parent",!0);const m=t.positionStatic?t.bounds:t.linear;let g,f="layout_constraintGuide_",b=!1;if(!t.pageFlow&&ot.isPercent(t.css(d)))g=parseFloat(t.css(d))/100,b=!0,f+="percent";else{if(!o&&!e.hasAlign(4)){if(e.renderChildren.some(e=>{if(e!==t&&e.constraint[l]){const a=t.pageFlow&&e.pageFlow;let o=!1;if(a&&(ct.withinRange(t.linear[d],e.linear[h])?(t.anchor(u,e.documentId,!0),o=!0):ct.withinRange(t.linear[h],e.linear[d])&&(t.anchor(p,e.documentId,!0),o=!0)),(a||!t.pageFlow&&!e.pageFlow)&&(ct.withinRange(t.bounds[d],e.bounds[d])?(t.anchor(!n&&t.textElement&&t.baseline&&e.textElement&&e.baseline?"baseline":d,e.documentId,!0),o=!0):ct.withinRange(t.bounds[h],e.bounds[h])&&(t.anchor(h,e.documentId,!0),o=!0)),o)return e.constraint[l]=!0,!0}return!1}))return}if(t.positionAuto){const e=t.previousSiblings();if(e.length&&!t.alignedVertically(e)){const a=e[e.length-1];if(a.renderParent===t.renderParent)return t.anchor(n?"rightLeft":"top",a.documentId,!0),void(t.constraint[l]=a.constraint[l])}}if(o){const t=Math.abs(m[d]-c[d])/c[n?"width":"height"];g=parseFloat(rt.truncate(i?1-t:t,this.localSettings.precision.standardFloat)),b=!0,f+="percent"}else g=m[d]-c[i?h:d],t.pageFlow||t.parent!==s.outerParent||(g+=s[i?n?"paddingRight":"paddingBottom":n?"paddingLeft":"paddingTop"]),f+="begin"}const y=e.constraint.guideline||{};if(t.pageFlow){if(t.inlineVertical){const e=ct.convertFloat(t.verticalAlign);e<0&&(g+=e)}}else t.absoluteParent===t.documentParent&&(g=n?ft(g,s,"Left"):ft(g,s,"Top",0===s.valueBox(32)[0]));if(!n&&t.marginTop<0&&(g-=t.marginTop,t.modifyBox(2,null)),t.constraint[l]=!0,g<=0)t.anchor(d,"parent",!0);else if(n&&s.hasWidth&&!t.has("right")&&g+m.width>=c.right||!n&&s.hasHeight&&!t.has("bottom")&&g+m.height>=c.bottom)t.anchor(h,"parent",!0);else{const o=ct.optionalAsObject(y,`${l}.${f}.${d}`);if(o)for(const e in o)if(parseInt(o[e])===g)return t.anchor(d,e,!0),void t.anchorDelete(h);const i=P({android:{orientation:n?r.VERTICAL:r.HORIZONTAL},app:{[f]:b?""+g:ot.formatPX(g)}});this.addAfterOutsideTemplate(t.id,this.renderNodeStatic(a.GUIDELINE,i));const s=i.documentId;t.anchor(d,s,!0),t.anchorDelete(h),ct.assignEmptyValue(y,l,f,d,s,""+g),e.constraint.guideline=y}}})}createNodeGroup(t,e,n,a){const o=new tt(this.cache.nextId,t,e,this.afterInsertNode);return n?(n.appendTry(a||t,o),o.init()):o.siblingIndex=t.siblingIndex,this.cache.append(o),o}createNodeWrapper(t,e,n,a,o){const i=this.application.createNode(it.createElement(t.actualParent&&t.actualParent.element,t.block?"div":"span"),!0,e,n);if(t.documentRoot&&(i.documentRoot=!0,t.documentRoot=!1),i.inherit(t,"base","alignment"),a&&i.setControlType(a,o),i.exclude({section:nt.APP_SECTION.ALL,procedure:nt.NODE_PROCEDURE.CUSTOMIZATION,resource:nt.NODE_RESOURCE.BOX_STYLE|nt.NODE_RESOURCE.ASSET}),e?(e.appendTry(t,i),t.parent=i):(i.innerChild=t,i.siblingIndex=t.siblingIndex),t.renderParent){const e=t.renderParent.renderTemplates;if(e)for(let n=0;n<e.length;n++)if(e[n].node===t){e.splice(n,1);break}t.rendered=!1,t.renderParent=void 0}return i.saveAsInitial(),i.cssApply({marginTop:"0px",marginRight:"0px",marginBottom:"0px",marginLeft:"0px",paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px",display:"block"}),t.outerParent=i,i}processRelativeHorizontal(t,e){const n=[],a=[];let o=!1;if(t.hasAlign(16))for(let t=0;t<e.length;t++){const a=e[t],o=e[t-1];0===t?a.anchor("top","true"):a.anchor("topBottom",o.documentId),n.push([a])}else{const o=(()=>{const n=t.renderParent;if(n){if(n.overflowX)return n.box.width;if(n.groupParent){let n=-1/0;for(const a of t.documentParent.actualChildren)"left"===a.float&&a.linear.right>n&&!e.includes(a)&&(n=a.linear.right);if(n!==-1/0)for(const a of t.documentParent.actualChildren)if(a.linear.right===n&&e.some(t=>ct.withinRange(t.linear.left,n)&&t.intersectY(a.linear)))return t.box.right-n}}return t.box.width-(t.valueBox(256)[1]+t.valueBox(64)[1])})(),i=Math.min(o,this.userSettings.maxWordWrapWidth),r="nowrap"!==t.css("whiteSpace"),s=et.linearData(e,!0).cleared,l=t.block||t.blockDimension?t.toInt("textIndent"):0;let c,d=0;ct.partitionArray(e,t=>"right"!==t.float).forEach((e,h)=>{if(0===e.length)return;const u=0===h;let p,m,g=!0;if(u){const t=et.actualParent(e);t&&t.cssInitialAny("textAlign","right","end")?(g=!1,e[e.length-1].anchor(p="right","true")):p="left",ut(e),m=n}else p="right",m=a;let f=!1;for(let n=0;n<e.length;n++){const a=e[n],h=e[n-1];let b=a.bounds;if(a.inlineText&&!a.hasWidth){const t=lt.getRangeClientRect(a.element,a.sessionId);(t.multiline>0||t.width<a.box.width)&&(b=t,a.multiline||(a.multiline=t.multiline>0))}let y=a.multiline;y&&Math.floor(b.width)<=i&&(y=!1);let T,A=u&&g?"leftRight":"rightLeft",E=!0;if(a.autoMargin.leftRight?a.anchor("centerHorizontal","true"):a.autoMargin.left?a.anchor("right","true"):a.autoMargin.right?a.anchor("left","true"):E=!1,0===n)g?(E||a.anchor(p,"true"),m.push([a])):m.push([]);else{const e=m[m.length-1];let u=0,x=0;const w=()=>(x=d+a.marginLeft,c&&!e.includes(c)&&(x+=c.linear.width),void 0!==c&&a.plainText&&!y&&e.includes(c)&&!s.has(a)||(x+=b.width),a.marginRight<0&&(x+=a.marginRight),u=(a.plainText||a.inlineText)&&-1!==a.textContent.indexOf(" ")?i:o,l<0?u+=m.length>1?0:l:l>0&&(u-=1===m.length?l:0),a.styleElement&&a.inlineStatic&&(x-=a.paddingLeft+a.paddingRight),!0);bt(a,h)&&(A="");const R=a.groupParent&&!a.hasAlign(128);T=!R&&a.inlineVertical&&h.inlineVertical?it.getElementsBetweenSiblings(h.element,a.element,!0):void 0;const _=()=>{if(h.textElement){if(1===n&&void 0===T&&a.plainText&&!st.CHAR.TRAILINGSPACE.test(h.textContent)&&!st.CHAR.LEADINGSPACE.test(a.textContent))return!1;if(r&&f&&(h.bounds.width>=o||S.hasLineBreak(h,!1,!0)))return!0}if(h.floating&&d<i&&h.alignParent("left"))return!1;if(r){if(w(),x>u)return h&&h.textElement&&gt(h,!0,f),!0;if(Math.ceil(x)>=Math.floor(u)&&!a.alignParent(p)&&gt(a,!0,y),y&&S.hasLineBreak(a)||a.preserveWhiteSpace&&st.CHAR.LEADINGNEWLINE.test(a.textContent))return!0}return!1},v=a.textElement&&_();R||v||a.linear.top>=h.linear.bottom&&(a.blockStatic||a.floating&&h.float===a.float)||h.autoMargin.horizontal||s.has(a)||!a.textElement&&w()&&Math.floor(x)>u||!a.floating&&(h.blockStatic||a.previousSiblings().some(t=>t.lineBreak||t.excluded&&t.blockStatic)||T&&T.some(e=>lt.causesLineBreak(e,t.sessionId)))?(g?(c&&a.linear.bottom<=c.bounds.bottom?E||a.anchor(A,c.documentId):(E||a.anchor(p,"true"),c=void 0),E=!0):(c&&a.linear.bottom>c.bounds.bottom&&(c=void 0),h.anchor(p,"true")),v&&y&&gt(h,r),d=Math.min(0,v&&!h.multiline&&y&&!s.has(a)?a.linear.right-t.box.right:0),m.push([a])):(""!==A&&(g?E||(a.anchor(A,h.documentId),E=!0):h.anchor(A,a.documentId)),e.push(a))}"left"===a.float&&u&&(c?a.linear.bottom>=c.linear.bottom&&(c=a):c=a);let x=0;if(T&&!T.some(t=>!!lt.getElementAsNode(t,a.sessionId)||lt.causesLineBreak(t,a.sessionId))){const t=lt.getRangeClientRect(T[0],"0");if(!t.multiline){const e=T.length>1?lt.getRangeClientRect(T[T.length-1],"0"):void 0;void 0!==e&&e.multiline||(x=e?t.left-e.right:t.width)}}d+=x+a.marginLeft+b.width+a.marginRight,f=y}})}(n.length>1||a.length>1)&&(o=!0),[n,a].forEach(e=>{let n;for(let a=0;a<e.length;a++){const i=e[a];let r;if(i.length>1){let e;if((r=et.baseline(i)[0])&&(e=Et(i))){const t=r.actualHeight;e.actualHeight>t||e.companion&&e.companion.actualHeight>t?r.anchor("bottom",e.documentId):e=void 0}const n=[];let s=0===a?"true":r?r.documentId:"",l=0,c=null;for(const a of i)if(a.baseline)a!==r&&(e&&a.inputElement?a!==e&&a.anchor("bottom",e.documentId):n.push(a));else if(a.inlineVertical){const d=a!==r?r:void 0;switch(a.verticalAlign){case"text-top":if(null===c&&(c=et.baseline(i,!0)[0]),c&&a!==c){a.anchor("top",c.documentId);break}break;case"super":a.baselineAltered||a.modifyBox(2,-1*Math.ceil(a.fontSize*this.localSettings.deviations.superscriptTopOffset));case"top":""!==s&&s!==a.documentId?a.anchor("top",s):d&&a.anchor("top",d.documentId);break;case"middle":const r=Math.max(a.actualHeight,a.lineHeight);if(o){if(d){const t=Math.max(d.actualHeight,d.lineHeight);r<t&&(a.anchor("top",d.documentId),a.modifyBox(2,Math.round((t-r)/2)))}}else a.anchor("centerVertical","true"),a.imageElement&&(l=Math.max(r,l));break;case"text-bottom":e?a!==e&&a.anchor("bottom",e.documentId):(null===c&&(c=et.baseline(i,!0)[0]),c&&c!==a&&a.anchor("bottom",c.documentId));break;case"sub":a.baselineAltered||a.modifyBox(8,-1*Math.ceil(a.fontSize*this.localSettings.deviations.subscriptBottomOffset));case"bottom":""===s||ct.withinRange(t.bounds.height,a.bounds.height)||(t.hasHeight||"true"!==s||(o?d&&(s=d.documentId):t.css("height",ot.formatPX(t.bounds.height),!0)),a.anchor("bottom",s));break;default:"0px"===a.verticalAlign||a.svgElement||n.push(a)}}if(r)r.baselineActive=!0,n.length&&mt(r,n),r.textElement&&l>r.actualHeight&&(r.anchor("centerVertical","true"),r=void 0);else if(n.length&&n.length<i.length&&(e=Et(i)))for(const t of n)t.baseline&&!t.multiline&&t.anchor("bottom",e.documentId)}else(r=i[0]).baselineActive=!0;if(a>0){if(void 0===n){const t=e[a-1];n=t.find(t=>!t.floating)||t[0];let o=!1;for(const e of t)o||e!==n?e.linear.bottom>=n.linear.bottom&&(!e.floating||n.floating)&&(n=e):o=!0}for(const t of i)""===t.alignSibling("baseline")&&t.anchor("topBottom",n.documentId)}n=r}}),o&&(t.horizontalRows=ct.concatArray(n,a))}processConstraintHorizontal(t,e){const n=et.baseline(e)[0],a=et.baseline(e,!0)[0],o=t.hasAlign(1024);let i,s,l=Et(e);n&&(n.baselineActive=!0,l&&n.bounds.height<Math.floor(l.bounds.height)?n.anchor("bottom",l.documentId):l=void 0);const{anchorStart:c,anchorEnd:d,chainStart:h,chainEnd:u}=St(o);let p=0;switch(t.cssInitial("textAlign")){case"center":p=.5;break;case"right":case"end":o||(p=1)}for(let o=0;o<e.length;o++){const g=e[o];if(0===o)g.anchor(c,"parent"),g.anchorStyle(r.HORIZONTAL,"packed",p);else{const t=e[o-1];t.anchor(u,g.documentId),g.anchor(h,t.documentId),o===e.length-1&&g.anchor(d,"parent")}if(g.inlineVertical){function m(){g.anchorParent(r.VERTICAL),g.anchorStyle(r.VERTICAL)}let o=!1;switch(g.verticalAlign){case"text-top":a&&g!==a?g.anchor("top",a.documentId):o=!0;break;case"middle":n&&!n.textElement||l?o=!0:(g.anchorParent(r.VERTICAL),!g.textElement&&(void 0===i||wt(g)>wt(i))&&(i=g));break;case"text-bottom":if(a&&g!==a){g!==l?g.anchor("bottom",a.documentId):l&&(o=!0);break}case"bottom":if(void 0===s)for(let t=0;t<e.length;t++){const n=e[t];!n.baseline&&(void 0===s||n.linear.bottom>s.linear.bottom)&&(s=n)}g===s?o=!0:g.anchor("bottom","parent");break;case"baseline":n&&g!==n&&g.anchor("baseline",n.documentId);break;case"sub":case"super":o=!0;break;default:m()}o&&(m(),g.modifyBox(2,g.linear.top-t.box.top),g.baselineAltered=!0)}else n&&g!==n&&g.plainText&&g.baseline&&g.anchor("baseline",n.documentId);g.anchored=!0,g.positioned=!0}i&&n&&void 0===l&&n.textElement&&wt(i)>wt(n)&&n.anchorParent(r.VERTICAL,!0)}processConstraintColumn(t,e){let n=[];const a=[n];for(let t=0;t<e.length;t++){const o=e[t];"all"===o.css("columnSpan")?(n.length?a.push([o]):n.push(o),a.push(n=[])):n.push(o)}0===n.length&&a.pop();const o=t.toFloat("columnWidth"),s=ct.convertFloat(t.css("columnGap"))||16;let l=0;if(o>0){let e=t.actualWidth;do{e-=o,l>0&&(e-=s)}while(e>0&&++l)}const c=Math.max(1,Math.min(t.toInt("columnCount")||1/0,l||1/0));let d;const h=t=>{const e=t[0],n=t[t.length-1];for(let e=0;e<t.length;e++){const n=t[e];e>0&&n.anchor("leftRight",t[e-1].documentId),e<t.length-1&&n.anchor("rightLeft",t[e+1].documentId),Rt.setConstraintDimension(n),n.anchored=!0}e.anchor("left","parent"),n.anchor("right","parent"),e.anchorStyle(r.HORIZONTAL,"spread_inside")},u=(t,e,n)=>{const a=t[0][0];for(let o=0;o<t.length;o++){const i=t[o];for(let r=0;r<i.length;r++){const s=i[r];if(0===r?0===o?n?(n.anchor("bottomTop",s.documentId),s.anchor("topBottom",n.documentId)):s.anchor("top","parent"):(s.anchor("top",a.documentId),s.modifyBox(2,null)):(i[r-1].anchor("bottomTop",s.documentId),s.anchor("topBottom",i[r-1].documentId)),r>0&&s.anchor("left",i[0].documentId),r===i.length-1)if(e&&this.withinParentBottom(s.pageFlow,s.linear.bottom,s.documentParent.box.bottom))s.anchor("bottom","parent");else if(o>0&&!s.multiline){const e=t[o-1][r];e&&!e.multiline&&ct.withinRange(s.bounds.top,e.bounds.top)&&(s.anchor("top",e.documentId),s.modifyBox(2,-e.marginTop))}Rt.setConstraintDimension(s),s.anchored=!0}i[0].anchorStyle(r.VERTICAL)}};for(let e=0;e<a.length;e++){const n=a[e],o=n[0];if(1===n.length)Rt.setConstraintDimension(o,!0),0===e?o.anchor("top","parent"):d&&(d.anchor("bottomTop",o.documentId),o.anchor("topBottom",d.documentId)),o.hasWidth||o.android("layout_width","match_parent"),d=n[0];else{let o=Math.min(n.length,c);if(n.length>c)for(;n.length/o<1.5;)o--;const r=Math.ceil(n.length/o),l=[];let p=0;for(let t=0,e=0;t<n.length;t++){const a=n[t];t%r==0&&(t>0&&e++,void 0===l[e]&&(l[e]=[])),l[e].push(a),a.length&&(p+=rt.maxArray(ct.objectMap(a.children,t=>t.marginLeft+t.marginRight)))}const m=Math.max((p+s*(o-1))/t.box.width/o,.01),g=[];for(let t=0;t<l.length;t++){if(g.push(l[t][0]),o>1)for(const e of l[t]){const t=1/o-m;e.android("layout_width","0px"),e.app("layout_constraintWidth_percent",rt.truncate(t,this.localSettings.precision.standardFloat))}}for(let t=0;t<l.length-1;t++){const e=l[t];if(e.length>1){const n=e[e.length-1];/H\d/.test(n.tagName)&&(e.pop(),g[t+1]=n,l[t+1].unshift(n))}}for(let t=0;t<g.length;t++){const e=g[t];t>0&&e.android(e.localizeString(i.MARGIN_LEFT),ot.formatPX(e.marginLeft+s))}h(g),u(l,e===a.length-1,d);let f=0;for(let t=0;t<l.length;t++){const e=l[t].reduce((t,e)=>t+e.linear.height,0);e>f&&(d=l[t][l[t].length-1],f=e)}}}}processConstraintChain(t,e){const n=et.actualParent(e)||t,a=et.partitionRows(e),o=t.hasAlign(512);a.length>1&&(t.horizontalRows=a),!t.hasWidth&&e.some(t=>t.has("width",32))&&t.android("layout_width","match_parent");const i=[];let s=!1;for(let t=0;t<a.length;t++){const e=a[t],l=a[t-1],[c,d]=ct.partitionArray(e,t=>"right"===t.float||t.autoMargin.left);let h,u;if([d,c].forEach(e=>{if(0===e.length)return;const d=e===c,{anchorStart:p,anchorEnd:m,chainStart:g,chainEnd:f}=St(d),b=e[0],y=e[e.length-1];b.anchor(p,"parent"),o||"center"!==n.css("textAlign")?e.length>1&&(d?y.anchorStyle(r.HORIZONTAL,"packed",1):b.anchorStyle(r.HORIZONTAL)):b.anchorStyle(r.HORIZONTAL,"spread"),(e.length>1||y.autoMargin.leftRight)&&y.anchor(m,"parent");for(let c=0;c<e.length;c++){const T=e[c],A=e[c-1],E=e[c+1];if(0===t?T.anchor("top","parent"):s||t!==a.length-1||T.anchor("bottom","parent"),T.autoMargin.leftRight?T.anchorParent(r.HORIZONTAL):(A&&T.anchor(g,A.documentId),E&&T.anchor(f,E.documentId)),Rt.setConstraintDimension(T),o&&t>0&&0===c){let t=!1;for(const e of i)if(Math.ceil(T.linear.top)<Math.floor(e.linear.bottom)){t=!0;break}if(t){h=l[l.length-1];for(let t=i.length-2;t>=0;t--){const e=i[t];if(e.linear.bottom>h.linear.bottom){if(d&&Math.ceil(e.linear[m])-Math.floor(n.box[m])<T.linear.width)continue;const a=i[t+1];T.anchor(p,a.documentId,!0),d?T.modifyBox(4,-a.marginRight,!1):T.modifyBox(16,-a.marginLeft,!1),b.anchorDelete(f),y.anchorDelete(m),b.delete("app","layout_constraintHorizontal_chainStyle","layout_constraintHorizontal_bias"),void 0===u&&(u=T,s=!0);break}}}}}}),o&&ct.concatMultiArray(i,d,c),t>0){if(void 0===h){h=l[0];for(let t=1;t<l.length;t++)l[t].linear.bottom>=h.linear.bottom&&(h=l[t])}if(void 0===u){u=e[0];for(let t=1;t<e.length;t++)e[t].linear.bottom>=u.linear.bottom&&(u=e[t]);s=!1}u.anchor("topBottom",h.documentId),h.anchor("bottomTop",u.documentId);for(const t of e)t!==u&&(t.anchor("top",u.documentId),t.autoMargin.topBottom||t.anchorStyle(r.VERTICAL,"packed",t.autoMargin.top?1:0),t.modifyBox(2,-1*u.marginTop))}}Rt.evaluateAnchors(e)}withinParentBottom(t,e,n){return ct.withinRange(e,n,this.localSettings.deviations.constraintParentBottomOffset)||t&&e>n}get userSettings(){return this.application.userSettings}get containerTypeHorizontal(){return{containerType:t.LINEAR,alignmentType:8,renderType:0}}get containerTypeVertical(){return{containerType:t.LINEAR,alignmentType:16,renderType:0}}get containerTypeVerticalMargin(){return{containerType:t.FRAME,alignmentType:256,renderType:0}}get afterInsertNode(){const t=this.userSettings;return e=>{e.localSettings={targetAPI:void 0!==t.targetAPI?t.targetAPI:28,supportRTL:void 0===t.supportRTL||t.supportRTL,floatPrecision:this.localSettings.precision.standardFloat}}}}class _t extends squared.base.ExtensionManager{}var vt={resources:{">":{color:{"@":["name"],"~":!0}}},filename:"res/values/colors.xml"},It={resources:{">":{dimen:{"@":["name"],"~":!0}}},filename:"res/values/dimens.xml"},Nt={"font-family":{"@":["xmlns:android"],">":{font:{"^":"android","@":["font","fontStyle","fontWeight"]}}}},Pt={resources:{">":{string:{"@":["name"],"~":!0}}},filename:"res/values/strings.xml"},Ct={resources:{">":{"string-array":{"@":["name"],">":{item:{"~":!0}}}}},filename:"res/values/string_arrays.xml"},Lt={resources:{">":{style:{"@":["name","parent"],">":{item:{"@":["name"],"~":!0}}}}},filename:"res/values/styles.xml"};const Ot=squared.lib.math,Mt=squared.lib.util,kt=squared.lib.xml,Dt=/([">])(-?[\d.]+)px(["<])/g,Bt=/^(.+)\/(.+?\.\w+)$/;function Xt(t){const e=[];for(let n=0;n<t.length;n+=2){const a=Bt.exec(t[n+1]);a&&e.push({pathname:a[1],filename:a[2],content:t[n]})}return e}function Gt(t){const e=[];for(let n=0;n<t.length;n+=2){const a=Bt.exec(t[n+1]);a&&e.push({uri:t[n],pathname:a[1],filename:a[2],content:""})}return e}function Vt(t,e,n){return{pathname:t,filename:e,content:n}}function Wt(t,e=160,n="dp",a=!1,o=3){return"dp"===n?t.replace(Dt,(t,...n)=>n[0]+function(t,e=160,n=!1,a=3){let o=parseFloat(t);return isNaN(o)?"0dp":160!==e?(0!=(o/=e/160)&&o>-1&&o<1?o.toPrecision(a):Ot.truncate(o,a-1))+(n?"sp":"dp"):Math.round(o)+(n?"sp":"dp")}(n[1],e,a,o)+n[2]):t}const Ht=(t,e)=>(""+t).toLowerCase()>=(""+e).toLowerCase()?1:-1;class Ft extends squared.base.File{saveAllToDisk(t){const e=[];let n=0;for(const a in t)for(let o=0;o<t[a].length;o++){const i=t[a][o];e.push(Vt(i.pathname,0==n++?this.userSettings.outputMainFileName:`${i.filename}.xml`,i.content))}this.saveToDisk(Mt.concatMultiArray(e,Xt(this.resourceStringToXml()),Xt(this.resourceStringArrayToXml()),Xt(this.resourceFontToXml()),Xt(this.resourceColorToXml()),Xt(this.resourceDimenToXml()),Xt(this.resourceStyleToXml()),Xt(this.resourceDrawableToXml()),Gt(this.resourceDrawableImageToXml()),Xt(this.resourceAnimToXml())),this.userSettings.manifestLabelAppName)}layoutAllToXml(t,e=!1){const n={},a=[];let o=0;for(const i in t)for(let r=0;r<t[i].length;r++){const s=t[i][r];n[s.filename]=[s.content],e&&a.push(Vt(s.pathname,0==o++?this.userSettings.outputMainFileName:`${s.filename}.xml`,s.content))}return e&&this.saveToDisk(a,this.userSettings.manifestLabelAppName),n}resourceAllToXml(t=!1){const e={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml(),drawableImage:this.resourceDrawableImageToXml(),anim:this.resourceAnimToXml()};for(const t in e)0===e[t].length&&delete e[t];if(t){const t=[];for(const n in e)Mt.concatArray(t,"image"===n?Gt(e[n]):Xt(e[n]));this.saveToDisk(t,this.userSettings.manifestLabelAppName)}return e}resourceStringToXml(t=!1){const e=[],n=[{string:[]}];this.stored.strings.has("app_name")||n[0].string.push({name:"app_name",innerText:this.userSettings.manifestLabelAppName});for(const[t,e]of Array.from(this.stored.strings.entries()).sort(Ht))n[0].string.push({name:t,innerText:e});return e.push(kt.replaceTab(kt.applyTemplate("resources",Pt,n),this.userSettings.insertSpaces),Pt.filename),t&&this.saveToDisk(Xt(e),this.userSettings.manifestLabelAppName),e}resourceStringArrayToXml(t=!1){const e=[];if(this.stored.arrays.size){const n=[{"string-array":[]}];for(const[t,e]of Array.from(this.stored.arrays.entries()).sort())n[0]["string-array"].push({name:t,item:Mt.objectMap(e,t=>({innerText:t}))});e.push(kt.replaceTab(kt.applyTemplate("resources",Ct,n),this.userSettings.insertSpaces),Ct.filename),t&&this.saveToDisk(Xt(e),this.userSettings.manifestLabelAppName)}return e}resourceFontToXml(t=!1){const e=[];if(this.stored.fonts.size){const n=this.userSettings,a=l[n.targetAPI<26?"app":"android"];for(const[t,o]of Array.from(this.stored.fonts.entries()).sort()){const i=[{"xmlns:android":a,font:[]}];for(const e in o){const[n,a]=e.split("-");i[0].font.push({fontStyle:n,fontWeight:a,font:`@font/${t+("normal"===n&&"400"===a?"":("normal"!==n?`_${n}`:"")+("400"!==a?`_${a}`:""))}`})}let r=kt.replaceTab(kt.applyTemplate("font-family",Nt,i),this.userSettings.insertSpaces);n.targetAPI<26&&(r=r.replace(/\s+android:/g," app:")),e.push(r,`res/font/${t}.xml`)}t&&this.saveToDisk(Xt(e),n.manifestLabelAppName)}return e}resourceColorToXml(t=!1){const e=[];if(this.stored.colors.size){const n=[{color:[]}];for(const[t,e]of Array.from(this.stored.colors.entries()).sort())n[0].color.push({name:e,innerText:t});e.push(kt.replaceTab(kt.applyTemplate("resources",vt,n),this.userSettings.insertSpaces),vt.filename),t&&this.saveToDisk(Xt(e),this.userSettings.manifestLabelAppName)}return e}resourceStyleToXml(t=!1){const e=this.userSettings,n=[],a=[];if(this.stored.styles.size){const t=[{style:[]}];for(const e of Array.from(this.stored.styles.values()).sort((t,e)=>(""+t.name).toLowerCase()>=(""+e.name).toLowerCase()?1:-1))if(Array.isArray(e.items)){const n=[];for(const t of e.items.sort((t,e)=>t.name>=e.name?1:-1))n.push({name:t.name,innerText:t.value});t[0].style.push({name:e.name,parent:e.parent,item:n})}a.push({data:t,filename:Lt.filename})}if(this.stored.themes.size){const t={};for(const[n,o]of this.stored.themes.entries()){const i=[{style:[]}];for(const[a,r]of o.entries()){const o=[];for(const t in r.items)o.push({name:t,innerText:r.items[t]});t[n]&&a===e.manifestThemeName&&!o.length||i[0].style.push({name:a,parent:r.parent,item:o}),a===e.manifestThemeName&&(t[n]=!0)}a.push({data:i,filename:n})}}for(const t of a)n.push(kt.replaceTab(Wt(kt.applyTemplate("resources",Lt,t.data),e.resolutionDPI,e.convertPixels,!0),e.insertSpaces),t.filename);return t&&this.saveToDisk(Xt(n),this.userSettings.manifestLabelAppName),n}resourceDimenToXml(t=!1){const e=[];if(this.stored.dimens.size){const n=[{dimen:[]}];for(const[t,e]of Array.from(this.stored.dimens.entries()).sort())n[0].dimen.push({name:t,innerText:e});e.push(kt.replaceTab(Wt(kt.applyTemplate("resources",It,n),this.userSettings.resolutionDPI,this.userSettings.convertPixels),this.userSettings.insertSpaces),It.filename),t&&this.saveToDisk(Xt(e),this.userSettings.manifestLabelAppName)}return e}resourceDrawableToXml(t=!1){const e=[];if(this.stored.drawables.size){const n=this.userSettings;for(const[t,a]of this.stored.drawables.entries())e.push(kt.replaceTab(Wt(a,n.resolutionDPI,n.convertPixels),n.insertSpaces),`res/drawable/${t}.xml`);t&&this.saveToDisk(Xt(e),this.userSettings.manifestLabelAppName)}return e}resourceDrawableImageToXml(t=!1){const e=[];if(this.stored.images.size){for(const[t,n]of this.stored.images.entries())if(Object.keys(n).length>1)for(const a in n)e.push(n[a],`res/drawable-${a}/${t}.${Mt.fromLastIndexOf(n[a],".")}`);else n.mdpi&&e.push(n.mdpi,`res/drawable/${t}.${Mt.fromLastIndexOf(n.mdpi,".")}`);t&&this.saveToDisk(Gt(e),this.userSettings.manifestLabelAppName)}return e}resourceAnimToXml(t=!1){const e=[];if(this.stored.animators.size){for(const[t,n]of this.stored.animators.entries())e.push(kt.replaceTab(n,this.userSettings.insertSpaces),`res/anim/${t}.xml`);t&&this.saveToDisk(Xt(e),this.userSettings.manifestLabelAppName)}return e}get userSettings(){return this.resource.userSettings}get stored(){return this.resource.stored}}const zt=squared.base.lib.enumeration;class qt extends squared.base.extensions.Accessibility{constructor(){super(...arguments),this.options={showLabel:!1},this.eventOnly=!0}afterBaseLayout(){for(const t of this.application.processing.cache)if(t.visible&&t.hasProcedure(zt.NODE_PROCEDURE.ACCESSIBILITY))switch(t.controlName){case a.EDIT:t.companion||[t.previousSibling,t.previousSibling].some(e=>{if(e&&e.visible&&e.pageFlow){const n=t.element,a=e.element,o="LABEL"===e.documentParent.tagName?e.documentParent:void 0;if(n.id&&n.id===a.htmlFor)return e.android("labelFor",t.documentId),!0;if(o&&e.textElement)return o.android("labelFor",t.documentId),!0}return!1});case a.SELECT:case a.CHECKBOX:case a.RADIO:case a.BUTTON:{const e=t.element;e.readOnly&&t.android("focusable","false"),e.disabled&&t.android("enabled","false");break}}}}var $t=squared.base.Layout;const Ut=squared.base.lib.constant,jt=squared.base.lib.enumeration,Yt=squared.lib.css,Kt=squared.lib.dom,Zt=squared.lib.math,Jt=squared.lib.util;function Qt(t,e,n){const a="column"===e,o=a?"width":"height",i=t[e];let r=0;if(i.unit.length)for(let e=0;e<i.unit.length;e++){const n=i.unit[e];if(n.endsWith("px"))r+=parseFloat(n);else{let n=0;Jt.captureMap(t.rowData[e],t=>t&&t.length>0,t=>n=Math.min(n,...Jt.objectMap(t,t=>t.bounds[o]))),r+=n}}else if((r=Zt.maxArray(i.unitTotal))<=0)return 0;return r+=i.gap*(i.count-1),(a?n.actualWidth:n.actualHeight)-(r+=n.contentBox?a?n.borderLeftWidth+n.borderRightWidth:n.borderTopWidth+n.borderBottomWidth:a?n.contentBoxWidth:n.contentBoxHeight)}function te(t,e,n,a){const o=t[a];if(n.startsWith("space")){const r=Qt(t,a,e);if(r>0){let e,s,l;"column"===a?(e=16,s=4,l="width"):(e=2,s=8,l="height");const c=function(t,e){const n=[];if("column"===e)for(let e=0;e<t.column.count;e++){n[e]=[];for(let a=0;a<t.row.count;a++)n[e].push(t.rowData[a][e])}else for(let e=0;e<t.row.count;e++)n.push(t.rowData[e]);return n}(t,a),d=t[a].count,h=new Set;function i(t){const e=Math.floor(r/t);return[e,r-e*t]}switch(n){case"space-around":{const[t,n]=i(2*d);for(let a=0;a<d;a++)for(const o of new Set(Jt.flatArray(c[a]))){const i=(a>0&&a<=n?1:0)+t;h.has(o)?o.cssPX(l,r/d):(o.modifyBox(e,i),o.modifyBox(s,t),h.add(o))}o.normal=!1;break}case"space-between":if(d>1){const[t,e]=i(d-1);for(let n=0;n<d;n++)for(const o of new Set(Jt.flatArray(c[n]))){const i=t+(n<e?1:0);n<d-1?h.has(o)?o.cssPX(l,i):(o.modifyBox(s,i),h.add(o)):Jt.convertInt(o.android("column"===a?"layout_columnSpan":"layout_rowSpan"))>1&&(o.cssPX(l,i),h.has(o)&&o.modifyBox(s,-i))}}o.normal=!1;break;case"space-evenly":{const[t,n]=i(d+1);for(let a=0;a<d;a++)for(const o of new Set(Jt.flatArray(c[a]))){const i=t+(a<n?1:0);h.has(o)?o.cssPX(l,i):(0===a&&o.modifyBox(e,t),o.modifyBox(s,i),h.add(o))}o.normal=!1;break}}}}else{const i="column"===a?256:32,r=Qt(t,a,e);if(r>0)switch(n){case"center":e.modifyBox(i,Math.floor(r/2)),o.normal=!1;break;case"right":if("row"===a)break;case"end":case"flex-end":e.modifyBox(i,r),o.normal=!1}}}class ee extends squared.base.extensions.CssGrid{processNode(e,n){super.processNode(e,n);const a=e.data(Ut.EXT_NAME.CSS_GRID,"mainData");if(a){const o=new $t(n,e,t.GRID,4,e.children);return o.rowCount=a.row.count,o.columnCount=a.column.count,{output:this.application.renderNode(o),complete:!0}}}processChild(e,n){const o=n.data(Ut.EXT_NAME.CSS_GRID,"mainData"),i=e.data(Ut.EXT_NAME.CSS_GRID,"cellData");let r,s;if(o&&i){function l(t,a,r){const s=o[a],l=i[`${a}Start`],c=i[`${a}Span`],d=`min${Jt.capitalize(r)}`;let h=0,u=0,p=!1,m=0,g=0;s.unit.length&&s.unit.every(t=>"auto"===t)&&("width"===r?s.unit=[].fill("1fr"):s.unit.length=0);for(let t=0,a=0;t<c;t++){const o=s.unitMin[l+t];""!==o&&(m+=n.parseUnit(o));let i=s.unit[l+t];if(!i){if(!s.auto[a])continue;i=s.auto[a],s.auto[a+1]&&a++}if("auto"===i||"min-content"===i||"max-content"===i){c<s.unit.length&&(!n.has(r)||s.unit.some(t=>Yt.isLength(t))||"min-content"===i)?(h=e.bounds[r],u=0,g=0):"width"===r&&(h=0,u=0,g=.01);break}if(Yt.isPercent(i))g+=parseFloat(i)/100,u=h,h=0;else if(i.endsWith("fr"))"width"===r||e.hasHeight?(g+=parseFloat(i),u=h):(g=0,u=e.bounds[r]),h=0;else if(i.endsWith("px")){const t=parseFloat(i);0===u?h+=t:u+=t}"0px"===o&&e.textElement&&(p=!0)}if(c>1){const t=(c-1)*s.gap;h>0&&0===u?h+=t:u>0&&(u+=t),m>0&&(m+=t)}if(m>0&&(s.autoFill&&0===h&&1===o["column"===a?"row":"column"].count?(h=Math.max(e.actualWidth,m),g=0):u=m),t.android(`layout_${a}`,""+l),c>1&&t.android(`layout_${a}Span`,""+c),u>0&&!t.has(d)&&t.css(d,Yt.formatPX(u),!0),g>0)t.android(`layout_${a}Weight`,Zt.truncate(g,e.localSettings.floatPrecision)),t.has(r,34)||(t.android(`layout_${r}`,"0px"),t.mergeGravity("layout_gravity","column"===a?"fill_horizontal":"fill_vertical"));else if(h>0){const e=`max${Jt.capitalize(r)}`;p&&!t.has(e)?(t.css(e,Yt.formatPX(h),!0),t.mergeGravity("layout_gravity","column"===a?"fill_horizontal":"fill_vertical")):t.has(r)||t.css(r,Yt.formatPX(h),!0)}return[l,c]}const c=e.flexbox.alignSelf,d=e.flexbox.justifySelf;if(/(start|end|center|baseline)/.test(c)||/(start|end|center|baseline|left|right)/.test(d)){(r=this.application.createNode(Kt.createElement(e.actualParent&&e.actualParent.element))).tagName=e.tagName,r.setControlType(a.FRAME,t.FRAME),r.inherit(e,"initial","base"),r.resetBox(510),r.exclude({procedure:jt.NODE_PROCEDURE.CUSTOMIZATION,resource:jt.NODE_RESOURCE.BOX_STYLE|jt.NODE_RESOURCE.ASSET}),n.appendTry(e,r),r.render(n),e.inheritBox(30,r),l(r,"column","width"),l(r,"row","height");let o=!1;d.endsWith("start")||d.endsWith("left")||d.endsWith("baseline")?(e.mergeGravity("layout_gravity","left"),o=!0):d.endsWith("end")||d.endsWith("right")?(e.mergeGravity("layout_gravity","right"),o=!0):d.endsWith("center")&&(e.mergeGravity("layout_gravity","center_horizontal"),o=!0),e.hasWidth||e.android("layout_width",o?"wrap_content":"match_parent",!1),c.endsWith("start")||c.endsWith("baseline")?e.mergeGravity("layout_gravity","top"):c.endsWith("end")?e.mergeGravity("layout_gravity","bottom"):c.endsWith("center")?e.mergeGravity("layout_gravity","center_vertical"):e.hasHeight||e.android("layout_height","match_parent",!1),e.outerParent=r,e.parent=r,s=this.application.renderNode(new $t(n,r,t.FRAME,2048,r.children))}const h=r||e;l(h,"column","width"),h.has("width")||h.mergeGravity("layout_gravity","fill_horizontal");const[u,p]=l(h,"row","height");"normal"!==o.alignContent||1!==p||o.row.unit[u]&&"auto"!==o.row.unit[u]||!(1===o.rowHeightCount[u]||e.bounds.height<o.rowHeight[u])||(!n.hasHeight||h.has("height"))&&!0!==o.rowSpanMultiple[u]||(h.android("layout_height","0px"),1===o.rowHeightCount[u]&&h.android("layout_rowWeight",Zt.truncate(o.rowWeight[u]||1,e.localSettings.floatPrecision))),h.has("height")||1===o.row.count&&"space-between"===o.alignContent||h.mergeGravity("layout_gravity","fill_vertical")}return{parent:r,renderAs:r,outputAs:s}}postBaseLayout(t){const e=t.data(Ut.EXT_NAME.CSS_GRID,"mainData");if(e){if(t.hasWidth&&"normal"!==e.justifyContent&&te(e,t,e.justifyContent,"column"),t.hasHeight&&"normal"!==e.alignContent&&(te(e,t,e.alignContent,"row"),e.rowWeight.length>1))for(let t=0;t<e.row.count;t++)if(e.rowWeight[t]>0){const n=this.application.controllerHandler.localSettings.precision.standardFloat;for(let a=0;a<e.rowData[t].length;a++){const o=e.rowData[t][a];if(o)for(let a of o)a.outerParent&&(a=a.outerParent),a.android("layout_rowWeight",""+Zt.truncate(e.rowWeight[t],n)),a.android("layout_height","0px")}}if(e.column.normal&&!e.column.unit.includes("auto")){const n=e.column.gap*(e.column.count-1);n>0&&(t.renderParent&&!t.renderParent.hasAlign(4)&&(t.cssPX("minWidth",n),t.cssPX("width",n,!1,!0)),!t.has("width")&&t.has("maxWidth")&&t.css("width",Yt.formatPX(t.actualWidth+n),!0))}}}postProcedure(t){const e=t.data(Ut.EXT_NAME.CSS_GRID,"mainData");if(e){const n=this.application.controllerHandler,a=Array.from(e.children)[e.children.size-1];if(e.column.unit.length&&e.column.unit.every(t=>Yt.isPercent(t))){const o=e.column.unit.reduce((t,e)=>t+parseFloat(e),0);if(o<100){t.android("columnCount",""+(e.column.count+1));for(let r=0;r<e.row.count;r++)n.addAfterOutsideTemplate(a.id,n.renderSpace(Yt.formatPercent(100-o),"wrap_content",0,0,P({android:{[t.localizeString(i.MARGIN_LEFT)]:Yt.formatPX(e.column.gap),layout_row:""+r,layout_column:""+e.column.count}})))}}for(let t=0;t<e.emptyRows.length;t++){const o=e.emptyRows[t];if(o)for(let i=0;i<o.length;i++)if(1===o[i]){n.addAfterOutsideTemplate(a.id,n.renderSpace("wrap_content",Yt.formatPX(e.row.gap),0,0,P({android:{layout_row:""+t,layout_column:""+i}})));break}}}}}class ne extends squared.base.extensions.External{constructor(){super(...arguments),this.eventOnly=!0}}var ae=squared.base.Layout,oe=squared.base.NodeList;const ie=squared.base.lib.constant,re=(squared,squared.lib.math),se=squared.lib.util,le={leftTop:["left","top"],rightBottom:["right","bottom"],rightLeftBottomTop:["rightLeft","bottomTop"],leftRightTopBottom:["leftRight","topBottom"],widthHeight:["Width","Height"],horizontalVertical:[r.HORIZONTAL,r.VERTICAL]};function ce(t,e,n){const a="width"===n;let o=t[n]>0||t.blockStatic&&se.withinRange(t.parseUnit(t.css(a?"maxWidth":"maxHeight")),t.box.width);if(o)for(const t of e){const e=t.innerChild?t.innerChild.autoMargin:t.autoMargin;if(a){if(e.horizontal){o=!1;break}}else if(e.vertical){o=!1;break}}const i=e.reduce((t,e)=>t+e.flexbox.grow,0);let r=0;function s(e){e.flexbox.basis=`${e.bounds[n]/t.box[n]*100}%`}if(e.length>1&&(a||o)){const t=[],i=[];let l,c=0,d=0,h=NaN;for(const s of e){const e=s.bounds[n];if(s.flexbox.grow>0||1!==s.flexbox.shrink){const o=s.parseUnit("auto"===s.flexbox.basis?s.css(n):s.flexbox.basis,a);if(o>0){const{shrink:n,grow:a}=s.flexbox;let i=!1;e<o?(isNaN(h)||n<h)&&(h=n,i=!0,r=1):(isNaN(h)||a>h)&&(h=a,i=!0,r=2),i&&(l=s,c=o,d=e),t.push({item:s,basis:o,dimension:e,shrink:n,grow:a});continue}}o&&"auto"===s.flexbox.alignSelf&&!s.has(n)&&i.push(s)}if(0!==r){if(t.length>1)for(const e of t){const t=e.item;t.flexbox.grow=t===l||e.basis===c&&(1===r&&h===e.shrink||2===r&&h===e.grow)?1:e.dimension/e.basis/(d/c)*e.basis/c}if(i.length)for(const t of i)s(t)}}if(0===r&&a)for(const a of e)a.cascadeSome(e=>e.multiline&&0===e.ascend(!1,t=>t.has(n),t).length)&&s(a);return i}function de(t){return t.innerChild?t.innerChild.autoMargin:t.autoMargin}class he extends squared.base.extensions.Flexbox{processNode(e,n){super.processNode(e,n);const a=e.data(ie.EXT_NAME.FLEXBOX,"mainData"),o=new ae(n,e,0,4);return o.itemCount=e.length,o.rowCount=a.rowCount,o.columnCount=a.columnCount,a.directionRow&&(1===a.rowCount||e.hasHeight)||a.directionColumn&&(1===a.columnCount||e.hasWidth)||e.find(t=>!t.pageFlow)?o.containerType=t.CONSTRAINT:o.setType(t.LINEAR,a.directionColumn?8:16),{output:this.application.renderNode(o),complete:!0}}processChild(e,n){if(e.hasAlign(128))return{output:this.application.renderNode(new ae(n,e,t.CONSTRAINT,4,e.children)),complete:!0};if(e.autoMargin.horizontal||e.autoMargin.vertical&&e.has("height",2)){const a=n.data(ie.EXT_NAME.FLEXBOX,"mainData");if(a){const o=a.children.findIndex(t=>t===e);if(-1!==o){const i=this.application.controllerHandler.createNodeWrapper(e,n);return i.cssApply({marginTop:"0px",marginRight:"0px",marginBottom:"0px",marginLeft:"0px"},!0),i.saveAsInitial(!0),i.flexbox=Object.assign({},e.flexbox),a.children[o]=i,e.autoMargin.horizontal&&!e.hasWidth&&e.android("layout_width","wrap_content"),{parent:i,renderAs:i,outputAs:this.application.renderNode(new ae(n,i,t.FRAME,2048,i.children))}}}}}postBaseLayout(t){const e=t.data(ie.EXT_NAME.FLEXBOX,"mainData");if(e){const n=[],a=[],o=[];if(e.wrap){let i;t.each(t=>{if(t.hasAlign(128)){const r=t.renderFilter(t=>t.pageFlow);if(r.length){if(e.directionRow)t.android("layout_width","match_parent"),n.push(r);else{if(t.android("layout_height","match_parent"),i){let n=i[0];for(let t=1;t<i.length;t++)i[t].linear.right>n.linear.right&&(n=i[t]);if(e.wrapReverse){const e=t.linear.left-n.actualRect("right");e>0&&t.modifyBox(16,e)}t.constraint.horizontal=!0}a.push(r),i=r}o.push(t)}}}),t.layoutLinear?e.directionColumn&&e.wrapReverse&&t.mergeGravity("gravity","right"):o.length&&(e.directionRow?a.push(o):n.push(o))}else e.directionRow?(e.directionReverse&&e.children.reverse(),n[0]=e.children):(e.directionReverse&&e.children.reverse(),a[0]=e.children);[n,a].forEach((n,a)=>{const i=0===a,r=i?1:0,s=le.horizontalVertical[a],l=le.horizontalVertical[r],c=le.widthHeight[a],d=le.widthHeight[r],h=le.leftTop[a],u=le.leftTop[r],p=le.rightBottom[a],m=le.rightBottom[r],g=le.leftRightTopBottom[a],f=le.rightLeftBottomTop[a],b=c.toLowerCase(),y=d.toLowerCase(),T=t[`has${c}`];function A(t,e){t.app(`layout_constraint${se.capitalize(s)}_weight`,re.truncate(e,t.localSettings.floatPrecision)),t.android(`layout_${c.toLowerCase()}`,"0px")}for(let a=0;a<n.length;a++){const r=n[a],c=r[0],d=r[r.length-1],E=r===o,S=!E&&r.every(t=>0===t.flexbox.grow),x=S&&("space-between"===e.justifyContent||"space-around"===e.justifyContent&&r.length>1),w=[];let R,_=0,v=0,I=!0;if(E){if(T){let t="spread",n=0;switch(e.alignContent){case"left":case"right":case"flex-end":t="packed",n=1,I=!1;break;case"baseline":case"start":case"end":case"flex-start":t="packed",I=!1}c.anchorStyle(s,t,n)}}else if(v=1-ce(t,r,b),r.length>1){const t=new Set(se.objectMap(r,t=>t.initial.bounds?t.initial.bounds[y]:0));t.size>1&&(_=re.maxArray(Array.from(t)))}for(let o=0;o<r.length;o++){const c=r[o],d=r[o-1],h=r[o+1];if(h&&c.anchor(f,(h.outerParent||h).documentId),d&&c.anchor(g,(d.outerParent||d).documentId),E)I&&r.length>1&&T&&A(c,1);else{const p=de(c),T=c.innerChild,A=t[y]>0;if(i){if(p.horizontal)if(T){let t;t=p.leftRight?"center_horizontal":c.localizeString(p.left?"right":"left"),T.mergeGravity("layout_gravity",t),v>0&&(c.flexbox.basis="0%",w.push(c))}else p.leftRight||(p.left?d&&c.anchorDelete(g):h&&c.anchorDelete(f))}else if(p.vertical)if(T){let t;t=p.topBottom?"center_vertical":c.localizeString(p.top?"bottom":"top"),T.mergeGravity("layout_gravity",t),v>0&&(c.flexbox.basis="0%",w.push(c))}else p.topBottom||(p.top?d&&c.anchorDelete(g):h&&c.anchorDelete(f));switch(c.flexbox.alignSelf){case"stretch":c.anchorParent(l),c.android(`layout_${y}`,"0px");break;case"start":case"flex-start":c.anchor(u,"parent");break;case"end":case"flex-end":c.anchor(m,"parent");break;case"baseline":i&&(void 0===R&&(R=oe.baseline(r)[0]),R&&c!==R&&c.anchor("baseline",R.documentId));break;case"center":c.anchorParent(l),c.anchorStyle(l,"packed",.5),0!==c[y]||i||A||!c.cascadeSome(t=>t.multiline)||c.android(`layout_${y}`,"0px");break;default:const t=c.innerChild,d=e.wrapReverse;switch(e.alignContent){case"center":n.length%2==1&&a===Math.floor(n.length/2)?c.anchorParent(l):a<n.length/2?c.anchor(m,"parent"):a>=n.length/2&&c.anchor(u,"parent");break;case"space-evenly":case"space-around":c.layoutFrame&&t?t.mergeGravity("layout_gravity",i?"center_vertical":"center_horizontal"):c.anchorParent(l);break;case"space-between":x&&2===r.length&&c.anchorDelete(0===o?f:g),0===a?c.layoutFrame&&t?t.mergeGravity("layout_gravity",d?m:u):c.anchor(d?m:u,"parent"):n.length>2&&a<n.length-1?c.layoutFrame&&t?t.mergeGravity("layout_gravity",i?"center_vertical":"center_horizontal"):c.anchorParent(l):c.layoutFrame&&t?t.mergeGravity("layout_gravity",d?u:m):c.anchor(d?u:m,"parent");break;default:if(c.anchorParent(l),c.anchorStyle(l,"packed",d?1:0),0===c[y]){const t=c.initial.bounds&&c.initial.bounds[y],n=t<_,a=`layout_${y}`;if(n){if(A||0===_||n){if(0===_&&(!A&&r.length>1||e.wrap))break;c.android(a,i&&!A?n?"0px":"match_parent":"0px"),T&&!T.autoMargin[s]&&T.android(a,"match_parent")}}else 0===_&&A&&c.bounds[y]>t&&c.android(a,"0px")}}}Rt.setFlexDimension(c,b)}c.anchored=!0,c.positioned=!0}if(v>0)for(const t of w){const e=de(t);let n=1;i?e.leftRight&&(n=2):e.topBottom&&(n=2),A(t,Math.max(t.flexbox.grow,v*n/w.length))}if(c.anchor(h,"parent"),d.anchor(p,"parent"),!E&&(i||e.directionColumn)){let n=!1;if(S)switch(e.justifyContent){case"left":if(!i)break;case"start":case"flex-start":c.anchorStyle(s);break;case"center":r.length>1&&c.anchorStyle(s,"packed",.5),n=!0;break;case"right":if(!i)break;case"end":case"flex-end":c.anchorStyle(s,"packed",1);break;case"space-between":1===r.length&&d.anchorDelete(p);break;case"space-evenly":if(r.length>1){c.anchorStyle(s,"spread");const t=se.capitalize(s);for(const e of r)e.app(`layout_constraint${t}_weight`,""+(e.flexbox.grow||1))}else n=!0;break;case"space-around":if(r.length>1){const e=this.application.controllerHandler;c.constraint[s]=!1,d.constraint[s]=!1,e.addGuideline(c,t,s,!0,!1),e.addGuideline(d,t,s,!0,!0)}else n=!0}x?c.anchorStyle(s,"spread_inside",0,!1):n||c.anchorStyle(s,"packed",e.directionReverse?1:0,!1)}}})}}}var ue=squared.base.Layout;const pe=squared.base.lib.constant,me=squared.lib.css,ge=(squared,squared.lib.util);class fe extends squared.base.extensions.Grid{processNode(e,n){super.processNode(e,n);const a=e.data(pe.EXT_NAME.GRID,"mainData");if(a){const o=new ue(n,e,t.GRID,4,e.children);return o.columnCount=a.columnCount,{output:this.application.renderNode(o),complete:!0}}}processChild(e,n){const a=n.data(pe.EXT_NAME.GRID,"mainData"),o=e.data(pe.EXT_NAME.GRID,"cellData");if(a&&o){o.rowSpan>1&&e.android("layout_rowSpan",""+o.rowSpan),o.columnSpan>1&&e.android("layout_columnSpan",""+o.columnSpan),"table-cell"===e.display&&e.mergeGravity("layout_gravity","fill");const a=o.siblings&&o.siblings.length?o.siblings.slice(0):void 0;if(a){const o=this.application.controllerHandler;a.unshift(e);let i=new ue(n,e,0,0,a);if(i.linearY?(i.node=o.createNodeGroup(e,a,n),i.setType(t.LINEAR,16)):i=o.processTraverseHorizontal(i).layout,0!==i.containerType)return function(t,e){let n;for(let t=0;t<e.length;t++){const a=e[t];if(n){const t=a.data(pe.EXT_NAME.GRID,"cellData");if(t)for(const e in t)switch(typeof t[e]){case"number":n[e]+=t[e];break;case"boolean":!0===t[e]&&(n[e]=!0)}}else n=a.data(pe.EXT_NAME.GRID,"cellData");a.data(pe.EXT_NAME.GRID,"cellData",null)}t.data(pe.EXT_NAME.GRID,"cellData",n)}(i.node,a),{parent:i.node,renderAs:i.node,outputAs:this.application.renderNode(i),complete:!0}}}}postBaseLayout(t){if("collapse"!==t.css("borderCollapse")){const e=t.data(pe.EXT_NAME.GRID,"mainData");e&&t.renderEach(t=>{const n=t.data(pe.EXT_NAME.GRID,"cellData");if(n){const a=t.actualParent;if(a&&!a.visible&&(n.cellStart&&(e.paddingTop=a.paddingTop+a.marginTop),n.rowStart&&(e.paddingLeft=Math.max(a.marginLeft+a.paddingLeft,e.paddingLeft)),n.rowEnd)){const o=a.marginBottom+a.paddingBottom+(n.cellEnd?0:a.marginTop+a.paddingTop);if(o>0)if(n.cellEnd)e.paddingBottom=o;else{const n=this.application.controllerHandler;n.addAfterOutsideTemplate(t.id,n.renderSpace("match_parent",me.formatPX(o),e.columnCount))}e.paddingRight=Math.max(a.marginRight+a.paddingRight,e.paddingRight)}}}),t.modifyBox(32,e.paddingTop),t.modifyBox(64,e.paddingRight),t.modifyBox(128,e.paddingBottom),t.modifyBox(256,e.paddingLeft)}if(!t.hasWidth){let e=-1/0;ge.captureMap(t.renderChildren,t=>t.inlineFlow||!t.blockStatic,t=>e=Math.max(e,t.linear.right)),ge.withinRange(t.box.right,e)&&t.android("layout_width","wrap_content")}}}var be=squared.base.Layout;const ye=squared.base.lib.constant,Te=(squared,squared.lib.css),Ae=squared.lib.dom,Ee=squared.lib.util,Se=24,xe=8;class we extends squared.base.extensions.List{processNode(e,n){super.processNode(e,n);const a=new be(n,e,0,0,e.children);if(a.linearY?(a.rowCount=e.length,a.columnCount=e.some(t=>"inside"===t.css("listStylePosition"))?3:2,a.setType(t.GRID,4)):this.application.controllerHandler.checkRelativeHorizontal(a)&&(a.rowCount=1,a.columnCount=a.length,a.setType(t.RELATIVE,8)),0!==a.containerType)return{output:this.application.renderNode(a),complete:!0}}processChild(e,n){const o=e.data(ye.EXT_NAME.LIST,"mainData");if(o){const i=this.application.controllerHandler;let r=e.marginLeft,s=0;e.modifyBox(16,null);let l=!1,c=null;n.is(t.GRID)?(s=Ee.convertInt(n.android("columnCount")),l=!0):n.item(0)===e&&(l=!0),l&&(r+=n.paddingLeft>0?n.paddingLeft:n.marginLeft);let d=o.ordinal?void 0:e.find(t=>"left"===t.float&&t.marginLeft<0&&Math.abs(t.marginLeft)<=t.documentParent.marginLeft);if(d){const a=new be(n,d);d.inlineText||0===d.length?a.containerType=t.TEXT:(a.retain(d.children),i.checkRelativeHorizontal(a)?a.setType(t.RELATIVE,8):a.setType(t.CONSTRAINT,2)),d.parent=n,d.render(n),3===s&&e.android("layout_columnSpan","2"),(r+=d.marginLeft)>0&&!d.hasWidth&&d.android("minWidth",Te.formatPX(r)),d.modifyBox(16,null),this.application.addRenderTemplate(n,d,this.application.renderNode(a))}else{const h=s>0?"0":"",u="inside"===e.css("listStylePosition");let p,m="right",g=0,f=0;if(""!==o.imageSrc){if(o.imagePosition){const t=Te.getBackgroundPosition(o.imagePosition,e.actualDimension,e.fontSize);g=t.top,f=t.left,m="left",e.marginLeft<0?(c=e.marginLeft,c+=n.paddingLeft>0?n.paddingLeft:n.marginLeft):l=!1,r=0}p=S.addImageURL(o.imageSrc)}let b=0;if("left"===m)r+=e.paddingLeft-f,e.modifyBox(256,null);else{const t=o.ordinal?o.ordinal.length:1;b=Math.max(r/(p?6:4*t),4)}const y=P({android:{layout_columnWeight:h}}),T=Ae.createElement(e.actualParent&&e.actualParent.element,p?"img":"span");d=this.application.createNode(T),u?(i.addBeforeOutsideTemplate(d.id,i.renderNodeStatic(a.SPACE,{android:{minWidth:Te.formatPX(r),layout_columnWeight:h}})),r=Se):3===s&&e.android("layout_columnSpan","2"),"DT"!==e.tagName||p?(d.tagName=`${e.tagName}_ORDINAL`,p?(Object.assign(y.android,{src:`@drawable/${p}`,scaleType:u||"right"!==m?"fitStart":"fitEnd",baselineAlignBottom:l?"true":""}),d.setControlType(a.IMAGE,t.IMAGE),T.src=o.imageSrc):o.ordinal?(T.innerHTML=o.ordinal,d.setInlineText(!0),d.setControlType(a.TEXT,t.TEXT),"DFN"===e.tagName&&(r+=xe,d.modifyBox(64,xe))):(d.setControlType(a.SPACE,t.SPACE),e.modifyBox(256,null)),d.inherit(e,"textStyle"),d.cssApply({minWidth:r>0?Te.formatPX(r):"",marginTop:0!==e.marginTop?Te.formatPX(e.marginTop):"",paddingTop:e.paddingTop>0?Te.formatPX(e.paddingTop):"",paddingRight:b>0&&"right"===m?Te.formatPX(b):"",paddingLeft:b>0&&"left"===m&&(!p||o.imagePosition)?Te.formatPX(b):"",fontSize:o.ordinal&&!o.ordinal.endsWith(".")?Te.formatPX(.75*d.toInt("fontSize")):"",lineHeight:e.lineHeight>0?Te.formatPX(e.lineHeight):""}),d.apply(y),u||d.mergeGravity("gravity",e.localizeString(m)),0!==g&&d.modifyBox(2,g),0!==f&&d.modifyBox(16,f),d.render(n),this.application.addRenderTemplate(n,d,{type:1,node:d,controlName:d.controlName}),e.companion=d):e.android("layout_columnSpan",""+s)}if(s>0&&(e.android("layout_width","0px"),e.android("layout_columnWeight","1")),l&&((null===c||c<=0)&&n.modifyBox(n.paddingLeft>0?256:16,null),"number"==typeof c&&c<0&&n.modifyBox(16,c)),e.length&&e.every(t=>t.baseline)){const a=new be(n,e,t.LINEAR,0,e.children);if(a.linearX||a.linearY)return a.add(a.linearX?8:16),{output:this.application.renderNode(a),next:!0}}}}postBaseLayout(t){super.postBaseLayout(t);const e=t.android("columnCount");for(let n=0;n<t.renderChildren.length;n++){const o=t.renderChildren[n],r=t.renderChildren[n-1];let s=0;if(r){const t=Ee.convertInt(r.android(i.MARGIN_BOTTOM));0!==t&&(s+=t,r.delete("android",i.MARGIN_BOTTOM),r.modifyBox(8,null))}const l=Ee.convertInt(o.android(i.MARGIN_TOP));if(0!==l&&(s+=l,o.delete("android",i.MARGIN_TOP),o.modifyBox(2,null)),s>0){const t=this.application.controllerHandler,n=P({android:{layout_columnSpan:""+e}});t.addBeforeOutsideTemplate(o.id,t.renderNodeStatic(a.SPACE,n,"match_parent",Te.formatPX(s)),0)}}}postProcedure(t){t.blockStatic&&t.inlineWidth&&t.android("layout_width","match_parent")}}class Re extends squared.base.extensions.Relative{}var _e=squared.base.Layout;const ve=squared.base.lib.constant,Ie=squared.base.lib.enumeration,Ne=squared.lib.css;class Pe extends squared.base.extensions.Sprite{processNode(e,n){const o=e.data(ve.EXT_NAME.SPRITE,"mainData");if(o){const i=this.application.createNode(e.element);return i.inherit(e,"initial","base","styleMap"),i.setControlType(a.FRAME,t.FRAME),i.exclude({procedure:Ie.NODE_PROCEDURE.CUSTOMIZATION,resource:Ie.NODE_RESOURCE.IMAGE_SOURCE}),n.appendTry(e,i),e.setControlType(a.IMAGE,t.IMAGE),e.exclude({procedure:Ie.NODE_PROCEDURE.AUTOFIT,resource:Ie.NODE_RESOURCE.FONT_STYLE|Ie.NODE_RESOURCE.BOX_STYLE}),e.cssApply({position:"static",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"inline-block",width:Ne.formatPX(o.width),height:Ne.formatPX(o.height),marginTop:Ne.formatPX(o.position.y),marginRight:"0px",marginBottom:"0px",marginLeft:Ne.formatPX(o.position.x),paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px",backgroundPositionX:"0px",backgroundPositionY:"0px",backgroundColor:"transparent"}),e.unsetCache(),e.exclude({procedure:Ie.NODE_PROCEDURE.OPTIMIZATION}),e.android("src",`@drawable/${S.addImage({mdpi:o.uri})}`),e.outerParent=i,e.parent=i,{renderAs:i,outputAs:this.application.renderNode(new _e(n,i,t.FRAME,2048,i.children)),parent:i,complete:!0}}}}class Ce extends squared.base.extensions.Substitute{processNode(e,n){return e.containerType=e.blockStatic?t.BLOCK:t.INLINE,super.processNode(e,n)}postProcedure(t){t.apply(S.formatOptions(P(this.options[t.elementId]),this.application.extensionManager.optionValueAsBoolean(n.RESOURCE_STRINGS,"numberResourceValue")))}}var Le=squared.base.Layout;const Oe=squared.base.lib.constant,Me=(squared,squared.lib.css),ke=squared.lib.util;class De extends squared.base.extensions.Table{processNode(e,n){super.processNode(e,n);const a=e.data(Oe.EXT_NAME.TABLE,"mainData");if(a){let o=!1;if(a.columnCount>1)if(o=!!e.data(Oe.EXT_NAME.TABLE,"expand"),e.each(t=>{if("0px"===t.css("width"))t.android("layout_width","0px"),t.android("layout_columnWeight",""+(t.element.colSpan||1));else{const e=t.data(Oe.EXT_NAME.TABLE,"expand"),n=!!t.data(Oe.EXT_NAME.TABLE,"exceed"),a=!!t.data(Oe.EXT_NAME.TABLE,"downsized");if("boolean"==typeof e)if(e){const e=ke.convertFloat(t.data(Oe.EXT_NAME.TABLE,"percent"))/100;e>0&&(t.android("layout_width","0px"),t.android("layout_columnWeight",ke.trimEnd(e.toPrecision(3),"0")),o=!0)}else t.android("layout_columnWeight","0");a&&(n?(t.android("layout_width","0px"),t.android("layout_columnWeight","0.01")):(t.textElement&&!/[\s\n\-]/.test(t.textContent.trim())&&t.android("maxLines","1"),t.has("width")&&t.toFloat("width")<t.bounds.width&&t.android("layout_width",Me.formatPX(t.bounds.width))))}}),!e.hasWidth&&o){const t=e.ascend(!1,t=>t.hasWidth);t.length&&e.actualWidth>=t[0].actualWidth?e.android("layout_width","match_parent"):e.css("width",Me.formatPX(e.actualWidth),!0)}else o=!1;!o&&e.has("width")&&e.actualWidth<Math.floor(e.bounds.width)&&(e.has("minWidth")||e.android("minWidth",Me.formatPX(e.actualWidth)),e.css("width","auto",!0)),e.has("height")&&e.actualHeight<Math.floor(e.bounds.height)&&(e.has("minHeight")||e.android("minHeight",Me.formatPX(e.actualHeight)),e.css("height","auto",!0));const i=new Le(n,e,t.GRID,4,e.children);return i.rowCount=a.rowCount,i.columnCount=a.columnCount,{output:this.application.renderNode(i),complete:!0}}}processChild(t,e){const n=ke.convertInt(t.data(Oe.EXT_NAME.TABLE,"rowSpan")),a=ke.convertInt(t.data(Oe.EXT_NAME.TABLE,"colSpan")),o=ke.convertInt(t.data(Oe.EXT_NAME.TABLE,"spaceSpan"));if(n>1&&t.android("layout_rowSpan",""+n),a>1&&t.android("layout_columnSpan",""+a),t.mergeGravity("layout_gravity","fill"),o>0){const e=this.application.controllerHandler;e.addAfterOutsideTemplate(t.id,e.renderSpace("wrap_content","wrap_content",o))}"hide"===e.css("empty-cells")&&0===t.actualChildren.length&&""===t.textContent&&t.hide(!0)}postProcedure(t){const e=ke.convertInt(t.android("layout_width"));if(e>0){const n=t.bounds.width;n>e&&t.android("layout_width",Me.formatPX(n)),e>0&&"auto"===t.cssInitial("width")&&t.renderChildren.every(t=>t.inlineWidth)&&t.renderEach(t=>{t.android("layout_width","0px"),t.android("layout_columnWeight","1")})}}}var Be=squared.base.Layout;squared;class Xe extends squared.base.extensions.VerticalAlign{processNode(e,n){return super.processNode(e,n),{output:this.application.renderNode(new Be(n,e,t.RELATIVE,8,e.children))}}}class Ge extends squared.base.extensions.WhiteSpace{constructor(){super(...arguments),this.eventOnly=!0}}var Ve=squared.base.Layout;const We=squared.base.lib.enumeration,He=squared.lib.css,Fe=squared.lib.util;class ze extends squared.base.Extension{constructor(){super(...arguments),this.options={circlePosition:!1}}condition(t){return this.included(t.element)&&t.length>0}processNode(e,n){return e.exclude({procedure:We.NODE_PROCEDURE.CONSTRAINT}),{output:this.application.renderNode(new Ve(n,e,t.CONSTRAINT,32,e.children))}}afterConstraints(){const t=this.application.controllerHandler;for(const e of this.subscribers){const n=new Map;if(e.each(t=>{const a=[];Fe.withinRange(t.linear.left,e.box.left)&&a.push("left"),Fe.withinRange(t.linear.top,e.box.top)&&a.push("top"),n.set(t,a)}),this.options.circlePosition){let a,o=!1;for(const t of n.values())if(2===t.length){o=!0;break}for(const[i,s]of n.entries())if(o){if(2===s.length){i.anchor("left","parent"),i.anchor("top","parent"),a=i;break}}else if(1===s.length){s.includes("left")?(i.anchor("left","parent"),t.addGuideline(i,e,r.VERTICAL),a=i):(i.anchor("top","parent"),t.addGuideline(i,e,r.HORIZONTAL),a=i);break}void 0===a&&(a=e.item(0),t.addGuideline(a,e)),e.each(t=>{if(t!==a){const e=t.center,n=a.center,o=Math.abs(e.x-n.x),i=Math.abs(e.y-n.y),r=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2)));let s=Math.round(Math.atan(Math.min(o,i)/Math.max(o,i))*(180/Math.PI));e.y>n.y?e.x>n.x?o>i?s+=90:s=180-s:o>i?s=270-s:s+=180:e.y<n.y?n.x>e.x?o>i?s+=270:s=360-s:o>i&&(s=90-s):s=e.x>n.x?90:270,t.app("layout_constraintCircle",a.documentId),t.app("layout_constraintCircleRadius",He.formatPX(r)),t.app("layout_constraintCircleAngle",""+s)}})}else for(const[a,o]of n.entries())o.includes("left")&&a.anchor("left","parent"),o.includes("top")&&a.anchor("top","parent"),o.length<2&&t.addGuideline(a,e)}}}var qe=squared.base.Layout;const $e=squared.base.lib.enumeration,Ue=squared.lib.util,je=t=>t.filter(t=>!t.pageFlow&&t.leftTopAxis),Ye=(t,e)=>t.some(t=>t<e);class Ke extends squared.base.Extension{condition(t){const e=je(t);if(e.length){const a=[],o=[],i=[],r=[];let s=!1,l=!1;for(const t of e)t.has("top")?t.top>=0&&a.push(t.top):t.bottom>=0&&t.has("bottom")&&(i.push(t.bottom),"fixed"===t.position&&(l=!0)),t.has("left")?t.left>=0&&r.push(t.left):t.right>=0&&t.has("right")&&(o.push(t.right),"fixed"===t.position&&(s=!0));if(Ye(a,t.paddingTop+(t.documentBody?t.marginTop:0))||Ye(o,t.paddingRight+(t.documentBody?t.marginRight:0))||Ye(i,t.paddingBottom+(t.documentBody?t.marginBottom:0))||Ye(r,t.paddingLeft+(t.documentBody?t.marginLeft:0))||t.documentBody&&(o.length>0&&t.has("width")||i.length&&t.has("height")))return t.documentBody&&t.data(n.DELEGATE_FIXED,"mainData",{fixedRight:s,fixedBottom:l}),!0}return!1}processNode(e,a){const[o,i]=Ue.partitionArray(je(e),t=>t.absoluteParent===e);Ue.concatArray(Ue.sortArray(o,!0,"zIndex","siblingIndex"),Ue.sortArray(i,!0,"zIndex","siblingIndex")),i.length=0;for(const t of e.duplicate())o.includes(t)||i.push(t);if(i.length){const r=this.application.controllerHandler.createNodeGroup(i[0],i,e);if(r.inherit(e,"initial","base"),r.exclude({procedure:$e.NODE_PROCEDURE.NONPOSITIONAL,resource:$e.NODE_RESOURCE.BOX_STYLE|$e.NODE_RESOURCE.ASSET}),e.documentBody){const t=e.data(n.DELEGATE_FIXED,"mainData");t&&(t.fixedRight||t.fixedBottom)&&(e.has("width")&&r.css("width",e.css("width")),e.has("height")&&r.css("height",e.css("height")),e.cssApply({display:"block",width:"auto",height:"auto",float:"none"},!0),t.fixedRight&&e.android("layout_width","match_parent"),t.fixedBottom&&e.android("layout_height","match_parent"))}return r.outerParent=e,o.push(r),e.retain(o),e.resetBox(480|(e.documentBody?30:0),r,!0),e.innerChild=r,{output:this.application.renderNode(new qe(a,e,t.CONSTRAINT,32,o))}}}postBaseLayout(t){if(t.hasWidth&&t.outerParent&&t.documentBody&&t.some(t=>t.has("right"))){const e=t.cssInitial("width",!0),n=t.cssInitial("minWidth",!0);t.cssApply({width:"auto",minWidth:"auto"},!0),t.outerParent.cssApply({width:e,minWidth:n},!0),t.android("layout_width","match_parent")}}}var Ze=squared.base.Layout;squared;const Je=squared.lib.css;class Qe extends squared.base.Extension{condition(t,e){return!t.textElement&&!t.imageElement&&!t.svgElement&&!e.layoutConstraint&&(t.has("maxWidth")&&!e.has("columnCount")&&!e.has("columnWidth")||t.has("maxHeight"))}processNode(e,n){const o=e.filter(t=>!t.pageFlow&&(t.absoluteParent!==e||e.documentRoot));let i;(i=o.length?this.application.controllerHandler.createNodeWrapper(e,n,o,a.CONSTRAINT,t.CONSTRAINT):this.application.controllerHandler.createNodeWrapper(e,n,void 0,a.FRAME,t.FRAME)).inherit(e,"styleMap");const r=e.css("maxWidth"),s=e.css("maxHeight");if(Je.isLength(r,!0)){e.hasWidth||e.android("layout_width",e.some(t=>t.blockStatic)?"match_parent":"wrap_content");const t=Je.formatPX(e.parseUnit(r)+(Je.isPercent(r)?0:e.contentBoxWidth+(e.marginLeft>0?e.marginLeft:0)+(e.marginRight>0?e.marginRight:0)));i.cssApply({width:t,maxWidth:t},!0),n.layoutElement&&(e.autoMargin.horizontal=!1,e.autoMargin.left=!1,e.autoMargin.right=!1,e.autoMargin.leftRight=!1)}if(Je.isLength(s,!0)){e.hasHeight||e.android("layout_height","wrap_content");const t=Je.formatPX(e.parseUnit(s)+(Je.isPercent(s)?0:e.contentBoxHeight+(e.marginTop>0?e.marginTop:0)+(e.marginBottom>0?e.marginBottom:0)));i.cssApply({height:t,maxHeight:t},!0),n.layoutElement&&(e.autoMargin.vertical=!1,e.autoMargin.top=!1,e.autoMargin.bottom=!1,e.autoMargin.topBottom=!1)}return{parent:i,renderAs:i,outputAs:this.application.renderNode(new Ze(n,i,i.containerType,2048,i.children))}}}var tn=squared.base.Layout;squared;const en=squared.lib.css;function nn(t,e){return!t.pageFlow&&t.absoluteParent===e&&(t.left<0||!t.has("left")&&t.right<0)}class an extends squared.base.Extension{condition(t){return this.application.userSettings.supportNegativeLeftTop&&"hidden"!==t.css("overflow")&&t.some(e=>nn(e,t))}processNode(e,n){const o=e.filter(t=>nn(t,e)),i=this.application.controllerHandler.createNodeWrapper(e,n,o,a.CONSTRAINT,t.CONSTRAINT);e.marginTop>0&&(i.modifyBox(2,e.marginTop),e.modifyBox(2,null)),e.marginBottom>0&&(i.modifyBox(8,e.marginBottom),e.modifyBox(8,null));let r=NaN,s=NaN;for(const t of o)t.left<0&&(isNaN(r)||t.linear.left<r)&&(r=t.linear.left),t.right<0&&(isNaN(s)||t.linear.right>s)&&(s=t.linear.right);if(i.inherit(e,"styleMap"),!isNaN(r)){let t=e.linear.left-r;if(t>0){e.modifyBox(16,t);for(const e of o)e.left<0&&e.css("left",en.formatPX(e.left+t),!0)}else{for(const t of o)t.left<0&&t.css("left",en.formatPX(e.marginLeft+t.left),!0);t=0}e.has("width",2)?i.cssPX("width",e.marginLeft+t,!1,!0):e.has("width")&&i.css("width","auto",!0)}if(!isNaN(s)){let t=e.linear.right-s;if(t>0){e.modifyBox(4,t);for(const e of o)e.right<0&&e.css("right",en.formatPX(e.right+t),!0)}else{for(const t of o)t.right<0&&t.css("right",en.formatPX(e.marginRight+t.right),!0);t=0}e.has("width",2)?i.cssPX("width",e.marginRight+t,!1,!0):e.has("width")&&i.css("width","auto",!0)}return{parent:i,renderAs:i,outputAs:this.application.renderNode(new tn(n,i,i.containerType,2048,i.children))}}}var on=squared.base.Layout;squared;class rn extends squared.base.Extension{condition(t,e){return t.pageFlow&&t.has("width",32,{not:"100%"})&&(e.layoutVertical||e.layoutFrame&&t.singleChild)&&(t.has("height")||e.blockStatic||e.has("width"))&&!t.imageElement&&!t.documentBody}processNode(e,n){const a=this.application.controllerHandler.createNodeWrapper(e,n);return a.android("layout_width","match_parent"),a.android("layout_height",e.has("height",32)?"match_parent":"wrap_content"),e.android("layout_width","0px"),{parent:a,renderAs:a,outputAs:this.application.renderNode(new on(n,a,t.CONSTRAINT,2048,a.children)),include:!0}}postConstraints(t){const e=t.parent;e&&e.visible&&t.resetBox(30,e,!0)}}var sn=squared.base.NodeList;const ln=squared.base.lib.enumeration,cn="RadioGroup",dn=t=>t.name?t.name.trim():"";class hn extends squared.base.Extension{condition(e){if(e.length>1){const n=new Set;let a=0,o=!0;for(let i of e){if(!i.baseline){o=!1;break}if(i.renderAs&&(i=i.renderAs),i.containerType===t.RADIO){const t=dn(i.element);""!==t&&(n.add(t),a++)}}if(o&&1===n.size&&a>1){const t=sn.linearData(e.children);if(t.linearX&&!t.floated.has("right"))return!0}return!1}return e.containerType===t.RADIO&&""!==dn(e.element)&&!e.positioned}processNode(e,n){if(e.length)return e.setControlType(cn,t.LINEAR),e.alignmentType|=8,e.android("orientation",r.HORIZONTAL),e.baseline&&e.css("verticalAlign","text-bottom",!0),e.render(n),{output:{type:1,node:e,controlName:cn},complete:!0};if(n.controlName!==cn){const o=dn(e.element),i=[],s=[];let l;for(let a of n.children){let n;a.renderAs&&(a.renderAs===e?l=a:n=a,a=a.renderAs),e.containerType!==t.RADIO||dn(a.element)!==o||a.rendered||(i.push(a),n&&s.push(n))}if(i.length>1){const o=this.application.controllerHandler.createNodeGroup(e,i,n,l);o.alignmentType|=8|(n.length!==i.length?128:0),n.layoutConstraint&&(o.companion=l||e),o.setControlType(cn,t.LINEAR),o.inherit(e,"alignment"),o.css("verticalAlign","text-bottom"),o.modifyBox(2,-4),o.exclude({resource:ln.NODE_RESOURCE.ASSET}),o.each(n=>{n!==e&&n.setControlType(a.RADIO,t.RADIO),n.positioned=!0}),o.render(!e.dataset.use&&e.dataset.target?this.application.resolveTarget(e.dataset.target):n),o.android("orientation",sn.linearData(i).linearX?r.HORIZONTAL:r.VERTICAL);for(const t of s)t.hide();return this.subscribers.add(o),{renderAs:o,outputAs:{type:1,node:o,controlName:cn},parent:o,complete:!0}}}}postBaseLayout(t){t.some(e=>!(!e.element||!e.element.checked)&&(t.android("checkedButton",e.documentId),!0))}}const un=squared.base.lib.enumeration,pn=squared.lib.css,mn=squared.lib.dom,gn="HorizontalScrollView",fn="android.support.v4.widget.NestedScrollView";class bn extends squared.base.Extension{condition(t){return t.length>0&&(t.overflowX||t.overflowY||this.included(t.element)&&(t.hasWidth||t.hasHeight))}processNode(e,n){const a=[],o=[];if(e.overflowX&&e.overflowY)a.push(gn,fn);else if(e.overflowX)a.push(gn);else if(e.overflowY)a.push(fn);else{let t=0;e.hasWidth&&(t|=8,a.push(gn)),e.hasHeight&&(t|=16,a.push(fn)),e.overflow=t}for(let i=0;i<a.length;i++){const r=this.application.createNode(0===i?e.element:mn.createElement(e.actualParent&&e.actualParent.element,e.block?"div":"span"));r.setControlType(a[i],t.BLOCK),0===i?(r.inherit(e,"initial","base","styleMap"),n.appendTry(e,r)):(r.inherit(e,"base"),r.exclude({resource:un.NODE_RESOURCE.BOX_STYLE})),r.exclude({resource:un.NODE_RESOURCE.ASSET}),r.resetBox(480),o.push(r)}for(let t=0;t<o.length;t++){const a=o[t],i=o[t-1];switch(a.controlName){case fn:e.android("layout_width","wrap_content"),a.android("layout_height",pn.formatPX(e.actualHeight)),a.cssApply({overflow:"scroll visible",overflowX:"visible",overflowY:"scroll"});break;case gn:a.android("layout_width",pn.formatPX(e.actualWidth)),e.android("layout_height","wrap_content"),a.cssApply({overflow:"visible scroll",overflowX:"scroll",overflowY:"visible"})}a.render(0===t?!e.dataset.use&&e.dataset.target?this.application.resolveTarget(e.dataset.target):n:i),a.unsetCache(),this.application.addRenderTemplate(a.renderParent||n,a,{type:1,node:a,controlName:a.controlName})}2===o.length?(e.android("layout_width","wrap_content"),e.android("layout_height","wrap_content")):e.overflowX?(e.android("layout_width","wrap_content"),e.android("layout_height","match_parent")):(e.android("layout_width","match_parent"),e.android("layout_height","wrap_content"));const i=o.pop();return e.parent=i,n.layoutConstraint&&(i.companion=e),e.overflow=0,e.resetBox(30),e.exclude({resource:un.NODE_RESOURCE.BOX_STYLE}),{parent:e.parent}}}var yn={shape:{"@":["xmlns:android","android:shape"],">":{solid:{"^":"android","@":["color"]},gradient:{"^":"android","@":["type","startColor","endColor","centerColor","angle","centerX","centerY","gradientRadius","visible"]},corners:{"^":"android","@":["radius","topLeftRadius","topRightRadius","bottomRightRadius","bottomLeftRadius"]},stroke:{"^":"android","@":["width","color","dashWidth","dashGap"]}}}},Tn={"layer-list":{"@":["xmlns:android"],">":{item:{"^":"android","@":["left","top","right","bottom","drawable","width","height","gravity"],">":{shape:yn.shape,bitmap:{"^":"android","@":["src","gravity","tileMode","tileModeX","tileModeY"]},rotate:{"^":"android","@":["drawable","fromDegrees","toDegrees","pivotX","pivotY","visible"]}}}}}};const An={path:{"^":"android","@":["name","fillColor","fillAlpha","fillType","strokeColor","strokeAlpha","strokeWidth","strokeLineCap","strokeLineJoin","strokeMiterLimit","trimPathStart","trimPathEnd","trimPathOffset","pathData"],">":{"aapt:attr":{"@":["name"],">":{gradient:{"^":"android","@":["type","startColor","endColor","centerColor","angle","startX","startY","endX","endY","centerX","centerY","gradientRadius","tileMode"],">":{item:{"^":"android","@":["offset","color"]}}}}}}}},En={group:{"^":"android","@":["name","rotation","scaleX","scaleY","translateX","translateY","pivotX","pivotY"],">>":!0,">":{"clip-path":{"^":"android","@":["name","pathData"]},path:An.path},"#":"include"}};var Sn={vector:{"@":["xmlns:android","xmlns:aapt","android:name","android:width","android:height","android:viewportWidth","android:viewportHeight","android:alpha"],">":{path:An.path},"#":"include"}};const xn=squared.base.lib.enumeration,wn=squared.lib.color,Rn=squared.lib.css,_n=squared.lib.math,vn=squared.lib.regex,In=squared.lib.util,Nn=squared.lib.xml;function Pn(t,e=-1,n=!1){const a=t.style,o=parseInt(t.width);let i=!1;switch(a){case"inset":case"outset":i=!0;case"groove":case"ridge":{const o=wn.parseColor(t.color,"1",!0);if(o){if("outset"===a&&(n=!n),n)switch(e){case 0:case 3:e=1;break;case 1:case 2:e=0}let t=1;switch(e){case 0:case 3:t=i?.8:1;break;case 1:case 2:t=i?.5:-.75}if(1!==t){const e=wn.reduceColor(o.valueAsRGBA,t);if(e){const t=S.addColor(e,!0);if(""!==t)return Xn(t)}}}break}}const r=Xn(S.addColor(t.color,!0));switch(a){case"dotted":case"dashed":r.dashWidth=`${o*("dashed"===a?2:1)}px`,r.dashGap=`${o}px`}return r}function Cn(t,e=-1,n=!1,a=!1){if(t){return Gn(t.style)?a?Object.assign({width:Rn.formatPX(2*Math.ceil(parseFloat(t.width)/2))},Pn(t,e)):Object.assign({width:n?Rn.formatPX(Math.ceil(parseFloat(t.width)/2)):t.width},Pn(t,e,!0)):Object.assign({width:t.width},Pn(t))}}function Ln(t){if(t.borderRadius){if(1===t.borderRadius.length)return{radius:t.borderRadius[0]};{let e;if(8===t.borderRadius.length){e=[];for(let n=0;n<t.borderRadius.length;n+=2)e.push(Rn.formatPX((parseFloat(t.borderRadius[n])+parseFloat(t.borderRadius[n+1]))/2))}else e=t.borderRadius;const n=["topLeft","topRight","bottomRight","bottomLeft"],a={};let o=!1;for(let t=0;t<e.length;t++)"0px"!==e[t]&&(a[`${n[t]}Radius`]=e[t],o=!0);if(o)return a}}}function On(t,e,n,a,o,i,r){const s=parseInt(e.width),l=Math.floor(s/3),c=2===s%3?1:0;let d=`${Rn.formatPX(s-l)}`,h=`-${d}`;t.push({top:n?"":h,right:a?"":h,bottom:o?"":h,left:i?"":h,shape:{"android:shape":"rectangle",stroke:Object.assign({width:Rn.formatPX(l+c)},Pn(e)),corners:r}}),3===s&&(h=`-${d=`${Rn.formatPX(s)}`}`),t.push({top:n?d:h,right:a?d:h,bottom:o?d:h,left:i?d:h,shape:{"android:shape":"rectangle",stroke:Object.assign({width:Rn.formatPX(l+c)},Pn(e)),corners:r}})}function Mn(t,e,n){const a="initial"===t||"unset"===t;return-1===t.indexOf(" ")&&-1!==e.indexOf(" ")?/^[a-z]+$/.test(t)?`${a?n:t} 0px`:`${n} ${t}`:a?"0px":t}function kn(t,e,n,a){S.addTheme({name:t,parent:e,items:{[n]:a}})}function Dn(t,e=21,n){const a={type:t.type,item:!1},o=e>=21;switch(t.type){case"conic":{const e=t.center;a.type="sweep",o?(a.centerX=""+2*e.left,a.centerY=""+2*e.top):(a.centerX=Rn.formatPercent(100*e.leftAsPercent),a.centerY=Rn.formatPercent(100*e.topAsPercent));break}case"radial":{const e=t.center,n=t.radius;o?(a.gradientRadius=""+n,a.centerX=""+e.left,a.centerY=""+e.top):(a.gradientRadius=Rn.formatPX(n),a.centerX=Rn.formatPercent(100*e.leftAsPercent),a.centerY=Rn.formatPercent(100*e.topAsPercent));break}case"linear":{const e=t.dimension,o=e.width,i=e.height,r=t.angle;let s=t.angleExtent.x,l=t.angleExtent.y;r<=90?(l+=i,a.startX="0",a.startY=""+i):r<=180?(a.startX="0",a.startY="0"):r<=270?(s+=o,a.startX=""+o,a.startY="0"):(s+=o,l+=i,a.startX=""+o,a.startY=""+i),a.endX=_n.truncate(s,n),a.endY=_n.truncate(l,n);break}}const i=t.colorStops;return o?a.item=Vn(i):(a.startColor=`@color/${S.addColor(i[0].color,!0)}`,a.endColor=`@color/${S.addColor(i[i.length-1].color,!0)}`,i.length>2&&(a.centerColor=`@color/${S.addColor(i[Math.floor(i.length/2)].color,!0)}`)),a}function Bn(t,e,n,a,o){if(o){const i=e.orientation,r="cover"===n||"contain"===n?-1:1;if("left"===t||"right"===t){if("cover"===n)return 0;if(Rn.isPercent(4===i.length?i[1]:i[0])){const n=("left"===t?e.leftAsPercent:e.rightAsPercent)*(a.width-o.width);return-1===r?-1*Math.abs(n):n}}else{if("contain"===n)return 0;if(Rn.isPercent(4===i.length?i[3]:i[1])){const n=("top"===t?e.topAsPercent:e.bottomAsPercent)*(a.height-o.height);return-1===r?-1*Math.abs(n):n}}}return e[t]}const Xn=t=>({color:`@color/${t}`,dashWidth:"",dashGap:""}),Gn=t=>"groove"===t||"ridge"===t||"inset"===t||"outset"===t;function Vn(t,e){const n=[];for(const a of t)n.push({color:`@color/${S.addColor(a.color,!0)}`,offset:_n.truncate(a.offset,e)});return n}function Wn(t,e,n=0,a=0,o){const i=`M${n},${a} ${n+t},${a} ${n+t},${a+e} ${n},${a+e} Z`;return o?_n.truncateString(i,o):i}class Hn extends squared.base.Extension{constructor(){super(...arguments),this.options={autoSizeBackgroundImage:!0},this.eventOnly=!0}afterResources(){const e=this.application.userSettings;for(const i of this.application.processing.cache){const r=i.data(S.KEY_NAME,"boxStyle");if(r&&i.hasResource(xn.NODE_RESOURCE.BOX_STYLE)){const s=r.backgroundRepeat.split(vn.XML.SEPARATOR),c=r.backgroundSize.split(vn.XML.SEPARATOR),d=r.backgroundPositionX.split(vn.XML.SEPARATOR),h=r.backgroundPositionY.split(vn.XML.SEPARATOR),u=[],p=[],m=[];let g=0;if(i.hasResource(xn.NODE_RESOURCE.IMAGE_SOURCE)){if(r.backgroundImage){for(g=r.backgroundImage.length;c.length<g;)In.concatArray(c,c.slice(0));c.length=g;for(let t=0,e=0;t<g;t++){const n=r.backgroundImage[t];let a=!0;if("string"==typeof n)"initial"!==n&&(u[e]=S.addImageURL(n),""!==u[e]&&(m[e]=S.ASSETS.images.get(Rn.resolveURL(n)),a=!1));else if(n.colorStops.length>1){const t=Dn(n,i.localSettings.targetAPI);t&&(u[e]=t,m[e]=n.dimension,a=!1)}if(a)s.splice(t,1),c.splice(t,1),g--;else{const n=d[t]||d[t-1],a=h[t]||h[t-1];p[e]=Rn.getBackgroundPosition(`${Mn(n,a,"left")} ${Mn(a,n,"top")}`,i.actualDimension,i.fontSize),e++}}}if(i.extracted){0===g&&(s.length=0,c.length=0);const t=i.extracted.filter(t=>t.visible&&(t.imageElement||"IMAGE"===t.tagName));for(let e=0,n=g;e<t.length;e++){const a=t[e],o=a.element,r=S.addImageSrc(o);if(""!==r){u[n]=r,m[n]=S.ASSETS.images.get(o.src),s[n]="no-repeat",c[n]=`${a.actualWidth}px ${a.actualHeight}px`,p[n]=Rn.getBackgroundPosition("IMAGE"===a.tagName?"0px 0px":`${a.bounds.left-i.bounds.left}px ${a.bounds.top-i.bounds.top}px`,i.actualDimension,i.fontSize),n++}}}g=u.length}const f=[r.borderTop,r.borderRight,r.borderBottom,r.borderLeft],b=[];let y,T=!0,A=!0;for(let t=0;t<f.length;t++){const e=f[t];e?(b[t]=!0,y&&A&&(A=In.isEqual(y,e)),y=e):b[t]=!1}const E=void 0!==y||void 0!==r.borderRadius,x=i.companion;if(x&&!x.visible&&x.htmlElement&&!S.isInheritedStyle(x,"backgroundColor")){const t=x.data(S.KEY_NAME,"boxStyle");t&&t.backgroundColor&&(r.backgroundColor=t.backgroundColor)}if(g||E){const d=[];let h,E="";for(let t=g-1;t>=0;t--){const e=u[t],a=i.bounds,o=p[t],h={bitmap:!1,rotate:!1,gradient:!1};let g=m[t];!g||0!==g.width&&0!==g.height||(g=void 0);let f=0,b=0,y=0,A=0;if("string"==typeof e){function n(t,e,n=!1){(2===o.orientation.length||n)&&(o[t]=0),o[e]=0}const l=`@drawable/${e}`;let d="",u="";if("repeat-x"!==s[t])switch(o.horizontal){case"0%":case"left":n("left","right"),d=i.localizeString("left");break;case"50%":case"center":n("left","right",!0),d="center_horizontal";break;case"100%":case"right":n("right","left"),d=i.localizeString("right");break;default:d+=i.localizeString(0!==o.right?"right":"left")}else{if(g)for(;o.left>0;)o.left-=g.width;else o.left=0;o.right=0,d=i.localizeString("left")}if("repeat-y"!==s[t])switch(o.vertical){case"0%":case"top":n("top","bottom"),u+="top";break;case"50%":case"center":n("top","bottom",!0),u+="center_vertical";break;case"100%":case"bottom":n("bottom","top"),u+="bottom";break;default:u+=0!==o.bottom?"bottom":"top"}else{if(g)for(;o.top>0;)o.top-=g.height;else o.top=0;o.bottom=0,u="top"}let p,m=0,E=0,S="",x="",w="";switch(s[t]){case"repeat":S="repeat";break;case"repeat-x":x="repeat";break;case"repeat-y":w="repeat";break;default:S="disabled"}if(g){if(""!==d&&"repeat"===w&&g.width<a.width){switch(d){case"start":case"left":o.left=i.borderLeftWidth,o.right=0;break;case"end":case"right":o.left=0,o.right=i.borderRightWidth;break;case"center_horizontal":o.left=0,o.right=0}m=g.width}if(""!==u&&"repeat"===x&&g.height<a.height){switch(u){case"top":o.top=i.borderTopWidth,o.bottom=0,h.gravity=u,u="";break;case"bottom":o.top=0,o.bottom=i.borderBottomWidth,h.gravity=u,u="";break;case"center_vertical":o.top=0,o.bottom=0,h.gravity=u,u=""}E=g.height}i.blockStatic&&!i.hasWidth||(g.width>=a.width&&(x="","repeat"===S&&(w="repeat",S="")),g.height>=a.height&&(w="","repeat"===S&&(x="repeat",S="")))}switch(c[t]){case"auto":case"auto auto":case"initial":case"contain":break;case"cover":S="",x="",w="",p="";break;case"100%":d="fill_horizontal";break;case"100% 100%":d="fill_horizontal",u="fill_vertical";break;default:c[t].split(" ").forEach((t,e)=>{"auto"!==t&&(0===e?"100%"===t?d="fill_horizontal":m=i.parseUnit(t,!0,!1):"100%"===t?u="fill_vertical":E=i.parseUnit(t,!1,!1))})}if(g){const e=r.backgroundClip;switch(c[t]){case"cover":if(g.width<a.width||g.height<a.height){m=0,E=g.height*Math.max(a.width/g.width,a.height/g.height),p="top|center_horizontal|fill_horizontal"}else m=0,E=0,p="fill";T=!1;break;case"contain":if(g.width!==a.width&&g.height!==a.height){const t=Math.min(a.width/g.width,a.height/g.height);m=g.width*t,E=g.height*t}else m=0,E=0;T=!1;break;default:0===m&&(E>0||"fill_vertical"===u)&&"fill_horizontal"!==d&&"repeat"!==S&&"repeat"!==x&&(m=g.width*(0===E?a.height:E)/g.height),0===E&&(m>0||"fill_horizontal"===d)&&"fill_vertical"!==u&&"repeat"!==S&&"repeat"!==w&&(E=g.height*(0===m?a.width:m)/g.width)}e?(0===m?m=a.width:m+=i.contentBoxWidth,0===E?E=a.height:E+=i.contentBoxHeight,m-=e.left+e.right,E-=e.top+e.bottom,e.left>e.right?A=e.left-e.right:e.left<e.right&&(b=e.right-e.left),e.top>e.bottom?f=e.top-e.bottom:e.top<e.bottom&&(y=e.bottom-e.top)):0===m&&0===E&&g.width<i.actualWidth&&"repeat"!==S&&("repeat"!==x&&(m=g.width),"repeat"!==w&&(E=g.height)),m>0&&(h.width=Rn.formatPX(m)),E>0&&(h.height=Rn.formatPX(E))}void 0===p&&("center_horizontal"===d&&"center_vertical"===u?p="center":"fill_horizontal"===d&&"fill_vertical"===u?p="fill":(p="",""!==d&&(p+=d),""!==u&&(p+=(""!==p?"|":"")+u))),"repeat"===S||"repeat"===x||"repeat"===w?h.bitmap=[{src:l,gravity:p,tileMode:S,tileModeX:x,tileModeY:w}]:(h.drawable=l,h.gravity=p)}else if(g)if(e.item){const n=Math.round(g.width),a=Math.round(g.height);h.width=Rn.formatPX(n),h.height=Rn.formatPX(a);const o=S.insertStoredAsset("drawables",`${i.tagName.toLowerCase()}_${i.controlId}_gradient_${t+1}`,Nn.applyTemplate("vector",Sn,[{"xmlns:android":l.android,"xmlns:aapt":l.aapt,"android:width":h.width||Rn.formatPX(n),"android:height":h.height||Rn.formatPX(a),"android:viewportWidth":""+n,"android:viewportHeight":""+a,path:{pathData:Wn(n,a),"aapt:attr":{name:"android:fillColor",gradient:e}}}]));""!==o&&(h.drawable=`@drawable/${o}`)}else h.gradient=e;(h.drawable||h.bitmap||h.gradient)&&(0!==o.bottom?(h.bottom=Rn.formatPX(Bn("bottom",o,c[t],i.bounds,g)+y),y=0):0!==o.top&&(h.top=Rn.formatPX(Bn("top",o,c[t],i.bounds,g)+f),f=0),0!==o.right?(h.right=Rn.formatPX(Bn("right",o,c[t],i.bounds,g)+b),b=0):0!==o.left&&(h.left=Rn.formatPX(Bn("left",o,c[t],i.bounds,g)+A),A=0),f>0&&(h.top=Rn.formatPX(f)),b>0&&(h.right=Rn.formatPX(b)),y>0&&(h.bottom=Rn.formatPX(y)),A>0&&(h.left=Rn.formatPX(A)),d.push(h))}if(r.backgroundColor){const t=S.addColor(r.backgroundColor);""!==t&&(h={color:`@color/${t}`})}const x=r.border,w=Ln(r);let R,_;function a(){const t=[{"xmlns:android":l.android,item:[]}];h&&t[0].item.push({shape:{"android:shape":"rectangle",solid:h}});for(const e of d)t[0].item.push(e.gradient?{shape:{"android:shape":"rectangle",gradient:e.gradient}}:e);return t}if(void 0===y||x&&!(Gn(x.style)||"double"===x.style&&parseInt(x.width)>2)){const t=!!x&&Cn(x);d.length?(R=a(),(w||t)&&R[0].item.push({shape:{"android:shape":"rectangle",corners:w,stroke:t}})):_=[{"xmlns:android":l.android,"android:shape":"rectangle",solid:h,corners:w,stroke:t}]}else{R=a();const t=b[1]&&b[2],e=e=>e+(t?0:1===e?1:2);if(A&&y&&!Gn(y.style)){const t=parseInt(y.width);if("double"===y.style&&t>2)On(R[0].item,y,b[0],b[1],b[2],b[3],w);else{const n=`-${Rn.formatPX(e(t))}`,a=!b[0]&&!b[3],o=!b[0]&&b[1]&&b[2]&&b[3],i=b[0]&&b[1]&&b[2]&&!b[3];R[0].item.push({top:b[0]?"":n,right:b[1]?b[3]||a||i?"":y.width:n,bottom:b[2]?b[0]||a||o?"":y.width:n,left:b[3]?"":n,shape:{"android:shape":"rectangle",corners:w,stroke:Cn(y)}})}}else{function o(n,a){let o=f[a];if(o){const i=parseInt(o.width);if("double"===o.style&&i>2)On(n.item,o,0===a,1===a,2===a,3===a,w);else{const r="groove"===o.style||"ridge"===o.style,s=!t&&"1px"===o.width?o.width:"";let l=e(r?Math.ceil(i/2):i),c=`-${l}px`,d=`-${l+(t?1:0)}px`,h="";0===a&&t&&((o=Object.assign({},o)).width=`${i+1}px`,h="-1px"),n.item.push({top:0===a?h:d,right:1===a?s:c,bottom:2===a?s:c,left:3===a?"":d,shape:{"android:shape":"rectangle",corners:w,stroke:Cn(o,a,r)}}),r&&(l=e(i),c=`-${Rn.formatPX(l)}`,d=`-${l+(t?1:0)}px`,n.item.splice(n.item.length,0,{top:0===a?h:d,right:1===a?s:c,bottom:2===a?s:c,left:3===a?"":d,shape:{"android:shape":"rectangle",stroke:Cn(o,a,r,!0)}}))}}}o(R[0],0),o(R[0],3),o(R[0],1),o(R[0],2)}}const v=`${i.tagName.toLowerCase()}_${i.controlId}`;if(_?E=S.insertStoredAsset("drawables",v,Nn.applyTemplate("shape",yn,_)):R&&(E=S.insertStoredAsset("drawables",v,Nn.applyTemplate("layer-list",Tn,R))),this.options.autoSizeBackgroundImage&&T&&u.length&&!i.documentRoot&&!i.is(t.IMAGE)&&i.renderParent&&!i.renderParent.tableElement&&i.hasProcedure(xn.NODE_PROCEDURE.AUTOFIT)){let t=0,e=0;for(const n of m)n&&(t=Math.max(t,n.width),e=Math.max(e,n.height));if(i.blockStatic||0===t){let n=i;for(;n&&(n.hasWidth&&(t=n.has("width")?n.actualWidth:n.bounds.width),n.hasHeight&&(e=n.has("height")?n.actualHeight:n.bounds.height),!(n.documentBody||t>0&&e>0)&&n.pageFlow);)n=n.actualParent}if(!i.has("width",2,{map:"initial",not:"100%"})&&(0===t||i.bounds.width<t)){const t=i.bounds.width-(i.contentBox?i.contentBoxWidth:0);t>0&&i.css("width",Rn.formatPX(t),!0)}if(!i.has("height",2,{map:"initial",not:"100%"})&&(0===e||i.bounds.height<e)){const t=i.bounds.height-(i.contentBox?i.contentBoxHeight:0);t>0&&(i.css("height",Rn.formatPX(t),!0),i.marginBottom<0&&i.modifyBox(8,null))}}""!==E&&(E=`@drawable/${E}`,i.documentBody?kn(e.manifestThemeName,e.manifestParentThemeName,"android:background",E):i.android("background",E,!1))}else if(r.backgroundColor){let t=S.addColor(r.backgroundColor);if(""!==t)if(t=`@color/${t}`,i.documentBody)kn(e.manifestThemeName,e.manifestParentThemeName,"android:windowBackground",t);else{const e=i.data(S.KEY_NAME,"fontStyle");e?e.backgroundColor=r.backgroundColor:i.android("background",t,!1)}}}}}}const Fn=squared.lib.regex,zn=squared.lib.util,qn=S.STORED,$n=/[\s\n]*<([\w\-.]+)[^<]*?(\w+):(\w+)="(-?[\d.]+(?:px|dp|sp))"/,Un=/\d(px|dp|sp)$/,jn=["android","app"];function Yn(t,e,n){for(const[a,o]of t.entries())if(a.startsWith(e)&&n===o)return a;return t.has(e)&&t.get(e)!==n?S.generateId("dimen",e):e}const Kn=t=>zn.fromLastIndexOf(t,".");class Zn extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}beforeCascadeDocument(){const t={};for(const e of this.application.session.cache)if(e.visible){const n=e.tagName.toLowerCase();void 0===t[n]&&(t[n]={});for(const a of jn){const o=e.namespace(a);for(const i in o){const r=o[i].trim();if(Un.test(r)){const o=`${a},${i},${r}`;void 0===t[n][o]&&(t[n][o]=[]),t[n][o].push(e)}}}}for(const e in t){const n=t[e];for(const t in n){const[a,o,i]=t.split(Fn.XML.SEPARATOR),r=Yn(qn.dimens,`${Kn(e)}_${zn.convertUnderscore(o)}`,i);for(const e of n[t])e[a](o,`@dimen/${r}`);qn.dimens.set(r,i)}}}afterFinalize(){const t=this.application.viewData;for(const e in t)for(const n of t[e]){let t,e=n.content;for(;null!==(t=$n.exec(e));){const n=Yn(qn.dimens,`${Kn(t[1]).toLowerCase()}_${zn.convertUnderscore(t[3])}`,t[4]);qn.dimens.set(n,t[4]),e=e.replace(t[0],t[0].replace(t[4],`@dimen/${n}`))}n.content=e}}}const Jn=squared.base.lib.enumeration,Qn=squared.lib.client,ta=squared.lib.regex,ea=squared.lib.util,na=/^(\w*?)(?:_(\d+))?$/,aa={"sans-serif":14,"sans-serif-thin":16,"sans-serif-light":16,"sans-serif-condensed":16,"sans-serif-condensed-light":16,"sans-serif-medium":21,"sans-serif-black":21,"sans-serif-smallcaps":21,"serif-monospace":21,serif:21,casual:21,cursive:21,monospace:21,"sans-serif-condensed-medium":26},oa={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},ia={"ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif","-webkit-standard":"sans-serif"},ra={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},sa={fontFamily:'android:fontFamily="',fontStyle:'android:textStyle="',fontWeight:'android:fontWeight="',fontSize:'android:textSize="',color:'android:textColor="@color/',backgroundColor:'android:background="@color/'};Qn.isUserAgent(16)&&(ia.consolas="monospace");const la=S.STORED;function ca(t,e,n){for(const a of e.split(";"))for(let e=0;e<t.length;e++){let o=-1,i="";for(const n in t[e])if(n===a){o=e,i=n,e=t.length;break}if(-1!==o){t[o][i]=ea.filterArray(t[o][i],t=>!n.includes(t)),0===t[o][i].length&&delete t[o][i];break}}}class da extends squared.base.Extension{constructor(){super(...arguments),this.options={defaultSystemFont:"sans-serif",fontResourceValue:!0},this.eventOnly=!0}afterParseDocument(){const t={},e={};for(const e of this.application.session.cache)e.visible&&e.data(S.KEY_NAME,"fontStyle")&&e.hasResource(Jn.NODE_RESOURCE.FONT_STYLE)&&(void 0===t[e.tagName]&&(t[e.tagName]=[]),t[e.tagName].push(e));const n=Object.keys(sa);for(const a in t){const o=[];for(let e of t[a]){const t=Object.assign({},e.data(S.KEY_NAME,"fontStyle")),{id:a,companion:i}=e;i&&!i.visible&&"LABEL"===i.tagName&&(e=i);let r=!1;if(t.backgroundColor&&(t.backgroundColor=S.addColor(t.backgroundColor)),t.fontFamily){let n=t.fontFamily.split(ta.XML.SEPARATOR)[0].replace(/"/g,"").toLowerCase(),a="",o="";if(this.options.fontResourceValue&&ia[n]&&(n=this.options.defaultSystemFont||ia[n]),aa[n]&&e.localSettings.targetAPI>=aa[n]||this.options.fontResourceValue&&oa[n]&&e.localSettings.targetAPI>=aa[oa[n]]?(r=!0,t.fontFamily=n,"normal"===t.fontStyle&&(t.fontStyle=""),"400"!==t.fontWeight&&e.supported("android","fontWeight")||(t.fontWeight="")):(n=ea.convertWord(n),t.fontFamily=`@font/${n+("normal"!==t.fontStyle?`_${t.fontStyle}`:"")+("400"!==t.fontWeight?`_${ra[t.fontWeight]||t.fontWeight}`:"")}`,a=t.fontStyle,o=t.fontWeight,t.fontStyle="",t.fontWeight=""),!r&&(a||o)){const t=S.STORED.fonts.get(n)||{};t[(a||"normal")+"-"+(o||"400")]=!0,S.STORED.fonts.set(n,t)}}t.color=S.addColor(t.color);for(let e=0;e<n.length;e++){const i=t[n[e]];if(i){const t=sa[n[e]]+i+'"';void 0===o[e]&&(o[e]={}),void 0===o[e][t]&&(o[e][t]=[]),o[e][t].push(a)}}}e[a]=o}const a={};for(const n in e){a[n]={};const o=ea.filterArray(e[n],t=>void 0!==t).sort((t,e)=>{let n=0,a=0,o=0,i=0;for(const e in t)n=Math.max(t[e].length,n),o+=t[e].length;for(const t in e)e[t]&&(a=Math.max(e[t].length,a),i+=e[t].length);return n!==a?n>a?-1:1:o!==i?o>i?-1:1:0});do{if(1===o.length){for(const t in o[0])o[0][t].length&&(a[n][t]=o[0][t]);o.length=0}else{const e={};for(let i=0;i<o.length;i++){const r={};for(const a in o[i]){const s=o[i][a];if(0===s.length)continue;if(s.length===t[n].length){e[a]=s,o[i]={};break}const l={};let c=!1;for(let t=0;t<o.length;t++)if(i!==t)for(const e in o[t]){const n=o[t][e];if(n.length)for(const t of s)n.includes(t)&&(void 0===l[e]&&(l[e]=[]),l[e].push(t))}for(const t in l)l[t].length>1&&(r[[a,t].sort().join(";")]=l[t],c=!0);c||(r[a]=s)}if(Object.keys(r).length){const t={},e=new Set,i={};for(const t in r)i[t]=r[t].join(",");for(const n in r)for(const a in r){const o=i[n];if(n!==a&&o===i[a]){void 0===t[o]&&(t[o]=new Set(n.split(";")));for(const e of a.split(";"))t[o].add(e);e.add(n).add(a)}}for(const t of e)delete r[t];for(const t in r)ca(o,t,r[t]),a[n][t]=r[t];for(const e in t){const i=Array.from(t[e]).sort().join(";"),r=ea.objectMap(e.split(ta.XML.SEPARATOR),t=>parseInt(t));ca(o,i,r),a[n][i]=r}}}const i=Object.keys(e);i.length&&(a[n][i.join(";")]=e[i[0]]),ea.spliceArray(o,t=>{for(const e in t)if(t[e].length)return!1;return!0})}}while(o.length>0)}const o={},i={},r=new Set;for(const t in a){const e=a[t],n=[];for(const t in e){const a=[];for(const e of t.split(";")){const t=ta.XML.ATTRIBUTE.exec(e);t&&a.push({name:t[1],value:t[2]})}n.push({name:"",parent:"",items:a,ids:e[t]})}n.sort((t,e)=>{let n=0,a=0;return t.ids&&e.ids&&(n=t.ids.length,a=e.ids.length),n===a&&(n=t.items.length,a=e.items.length),n===a&&(n=t.items[0].name,a=e.items[0].name),n===a&&(n=t.items[0].value,a=e.items[0].value),n<=a?1:-1});for(let e=0;e<n.length;e++)n[e].name=ea.capitalize(t)+(e>0?`_${e}`:"");o[t]=n}for(const t in o)for(const e of o[t])if(e.ids)for(const t of e.ids)void 0===i[t]&&(i[t]=[]),i[t].push(e.name);for(const t of this.application.session.cache){const e=i[t.id];e&&e.length&&(e.length>1?(r.add(e.join(".")),e.shift()):r.add(e[0]),t.attr("_","style",`@style/${e.join(".")}`))}for(const t of r){const e=[];let n,a="";if(t.split(".").forEach((t,i,r)=>{const s=na.exec(t);if(s){const l=o[s[1].toUpperCase()][ea.convertInt(s[2])];if(l)if(0===i)a=t,1===r.length?n=l.items:la.styles.has(t)||la.styles.set(t,{name:t,parent:"",items:l.items});else{if(void 0===n)n=l.items.slice(0);else for(const t of l.items){const e=n.findIndex(e=>e.name===t.name);-1!==e?n[e]=t:n.push(t)}e.push(t)}}}),n)if(0===e.length)la.styles.set(a,{name:a,parent:"",items:n});else{const t=e.join(".");la.styles.set(t,{name:t,parent:a,items:n})}}}}squared;class ha extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}beforeCascadeDocument(){for(const t of this.application.session.cache)if(t.renderParent&&t.renderTemplates){const e=[],n=[];if(t.renderEach((t,a)=>{const o=t.dataset.androidInclude||"",i="true"===t.dataset.androidIncludeEnd;if(o||i){const r={item:t,name:o,index:a,merge:"true"===t.dataset.androidIncludeMerge};o&&e.push(r),i&&n.push(r)}}),e.length&&n.length){const a=this.application.controllerHandler;e.length=Math.min(e.length,n.length);for(let t=e.length;t<n.length;t++)n.shift();for(let o=e.length-1;o>=0;o--){const i=e[o];for(let e=0;e<n.length;e++){const o=n[e].index;if(o>=i.index){const r=[];for(let e=i.index;e<=o;e++)r.push(t.renderTemplates[e]),t.renderTemplates[e]=null;const s=i.merge||r.length>1,l=s?1:0;t.renderTemplates[i.index]={type:2,node:r[0].node,content:a.renderNodeStatic("include",{layout:`@layout/${i.name}`},"",""),indent:!0},s||i.item.documentRoot||(i.item.documentRoot=!0);let c=a.cascadeDocument(r,l);s&&(c=a.getEnclosingTag(1,{controlName:"merge",attributes:M(c),content:c})),this.application.addIncludeFile(i.item.id,i.name,c),n.splice(e,1);break}}}}}}}const ua=squared.base.lib.enumeration,pa=squared.lib.css,ma=squared.lib.dom,ga=squared.lib.regex,fa=squared.lib.util,ba=squared.lib.xml;class ya extends squared.base.Extension{constructor(){super(...arguments),this.options={numberResourceValue:!1,replaceCharacterEntities:!0,fontVariantSmallCapsReduction:.8},this.eventOnly=!0}afterResources(){for(const t of this.application.processing.cache)if(t.hasResource(ua.NODE_RESOURCE.VALUE_STRING))switch(t.tagName){case"SELECT":{const e=t.element,[n,a]=S.getOptionArray(e,this.options.replaceCharacterEntities);let o;if(!this.options.numberResourceValue&&a&&a.length)o=a;else{const t=n||a;if(t){o=[];for(let e of t)this.options.replaceCharacterEntities&&(e=ba.replaceEntity(e)),""!==(e=S.addString(ba.escapeAmpersand(ba.replaceCharacter(e)),"",this.options.numberResourceValue))&&o.push(`@string/${e}`)}}if(o&&o.length){const e=S.insertStoredAsset("arrays",`${t.controlId}_array`,o);""!==e&&t.android("entries",`@array/${e}`)}break}case"IFRAME":{const e=t.data(S.KEY_NAME,"valueString");S.addString(ba.replaceCharacter(e.value),e.name);break}default:{const e=t.data(S.KEY_NAME,"valueString");if(e){const n=t.renderParent;let a=e.value;if(n&&n.layoutRelative&&t.alignParent("left")&&!pa.isParentStyle(t.element,"whiteSpace","pre","pre-wrap")){const e=t.textContent;let n=0;for(let t=0;t<e.length;t++)switch(e.charCodeAt(t)){case 160:n++;case 32:continue}0===n&&(a=a.replace(/^(\s|&#160;)+/,""))}if("small-caps"===t.css("fontVariant")){const e=a.split(ga.XML.BREAKWORD);for(const t of e)ga.XML.ENTITY.test(t)||(a=a.replace(t,t.toUpperCase()));const n=t.data(S.KEY_NAME,"fontStyle");n&&(n.fontSize=`${parseFloat(n.fontSize)*this.options.fontVariantSmallCapsReduction}px`)}this.options.replaceCharacterEntities&&(a=ba.replaceEntity(a)),a=ba.escapeAmpersand(ba.replaceCharacter(a));let o=0;if((t.blockDimension||"table-cell"===t.display)&&(o=t.toFloat("textIndent"))+t.bounds.width<0&&(a=""),0===o){const e=t.actualParent;e&&(e.blockDimension||"table-cell"===e.display)&&t===e.firstChild&&(o=e.toFloat("textIndent"))}if(o>0){const e=ma.getTextMetrics(" ",t.css("fontFamily"),t.fontSize);a="&#160;".repeat(Math.max(Math.floor(o/(e&&e.width||t.fontSize/2)),1))+a}const i=S.addString(a,e.name,this.options.numberResourceValue);""!==i&&t.android("text",this.options.numberResourceValue||!fa.isNumber(i)?`@string/${i}`:i,!1)}}}}}const Ta=squared.lib.regex,Aa=squared.lib.util,Ea=/(\w+):(\w+)="([^"]+)"/,Sa=S.STORED;class xa extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}beforeCascadeDocument(){const t={},e={};for(const n of this.application.session.cache)if(n.visible&&n.controlId){const a=n.renderChildren;if(a.length>1){const o=new Map;let i=!0,r="";for(let t=0;t<a.length;t++){let e=!1;for(const n of a[t].combine("_","android"))if(!e&&n.startsWith("style=")){if(0===t)r=n;else if(""===r||n!==r){i=!1;break}e=!0}else o.set(n,(o.get(n)||0)+1);if(!i||!e&&""!==r){i=!1;break}}if(i){for(const[t,e]of o.entries())e!==a.length&&o.delete(t);if(o.size>1){""!==r&&(r=Aa.trimString(r.substring(r.indexOf("/")+1),'"'));const i=[];for(const t of o.keys()){const e=Ea.exec(t);if(e){for(const t of a)t.delete(e[1],e[2]);i.push(e[0])}}i.sort();const s=i.join(";");let l="";for(const t in e)if(e[t]===s){l=t;break}""!==r&&l.startsWith(`${r}.`)||(t[l=(""!==r?r+".":"")+Aa.capitalize(n.controlId)]=i,e[l]=s);for(const t of a)t.attr("_","style",`@style/${l}`)}}}}for(const e in t){const n=[];for(const a in t[e]){const o=Ta.XML.ATTRIBUTE.exec(t[e][a]);o&&n.push({name:o[1],value:o[2]})}Sa.styles.set(e,Object.assign({},C(),{name:e,items:n,ids:[]}))}}}var wa={"animated-vector":{"@":["xmlns:android","android:drawable"],">":{target:{"^":"android","@":["name","animation"]}}}};const Ra=["ordering"],_a={objectAnimator:{"^":"android","@":["propertyName","startOffset","duration","repeatCount","interpolator","valueType","valueFrom","valueTo"],">":{propertyValuesHolder:{"^":"android","@":["propertyName"],">":{keyframe:{"^":"android","@":["interpolator","fraction","value"]}}}}}};var va={set:{"@":["xmlns:android","android:ordering"],">":{set:{"^":"android","@":Ra,">":{set:{"^":"android","@":Ra,">":{objectAnimator:_a.objectAnimator}},objectAnimator:_a.objectAnimator}},objectAnimator:_a.objectAnimator}}};squared.svg||(squared.svg={lib:{}});var Ia=squared.svg.Svg,Na=squared.svg.SvgAnimate,Pa=squared.svg.SvgAnimateTransform,Ca=squared.svg.SvgBuild,La=squared.svg.SvgG,Oa=squared.svg.SvgPath,Ma=squared.svg.SvgShape;const ka=squared.lib.util,Da=squared.lib.css,Ba=squared.lib.math,Xa=squared.lib.xml,Ga=squared.svg.lib.constant,Va=squared.svg.lib.util,Wa=S.STORED,Ha={accelerate_decelerate:"@android:anim/accelerate_decelerate_interpolator",accelerate:"@android:anim/accelerate_interpolator",anticipate:"@android:anim/anticipate_interpolator",anticipate_overshoot:"@android:anim/anticipate_overshoot_interpolator",bounce:"@android:anim/bounce_interpolator",cycle:"@android:anim/cycle_interpolator",decelerate:"@android:anim/decelerate_interpolator",linear:"@android:anim/linear_interpolator",overshoot:"@android:anim/overshoot_interpolator"};Ga&&Object.assign(Ha,{[Ga.KEYSPLINE_NAME["ease-in"]]:Ha.accelerate,[Ga.KEYSPLINE_NAME["ease-out"]]:Ha.decelerate,[Ga.KEYSPLINE_NAME["ease-in-out"]]:Ha.accelerate_decelerate,[Ga.KEYSPLINE_NAME.linear]:Ha.linear});const Fa='<?xml version="1.0" encoding="utf-8"?>\n<pathInterpolator xmlns:android="http://schemas.android.com/apk/res/android"\n\tandroid:controlX1="{0}"\n\tandroid:controlY1="{1}"\n\tandroid:controlX2="{2}"\n    android:controlY2="{3}" />\n',za={stroke:["strokeColor"],fill:["fillColor"],opacity:["alpha"],"stroke-opacity":["strokeAlpha"],"fill-opacity":["fillAlpha"],"stroke-width":["strokeWidth"],"stroke-dasharray":["trimPathStart","trimPathEnd"],"stroke-dashoffset":["trimPathOffset"],d:["pathData"],"clip-path":["pathData"]};function qa(t,e){return t&&t[e]?Ha[t[e]]||Ua(t[e]):""}function $a(t){for(const e in za)if(za[e].includes(t))return ka.convertCamelCase(e);return""}function Ua(t){if(Ha[t])return Ha[t];{const e=`path_interpolator_${ka.convertWord(t)}`;if(!Wa.animators.has(e)){const n=ka.formatString(Fa,...t.split(" "));Wa.animators.set(e,n)}return`@anim/${e}`}}function ja(t){const e={};for(let n=0;n<t.length;n++){const a=t[n],o=a.matrix;switch(a.type){case SVGTransform.SVG_TRANSFORM_SCALE:e.scaleX=""+o.a,e.scaleY=""+o.d,a.origin&&(e.pivotX=""+a.origin.x,e.pivotY=""+a.origin.y);break;case SVGTransform.SVG_TRANSFORM_ROTATE:e.rotation=""+a.angle,a.origin?(e.pivotX=""+a.origin.x,e.pivotY=""+a.origin.y):(e.pivotX="0",e.pivotY="0");break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:e.translateX=""+o.e,e.translateY=""+o.f}}return e}function Ya(t,e){let n=0,a=0;for(const o of function(t){const e=[];let n=t.parentElement;for(;n&&(e.push(n),!((n=n.parentElement)instanceof HTMLElement)););return e}(t))(Va.SVG.svg(o)||Va.SVG.use(o))&&o!==e&&(n+=o.x.baseVal.value,a+=o.y.baseVal.value);return{x:n,y:a}}function Ka(t,e,n=1,a=1){if(e.length&&(Va.SVG.circle(t)||Va.SVG.ellipse(t))){if(-1!==e.findIndex(t=>t.type===SVGTransform.SVG_TRANSFORM_ROTATE)&&(n!==a||e.length>1&&e.some(t=>t.type===SVGTransform.SVG_TRANSFORM_SCALE&&t.matrix.a!==t.matrix.d)))return Za(t,e)}return[[],e]}function Za(t,e,n=!1){if(e.length){const o=[],i=[],r=e.slice(0).reverse(),s=e[0].fromCSS?[]:Va.TRANSFORM.rotateOrigin(t).reverse();for(let t=1;t<r.length;t++){const e=r[t],n=r[t-1];if(e.type===n.type){let a;switch(e.type){case SVGTransform.SVG_TRANSFORM_TRANSLATE:(a=Va.MATRIX.clone(e.matrix)).e+=n.matrix.e,a.f+=n.matrix.f;break;case SVGTransform.SVG_TRANSFORM_SCALE:(a=Va.MATRIX.clone(e.matrix)).a*=n.matrix.a,a.d*=n.matrix.d}a&&(e.matrix=a,r.splice(--t,1))}}const l=[];function a(){o.push(l.slice(0)),l.length=0}for(const t of r)switch(t.type){case SVGTransform.SVG_TRANSFORM_MATRIX:case SVGTransform.SVG_TRANSFORM_SKEWX:case SVGTransform.SVG_TRANSFORM_SKEWY:i.push(t);break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:n||0!==o.length||0!==l.length?(l.push(t),a()):i.push(t);break;case SVGTransform.SVG_TRANSFORM_ROTATE:for(;s.length;){const e=s.shift();if(e.angle===t.angle){0===e.x&&0===e.y||(t.origin=e);break}}if(void 0===t.origin&&1===l.length&&l[0].type===SVGTransform.SVG_TRANSFORM_SCALE){l.push(t);continue}case SVGTransform.SVG_TRANSFORM_SCALE:l.length&&a(),l.push(t)}return l.length&&o.push(l),[o.reverse(),i]}return[[],e]}function Ja(t,e,n,a=!1,o){let i;const r=t[e];return r?i=Array.isArray(r)?""+r[n]:r:a||0!==e||(i=o),i||""}function Qa(t){switch(t){case"fill":case"stroke":return"";case"opacity":case"stroke-opacity":case"stroke-dasharray":case"stroke-dashoffset":case"fill-opacity":case"transform":return"floatType";case"stroke-width":return"intType";case"d":case"x":case"x1":case"x2":case"cx":case"y":case"y1":case"y2":case"cy":case"r":case"rx":case"ry":case"width":case"height":case"points":return"pathType";default:return oo(t)?"floatType":void 0}}function to(t,e,n,a){const o=new Na;return o.attributeName=t,o.delay=e,o.duration=1,o.from=a||n,o.to=n,o.fillForwards=!0,o.convertToValues(),o}function eo(t,e=!0){let n=za[t];return void 0===n&&e&&oo(t)&&(n=[t]),n}function no(t){switch(t){case SVGTransform.SVG_TRANSFORM_TRANSLATE:return["translateX","translateY"];case SVGTransform.SVG_TRANSFORM_SCALE:return["scaleX","scaleY","pivotX","pivotY"];case SVGTransform.SVG_TRANSFORM_ROTATE:return["rotation","pivotX","pivotY"]}}function ao(t){switch(t.type){case SVGTransform.SVG_TRANSFORM_ROTATE:return Pa.toRotateList(t.values);case SVGTransform.SVG_TRANSFORM_SCALE:return Pa.toScaleList(t.values);case SVGTransform.SVG_TRANSFORM_TRANSLATE:return Pa.toTranslateList(t.values)}}function oo(t){switch(t){case"rotation":case"pivotX":case"pivotY":case"translateX":case"translateY":return"0";case"scaleX":case"scaleY":return"1"}}function io(t,e=!1){const n=`@color/${S.addColor(t)}`;return e?[n]:n}function ro(t,e){return co(t.attributeName)?io(e):e.trim()||void 0}function so(t){switch(t){case SVGGradientElement.SVG_SPREADMETHOD_PAD:return"clamp";case SVGGradientElement.SVG_SPREADMETHOD_REFLECT:return"mirror";case SVGGradientElement.SVG_SPREADMETHOD_REPEAT:return"repeat"}return""}function lo(t,e,n){const a={type:t.type,item:Vn(t.colorStops,n)};switch(t.type){case"radial":{const n=t,o=[];let i,r,s,l;switch(e.element.tagName){case"path":for(const t of Ca.getPathCommands(e.value))ka.concatArray(o,t.value);case"polygon":if(Va.SVG.polygon(e.element)&&ka.concatArray(o,Ca.clonePoints(e.element.points)),!o.length)return;[i,r,s,l]=Ca.minMaxPoints(o),s-=i,l-=r;break;default:if(Va.SVG.rect(e.element)){const t=e.element;i=t.x.baseVal.value,r=t.y.baseVal.value,s=t.width.baseVal.value,l=t.height.baseVal.value}else if(Va.SVG.circle(e.element)){const t=e.element;i=t.cx.baseVal.value-t.r.baseVal.value,r=t.cy.baseVal.value-t.r.baseVal.value,l=s=2*t.r.baseVal.value}else{if(!Va.SVG.ellipse(e.element))return;{const t=e.element;i=t.cx.baseVal.value-t.rx.baseVal.value,r=t.cy.baseVal.value-t.ry.baseVal.value,s=2*t.rx.baseVal.value,l=2*t.ry.baseVal.value}}}a.centerX=""+(i+s*uo(n.cxAsString)),a.centerY=""+(r+l*uo(n.cyAsString)),a.gradientRadius=""+(s+l)/2*(Da.isPercent(n.rAsString)?parseFloat(n.rAsString)/100:1),n.spreadMethod&&(a.tileMode=so(n.spreadMethod));break}case"linear":{const e=t;a.startX=""+e.x1,a.startY=""+e.y1,a.endX=""+e.x2,a.endY=""+e.y2,e.spreadMethod&&(a.tileMode=so(e.spreadMethod))}}return a}const co=t=>"fill"===t||"stroke"===t,ho=(t,e,n=-1)=>`${t.name}_${e+(-1!==n?`_${n+1}`:"")}`,uo=t=>Da.isPercent(t)?parseFloat(t)/100:.5,po=t=>`@drawable/${t}`,mo=(t="")=>({ordering:t,objectAnimator:[]});class go extends squared.base.Extension{constructor(){super(...arguments),this.options={transformExclude:{path:[],line:[],rect:[],ellipse:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],circle:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],polyline:[],polygon:[],image:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY]},floatPrecisionKeyTime:5,floatPrecisionValue:3,animateInterpolator:""},this.eventOnly=!0,this.VECTOR_DATA=new Map,this.ANIMATE_DATA=new Map,this.IMAGE_DATA=[],this.SYNCHRONIZE_MODE=0,this.NAMESPACE_AAPT=!1}beforeInit(){Ca&&(Ca.setName(),this.application.controllerHandler.localSettings.svg.enabled=!0)}afterResources(){for(const t of this.application.processing.cache)if(t.svgElement){const e=new Ia(t.element),n=t.localSettings.targetAPI>=23;this.SVG_INSTANCE=e,this.VECTOR_DATA.clear(),this.ANIMATE_DATA.clear(),this.IMAGE_DATA.length=0,this.NAMESPACE_AAPT=!1,this.SYNCHRONIZE_MODE=2|(n?32:64);const a=`${t.tagName}_${ka.convertWord(t.controlId,!0)}_viewbox`.toLowerCase(),o=(t,e)=>a+(t?`_${t}`:"")+(this.IMAGE_DATA.length?"_vector":"")+(e?`_${e.toLowerCase()}`:"");e.build({exclude:this.options.transformExclude,residual:Ka,precision:this.options.floatPrecisionValue}),e.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,precision:this.options.floatPrecisionValue}),this.queueAnimations(e,e.name,t=>"opacity"===t.attributeName);const i=this.parseVectorData(e);let r=S.insertStoredAsset("drawables",o(),Xa.applyTemplate("vector",Sn,[{"xmlns:android":l.android,"xmlns:aapt":this.NAMESPACE_AAPT?l.aapt:"","android:name":e.name,"android:width":Da.formatPX(e.width),"android:height":Da.formatPX(e.height),"android:viewportWidth":""+(e.viewBox.width||e.width),"android:viewportHeight":""+(e.viewBox.height||e.height),"android:alpha":parseFloat(e.opacity)<1?""+e.opacity:"",include:i}])),s="";if(this.ANIMATE_DATA.size){const t=[{"xmlns:android":l.android,"android:drawable":po(r),target:[]}];for(const[e,a]of this.ANIMATE_DATA.entries()){const i=new Map,r=new Map,s=[],c=[],d=[],h=[],u=[],[p,m]=ka.partitionArray(a.animate,t=>void 0!==t.companion),g={name:e};let f={set:[],objectAnimator:[]};for(let t=0;t<m.length;t++){const e=m[t];if(e.setterType)za[e.attributeName]&&ka.hasValue(e.to)&&(e.duration>0&&e.fillReplace?c.push(e):s.push(e));else if(Ca.isAnimate(e)){const a=ka.filterArray(p,t=>t.companion.value===e);if(a.length){a.sort((t,e)=>t.companion.index>=e.companion.index?1:0);const n=[],o=[];for(let t=0;t<a.length;t++){const i=a[t];i.companion.index<=0?(n.push(i),0===t&&e.delay>0&&(i.delay+=e.delay,e.delay=0)):o.push(i)}n.push(e),ka.concatArray(n,o),i.set(`sequentially_companion_${t}`,n)}else{const t=e.synchronized;if(t)if(Ca.asAnimateTransform(e)){const n=r.get(t.value)||[];n.push(e),r.set(t.value,n)}else{const n=i.get(t.value)||[];n.push(e),i.set(t.value,n)}else Ca.asAnimateTransform(e)&&e.expandToValues(),-1===e.iterationCount?c.push(e):!(!e.fromToType||Ca.asAnimateTransform(e)&&e.transformOrigin)||n&&"pathType"!==Qa(e.attributeName)?e.fillReplace?c.push(e):s.push(e):d.push([e])}}}s.length&&d.push(s);for(const[t,e]of i.entries())t.startsWith("sequentially_companion")?d.push(e):d.push(e.sort((t,e)=>t.synchronized&&e.synchronized&&t.synchronized.index>=e.synchronized.index?1:-1));for(const t of r.values())u.push(t.sort((t,e)=>t.synchronized&&e.synchronized&&t.synchronized.index>=e.synchronized.index?1:-1));for(const t of c)h.push([[t]]);if([d,u,...h].forEach((t,e)=>{if(0===t.length)return;const o={ordering:0===e||1===t.length?"":"sequentially",set:[],objectAnimator:[]};for(const i of t){let t="",r=!1,s=!1,l=!0;e<=1&&i.some(t=>!!t.synchronized&&""!==t.synchronized.value)?(Ca.asAnimateTransform(i[0])||(t="sequentially"),r=!0,l=!1):e<=1&&i.some(t=>!!t.synchronized&&""===t.synchronized.value)?(t="sequentially",r=!0,s=!0):e<=1&&i.some(t=>void 0!==t.companion)?t="sequentially":(e>0&&(t="sequentially"),e>1&&Ca.asAnimateTransform(i[0])&&(s=!0));const c=mo(),d=mo(),h=mo(),u=mo(),p=[];(r?ka.partitionArray(i,t=>-1!==t.iterationCount):[i]).forEach((i,m)=>{1===m&&i.length>1&&(h.ordering="sequentially");const g=new Map;for(const f of i){const b=Qa(f.attributeName);if(void 0===b)continue;const y=(t,e)=>{e&&-1===c.objectAnimator.findIndex(e=>e.propertyName===t)&&c.objectAnimator.push(this.createPropertyValue(t,e,"0",b))},T=f.delay>0;let A,E=!1;const S=(t,e,n)=>{if(!r&&f.fillReplace&&void 0!==b){let a,o=f.replaceValue;if(o||(E?o=oo(t):f.parent&&Ca.isShape(f.parent)&&f.parent.path&&(o="pathData"===t?f.parent.path.value:f.parent.path[$a(t)]),o||(o=f.baseValue)),e&&e.length){const t=e[e.length-1];if(ka.isArray(t.propertyValuesHolder)){const e=t.propertyValuesHolder[t.propertyValuesHolder.length-1];a=e.keyframe[e.keyframe.length-1].value}else a=t.valueTo}if(ka.isString(o)&&o!==a&&(o=ro(f,o))){switch(t){case"trimPathStart":case"trimPathEnd":o=o.split(" ")["trimPathStart"===t?0:1]}u.objectAnimator.push(this.createPropertyValue(t,o,"1",b,"pathType"===b?a:"",n?""+n:""))}A&&(t.endsWith("X")?u.objectAnimator.push(this.createPropertyValue("translateX","0","1",b)):t.endsWith("Y")&&u.objectAnimator.push(this.createPropertyValue("translateY","0","1",b)))}};if(f.setterType){const t=eo(f.attributeName);if(t){const n=co(f.attributeName)?io(f.to,!0):f.to.trim().split(" ");if(n.length===t.length&&!n.some(t=>""===t)){let a,o;for(let i=0;i<t.length;i++){let r;"pathType"===b?r=n[i]:T&&f.baseValue&&(r=ro(f,f.baseValue.trim().split(" ")[i]));const s=this.createPropertyValue(t[i],n[i],"1",b,r,f.delay>0?""+f.delay:"");e>1?(h.objectAnimator.push(s),S(t[i],void 0,e>1?f.duration:0)):f.companion&&f.companion.index<=0?(void 0===a&&(a=[]),a.push(s)):f.companion&&f.companion.index>0?(void 0===o&&(o=[]),o.push(s)):p.push(s)}a&&ka.concatArray(c.objectAnimator,a),o&&ka.concatArray(u.objectAnimator,o)}}}else if(Ca.isAnimate(f)){let c;const u=this.createPropertyValue("","",""+f.duration,b,"",f.delay>0?""+f.delay:"",c=1===m?i.length>1?"0":"-1":-1!==f.iterationCount?""+Math.ceil(f.iterationCount-1):"-1");void 0===f.keySplines&&(f.timingFunction?u.interpolator=Ua(f.timingFunction):""!==this.options.animateInterpolator&&(u.interpolator=this.options.animateInterpolator));const p=[];let x,w;if(r||"pathType"!==u.valueType)if(Ca.asAnimateTransform(f)){if(void 0===(x=no(f.type)))continue;w=ao(f),(s||T)&&ka.concatArray(p,ka.objectMap(x,t=>oo(t)||"0")),A=f.transformOrigin,E=!0}else switch(x=eo(f.attributeName),u.valueType){case"intType":w=ka.objectMap(f.values,t=>""+ka.convertInt(t)),T&&f.baseValue&&ka.concatArray(p,ka.replaceMap(Ca.parseCoordinates(f.baseValue),t=>""+Math.trunc(t)));break;case"floatType":switch(f.attributeName){case"stroke-dasharray":w=ka.objectMap(f.values,t=>ka.replaceMap(t.split(" "),t=>parseFloat(t)));break;default:w=f.values}T&&f.baseValue&&ka.concatArray(p,ka.replaceMap(Ca.parseCoordinates(f.baseValue),t=>""+t));break;default:if(w=f.values.slice(0),co(f.attributeName)){T&&f.baseValue&&ka.concatArray(p,io(f.baseValue,!0));for(let t=0;t<w.length;t++)""!==w[t]&&(w[t]=io(w[t]))}}else if(a.pathData){let t,e;f.parent&&Ca.isShape(f.parent)&&(e=f.parent,f.parent.path&&(t=f.parent.path.transformed)),x=["pathData"],w=Oa.extrapolate(f.attributeName,a.pathData,f.values,t,e,this.options.floatPrecisionValue)}if(w&&x){const i=f.synchronized?f.synchronized.index+f.synchronized.value:0!==e||x.length>1?JSON.stringify(u):"";for(let e=0;e<x.length;e++){const c=x[e];if(s&&y(c,p[e]),l&&f.keyTimes.length>1)if(n&&"pathType"!==u.valueType){!s&&T&&y(c,p[e]);const t=g.get(i)||[],n=[];for(let t=0;t<f.keyTimes.length;t++){let a=Ja(w,t,e,!0);""!==a&&(a=Ba.truncateString(a,this.options.floatPrecisionValue));let o=t>0&&""!==a&&"pivotX"!==c&&"pivotY"!==c?qa(f.keySplines,t-1):"";""===o&&f.isLoop(t)&&(o=Ua(Ga.KEYSPLINE_NAME["step-start"])),n.push({interpolator:o,fraction:0===f.keyTimes[t]&&""===a?"":Ba.truncate(f.keyTimes[t],this.options.floatPrecisionKeyTime),value:a})}t.push({propertyName:c,keyframe:n}),g.has(i)||(""!==i&&g.set(i,t),(0===m?d:h).objectAnimator.push(Object.assign({},u,{propertyValuesHolder:t}))),A=void 0}else{t="sequentially";const n=mo("sequentially");for(let t=0;t<f.keyTimes.length;t++){const o=Object.assign({},u,{propertyName:c,startOffset:0===t?""+(f.delay+(f.keyTimes[t]>0?Math.floor(f.keyTimes[t]*f.duration):0)):"",propertyValuesHolder:!1}),i=Ja(w,t,e,!1,"pathType"===u.valueType?a.pathData:f.baseValue);if(i){let r;if(0===t?(o.valueFrom=!s&&T?p[e]:"pathType"===u.valueType?a.pathData||""+w[0]:f.baseValue||f.replaceValue||"",r=0):(o.valueFrom=""+Ja(w,t-1,e),r=Math.floor((f.keyTimes[t]-f.keyTimes[t-1])*f.duration)),A&&A[t]){let e,a=0;if(c.endsWith("X")?(e="translateX",a=A[t].x):c.endsWith("Y")&&(e="translateY",a=A[t].y),e){const t=this.createPropertyValue(e,""+a,""+r,"floatType");t.interpolator=Ua(Ga.KEYSPLINE_NAME["step-start"]),n.objectAnimator.push(t)}}let l=t>0?qa(f.keySplines,t-1):"";""===l&&f.isLoop(t)&&(l=Ua(Ga.KEYSPLINE_NAME["step-start"])),o.interpolator=l,o.duration=""+r,o.valueTo=i,d.objectAnimator.push(o)}}n.objectAnimator.length&&o.set.push(n)}else{const t=Object.assign({},u,{propertyName:c,interpolator:f.duration>1?qa(f.keySplines,0):"",propertyValuesHolder:!1});if(Array.isArray(w[0])){const n=w[w.length-1][e];if(w.length>1){const a=w[0][e];a!==n&&(t.valueFrom=""+a)}t.valueTo=""+n}else{let n;w.length>1?(n=""+w[0],t.valueTo=""+w[w.length-1]):(n=f.from||(!s&&T?p[e]:""),t.valueTo=f.to),"pathType"===u.valueType?t.valueFrom=n||a.pathData||t.valueTo:n&&n!==t.valueTo&&(t.valueFrom=ro(f,n))}t.valueTo&&(0===m?d:h).objectAnimator.push(t)}0!==m||r||S(c,d.objectAnimator)}T&&A&&A.length&&(y("translateX","0"),y("translateY","0"))}}}});const m=d.objectAnimator.length>0||h.objectAnimator.length>0;"sequentially"===t&&(m&&1===c.objectAnimator.length&&(d.objectAnimator.unshift(c.objectAnimator[0]),c.objectAnimator.length=0),1===h.objectAnimator.length&&(d.objectAnimator.push(h.objectAnimator[0]),h.objectAnimator.length=0),m&&1===u.objectAnimator.length&&(d.objectAnimator.push(u.objectAnimator[0]),u.objectAnimator.length=0)),0===c.objectAnimator.length&&0===h.objectAnimator.length&&0===u.objectAnimator.length&&("sequentially"===t&&1===d.objectAnimator.length&&(t=""),"sequentially"!==o.ordering&&"sequentially"!==t&&(ka.concatArray(p,d.objectAnimator),d.objectAnimator.length=0)),(d.objectAnimator.length>0||h.objectAnimator.length>0)&&(c.objectAnimator.length&&(o.ordering="sequentially",o.set.push(c)),d.objectAnimator.length&&(d.ordering=t,o.set.push(d)),h.objectAnimator.length&&(o.ordering="sequentially",o.set.push(h)),u.objectAnimator.length&&(o.ordering="sequentially",o.set.push(u))),p.length&&ka.concatArray(o.objectAnimator,p)}(o.set.length||o.objectAnimator.length)&&f.set.push(o)}),f.set.length){let n=!1;if(f.set.length>1&&f.set.every(t=>""===t.ordering)){const t={set:[],objectAnimator:[]};for(const e of f.set)ka.concatArray(t.set,e.set),ka.concatArray(t.objectAnimator,e.objectAnimator);f=t}for(;1===f.set.length;){const t=f.set[0];if(n&&""!==t.ordering||0!==t.objectAnimator.length)break;f=t,n=!0}f["xmlns:android"]=l.android,n&&(f["android:ordering"]=f.ordering,f.ordering=void 0),g.animation=S.insertStoredAsset("animators",o("anim",e),Xa.applyTemplate("set",va,[f])),""!==g.animation&&(g.animation=`@anim/${g.animation}`,t[0].target.push(g))}}t[0].target&&(r=S.insertStoredAsset("drawables",o("anim"),Xa.applyTemplate("animated-vector",wa,t)))}if(this.IMAGE_DATA.length){const t=[];""!==r&&t.push({drawable:po(r)});const n=[{"xmlns:android":l.android,item:t}];for(const n of this.IMAGE_DATA){const a=e.width/e.viewBox.width,o=e.height/e.viewBox.height;let i=n.getBaseValue("x",0)*a,r=n.getBaseValue("y",0)*o,s=n.getBaseValue("width",0),l=n.getBaseValue("height",0);const c=Ya(n.element,e.element);i+=c.x,r+=c.y,l*=o;const d={width:Da.formatPX(s*=a),height:Da.formatPX(l),left:0!==i?Da.formatPX(i):"",top:0!==r?Da.formatPX(r):""},h=po(S.addImage({mdpi:n.href}));n.rotateAngle?d.rotate={drawable:h,fromDegrees:""+n.rotateAngle,visible:n.visible?"true":"false"}:d.drawable=h,t.push(d)}s=S.insertStoredAsset("drawables",a,Xa.applyTemplate("layer-list",Tn,n))}else s=r;""!==s&&(t.localSettings.targetAPI>=21?t.android("src",po(s)):t.app("srcCompat",po(s))),t.hasWidth||t.android("layout_width","wrap_content"),t.hasHeight||t.android("layout_height","wrap_content")}}afterFinalize(){this.application.controllerHandler.localSettings.svg.enabled=!1}parseVectorData(t,e=0){const n=this.createGroup(t),a=e+n.length;let o="";for(const e of t)if(e.visible)if(Ca.isShape(e)){if(e.path&&e.path.value){const[t,n]=this.createPath(e,e.path),i=[];if(e.path.strokeWidth&&(e.path.strokeDasharray||e.path.strokeDashoffset)){const a=this.ANIMATE_DATA.get(e.name);if(void 0===a||a.animate.every(t=>t.attributeName.startsWith("stroke-dash"))){const[o,r,s]=e.path.extractStrokeDash(a&&a.animate,this.options.floatPrecisionValue);if(o){const l=ho(e,"stroke"),c={name:l};""!==r&&(t.pathData=r),""!==s&&(c["clip-path"]=[{pathData:s}]);for(let e=0;e<o.length;e++){const n=0===e?t:Object.assign({},t);n.name=`${l}_${e}`,a&&this.ANIMATE_DATA.set(n.name,{element:a.element,animate:ka.filterArray(a.animate,t=>void 0===t.id||t.id===e)}),n.trimPathStart=Ba.truncate(o[e].start,this.options.floatPrecisionValue),n.trimPathEnd=Ba.truncate(o[e].end,this.options.floatPrecisionValue),i.push(n)}n.unshift(c),a&&this.ANIMATE_DATA.delete(e.name)}}}if(0===i.length&&i.push(t),n.length){n[n.length-1].path=i,o+=Xa.applyTemplate("group",En,n,a+1)}else o+=Xa.applyTemplate("path",An,i,a+1)}}else if(Ca.isContainer(e))e.length&&(o+=this.parseVectorData(e,a));else if(Ca.asImage(e)&&!Ca.asPattern(t)){if(0===e.width||0===e.height){const t=this.application.session.image.get(e.href);t&&t.width>0&&t.height>0&&(e.width=t.width,e.height=t.height,e.setRect())}e.extract(this.options.transformExclude.image),this.IMAGE_DATA.push(e)}if(n.length){return n[n.length-1].include=o,Xa.applyTemplate("group",En,n,e+1)}return o}createGroup(t){const e=[],n=[],a={"clip-path":e},o={"clip-path":n},i=[],r={};if(!(t!==this.SVG_INSTANCE&&Ca.asSvg(t)||Ca.asUseSymbol(t)||Ca.asUsePattern(t))||0===t.x&&0===t.y||(r.name=ho(t,"main"),r.translateX=""+t.x,r.translateY=""+t.y),""!==t.clipRegion&&this.createClipPath(t,e,t.clipRegion),(e.length||Object.keys(r).length)&&(Object.assign(a,r),i.push(a)),t!==this.SVG_INSTANCE){const e={},[a]=Za(t.element,t.transforms,!0),r=ho(t,"animate");if((Ca.asG(t)||Ca.asUseSymbol(t))&&ka.hasValue(t.clipPath)&&this.createClipPath(t,n,t.clipPath)&&(e.name=r),this.queueAnimations(t,r,t=>Ca.asAnimateTransform(t))&&(e.name=r),Object.keys(e).length&&(Object.assign(o,e),i.push(o)),a.length){const e=[];for(const t of a)i.push(ja(t)),ka.concatArray(e,t);t.transformed=e.reverse()}}return i}createPath(t,e){const n={name:t.name},a=[],o=[];if(Ca.asUse(t)&&ka.hasValue(t.clipPath)&&this.createClipPath(t,o,t.clipPath),ka.hasValue(e.clipPath)){const t=new Ma(e.element);t.build({exclude:this.options.transformExclude,residual:Ka,precision:this.options.floatPrecisionValue}),t.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,precision:this.options.floatPrecisionValue}),this.createClipPath(t,o,e.clipPath)}const i={},r=ho(t,"group");if(this.queueAnimations(t,r,t=>Ca.asAnimateTransform(t))?i.name=r:o.length&&(i.name=""),!Ca.asUse(t)||0===t.x&&0===t.y||(i.translateX=""+t.x,i.translateY=""+t.y),o.length&&(i["clip-path"]=o),Object.keys(i).length&&a.push(i),e.transformResidual)for(const t of e.transformResidual)a.push(ja(t));const s=function(t){let e=parseFloat(t.opacity),n=t.parent;for(;n;){const t=parseFloat(n.opacity||"1");!isNaN(t)&&t<1&&(e*=t),n=n.parent}return e}(t),l=Ca.asUse(t);for(let a in e){let o=l&&t[a]||e[a];if(ka.isString(o)){switch(a){case"value":a="pathData";break;case"fill":case"stroke":if(a+="Color","none"===o||"stroke"!==a&&void 0!==n["aapt:attr"])continue;{const t=S.addColor(o);""!==t&&(o=`@color/${t}`)}break;case"fillPattern":const t=this.SVG_INSTANCE.definitions.gradient.get(o);let i=!1;if(t)switch(e.element.tagName){case"path":if(!/[zZ]\s*$/.test(e.value))break;case"rect":case"polygon":case"polyline":case"circle":case"ellipse":{const n=lo(t,e,this.options.floatPrecisionValue);n&&(o={name:"android:fillColor",gradient:n},i=!0);break}}if(!i)continue;a="aapt:attr",n.fillColor="",this.NAMESPACE_AAPT=!0;break;case"fillRule":if("evenodd"!==o)continue;a="fillType",o="evenOdd";break;case"strokeWidth":if("0"===o)continue;break;case"fillOpacity":case"strokeOpacity":if("1"===(o=""+(ka.isNumber(o)?parseFloat(o):1)*s))continue;a="fillOpacity"===a?"fillAlpha":"strokeAlpha";break;case"strokeLinecap":if("butt"===o)continue;a="strokeLineCap";break;case"strokeLinejoin":if("miter"===o)continue;a="strokeLineJoin";break;case"strokeMiterlimit":if("4"===o)continue;a="strokeMiterLimit";break;default:continue}n[a]=o}}const c=new Map,d=[],h=[],u=e.value;let p=u,m=0;for(const e of t.animations)if(Ca.asAnimateTransform(e)&&!e.additiveSum&&e.transformFrom){let t=Math.max(0,e.delay-1);c.set(t,{index:m,time:t,to:e.transformFrom,reset:!1,animate:e}),-1!==e.iterationCount&&e.fillReplace&&(c.has(t=e.delay+e.iterationCount*e.duration)||c.set(t,{index:m,time:t,to:u,reset:!0})),m++}const g=Array.from(c.values()).sort((t,e)=>t.time<e.time?-1:1);for(let t=0;t<g.length;t++){const e=g[t];if(!e.reset||e.to!==p){let n=!0;if(e.reset)t:for(let a=0;a<t;a++){const o=g[a];if(!o.reset)for(let a=t+1;a<g.length;a++)switch(g[a].index){case o.index:n=!1;case e.index:break t}}else{const n=[],a=new Set;for(let e=0;e<t;e++){const t=g[e];n[t.index]=n[t.index]?2:1}for(let t=0;t<n.length;t++)if(1===n[t]){const e=g.find(e=>e.index===t&&void 0!==e.animate);e&&e.animate&&a.add(e.animate.type)}for(const t of a){const n=no(t);if(n){const a=Va.TRANSFORM.typeAsValue(t).split(" ");for(let t=0;t<a.length;t++)d.push(to(n[t],e.time,a[t],""))}}}n&&(h.push(to("d",e.time,e.to)),p=e.to)}}if(this.queueAnimations(t,n.name,t=>(Ca.asAnimate(t)||Ca.asSet(t))&&"clip-path"!==t.attributeName,u)||0!==h.length||(n.name=""),d.length){const t=this.ANIMATE_DATA.get(r);t&&ka.concatArray(t.animate,d)}if(h.length){const e=this.ANIMATE_DATA.get(n.name);e?ka.concatArray(e.animate,h):this.ANIMATE_DATA.set(n.name,{element:t.element,animate:h,pathData:u})}return[n,a]}createClipPath(t,e,n){let a=0;return n.split(";").forEach((n,o,i)=>{if("#"===n.charAt(0)){const t=this.SVG_INSTANCE.definitions.clipPath.get(n);if(t){const n=new La(t);n.build({exclude:this.options.transformExclude,residual:Ka,precision:this.options.floatPrecisionValue}),n.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,precision:this.options.floatPrecisionValue}),n.each(t=>{if(t.path&&t.path.value){let n=ho(t,"clip_path",i.length>1?o+1:-1);this.queueAnimations(t,n,t=>Ca.asAnimate(t)||Ca.asSet(t),t.path.value)||(n=""),e.push({name:n,pathData:t.path.value})}})}a++}else{let r=ho(t,"clip_path",i.length>1?o+1:-1);this.queueAnimations(t,r,t=>(Ca.asAnimate(t)||Ca.asSet(t))&&"clip-path"===t.attributeName,n)||(r=""),e.push({name:r,pathData:n}),a++}}),a>0}queueAnimations(t,e,n,a=""){if(t.animations.length){const o=ka.filterArray(t.animations,(t,e,a)=>!t.paused&&(t.duration>0||t.setterType)&&n(t,e,a));if(o.length)return this.ANIMATE_DATA.set(e,{element:t.element,animate:o,pathData:a}),!0}return!1}createPropertyValue(t,e,n,a,o="",i="",r="0"){return{propertyName:t,startOffset:i,duration:n,repeatCount:r,valueType:a,valueFrom:ka.isNumber(o)?Ba.truncateString(o,this.options.floatPrecisionValue):o,valueTo:ka.isNumber(e)?Ba.truncateString(e,this.options.floatPrecisionValue):e,propertyValuesHolder:!1}}}const fo={builtInExtensions:["android.delegate.percent","android.delegate.max-width-height","android.delegate.fixed","android.delegate.negative-x","android.delegate.radiogroup","android.delegate.scrollbar","squared.external","squared.substitute","squared.sprite","squared.css-grid","squared.flexbox","squared.table","squared.list","squared.grid","squared.relative","squared.verticalalign","squared.whitespace","squared.accessibility","android.constraint.guideline","android.resource.includes","android.resource.svg","android.resource.background","android.resource.strings","android.resource.fonts","android.resource.dimens","android.resource.styles"],targetAPI:28,resolutionDPI:160,supportRTL:!0,preloadImages:!0,maxWordWrapWidth:1024,supportNegativeLeftTop:!0,collapseUnattributedElements:!0,exclusionsDisabled:!1,customizationsDisabled:!1,customizationsOverwritePrivilege:!0,showAttributes:!0,convertPixels:"dp",insertSpaces:4,handleExtensionsAsync:!0,autoCloseOnWrite:!0,manifestLabelAppName:"android",manifestThemeName:"AppTheme",manifestParentThemeName:"Theme.AppCompat.Light.NoActionBar",outputDirectory:"app/src/main",outputMainFileName:"activity_main.xml",outputArchiveFileType:"zip",outputMaxProcessingTime:30};let bo,yo,To,Ao=!1;const Eo=t=>Ao&&!!t&&(t.closed||!(!bo||!bo.userSettings.autoCloseOnWrite||bo.initialized||bo.closed||(bo.finalize(),0))),So={base:{Controller:Rt,File:Ft,Resource:S,View:Q},extensions:{Accessibility:qt,CssGrid:ee,External:ne,Flexbox:he,Grid:fe,List:we,Relative:Re,Sprite:Pe,Substitute:Ce,Table:De,VerticalAlign:Xe,WhiteSpace:Ge,constraint:{Guideline:ze},delegate:{Fixed:Ke,MaxWidthHeight:Qe,NegativeX:an,Percent:rn,RadioGroup:hn,ScrollBar:bn},resource:{Background:Hn,Dimens:Zn,Fonts:da,Includes:ha,Strings:ya,Styles:xa,Svg:go}},lib:{constant:d,customization:v,enumeration:e,util:k},system:{customize(t,e,n){if(R[t]){const a=R[t].assign;return void 0===a[e]?a[e]=n:Object.assign(a[e],n),a[e]}},addXmlNs(t,e){l[t]=e},writeLayoutAllXml:(t=!1)=>yo&&Eo(bo)?yo.layoutAllToXml(bo.viewData,t):{},writeResourceAllXml:(t=!1)=>yo&&Eo(bo)?yo.resourceAllToXml(t):{},writeResourceStringXml:(t=!1)=>yo&&Eo(bo)?yo.resourceStringToXml(t):[],writeResourceArrayXml:(t=!1)=>yo&&Eo(bo)?yo.resourceStringArrayToXml(t):[],writeResourceFontXml:(t=!1)=>yo&&Eo(bo)?yo.resourceFontToXml(t):[],writeResourceColorXml:(t=!1)=>yo&&Eo(bo)?yo.resourceColorToXml(t):[],writeResourceStyleXml:(t=!1)=>yo&&Eo(bo)?yo.resourceStyleToXml(t):[],writeResourceDimenXml:(t=!1)=>yo&&Eo(bo)?yo.resourceDimenToXml(t):[],writeResourceDrawableXml:(t=!1)=>yo&&Eo(bo)?yo.resourceDrawableToXml(t):[],writeResourceDrawableImageXml:(t=!1)=>yo&&Eo(bo)?yo.resourceDrawableImageToXml(t):[],writeResourceAnimXml:(t=!1)=>yo&&Eo(bo)?yo.resourceAnimToXml(t):[]},create(){const t=squared.base.lib.constant.EXT_NAME,e=n;return bo=new squared.base.Application(2,Q,Rt,S,_t),yo=new Ft(bo.resourceHandler),To=Object.assign({},fo),Object.assign(bo.builtInExtensions,{[t.EXTERNAL]:new ne(t.EXTERNAL,2),[t.SUBSTITUTE]:new Ce(t.SUBSTITUTE,2),[t.SPRITE]:new Pe(t.SPRITE,2),[t.CSS_GRID]:new ee(t.CSS_GRID,2),[t.FLEXBOX]:new he(t.FLEXBOX,2),[t.TABLE]:new De(t.TABLE,2,["TABLE"]),[t.LIST]:new we(t.LIST,2,["DIV","UL","OL","DL"]),[t.GRID]:new fe(t.GRID,2,["DIV","FORM","UL","OL","DL","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET"]),[t.RELATIVE]:new Re(t.RELATIVE,2),[t.VERTICAL_ALIGN]:new Xe(t.VERTICAL_ALIGN,2),[t.WHITESPACE]:new Ge(t.WHITESPACE,2),[t.ACCESSIBILITY]:new qt(t.ACCESSIBILITY,2),[e.CONSTRAINT_GUIDELINE]:new ze(e.CONSTRAINT_GUIDELINE,2),[e.DELEGATE_FIXED]:new Ke(e.DELEGATE_FIXED,2),[e.DELEGATE_MAXWIDTHHEIGHT]:new Qe(e.DELEGATE_MAXWIDTHHEIGHT,2),[e.DELEGATE_NEGATIVEX]:new an(e.DELEGATE_NEGATIVEX,2),[e.DELEGATE_PERCENT]:new rn(e.DELEGATE_PERCENT,2),[e.DELEGATE_RADIOGROUP]:new hn(e.DELEGATE_RADIOGROUP,2),[e.DELEGATE_SCROLLBAR]:new bn(e.DELEGATE_SCROLLBAR,2),[e.RESOURCE_INCLUDES]:new ha(e.RESOURCE_INCLUDES,2),[e.RESOURCE_BACKGROUND]:new Hn(e.RESOURCE_BACKGROUND,2),[e.RESOURCE_SVG]:new go(e.RESOURCE_SVG,2),[e.RESOURCE_STRINGS]:new ya(e.RESOURCE_STRINGS,2),[e.RESOURCE_FONTS]:new da(e.RESOURCE_FONTS,2),[e.RESOURCE_DIMENS]:new Zn(e.RESOURCE_DIMENS,2),[e.RESOURCE_STYLES]:new xa(e.RESOURCE_STYLES,2)}),Ao=!0,{application:bo,framework:2,userSettings:To}},cached:()=>Ao?{application:bo,framework:2,userSettings:To}:So.create()};return So}();
