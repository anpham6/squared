var android=function(){"use strict";class t extends squared.base.ApplicationUI{}var e;!function(t){t[t.RADIO=1]="RADIO",t[t.CHECKBOX=2]="CHECKBOX",t[t.SELECT=3]="SELECT",t[t.SVG=4]="SVG",t[t.IMAGE=5]="IMAGE",t[t.BUTTON=6]="BUTTON",t[t.PROGRESS=7]="PROGRESS",t[t.RANGE=8]="RANGE",t[t.EDIT=9]="EDIT",t[t.TEXT=10]="TEXT",t[t.INLINE=11]="INLINE",t[t.LINE=12]="LINE",t[t.SPACE=13]="SPACE",t[t.BLOCK=14]="BLOCK",t[t.FRAME=15]="FRAME",t[t.LINEAR=16]="LINEAR",t[t.GRID=17]="GRID",t[t.RELATIVE=18]="RELATIVE",t[t.CONSTRAINT=19]="CONSTRAINT",t[t.WEBVIEW=20]="WEBVIEW",t[t.UNKNOWN=21]="UNKNOWN"}(e||(e={}));var n=Object.freeze({__proto__:null,get CONTAINER_NODE(){return e}});const i={EXTERNAL:"android.external",SUBSTITUTE:"android.substitute",DELEGATE_BACKGROUND:"android.delegate.background",DELEGATE_FIXED:"android.delegate.fixed",DELEGATE_MAXWIDTHHEIGHT:"android.delegate.max-width-height",DELEGATE_NEGATIVEVIEWPORT:"android.delegate.negative-viewport",DELEGATE_NEGATIVEX:"android.delegate.negative-x",DELEGATE_PERCENT:"android.delegate.percent",DELEGATE_CSS_GRID:"android.delegate.css-grid",DELEGATE_RADIOGROUP:"android.delegate.radiogroup",DELEGATE_SCROLLBAR:"android.delegate.scrollbar",DELEGATE_VERTICALALIGN:"android.delegate.verticalalign",CONSTRAINT_GUIDELINE:"android.constraint.guideline",RESOURCE_INCLUDES:"android.resource.includes",RESOURCE_BACKGROUND:"android.resource.background",RESOURCE_SVG:"android.resource.svg",RESOURCE_STRINGS:"android.resource.strings",RESOURCE_FONTS:"android.resource.fonts",RESOURCE_DIMENS:"android.resource.dimens",RESOURCE_STYLES:"android.resource.styles"},o={RADIO:"RadioButton",CHECKBOX:"CheckBox",EDIT_LIST:"AutoCompleteTextView",SELECT:"Spinner",EDIT:"EditText",SVG:"ImageView",IMAGE:"ImageView",BUTTON:"Button",RANGE:"SeekBar",METER:"ProgressBar",PROGRESS:"ProgressBar",TEXT:"TextView",LINE:"View",SPACE:"Space",FRAME:"FrameLayout",LINEAR:"LinearLayout",GRID:"GridLayout",RELATIVE:"RelativeLayout",WEBVIEW:"WebView",RADIOGROUP:"RadioGroup",HORIZONTAL_SCROLL:"HorizontalScrollView",VERTICAL_SCROLL:"android.support.v4.widget.NestedScrollView",CONSTRAINT:"android.support.constraint.ConstraintLayout",GUIDELINE:"android.support.constraint.Guideline",BARRIER:"android.support.constraint.Barrier"},a={VERTICAL_SCROLL:"androidx.core.widget.NestedScrollView",CONSTRAINT:"androidx.constraintlayout.widget.ConstraintLayout",GUIDELINE:"androidx.constraintlayout.widget.Guideline",BARRIER:"androidx.constraintlayout.widget.Barrier"},r={DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},s={DRAWER:"androidx.drawerlayout.widget.DrawerLayout",NAVIGATION_VIEW:"com.google.android.material.navigation.NavigationView",COORDINATOR:"androidx.coordinatorlayout.widget.CoordinatorLayout",APPBAR:"com.google.android.material.appbar.AppBarLayout",COLLAPSING_TOOLBAR:"com.google.android.material.appbar.CollapsingToolbarLayout",TOOLBAR:"androidx.appcompat.widget.Toolbar",FLOATING_ACTION_BUTTON:"com.google.android.material.floatingactionbutton.FloatingActionButton",BOTTOM_NAVIGATION:"com.google.android.material.bottomnavigation.BottomNavigationView"},l={PLAINTEXT:e.TEXT,HR:e.LINE,SVG:e.SVG,IMG:e.IMAGE,BUTTON:e.BUTTON,SELECT:e.SELECT,TEXTAREA:e.EDIT,METER:e.PROGRESS,PROGRESS:e.PROGRESS,IFRAME:e.WEBVIEW,INPUT_RANGE:e.RANGE,INPUT_TEXT:e.EDIT,INPUT_PASSWORD:e.EDIT,INPUT_NUMBER:e.EDIT,INPUT_EMAIL:e.EDIT,INPUT_SEARCH:e.EDIT,INPUT_URL:e.EDIT,INPUT_DATE:e.EDIT,INPUT_TEL:e.EDIT,INPUT_TIME:e.EDIT,INPUT_WEEK:e.EDIT,INPUT_MONTH:e.EDIT,INPUT_BUTTON:e.BUTTON,INPUT_FILE:e.BUTTON,INPUT_IMAGE:e.BUTTON,INPUT_SUBMIT:e.BUTTON,INPUT_RESET:e.BUTTON,INPUT_CHECKBOX:e.CHECKBOX,INPUT_RADIO:e.RADIO,"INPUT_DATETIME-LOCAL":e.EDIT},c={relativeParent:{left:"layout_alignParentLeft",top:"layout_alignParentTop",right:"layout_alignParentRight",bottom:"layout_alignParentBottom",centerHorizontal:"layout_centerHorizontal",centerVertical:"layout_centerVertical"},relative:{left:"layout_alignLeft",top:"layout_alignTop",right:"layout_alignRight",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",leftRight:"layout_toRightOf",rightLeft:"layout_toLeftOf",topBottom:"layout_below",bottomTop:"layout_above"},constraint:{left:"layout_constraintLeft_toLeftOf",top:"layout_constraintTop_toTopOf",right:"layout_constraintRight_toRightOf",bottom:"layout_constraintBottom_toBottomOf",leftRight:"layout_constraintLeft_toRightOf",rightLeft:"layout_constraintRight_toLeftOf",baseline:"layout_constraintBaseline_toBaselineOf",topBottom:"layout_constraintTop_toBottomOf",bottomTop:"layout_constraintBottom_toTopOf"}},d={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",aapt:"http://schemas.android.com/aapt",tools:"http://schemas.android.com/tools"},h={HORIZONTAL:"horizontal",VERTICAL:"vertical",MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft",CENTER_HORIZONTAL:"center_horizontal",CENTER_VERTICAL:"center_vertical"},u={left:"start",right:"end",paddingLeft:"paddingStart",paddingRight:"paddingEnd",layout_marginLeft:"layout_marginStart",layout_marginRight:"layout_marginEnd",layout_alignParentLeft:"layout_alignParentStart",layout_alignParentRight:"layout_alignParentEnd",layout_alignLeft:"layout_alignStart",layout_alignRight:"layout_alignEnd",layout_toLeftOf:"layout_toStartOf",layout_toRightOf:"layout_toEndOf",layout_constraintLeft_toLeftOf:"layout_constraintStart_toStartOf",layout_constraintRight_toRightOf:"layout_constraintEnd_toEndOf",layout_constraintLeft_toRightOf:"layout_constraintStart_toEndOf",layout_constraintRight_toLeftOf:"layout_constraintEnd_toStartOf"},p=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"];var g=Object.freeze({__proto__:null,EXT_ANDROID:i,CONTAINER_ANDROID:o,CONTAINER_ANDROID_X:a,SUPPORT_ANDROID:r,SUPPORT_ANDROID_X:s,ELEMENT_ANDROID:l,LAYOUT_ANDROID:c,XMLNS_ANDROID:d,STRING_ANDROID:h,LOCALIZE_ANDROID:u,RESERVED_JAVA:p});const m=squared.lib,{findColorShade:f,parseColor:y}=m.color,{getSrcSet:b}=m.css,{CHAR:T,COMPONENT:A,CSS:E,FILE:v,XML:S}=m.regex,{fromLastIndexOf:x,isNumber:R,isPlainObject:w,isString:I,resolvePath:_,spliceArray:N,trimString:L}=m.util,C=squared.base.ResourceUI.STORED,k=/[^\w+]/g;let O={};function P(t,e=!1){var n;if(t)for(const i in t)if(w(t[i]))P(t,e);else{let o=null===(n=t[i])||void 0===n?void 0:""+n;if(o){switch(i){case"text":/^@string\//.test(o)||(o=M.addString(o,"",e),""!==o&&(t[i]="@string/"+o));continue;case"src":case"srcCompat":A.PROTOCOL.test(o)&&(o=M.addImage({mdpi:o}),""!==o&&(t[i]="@drawable/"+o));continue}const n=y(o);if(n){const e=M.addColor(n);""!==e&&(t[i]="@color/"+e)}}}}class M extends squared.base.ResourceUI{constructor(t,e){super(),this.application=t,this.cache=e,C.styles=new Map,C.themes=new Map,C.dimens=new Map,C.drawables=new Map,C.animators=new Map,this.controllerSettings=t.controllerHandler.localSettings,this._imageFormat=N(this.controllerSettings.supported.imageFormat.slice(0),t=>"svg"===t)}static formatOptions(t,e=!1){for(const n in t){const i=t[n];w(i)&&P(i,e)}return t}static formatName(t){return T.LEADINGNUMBER.test(t)&&(t="__"+t),t.replace(k,"_")}static addTheme(...t){const e=C.themes;for(const n of t){const{items:t,output:i}=n;let o="res/values",a="themes.xml";i&&(I(i.path)&&(o=i.path.trim()),I(i.file)&&(a=i.file.trim()));const r=L(o,"/")+"/"+L(a,"/"),s=e.get(r)||new Map;let l=n.name,c="";if(""===l||"."===l.charAt(0)){t:for(const t of e.values())for(const e of t.values())if(e.name){c=e.name;break t}if(""===c)continue}else c=l;l=c+("."===l.charAt(0)?l:""),n.name=l,M.formatOptions(t);const d=s.get(l);if(d){const e=d.items;for(const n in t)e[n]=t[n]}else s.set(l,n);e.set(r,s)}}static addString(t,e="",n=!1){if(""!==t){""===e&&(e=t.trim());const i=R(t);if(!i||n){const n=C.strings;for(const[e,i]of n.entries())if(i===t)return e;const o=L(e.replace(S.NONWORD_G,"_"),"_").split(/_+/);o.length>1?(o.length>4&&(o.length=4),e=o.join("_")):e=o[0],e=e.toLowerCase(),i||T.LEADINGNUMBER.test(e)||p.includes(e)?e="__"+e:""===e&&(e="__symbol"+Math.ceil(1e5*Math.random())),n.has(e)&&(e=M.generateId("string",e)),n.set(e,t)}return e}return""}static addImage(t,e="",n){const i=t.mdpi;if(i){if(O[i]&&1===Object.keys(t).length)return O[i];const o=x(i,"/"),a=x(o,".").toLowerCase();if(void 0===n||n.includes(a))return O[i]=M.insertStoredAsset("images",M.formatName(e+o.substring(0,o.length-a.length-1)),t),O[i]}return""}static addColor(t,e=!1){if("string"==typeof t&&(t=y(t,1,e)),t&&(!t.transparent||e)){const e=t.opacity<1?t.valueAsARGB:t.value;let n=C.colors.get(e);if(n)return n;const i=f(t.value);if(i)return n=e===i.value?i.key:M.generateId("color",i.key),C.colors.set(e,n),n}return""}reset(){super.reset(),O={}}addImageSrc(t,e="",n){var i;const o={};let a;if("string"==typeof t){const n=E.URL.exec(t);if(n&&(a=n[1],!/^data:image/.test(a)))return this.addImageSet({mdpi:_(a)},e)}else{if(t.srcset){void 0===n&&(n=b(t,this._imageFormat));for(const t of n){const e=t.pixelRatio;if(e>0){const n=t.src;e<1?o.ldpi=n:1===e?(void 0===a||t.actualWidth)&&(a=n):e<=1.5?o.hdpi=n:e<=2?o.xhdpi=n:e<=3?o.xxhdpi=n:o.xxxhdpi=n}}}void 0===a&&(a=t.src)}if(a){o.mdpi=a;const t=this.application.resourceHandler,n=t.getRawData(a);if(null===(i=n)||void 0===i?void 0:i.base64){const{base64:i,filename:o}=n;if(v.SVG.test(o))return"";const a=e+o;return t.writeRawImage(a,i),a.substring(0,a.lastIndexOf("."))}}return this.addImageSet(o,e)}addImageSet(t,e){return M.addImage(t,e,this._imageFormat)}get userSettings(){return this.application.userSettings}}const{optionalAsString:B,isString:D}=squared.lib.util;function W(t,e,n,i=0){return(!n||n>=i)&&(t.attr=e,!0)}const H={29:{android:{},assign:{}},28:{android:{allowAudioPlaybackCapture:!1,enforceNavigationBarContrast:!1,enforceStatusBarContrast:!1,forceDarkAllowed:!1,forceUriPermissions:!1,foregroundServiceType:!1,hasFragileUserData:!1,identifier:!1,inheritShowWhenLocked:!1,interactiveUiTimeout:!1,isLightTheme:!1,isSplitRequired:!1,minAspectRatio:!1,nonInteractiveUiTimeout:!1,opticalInsetBottom:!1,opticalInsetLeft:!1,opticalInsetRight:!1,opticalInsetTop:!1,packageType:!1,requestLegacyExternalStorage:!1,secureElementName:!1,selectionDividerHeight:!1,settingsSliceUri:!1,shell:!1,supportsMultipleDisplays:!1,textLocale:!1,useAppZygote:!1,useEmbeddedDex:!1,zygotePreloadName:!1},assign:{}},27:{android:{accessibilityHeading:!1,accessibilityPaneTitle:!1,appComponentFactory:!1,buttonCornerRadius:!1,cantSaveState:!1,dialogCornerRadius:!1,fallbackLineSpacing:!1,firstBaselineToTopHeight:!1,fontVariationSettings:!1,lastBaselineToBottomHeight:!1,lineHeight:!1,maxLongVersionCode:!1,outlineAmbientShadowColor:!1,outlineSpotShadowColor:!1,screenReaderFocusable:!1,textFontWeight:!1,ttcIndex:!1,versionCodeMajor:!1,versionMajor:!1,widgetFeatures:!1,windowLayoutInDisplayCutoutMode:!1},assign:{}},26:{android:{classLoader:!1,navigationBarDividerColor:!1,showWhenLocked:!1,turnScreenOn:!1,windowLightNavigationBar:!1},assign:{}},25:{android:{fontWeight:!1,justificationMode:!1,layout_marginHorizontal:!1,layout_marginVertical:!1,paddingHorizontal:!1,paddingVertical:!1,tooltipText:!1},assign:{}},24:{android:{colorSecondary:!1,contextDescription:!1,contextUri:!1,roundIcon:!1,shortcutDisabledMessage:!1,shortcutId:!1,shortcutLongLabel:!1,shortcutShortLabel:!1,showMetadataInPreview:!1},assign:{}},23:{android:{backupInForeground:!1,bitmap:!1,buttonGravity:!1,canControlMagnification:!1,canPerformGestures:!1,canRecord:!1,collapseIcon:!1,contentInsetEndWithActions:!1,contentInsetStartWithNavigation:!1,contextPopupMenuStyle:!1,countDown:!1,defaultHeight:!1,defaultToDeviceProtectedStorage:!1,defaultWidth:!1,directBootAware:!1,enableVrMode:!1,endX:!1,endY:!1,externalService:!1,fillType:!1,forceHasOverlappingRendering:!1,hotSpotX:!1,hotSpotY:!1,languageTag:!1,level:!1,listMenuViewStyle:!1,maxButtonHeight:!1,networkSecurityConfig:!1,numberPickerStyle:!1,offset:!1,pointerIcon:!1,popupEnterTransition:!1,popupExitTransition:!1,preferenceFragmentStyle:!1,resizeableActivity:!1,startX:!1,startY:!1,subMenuArrow:!1,supportsLocalInteraction:!1,supportsPictureInPicture:!1,textAppearancePopupMenuHeader:!1,tickMark:!1,tickMarkTint:!1,tickMarkTintMode:!1,titleMargin:!1,titleMarginBottom:!1,titleMarginEnd:!1,titleMarginStart:!1,titleMarginTop:!1,tunerCount:!1,use32bitAbi:!1,version:!1,windowBackgroundFallback:!1},assign:{}},22:{android:{allowUndo:!1,autoVerify:!1,breakStrategy:!1,colorBackgroundFloating:!1,contextClickable:!1,drawableTint:!1,drawableTintMode:!1,end:t=>W(t,"right"),extractNativeLibs:!1,fingerprintAuthDrawable:!1,fraction:!1,fullBackupContent:!1,hyphenationFrequency:!1,lockTaskMode:!1,logoDescription:!1,numbersInnerTextColor:!1,scrollIndicators:!1,showForAllUsers:!1,start:t=>W(t,"left"),subtitleTextColor:!1,supportsAssist:!1,supportsLaunchVoiceAssistFromKeyguard:!1,thumbPosition:!1,titleTextColor:!1,trackTint:!1,trackTintMode:!1,usesCleartextTraffic:!1,windowLightStatusBar:!1},assign:{}},21:{android:{accessibilityTraversalAfter:!1,accessibilityTraversalBefore:!1,collapseContentDescription:!1,dialogPreferredPadding:!1,resizeClip:!1,revisionCode:!1,searchHintIcon:!1},assign:{}},20:{android:{actionBarPopupTheme:!1,actionBarTheme:!1,actionModeFindDrawable:!1,actionModeShareDrawable:!1,actionModeWebSearchDrawable:!1,actionOverflowMenuStyle:!1,amPmBackgroundColor:!1,amPmTextColor:!1,ambientShadowAlpha:!1,autoRemoveFromRecents:!1,backgroundTint:!1,backgroundTintMode:!1,banner:!1,buttonBarNegativeButtonStyle:!1,buttonBarNeutralButtonStyle:!1,buttonBarPositiveButtonStyle:!1,buttonTint:!1,buttonTintMode:!1,calendarTextColor:!1,checkMarkTint:!1,checkMarkTintMode:!1,closeIcon:!1,colorAccent:!1,colorButtonNormal:!1,colorControlActivated:!1,colorControlHighlight:!1,colorControlNormal:!1,colorEdgeEffect:!1,colorPrimary:!1,colorPrimaryDark:!1,commitIcon:!1,contentAgeHint:!1,contentInsetEnd:!1,contentInsetLeft:!1,contentInsetRight:!1,contentInsetStart:!1,controlX1:!1,controlX2:!1,controlY1:!1,controlY2:!1,country:!1,datePickerDialogTheme:!1,datePickerMode:!1,dayOfWeekBackground:!1,dayOfWeekTextAppearance:!1,documentLaunchMode:!1,elegantTextHeight:!1,elevation:!1,excludeClass:!1,excludeId:!1,excludeName:!1,fastScrollStyle:!1,fillAlpha:!1,fillColor:!1,fontFeatureSettings:!1,foregroundTint:!1,foregroundTintMode:!1,fragmentAllowEnterTransitionOverlap:!1,fragmentAllowReturnTransitionOverlap:!1,fragmentEnterTransition:!1,fragmentExitTransition:!1,fragmentReenterTransition:!1,fragmentReturnTransition:!1,fragmentSharedElementEnterTransition:!1,fragmentSharedElementReturnTransition:!1,fromId:!1,fullBackupOnly:!1,goIcon:!1,headerAmPmTextAppearance:!1,headerDayOfMonthTextAppearance:!1,headerMonthTextAppearance:!1,headerTimeTextAppearance:!1,headerYearTextAppearance:!1,hideOnContentScroll:!1,indeterminateTint:!1,indeterminateTintMode:!1,inset:!1,isGame:!1,launchTaskBehindSourceAnimation:!1,launchTaskBehindTargetAnimation:!1,layout_columnWeight:!1,layout_rowWeight:!1,letterSpacing:!1,matchOrder:!1,maxRecentsv:!1,maximumAngle:!1,minimumHorizontalAngle:!1,minimumVerticalAngle:!1,multiArch:!1,navigationBarColor:!1,navigationContentDescription:!1,navigationIcon:!1,nestedScrollingEnabled:!1,numbersBackgroundColor:!1,numbersSelectorColor:!1,numbersTextColor:!1,outlineProvider:!1,overlapAnchor:!1,paddingMode:!1,pathData:!1,patternPathData:!1,persistableMode:!1,popupElevation:!1,popupTheme:!1,progressBackgroundTint:!1,progressBackgroundTintMode:!1,progressTint:!1,progressTintMode:!1,propertyXName:!1,propertyYName:!1,queryBackground:!1,recognitionService:!1,relinquishTaskIdentity:!1,reparent:!1,reparentWithOverlay:!1,restrictionType:!1,resumeWhilePausing:!1,reversible:!1,searchIcon:!1,searchViewStyle:!1,secondaryProgressTint:!1,secondaryProgressTintMode:!1,selectableItemBackgroundBorderless:!1,sessionService:!1,setupActivity:!1,showText:!1,slideEdge:!1,splitTrack:!1,spotShadowAlpha:!1,src:(t,e,n)=>(n.svgElement&&(t.obj="app",t.attr="srcCompat"),!0),stackViewStyle:!1,stateListAnimator:!1,statusBarColor:!1,strokeAlpha:!1,strokeColor:!1,strokeLineCap:!1,strokeLineJoin:!1,strokeMiterLimit:!1,strokeWidth:!1,submitBackground:!1,subtitleTextAppearance:!1,suggestionRowLayout:!1,switchStyle:!1,targetName:!1,textAppearanceListItemSecondary:!1,thumbTint:!1,thumbTintMode:!1,tileModeX:!1,tileModeY:!1,timePickerDialogTheme:!1,timePickerMode:!1,timePickerStyle:!1,tintMode:!1,titleTextAppearance:!1,toId:!1,toolbarStyle:!1,touchscreenBlocksFocus:!1,transitionGroup:!1,transitionName:!1,transitionVisibilityMode:!1,translateX:!1,translateY:!1,translationZ:!1,trimPathEnd:!1,trimPathOffset:!1,trimPathStart:!1,viewportHeight:!1,viewportWidth:!1,voiceIcon:!1,windowActivityTransitions:!1,windowAllowEnterTransitionOverlap:!1,windowAllowReturnTransitionOverlap:!1,windowClipToOutline:!1,windowContentTransitionManager:!1,windowContentTransitions:!1,windowDrawsSystemBarBackgrounds:!1,windowElevation:!1,windowEnterTransition:!1,windowExitTransition:!1,windowReenterTransition:!1,windowReturnTransition:!1,windowSharedElementEnterTransition:!1,windowSharedElementExitTransition:!1,windowSharedElementReenterTransition:!1,windowSharedElementReturnTransition:!1,windowSharedElementsUseOverlay:!1,windowTransitionBackgroundFadeDuration:!1,yearListItemTextAppearance:!1,yearListSelectorColor:!1},assign:{}},19:{android:{allowEmbedded:!1,windowSwipeToDismiss:!1},assign:{}},18:{android:{accessibilityLiveRegion:!1,addPrintersActivity:!1,advancedPrintOptionsActivity:!1,apduServiceBanner:!1,autoMirrored:!1,category:!1,fadingMode:!1,fromScene:!1,isAsciiCapable:!1,keySet:!1,requireDeviceUnlock:!1,ssp:!1,sspPattern:!1,sspPrefix:!1,startDelay:!1,supportsSwitchingToNextInputMethod:!1,targetId:!1,toScene:!1,transition:!1,transitionOrdering:!1,vendor:!1,windowTranslucentNavigation:!1,windowTranslucentStatus:!1},assign:{}},17:{android:{canRequestEnhancedWebAccessibility:(t,e)=>e<26,canRequestFilterKeyEvents:!1,canRequestTouchExplorationMode:!1,childIndicatorEnd:!1,childIndicatorStart:!1,indicatorEnd:!1,indicatorStart:!1,layoutMode:!1,mipMap:!1,mirrorForRtl:!1,requiredAccountType:!1,requiredForAllUsers:!1,restrictedAccountType:!1,windowOverscan:!1},assign:{}},16:{android:{checkedTextViewStyle:!1,format12Hour:!1,format24Hour:!1,initialKeyguardLayout:!1,labelFor:!1,layoutDirection:!1,layout_alignEnd:t=>W(t,"layout_alignRight"),layout_alignParentEnd:t=>W(t,"layout_alignParentRight"),layout_alignParentStart:t=>W(t,"layout_alignParentLeft"),layout_alignStart:t=>W(t,"layout_alignLeft"),layout_marginEnd:t=>W(t,"layout_marginRight"),layout_marginStart:t=>W(t,"layout_marginLeft"),layout_toEndOf:t=>W(t,"layout_toRightOf"),layout_toStartOf:t=>W(t,"layout_toLeftOf"),listPreferredItemPaddingEnd:t=>W(t,"listPreferredItemPaddingRight"),listPreferredItemPaddingStart:t=>W(t,"listPreferredItemPaddingLeft"),paddingEnd:t=>W(t,h.PADDING_RIGHT),paddingStart:t=>W(t,h.PADDING_LEFT),permissionFlags:!1,permissionGroupFlags:!1,presentationTheme:!1,showOnLockScreen:!1,singleUser:!1,subtypeId:!1,supportsRtl:!1,textAlignment:!1,textDirection:!1,timeZone:!1,widgetCategory:!1},assign:{}},15:{android:{fontFamily:!1,importantForAccessibility:!1,isolatedProcess:!1,keyboardLayout:!1,mediaRouteButtonStyle:!1,mediaRouteTypes:!1,parentActivityName:!1},assign:{}},14:{android:{},assign:{}},0:{android:{},assign:{Button:{android:{textAllCaps:"false"}}}}},G={android:{amPmBackgroundColor:(t,e)=>W(t,"headerBackground",e,23),amPmTextColor:(t,e)=>W(t,"headerTextColor",e,23),animationResolution:(t,e)=>e<16,canRequestEnhancedWebAccessibility:(t,e)=>e<26,dayOfWeekBackground:(t,e)=>e<23,dayOfWeekTextAppearance:(t,e)=>e<23,directionDescriptions:(t,e)=>e<23,headerAmPmTextAppearance:(t,e)=>W(t,"headerTextColor",e,23),headerDayOfMonthTextAppearance:(t,e)=>W(t,"headerTextColor",e,23),headerMonthTextAppearance:(t,e)=>W(t,"headerTextColor",e,23),headerTimeTextAppearance:(t,e)=>W(t,"headerTextColor",e,23),headerYearTextAppearance:(t,e)=>W(t,"headerTextColor",e,23),showOnLockScreen:(t,e)=>W(t,"showForAllUsers",e,23),targetDescriptions:(t,e)=>e<23,yearListItemTextAppearance:(t,e)=>W(t,"yearListTextColor",e,23),yearListSelectorColor:(t,e)=>e<23}};var X=Object.freeze({__proto__:null,API_ANDROID:H,DEPRECATED_ANDROID:G,getValue:function(t,e,n,i){for(const o of[H[t],H[0]]){const t=B(o,`assign.${e}.${n}.${i}`);if(D(t))return t}return""}});const V=squared.lib,{truncate:F}=V.math,{isPlainObject:U}=V.util,z=/^@\+?id\//;function q(t,e,n=3){return 0===t?0:0===e?1:parseFloat(F(Math.max(t/(t+e),0),n))}function j(t,e=!1,n=3){return"string"==typeof t&&(t=parseFloat(t)||0),e?F(t,n)+"sp":Math.round(t)+"dp"}function Y(t){return t.replace(z,"")}function Z(t,e){if(void 0===e?e={android:{}}:void 0===e.android&&(e.android={}),t){const{android:n,app:i}=t;n&&Object.assign(e.android,n),i&&(void 0===e.app&&(e.app={}),Object.assign(e.app,i))}return e}function $(t){const e={output:{path:"res/values",file:""},name:"",parent:"",items:{}};if(U(t))for(const n in e)typeof t[n]==typeof e[n]&&(e[n]=t[n]);return e}function K(t,e,n){return e&&n>=17&&u[t]||t}function J(t){return d[t]?`xmlns:${t}="${d[t]}"`:""}function Q(t){let e="";for(const n in d)t.includes(n+":")&&(e+="\n\t"+J(n));return e}var tt=Object.freeze({__proto__:null,convertLength:j,getDocumentId:Y,getHorizontalBias:function(t){const e=t.documentParent.box;return q(Math.max(0,t.actualRect("left","bounds")-e.left),Math.max(0,e.right-t.actualRect("right","bounds")),t.localSettings.floatPrecision)},getVerticalBias:function(t){const e=t.documentParent.box;return q(Math.max(0,t.actualRect("top","bounds")-e.top),Math.max(0,e.bottom-t.actualRect("bottom","bounds")),t.localSettings.floatPrecision)},createViewAttribute:Z,createStyleAttribute:$,localizeString:K,getXmlNs:J,getRootNs:Q});const et=squared.lib,{BOX_MARGIN:nt,BOX_PADDING:it,formatPX:ot,getDataSet:at,isLength:rt,isPercent:st}=et.css,{getNamedItem:lt}=et.dom,{clampRange:ct,truncate:dt}=et.math,{aboveRange:ht,capitalize:ut,convertFloat:pt,convertWord:gt,fromLastIndexOf:mt,isPlainObject:ft,isString:yt,replaceMap:bt}=et.util,{NODE_PROCEDURE:Tt}=squared.base.lib.enumeration,At=squared.base.Node,Et=/^attr[A-Z]/,vt=/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/,St=/[^\w$\-_.]/g;function xt(t,e){switch(t){case"left":case"start":return e?"":t;case"center":return h.CENTER_HORIZONTAL;case"justify":case"initial":case"inherit":return""}return t}function Rt(t,e){var n;return!(!e.horizontal||!(!t.blockWidth||t.hasWidth||t.hasPX("maxWidth")||(null===(n=t.innerMostWrapped)||void 0===n?void 0:n.has("width",4,{not:"100%"}))))&&(t.mergeGravity(!t.blockWidth&&t.pageFlow||void 0!==t.outerWrapper?"layout_gravity":"gravity",e.leftRight?h.CENTER_HORIZONTAL:e.left?"right":"left"),!0)}function wt(t,e,n,i){if(t.api>=28)t.android("lineHeight",ot(e),n);else{const i=(e-t.actualHeight)/2;i>0&&t.android("lineSpacingExtra",ot(i),n)}if(i&&t.styleElement&&!t.hasPX("height")&&t.cssTry("line-height","normal")){if(t.cssTry("white-space","nowrap")){const n=(e-t.boundingClientRect.height)/2,i=Math.round(n);i>0&&(t.modifyBox(32,i),t.blockStatic||t.modifyBox(128,Math.floor(n))),t.cssFinally("white-space")}t.cssFinally("line-height")}}function It(t,e,n,i,o){if(!(t.imageOrSvgElement||t.baselineAltered&&!t.multiline||0===t.actualHeight||"initial"===t.cssInitial("lineHeight")))if(t.multiline)wt(t,e,!1,!0);else if(0!==t.renderChildren.length&&!t.inline||!t.pageFlow&&!t.textContent.length)n&&(!t.hasHeight||e>t.height)&&(t.layoutHorizontal&&void 0===t.horizontalRows||t.hasAlign(4096))&&_t(t,e);else if(n&&!t.inline&&t.inlineText)_t(t,e),wt(t,e,!1,!1);else{let a=0,r=!0;if(!n&&t.inlineText&&t.styleElement&&!t.hasPX("height")&&t.cssTry("line-height","normal"))t.cssTry("white-space","nowrap")&&(a=(e-(t.textBounds||t.boundingClientRect).height)/2,r=!1,t.cssFinally("white-space")),t.cssFinally("line-height");else{const n=t.bounds.height;if(t.plainText){const e=t.bounds.numberOfLines;if(e>1)return t.android("minHeight",ot(n/e)),void t.mergeGravity("gravity",h.CENTER_VERTICAL)}a=(e-n)/2}const s=Math.round(a);if(s>0){const e=r&&t.textElement&&!t.plainText&&!n;i&&t.modifyBox(e?32:2,s),o&&t.modifyBox(e?128:8,Math.floor(a))}}}function _t(t,e){t.inlineText&&(e+=t.contentBoxHeight,(!t.hasPX("height")||e>=Math.floor(t.height))&&t.mergeGravity("gravity",h.CENTER_VERTICAL,!1)),e>t.height&&t.android("minHeight",ot(e))}function Nt(t,n){if("0px"===n){const n=t.renderParent;if(n)return n.layoutConstraint||n.is(e.GRID)}return!1}const Lt=t=>t.textEmpty&&(0===t.bounds.width&&0===t.contentBoxWidth&&t.marginLeft<=0&&t.marginRight<=0&&!t.visibleStyle.background||0===t.bounds.height&&0===t.contentBoxHeight&&t.marginTop<=0&&t.marginBottom<=0),Ct=t=>0===t.contentBoxHeight&&(0===t.bounds.height||t.pseudoElement&&t.textEmpty&&!t.visibleStyle.background)&&(t.marginTop<=0&&t.marginBottom<=0||"hidden"===t.css("overflow")&&et.regex.CHAR.UNITZERO.test(t.css("height"))),kt=c.relativeParent,Ot=c.relative,Pt=c.constraint,Mt=G.android;var Bt=t=>class n extends t{constructor(t=0,e="0",n,i){super(t,e,n),this.api=29,this.renderChildren=[],this.constraint={horizontal:!1,vertical:!1,current:{}},this._namespaces=["android","app"],this._cached={},this._controlName="",this._localization=!1,this._containerType=0,this.__android={},this.__app={},this.init(),i&&(i(this),this._localization=this.hasProcedure(Tt.LOCALIZATION)&&this.localSettings.supportRTL)}static getControlName(t,n=29){const i=e[t];return n>=29&&a[i]||o[i]}static availablePercent(t,e,n){let i=1,o=0;for(const a of t)if(a.pageFlow){if(o++,a[e]>0){const t=a.cssInitial(e);if(st(t)){i-=parseFloat(t)/100;continue}if(rt(t)){i-=a.parseUnit(t,e)/n;continue}}i-=a.bounds[e]/n}return o>0?Math.max(0,i):1}static ascendFlexibleWidth(t){if(t.documentRoot&&(t.hasWidth||t.blockStatic||t.blockWidth))return!0;let n=t.renderParent,i=0;for(;n;){if(n.hasWidth||parseInt(n.layoutWidth)>0||n.of(e.CONSTRAINT,64)||n.documentRoot&&(n.blockWidth||n.blockStatic))return!0;if(n.flexibleWidth){if(++i>1)return!1}else if(n.inlineWidth||n.naturalElement&&n.inlineVertical)return!1;n=n.renderParent}return!1}static ascendFlexibleHeight(t){var e;if(t.documentRoot&&t.hasHeight)return!0;const n=t.renderParent;return!!n&&(n.hasHeight||n.layoutConstraint&&n.blockHeight)||!0===(null===(e=t.absoluteParent)||void 0===e?void 0:e.hasHeight)}android(t,e,n=!0){return e&&""!==(e=this.attr("android",t,e,n))?e:this.__android[t]||""}app(t,e,n=!0){return e&&""!==(e=this.attr("app",t,e,n))?e:this.__app[t]||""}apply(t){for(const e in t){const n=t[e];if(ft(n))for(const t in n)this.attr(e,t,n[t]);else n&&this.attr("_",e,""+n)}}formatted(t,e=!0){const n=vt.exec(t);n&&this.attr(n[1]||"_",n[2],n[3],e)}anchor(t,e="",n){const i=this.anchorTarget,o=i.renderParent;if(o&&i.documentId!==e)if(o.layoutConstraint){if(""===e||void 0===i.constraint.current[t]||n){const o="parent"===e;void 0===n&&""!==e&&(n=o);const a=Pt[t];if(a){let r=!1;switch(i.app(this.localizeString(a),e,n),t){case"left":case"right":o&&(i.constraint.horizontal=!0);case"leftRight":case"rightLeft":r=!0;break;case"top":case"bottom":case"baseline":o&&(i.constraint.vertical=!0)}return i.constraint.current[t]={documentId:e,horizontal:r},!0}}}else if(o.layoutRelative){const o="true"===e;void 0===n&&""!==e&&(n=o);const a=(o?kt:Ot)[t];if(a)return i.android(this.localizeString(a),e,n),!0}return!1}anchorParent(t,e,n,i){const o=this.anchorTarget,a=o.renderParent;if(a){const r=t===h.HORIZONTAL;if(a.layoutConstraint){if(i||!o.constraint[t])return r?(o.anchor("left","parent",i),o.anchor("right","parent",i),o.constraint.horizontal=!0):(o.anchor("top","parent",i),o.anchor("bottom","parent",i),o.constraint.vertical=!0),e&&o.anchorStyle(t,e,n,i),!0}else if(a.layoutRelative)return o.anchor(r?"centerHorizontal":"centerVertical","true",i),!0}return!1}anchorStyle(t,e="packed",n=0,i=!0){const o=this.anchorTarget;t===h.HORIZONTAL?(o.app("layout_constraintHorizontal_chainStyle",e,i),o.app("layout_constraintHorizontal_bias",""+n,i)):(o.app("layout_constraintVertical_chainStyle",e,i),o.app("layout_constraintVertical_bias",""+n,i))}anchorDelete(...t){const e=this.anchorTarget,n=e.renderParent;if(n)if(n.layoutConstraint)e.delete("app",...bt(t,t=>this.localizeString(Pt[t])));else if(n.layoutRelative)for(const n of t){let t=Ot[n];t&&e.delete("android",t,this.localizeString(t)),t=kt[n],t&&e.delete("android",t,this.localizeString(t))}}anchorClear(){const t=this.anchorTarget,e=t.renderParent;e&&(e.layoutConstraint?t.anchorDelete(...Object.keys(Pt)):e.layoutRelative&&(t.anchorDelete(...Object.keys(kt)),t.anchorDelete(...Object.keys(Ot))))}alignParent(t){const e=this.anchorTarget,n=e.renderParent;if(n)if(n.layoutConstraint){const n=Pt[t];if(n)return"parent"===e.app(this.localizeString(n))||"parent"===e.app(n)}else if(n.layoutRelative){const n=kt[t];if(n)return"true"===e.android(this.localizeString(n))||"true"===e.android(n)}else if(n.layoutLinear){const i=n.renderChildren;if(n.layoutVertical)switch(t){case"top":return e===i[0];case"bottom":return e===i[i.length-1]}else switch(t){case"left":case"start":return e===i[0];case"right":case"end":return e===i[i.length-1]}}return!1}alignSibling(t,e){const n=this.anchorTarget,i=n.renderParent;if(i)if(e){if(i.layoutConstraint){const i=Pt[t];i&&n.app(this.localizeString(i),e)}else if(i.layoutRelative){const i=Ot[t];i&&n.android(this.localizeString(i),e)}}else if(i.layoutConstraint){const e=Pt[t];if(e){const t=n.app(this.localizeString(e))||n.app(e);return"parent"!==t&&t!==i.documentId?t:""}}else if(i.layoutRelative){const e=Ot[t];if(e)return n.android(this.localizeString(e))||n.android(e)}return""}supported(t,e={}){var n;if("function"==typeof Mt[t]){const n=Mt[t](e,this.api,this);if(!n||Object.keys(e).length)return n}for(let i=this.api;i<=29;i++){const o=null===(n=H[i])||void 0===n?void 0:n.android[t];switch(typeof o){case"boolean":return o;case"function":return o(e,this.api,this)}}return!0}combine(...t){const e=this._namespaces,n=0===t.length,i=[];let o=!1,a="";for(const r of e)if(n||t.includes(r)){const t=this["__"+r];if(t){const e=r+":";switch(r){case"android":if(this.api<29)for(let n in t)if("id"===n)a=t[n];else{const o={};let a=t[n];if(!this.supported(n,o))continue;Object.keys(o).length&&(yt(o.attr)&&(n=o.attr),yt(o.value)&&(a=o.value)),i.push(e+`${n}="${a}"`)}else for(const n in t)"id"===n?a=t[n]:i.push(e+`${n}="${t[n]}"`);o=!0;break;case"_":for(const e in t)i.push(`${e}="${t[e]}"`);break;default:for(const n in t)i.push(e+`${n}="${t[n]}"`)}}}return i.sort((t,e)=>t>e?1:-1),o&&i.unshift(`android:id="${""!==a?a:"@+id/"+this.controlId}"`),i}localizeString(t){return K(t,this._localization,this.api)}hide(t){t?this.android("visibility","invisible"):super.hide()}clone(t,e=!0,i=!1){const o=new n(t||this.id,this.sessionId,this.element||void 0);if(o.unsafe("localization",this._localization),o.localSettings=Object.assign({},this.localSettings),void 0!==t?o.setControlType(this.controlName,this.containerType):(o.controlId=this.controlId,o.controlName=this.controlName,o.containerType=this.containerType),this.cloneBase(o),e){Object.assign(o.unsafe("boxReset"),this._boxReset),Object.assign(o.unsafe("boxAdjustment"),this._boxAdjustment);for(const t of this._namespaces){const e=this["__"+t];if(e)for(const n in e)o.attr(t,n,"id"===n&&"android"===t?o.documentId:e[n])}}if(i){o.anchorClear();const t=this.documentId;o.anchor("left",t)&&(o.modifyBox(16),Object.assign(o.unsafe("boxAdjustment"),{marginLeft:0})),o.anchor("top",t)&&(o.modifyBox(2),Object.assign(o.unsafe("boxAdjustment"),{marginTop:0}))}return o.saveAsInitial(!0),o}setControlType(t,n){this.controlName=t,n?this.containerType=n:0===this.containerType&&(this.containerType=e.UNKNOWN)}setLayout(){switch(this.css("visibility")){case"hidden":case"collapse":this.hide(!0)}if(this.plainText)return this.setLayoutWidth("wrap_content",!1),void this.setLayoutHeight("wrap_content",!1);const t=this.actualParent||this.documentParent,n=this.renderParent,i=this.support.maxDimension;let o=!1;if(this.documentBody){const t=0===n.id&&this.renderChildren.some(t=>!t.pageFlow&&"fixed"===t.css("position"));(t||"100%"===this.css("width")||"100%"===this.css("minWidth")||this.blockStatic&&!this.hasPX("width")&&!this.hasPX("maxWidth"))&&this.setLayoutWidth("match_parent",!1),(t||"100%"===this.css("height")||"100%"===this.css("minHeight"))&&this.setLayoutHeight("match_parent",!1)}if(""===this.layoutWidth){let a="";if(!this.hasPX("width")||this.inlineStatic&&""!==this.cssInitial("width")){if(this.length)switch(this.cssInitial("width")){case"max-content":case"fit-content":for(const t of this.renderChildren)t.hasPX("width")||t.setLayoutWidth("wrap_content");a="wrap_content";break;case"min-content":{const t=[];let e=0;for(const n of this.renderChildren)!n.textElement||n.hasPX("width")?e=Math.max(n.actualWidth,e):(e=Math.max(n.width,e),n.support.maxDimension&&t.push(n));if(e>0&&t.length){const n=ot(e);for(const e of t)e.hasPX("maxWidth")||e.css("maxWidth",n)}a="wrap_content";break}}}else{const r=this.css("width");let s=-1;if(st(r))if(this.inputElement)"100%"!==r||n.inlineWidth?s=this.bounds.width:a="match_parent";else if(n.layoutConstraint&&!n.hasPX("width",!1)){if("100%"===r)a="match_parent";else{const t=Math.min(parseFloat(r)/100+this.contentBoxWidthPercent,1);this.app("layout_constraintWidth_percent",dt(t,this.localSettings.floatPrecision)),a=1===t?"match_parent":"0px"}o=!0}else if(n.is(e.GRID))a="0px",this.android("layout_columnWeight",dt(parseFloat(r)/100,this.localSettings.floatPrecision)),o=!0;else if(this.imageElement)"100%"!==r||n.inlineWidth?(s=this.bounds.width,o=!0):a="match_parent";else if("100%"===r){if(!i&&this.hasPX("maxWidth")){const e=this.css("maxWidth"),i=this.parseUnit(e),o=this.absoluteParent||t;"100%"===e?!n.inlineWidth&&ht(i,o.box.width)?a="match_parent":s=Math.min(this.actualWidth,i):i>0&&(this.blockDimension?s=Math.min(this.actualWidth,i):a=Math.ceil(i)<Math.floor(o.width)?"wrap_content":"match_parent")}""!==a||!this.documentRoot&&n.inlineWidth||(a="match_parent")}else s=this.actualWidth;else s=this.actualWidth;s>0&&(a=ot(s))}if(""===a)if(this.textElement&&this.textEmpty&&!this.visibleStyle.backgroundImage)a=ot(this.actualWidth);else if(this.imageElement&&this.hasPX("height"))a="wrap_content",o=!0;else{const i=()=>{let t=n,e=!0;do{if(!t.blockWidth)return e=!1,void(t.inlineWidth?this.styleElement&&this.cssTry("display","inline-block")&&(this.boundingClientRect.width<this.bounds.width&&(a="match_parent"),this.cssFinally("display")):a="match_parent");if(t.documentBody)break;t=t.renderParent}while(t);e&&(n.layoutVertical||n.layoutFrame||this.onlyChild||(n.layoutRelative||n.layoutConstraint)&&""===this.alignSibling("leftRight")&&""===this.alignSibling("rightLeft"))&&(a="match_parent")};!this.blockStatic||this.inputElement||n.is(e.GRID)||(t.layoutElement?this.layoutElement&&this.onlyChild&&(a=n.inlineWidth?"wrap_content":"match_parent"):this.nodeGroup||this.hasAlign(64)?a="match_parent":i()),""===a&&(this.naturalElement&&this.inlineStatic&&!this.blockDimension&&!t.layoutElement&&this.some(t=>t.naturalElement&&t.blockStatic)?i():this.is(e.GRID)&&!this.hasWidth&&this.some(t=>t.flexibleWidth)?n.inlineWidth?this.css("minWidth",ot(this.actualWidth)):a="match_parent":n.layoutFrame&&!n.inlineWidth&&!this.naturalChild&&this.layoutVertical&&this.rightAligned&&(a="match_parent"))}this.setLayoutWidth(a||"wrap_content")}let a=this.layoutHeight;if(""===this.layoutHeight){if(this.hasPX("height")&&(!this.inlineStatic||""===this.cssInitial("height"))){const r=this.css("height");let s=-1;if(st(r)){if(this.inputElement)s=this.bounds.height;else if(this.imageElement)"100%"!==r||n.inlineHeight?(s=this.bounds.height,o=!0):a="match_parent";else if("100%"===r){if(!i){const e=this.css("maxHeight"),i=this.parseUnit(e),o=this.absoluteParent||t;"100%"===e?!n.inlineHeight&&ht(i,o.box.height)?a="match_parent":s=Math.min(this.actualHeight,i):i>0&&(this.blockDimension?s=Math.min(this.actualHeight,i):a=Math.ceil(i)<Math.floor(o.box.height)?"wrap_content":"match_parent")}""===a&&(this.documentRoot||this.onlyChild&&!n.inlineHeight)&&(a="match_parent")}""===a&&this.hasHeight&&(s=this.actualHeight)}else s=this.actualHeight;s>0&&(this.is(e.LINE)&&"HR"!==this.tagName&&this.hasPX("height",!0,!0)&&(s+=this.borderTopWidth+this.borderBottomWidth),a=ot(s))}""===a&&(this.textElement&&this.textEmpty&&!this.visibleStyle.backgroundImage?n.layoutConstraint&&!this.floating&&this.alignParent("top")&&this.actualHeight>=(this.absoluteParent||t).box.height?(a="0px",this.anchor("bottom","parent")):a=ot(this.actualHeight):this.imageElement&&this.hasPX("width")?(a="wrap_content",o=!0):"table-cell"===this.display&&(a="match_parent")),this.setLayoutHeight(a||"wrap_content")}else"0px"===a&&n.inlineHeight&&""===n.android("minHeight")&&!t.layoutElement&&this.setLayoutHeight("wrap_content");if(this.hasPX("minWidth")&&(!At.isFlexDirection(this,"row")||t.flexElement&&!this.flexibleWidth)&&this.android("minWidth",ot(this.parseUnit(this.css("minWidth"))+(t.gridElement?0:this.contentBoxWidth)),!1),this.hasPX("minHeight")&&"table-cell"!==this.display&&(!At.isFlexDirection(this,"column")||t.flexElement&&!this.flexibleHeight)&&this.android("minHeight",ot(this.parseUnit(this.css("minHeight"),"height")+(t.gridElement?0:this.contentBoxHeight)),!1),i){const t=this.css("maxWidth");let e=this.css("maxHeight"),i=-1;if(rt(t,!0)?"100%"===t?this.svgElement?i=this.bounds.width:this.imageElement?(i=this.toElementInt("naturalWidth"),i>this.documentParent.actualWidth&&(this.setLayoutWidth("match_parent"),this.setLayoutHeight("wrap_content"),i=-1,e="",o=!0)):n.inlineWidth||(this.setLayoutWidth("match_parent"),o=!0):i=this.parseUnit(t):this.pageFlow||!this.multiline||!this.inlineWidth||this.preserveWhiteSpace||!this.ascend({condition:t=>t.hasPX("width")}).length&&this.textContent.includes("\n")||(i=Math.ceil(this.bounds.width)),i>=0&&(this.android("maxWidth",ot(i),!1),o=!0),rt(e,!0)){let t=-1;"100%"!==e||this.svgElement?t=this.parseUnit(e,"height"):n.inlineHeight?t=this.imageElement?this.toElementInt("naturalHeight"):this.parseUnit(e,"height"):(this.setLayoutHeight("match_parent"),o=!0),t>=0&&(this.android("maxHeight",ot(t)),o=!0)}}this.imageElement&&(o||this.blockWidth||this.blockHeight)&&this.android("adjustViewBounds","true")}setAlignment(){const t=this.outerWrapper||this,n=this.renderParent,i=t.renderParent||n,{autoMargin:o,rightAligned:a}=this;let r=xt(this.cssInitial("textAlign",!0),!1),s=xt(this.cssAscend("textAlign"),!0);if(this.nodeGroup&&""===r&&!this.hasAlign(512)){const t=this.actualParent;t&&(r=xt(t.cssInitial("textAlign",!0),!1))}if(this.pageFlow){let l="";if(this.inlineVertical&&(i.layoutHorizontal&&!i.support.positionRelative||i.is(e.GRID)||"table-cell"===this.display)){const e="table-cell"===this.display?"gravity":"layout_gravity";switch(this.cssInitial("verticalAlign",!0)){case"top":t.mergeGravity(e,"top");break;case"middle":t.mergeGravity(e,h.CENTER_VERTICAL);break;case"bottom":t.mergeGravity(e,"bottom")}}if(this.blockWidth?a&&t.nodeGroup&&t.layoutVertical&&t.renderEach(t=>{t.rightAligned&&t.mergeGravity("layout_gravity","right")}):((i.layoutVertical||this.documentRoot&&(this.layoutVertical||this.layoutFrame))&&(this.floating?t.mergeGravity("layout_gravity",this.float):Rt(t,o)||""===r||!this.hasWidth||this.blockStatic||this.inputElement||"table"===this.display||t.mergeGravity("layout_gravity",r,!1)),a?l="right":this.nodeGroup&&(this.renderChildren.every(t=>t.rightAligned)?l="right":this.hasAlign(512)&&!this.renderChildren.some(t=>t.rightAligned)&&(l="left"))),n.layoutFrame&&void 0===this.innerWrapped){if(Rt(this,o)||(this.floating&&(l=this.float),""!==l&&!n.naturalElement&&(n.inlineWidth||!n.documentRoot&&this.onlyChild)&&(n.mergeGravity("layout_gravity",l),l=""),this.centerAligned&&this.mergeGravity("layout_gravity",xt("center",!1))),this.onlyChild&&"table-cell"===n.display){let t;switch(n.css("verticalAlign")){case"top":t="top";break;case"bottom":t="bottom";break;default:t=h.CENTER_VERTICAL}this.mergeGravity("layout_gravity",t)}}else a&&i.layoutFrame&&n.blockWidth&&this.mergeGravity("layout_gravity","right");""!==l?this.blockWidth?""!==r&&"right"!==l||(r=l):(t.blockWidth&&this!==t?this:t).mergeGravity("layout_gravity",l):Rt(t.inlineWidth?t:this,o)&&""!==r&&(s="")}""===s||!this.blockStatic||this.centerAligned||a||t.mergeGravity("layout_gravity","left",!1),this.layoutConstraint||this.layoutFrame||this.is(e.GRID)||this.layoutElement||(""!==r?this.imageOrSvgElement||this.mergeGravity("gravity",r):""===s||this.inputElement||(this.imageOrSvgElement?this.pageFlow&&this.mergeGravity("layout_gravity",s):this.nodeGroup&&this.hasAlign(512)||this.mergeGravity("gravity",s))),o.vertical&&(n.layoutFrame||n.layoutLinear&&n.layoutVertical)&&t.mergeGravity("layout_gravity",o.topBottom?h.CENTER_VERTICAL:o.top?"bottom":"top")}mergeGravity(t,n,i=!0){if("layout_gravity"===t){const t=this.renderParent;if(t){if(function(t){switch(t){case"left":case"start":case"right":case"end":case h.CENTER_HORIZONTAL:return!0}return!1}(n)&&(this.blockWidth||t.inlineWidth&&this.onlyChild||!i&&this.outerWrapper&&this.hasPX("maxWidth")))return;if(t.layoutRelative){if(n===h.CENTER_HORIZONTAL&&""===this.alignSibling("leftRight")&&""===this.alignSibling("rightLeft"))return this.anchorDelete("left","right"),void this.anchor("centerHorizontal","true")}else if(t.layoutConstraint){if(!t.layoutHorizontal&&!this.positioned)switch(n){case"top":this.anchor("top","parent",!1);break;case"right":case"end":""===this.alignSibling("rightLeft")&&this.anchor("right","parent",!1);break;case"bottom":this.anchor("bottom","parent",!1);break;case"left":case"start":""===this.alignSibling("leftRight")&&this.anchor("left","parent",!1);break;case h.CENTER_HORIZONTAL:""===this.alignSibling("leftRight")&&""===this.alignSibling("rightLeft")&&this.anchorParent(h.HORIZONTAL,void 0,void 0,!0)}return}}}else if(this.is(e.TEXT)&&this.textEmpty)return;const o=new Set,a=this.android(t);let r="";function s(t){const e=t+"_horizontal",n=t+"_vertical";(o.has(t)||o.has(e)&&o.has(n))&&(o.delete(e),o.delete(n),o.add(t))}if(""!==a)for(const t of a.split("|"))o.add(t);switch(o.add(this.localizeString(n)),o.size){case 0:break;case 1:r=xt(o.values().next().value,!1);default:{s("center"),s("fill");let t="",e="",n="";for(const a of o.values())switch(a){case"left":case"start":case"right":case"end":case h.CENTER_HORIZONTAL:(""===t||i)&&(t=a);break;case"top":case"bottom":case h.CENTER_VERTICAL:(""===e||i)&&(e=a);break;default:n+=(""!==n?"|":"")+a}r=""!==t&&""!==e?t+"|"+e:t||e,""!==n&&(r+=(""!==r?"|":"")+n);break}}""!==r&&this.android(t,r)}applyOptimizations(){const t=this.renderParent;t&&(this.alignLayout(t),this.setLineHeight(t))}applyCustomizations(t=!0){const e=e=>{if(e)for(const n in e){const i=e[n];for(const e in i)this.attr(n,e,i[e],t)}},{tagName:n,controlName:i}=this;let o=H[0].assign;e(o[n]),e(o[i]);const a=H[this.api];a&&(o=a.assign,e(o[n]),e(o[i]))}setBoxSpacing(){const t=this._boxReset,n=this._boxAdjustment,i=(i,o,a)=>{var r;let s=0,l=0,c=0,d=0;for(let e=0;e<4;e++){const o=i[e];let a=void 0===t||0===t[o]?this[o]:0;if(0!==a)switch(o){case"marginRight":if(a<0)"right"===this.float&&ht(this.linear.right,this.documentParent.box.right)&&(a=0);else if(this.inline){const t=this.documentParent.box.right,e=this.bounds.right;if(Math.floor(e)>t){this.onlyChild||this.alignParent("left")||this.setSingleLine(!0);continue}e+a>t&&(a=ct(t-e,0,a))}break;case"marginBottom":a<0&&this.pageFlow&&!this.blockStatic&&(a=0);break;case"paddingTop":a=this.actualPadding(o,a);break;case"paddingBottom":if((this.layoutVertical||this.layoutFrame)&&!this.layoutElement&&this.hasPX("height",!1,!0)||this.documentParent.gridElement&&this.hasPX("height",!1))continue;if(this.floatContainer){let t=-1/0;for(const e of this.naturalElements)e.floating&&(t=Math.max(e.bounds.bottom,t));a=ct(this.bounds.bottom-t,0,a)}else a=this.actualPadding(o,a)}switch(n&&(a+=n[o]),e){case 0:s=a;break;case 1:l=a;break;case 2:c=a;break;case 3:d=a}}if(o){if(this.floating){let t=this.renderParent.renderChildren.find(t=>!t.floating);if(t){const e=this.bounds.top;let n;for(;t.bounds.top===e;){n=t;const e=t.innerWrapped;if(!e)break;t=e}if(n){const t=n.getBox(2);s+=(1!==t[0]?n.marginTop:0)+t[1]}}}else if(s>0&&this.inlineVertical&&(null===(r=this.actualParent)||void 0===r?void 0:r.floatContainer)){const t=(this.outerMostWrapper||this).renderParent;if(t.layoutVertical&&!t.hasAlign(512)){const t=this.bounds.top,e=this.renderParent.renderChildren;for(const n of this.actualParent.naturalElements)if(n.floating&&n.bounds.top===t&&!e.includes(n)){s=Math.max(s-n.linear.height,0);break}}}if(this.positionStatic&&!this.blockWidth&&(d<0||l<0))switch(this.cssAscend("textAlign")){case"center":d<l?(l+=Math.abs(d),l/=2,d=0):(d+=Math.abs(l),d/=2,l=0);break;case"right":case"end":d<0&&(d=0)}}else!this.visibleStyle.borderWidth||!this.layoutElement&&(!this.contentBox||0!==this.renderChildren.length&&this.naturalChildren.every(t=>!t.pageFlow&&t.absoluteParent===this)||this.is(e.LINE))||(s+=this.borderTopWidth,l+=this.borderRightWidth,c+=this.borderBottomWidth,d+=this.borderLeftWidth);if(0!==s||0!==d||0!==c||0!==l){let t=0,e=0,n=0;!a&&this.api>=26&&(s===l&&l===c&&c===d?t=s:(d===l&&(e=d),s===c&&(n=s))),0!==t?this.android(o?h.MARGIN:h.PADDING,ot(t)):(0!==e?this.android(o?h.MARGIN_HORIZONTAL:h.PADDING_HORIZONTAL,ot(e)):(0!==d&&this.android(this.localizeString(o?h.MARGIN_LEFT:h.PADDING_LEFT),ot(d)),0!==l&&this.android(this.localizeString(o?h.MARGIN_RIGHT:h.PADDING_RIGHT),ot(l))),0!==n?this.android(o?h.MARGIN_VERTICAL:h.PADDING_VERTICAL,ot(n)):(0!==s&&this.android(o?h.MARGIN_TOP:h.PADDING_TOP,ot(s)),0!==c&&this.android(o?h.MARGIN_BOTTOM:h.PADDING_BOTTOM,ot(c))))}};i(nt,!0,!0===this.renderParent.is(e.GRID)),i(it,!1,!1)}setSingleLine(t=!1){if(this.textElement&&this.naturalChild){const e=this.actualParent;e.preserveWhiteSpace||"CODE"===e.tagName||this.multiline&&"nowrap"!==e.css("whiteSpace")||this.android("maxLines","1"),t&&this.textContent.trim().length>1&&this.android("ellipsize","end")}}extractAttributes(t){if("rtl"!==this.dir||this.imageOrSvgElement||(this.textElement?this.android("textDirection","rtl"):this.renderChildren.length&&this.android("layoutDirection","rtl")),this.styleElement){const t=at(this.element,"android");for(const e in t){const n="attr"===e?"android":Et.test(e)?ut(e.substring(4),!1):"";if(""!==n)for(const i of t[e].split(";")){const[t,e]=i.split("::");t&&this.attr(n,t,e)}}if(this.naturalElement){const t=this.css("opacity");"1"!==t&&this.android("alpha",t)}}const e="\n"+"\t".repeat(t);let n="";for(const t of this.combine())n+=e+t;return n}actualRect(t,e="linear"){var n;let i=this[e][t];if(this.positionRelative&&this.floating)switch(t){case"top":case"bottom":this.has("top")?i+=this.top:i-=this.bottom;break;case"left":this.has("left")?i+=this.left:i-=this.right;case"right":this.has("left")?i+=this.left:i-=this.right}if(this.inputElement){const o=this.companion;if((null===(n=o)||void 0===n?void 0:n.labelFor)===this&&!o.visible){const n=o[e][t];switch(t){case"top":case"left":return Math.min(n,i);case"right":case"bottom":return Math.max(n,i)}}}return i}setLayoutWidth(t,e=!0){this.android("layout_width",t,e)}setLayoutHeight(t,e=!0){this.android("layout_height",t,e)}alignLayout(t){if(this.layoutLinear){const e=this.renderChildren;if(this.layoutVertical){if(1===e.length&&!t.layoutFrame&&!this.documentRoot){const t=e[0];(t.baselineElement||t.textElement)&&this.android("baselineAlignedChildIndex","0")}}else{let t=!0;e.some(t=>t.floating)&&!e.some(t=>t.imageElement&&t.baseline)&&(this.android("baselineAligned","false"),t=!1);const n=e.length;for(let i=0;i<n;i++){const o=e[i];i>0&&o.setSingleLine(i===n-1),t&&o.baselineElement&&(this.android("baselineAlignedChildIndex",""+i),t=!1)}}}}setLineHeight(t){var e;let n=this.lineHeight;if(n>0){const i=this.has("lineHeight");if(this.multiline)wt(this,n,i,!0);else{const o=this.renderChildren.length>0;if(i||o||0===t.lineHeight)if(o)if(this.inline)this.renderEach(t=>{t.lineHeight>n&&(n=t.lineHeight),t.setCacheValue("lineHeight",0)}),It(this,n,i,!0,!0);else{const t=this.horizontalRows||[this.renderChildren];let i=!1;const o=t.length;for(let a=0;a<o;a++){const r=t[a],s=t[a+1];let l=s&&(1===s.length&&s[0].multiline||s[0].lineBreakLeading);!l&&a<o-1&&(null===(e=t[a+1].find(t=>t.baselineActive))||void 0===e?void 0:e.has("lineHeight"))&&(l=!0);const c=r.find(t=>t.baselineActive),d=1===r.length&&!r[0].multiline,h=d||!i&&(a>0||1===o)||r[0].lineBreakLeading,u=d||!l&&(a<o-1||1===o);if(c){if(c.has("lineHeight")){i=!0;continue}It(c,n,!1,h,u)}else for(const t of r)0!==t.length||t.has("lineHeight")||t.multiline||It(t,n,!1,h,u);i=1===r.length&&r[0].multiline}}else It(this,n,i,!0,!0)}}}get documentId(){const t=this.controlId;return""!==t?"@id/"+t:""}set controlId(t){this._controlId=t}get controlId(){var t;let e=this._controlId;if(void 0===e){const n=this.controlName;if(!n)return 0===this.id?"baseroot":"";{let i;if(this.styleElement){const e=(null===(t=this.elementId)||void 0===t?void 0:t.trim())||lt(this.element,"name");""!==e&&(i=e.replace(St,"_").toLowerCase(),("parent"===i||p.includes(i))&&(i="_"+i))}e=gt(squared.base.ResourceUI.generateId("android",i||mt(n,".").toLowerCase(),i?0:1)),this._controlId=e}}return e}get anchorTarget(){let t=this;do{const e=t.renderParent;if(!e)break;if(e.layoutConstraint||e.layoutRelative)return t;t=t.outerWrapper}while(t);return this}set anchored(t){const e=this.constraint;e.horizontal=t,e.vertical=t}get anchored(){const t=this.constraint;return t.horizontal&&t.vertical}set containerType(t){this._containerType=t}get containerType(){if(0===this._containerType){const t=l[this.containerName];t&&(this._containerType=t)}return this._containerType}get imageOrSvgElement(){return this.imageElement||this.svgElement}get layoutFrame(){return this.is(e.FRAME)}get layoutLinear(){return this.is(e.LINEAR)}get layoutRelative(){return this.is(e.RELATIVE)}get layoutConstraint(){return this.is(e.CONSTRAINT)}set renderExclude(t){this._cached.renderExclude=t}get renderExclude(){let t=this._cached.renderExclude;if(void 0===t){if(this.styleElement&&0===this.length&&!this.imageElement)if(this.pageFlow){const e=this.blockStatic||"table"===this.display,n=this.renderParent;if(!n){const t=this.parent;return e||t&&(t.layoutVertical||t.layoutFrame)?Ct(this):!!(t&&t.alignmentType>0)&&Lt(this)}t=e||n.layoutVertical||n.layoutFrame?Ct(this)&&""===this.alignSibling("topBottom")&&""===this.alignSibling("bottomTop"):Lt(this)&&""===this.alignSibling("leftRight")&&""===this.alignSibling("rightLeft")&&""===this.alignSibling("topBottom")&&""===this.alignSibling("bottomTop")}else t=Lt(this)||Ct(this);else t=!1;this._cached.renderExclude=t}return t}get baselineHeight(){var t;let e=this._cached.baselineHeight;if(void 0===e){if(e=0,this.plainText){const{height:t,numberOfLines:n}=this.bounds;e=t/(n||1)}else if(this.multiline&&this.cssTry("white-space","nowrap")?(e=this.boundingClientRect.height,this.cssFinally("white-space")):e=this.hasHeight?this.actualHeight:"PICTURE"===this.tagName?Math.max((null===(t=this.naturalElements.find(t=>"IMG"===t.tagName))||void 0===t?void 0:t.height)||0,this.bounds.height):this.bounds.height,this.naturalElement&&this.lineHeight>e)e=this.lineHeight;else if(this.inputElement)switch(this.controlName){case o.RADIO:case o.CHECKBOX:e+=8;break;case o.SELECT:e+=4,e/=this.toElementInt("size")||1;break;default:e+=Math.max(-1*pt(this.verticalAlign),0)}this._cached.baselineHeight=e}return e}get leftTopAxis(){var t;let e=this._cached.leftTopAxis;if(void 0===e){switch(e=!1,this.cssInitial("position")){case"absolute":{const{absoluteParent:n,documentParent:i}=this;n===i?e=!0:(null===(t=n)||void 0===t?void 0:t.box.right)===i.linear.right&&this.has("right")&&!this.has("left")&&(this.css("top",ot(this.linear.top-i.box.top),!0),e=!0);break}case"fixed":e=!0}this._cached.leftTopAxis=e}return e}get support(){let t=this._cached.support;return void 0===t&&(t={positionRelative:this.layoutRelative||this.layoutConstraint,maxDimension:this.textElement||this.imageOrSvgElement},0!==this.containerType&&(this._cached.support=t)),t}get layoutWidth(){return this.android("layout_width")}get layoutHeight(){return this.android("layout_height")}get inlineWidth(){return"wrap_content"===this.layoutWidth}get inlineHeight(){return"wrap_content"===this.layoutHeight}get blockWidth(){return"match_parent"===this.layoutWidth}get blockHeight(){return"match_parent"===this.layoutHeight}get flexibleWidth(){return Nt(this,this.layoutWidth)}get flexibleHeight(){return Nt(this,this.layoutHeight)}get contentBoxWidthPercent(){var t;const e=this.actualParent;if(!1===(null===(t=e)||void 0===t?void 0:t.gridElement)){const t=e.box.width;return t>0?this.contentBoxWidth/t:0}return 0}get contentBoxHeightPercent(){var t;const e=this.actualParent;if(!1===(null===(t=e)||void 0===t?void 0:t.gridElement)){const t=e.box.height;return t>0?this.contentBoxHeight/t:0}return 0}get labelFor(){return this._labelFor}set labelFor(t){t&&(t.companion=this),this._labelFor=t}get innerWrapped(){return this._innerWrapped}set innerWrapped(t){t&&(this._innerWrapped=t=t.outerMostWrapper||t,t.outerWrapper=this)}set localSettings(t){this._localSettings?Object.assign(this._localSettings,t):this._localSettings=Object.assign({},t)}get localSettings(){return this._localSettings}};class Dt extends(Bt(squared.base.NodeUI)){}class Wt extends(Bt(squared.base.NodeGroupUI)){constructor(t,e,n,i){super(t,e.sessionId,void 0,i),this.depth=e.depth,this.containerName=e.containerName+"_GROUP",this.actualParent=e.actualParent,this.documentParent=e.documentParent,this.retain(n)}}const Ht=squared.lib,Gt=squared.base,{isPlatform:Xt,isUserAgent:Vt}=Ht.client,{parseColor:Ft}=Ht.color,{formatPX:Ut,getSrcSet:zt,isLength:qt,isPercent:jt,parseUnit:Yt}=Ht.css,{createElement:Zt,getElementsBetweenSiblings:$t,getRangeClientRect:Kt}=Ht.dom,{maxArray:Jt,truncate:Qt}=Ht.math,{CHAR:te}=Ht.regex,{getElementAsNode:ee}=Ht.session,{aboveRange:ne,assignEmptyValue:ie,convertFloat:oe,filterArray:ae,hasBit:re,isString:se,objectMap:le,optionalAsObject:ce,partitionArray:de,withinRange:he}=Ht.util,{STRING_XMLENCODING:ue,replaceTab:pe}=Ht.xml,{APP_SECTION:ge,NODE_PROCEDURE:me,NODE_RESOURCE:fe}=Gt.lib.enumeration,{Node:ye,NodeUI:be}=Gt,Te=/^(?:(rgba?\([^)]+\)|[a-z]+) )?(-?[\d.]+[a-z]+) (-?[\d.]+[a-z]+)\s*(-?[\d.]+[a-z]+)?.*$/;function Ae(t){t.sort((t,e)=>{const n=t.floating,i=e.floating;if(n&&i){const n=t.float,i=e.float;if(n!==i)return"left"===n?-1:1;if("right"===n&&"right"===i)return 1}else{if(n)return"left"===t.float?-1:1;if(i)return"left"===e.float?1:-1}return 0})}function Ee(t){return t.length>1&&t.sort((t,e)=>{const n=t.node,i=e.node,o=n.innerMostWrapped||n,a=i.innerMostWrapped||i;if(o.absoluteParent===a.absoluteParent)return o.zIndex===a.zIndex?o.childIndex<a.childIndex?-1:1:o.zIndex<a.zIndex?-1:1;{const t=a.bounds;if(o.intersectX(t,"bounds")&&o.intersectY(t,"bounds"))return o.depth===a.depth?0:o.id<a.id?-1:1}return 0}),t}function ve(t,n,i,o){var a;const r=t.baselineHeight;let s,l=0;for(const c of n){if(c.baselineAltered)continue;let n=c.baselineHeight;if(n>0||c.textElement){if(c.blockVertical&&t.blockVertical){c.anchor("bottom",t.documentId);continue}{const t=c.renderChildren.filter(t=>t.imageOrSvgElement&&t.baseline);if(c.imageOrSvgElement||t.length){for(const e of t)n=Math.max(e.baselineHeight,n);if(n>r){void 0===s||n>=l?(null===(a=s)||void 0===a||a.anchor(Ve(c),c.documentId),l=n,s=c):c.anchor(Ve(s),s.documentId);continue}if(he(c.linear.top,o)){c.anchor("top","true");continue}}}i&&c.is(e.BUTTON)?c.anchor("centerVertical","true"):c.naturalChild&&0===c.length?c.anchor("baseline",t.documentId):c.baselineElement&&c.anchor(-1!==c.naturalElements.findIndex(t=>t.imageOrSvgElement&&t.baseline)?"bottom":"baseline",t.documentId)}else c.imageOrSvgElement&&c.baseline&&(s=c)}s&&t.anchor(Ve(s),s.documentId)}function Se(t,e,n){if(n>0){if(t.documentBody)switch(e){case 32:n-=t.marginTop;break;case 64:n-=t.marginRight;break;case 128:n-=t.marginBottom;break;case 256:n-=t.marginLeft}if(1!==t.getBox(e)[0])switch(e){case 32:n+=t.borderTopWidth-t.paddingTop;break;case 64:n+=t.borderRightWidth-t.paddingRight;break;case 128:n+=t.borderBottomWidth-t.paddingBottom;break;case 256:n+=t.borderLeftWidth-t.paddingLeft}return Math.max(n,0)}return n}function xe(t,e){if("left"===e.float){if(e.marginRight<0){return t.modifyBox(16,e.actualWidth+(e.hasWidth?e.paddingLeft+e.borderLeftWidth:0)-Math.abs(e.marginRight)),t.anchor("left",e.documentId),e.modifyBox(4),!0}}else if("right"===t.float&&e.marginLeft<0){const n=Math.abs(e.marginLeft),i=e.actualWidth;return n<i&&t.modifyBox(4,i-n),t.anchor("right",e.documentId),e.modifyBox(16),!0}return!1}function Re(t,e){var n,i;const o=t.cssInitial(e?"minWidth":"minHeight",!0);qt(o,!0)&&"0px"!==o&&(e?Dt.ascendFlexibleWidth(t)&&(t.setLayoutWidth("0px",!1),t.flexibleWidth&&(t.app("layout_constraintWidth_min",Ut(t.parseUnit(o)+t.contentBoxWidth)),t.css("minWidth","auto"))):Dt.ascendFlexibleHeight(t)&&(t.setLayoutHeight("0px",!1),t.flexibleHeight&&(t.app("layout_constraintHeight_min",Ut(t.parseUnit(o,"height")+t.contentBoxHeight)),t.css(e?"minWidth":"minHeight","auto"))));const a=t.cssInitial(e?"maxWidth":"maxHeight",!0);if(qt(a,!0))if(e){if(Dt.ascendFlexibleWidth(t)&&(t.setLayoutWidth(t.renderParent.flexibleWidth?"match_parent":"0px",!0===(null===(n=t.innerWrapped)||void 0===n?void 0:n.naturalChild)),t.flexibleWidth)){const e=t.parseUnit(a);t.app("layout_constraintWidth_max",Ut(e+t.contentBoxWidth)),t.css("maxWidth","auto"),t.layoutVertical&&t.each(t=>{t.textElement&&!t.hasPX("maxWidth")&&t.css("maxWidth",Ut(e))})}}else Dt.ascendFlexibleHeight(t)&&(t.setLayoutHeight(t.renderParent.flexibleHeight?"match_parent":"0px",!0===(null===(i=t.innerWrapped)||void 0===i?void 0:i.naturalChild)),t.flexibleHeight&&(t.app("layout_constraintHeight_max",Ut(t.parseUnit(a,"height")+t.contentBoxHeight)),t.css("maxHeight","auto")))}function we(t,e,n,i){const o=t.actualParent||t.documentParent;let a=parseFloat(e)/100;if(a<1&&(!o.flexElement||!jt(t.flexbox.basis))&&(i<1||t.blockStatic&&!o.gridElement)){const e=t.actualParent,o=e?(n?t.marginLeft+t.marginRight:t.marginTop+t.marginBottom)/e.box.width:0;let r=n?t.contentBoxWidthPercent:t.contentBoxHeightPercent;r>0&&(i<r?(r=Math.max(i,0),i=0):i-=r),0===i?r-=o:i=Math.max(i-o,0),a=Math.min(a+r,1)}return t.app(n?"layout_constraintWidth_percent":"layout_constraintHeight_percent",Qt(a,t.localSettings.floatPrecision)),Ie(t,1!==a||t.hasPX("maxWidth")?"0px":"match_parent",n,!1),i}function Ie(t,e,n,i){n?t.setLayoutWidth(e,i):t.setLayoutHeight(e,i)}function _e(t,e,n,i,o){const a=t.cssInitial(e,!0);if(i){if(qt(a,!0)){const i=t.bounds[e];if(Ie(t,Ut(i),n,!0),t.imageElement){const{naturalWidth:e,naturalHeight:o}=t.element;if(e>0&&o>0){const a=Ut(i/(n?e:o)*(n?o:e));n?t.setLayoutHeight(a,!1):t.setLayoutWidth(a,!1)}}}}else if(jt(a))return we(t,a,n,o);return o}function Ne(t,e,n=1){const i=t.actualParent||t.documentParent;if(e||i.layoutElement||!i.hasPX("width",!1)){if(!t.inputElement)return _e(t,"width",!0,e,n)}else{const e=t.cssInitial("width",!0);jt(e)&&("100%"!==e?t.setLayoutWidth(Ut(t.bounds.width)):t.setLayoutWidth("match_parent",!1))}return n}function Le(t,e,n=1){const i=t.actualParent||t.documentParent;if(i.hasPX("height",!1))if(e||i.layoutElement){if(!t.inputElement)return _e(t,"height",!1,e,n)}else{const e=t.cssInitial("height",!0);jt(e)&&("100%"!==e?t.setLayoutHeight(Ut(t.bounds.height)):t.setLayoutHeight("match_parent",!1))}else{const e=t.cssInitial("height");"100%"===e&&t.alignParent("top")&&t.alignParent("bottom")?t.setLayoutHeight("0px",!1):qt(e,!0)&&t.setLayoutHeight(Ut(t.bounds.height),!1)}return n}function Ce(t){return ae(t,t=>(t.baseline||qt(t.verticalAlign,!0))&&("TEXTAREA"===t.tagName||"SELECT"===t.tagName&&t.toElementInt("size")>1)||"text-bottom"===t.verticalAlign&&"INPUT_IMAGE"!==t.containerName).sort((t,e)=>t.baselineHeight===e.baselineHeight?"SELECT"===t.tagName?1:0:t.baselineHeight>e.baselineHeight?-1:1)}function ke(t,e){var n;if("BR"===t.tagName)return!0;{const i=ee(t,e);if(!0===(null===(n=i)||void 0===n?void 0:n.blockStatic)&&!i.excluded)return!0}return!1}function Oe(t){const e=t.length;for(let n=0;n<e;n++){const i=t[n];n>0&&i.anchor("leftRight",t[n-1].documentId),n<e-1&&i.anchor("rightLeft",t[n+1].documentId),i.anchored=!0}const n=t[0],i=t[e-1];n.anchor("left","parent"),i.anchor("right","parent"),n.anchorStyle(h.HORIZONTAL,"spread_inside")}function Pe(t,e,n){var i;const o=t[0][0],a=t.length;for(let r=0;r<a;r++){const a=t[r],s=a.length;for(let l=0;l<s;l++){const c=a[l];if(0===l?0===r?n?(n.anchor("bottomTop",c.documentId),c.anchor("topBottom","string"==typeof n?n:n.documentId)):(c.anchor("top","parent"),c.anchorStyle(h.VERTICAL)):(c.anchor("top",o.documentId),c.anchorStyle(h.VERTICAL),c.modifyBox(2)):(a[l-1].anchor("bottomTop",c.documentId),c.anchor("topBottom",a[l-1].documentId)),l>0&&c.anchor("left",a[0].documentId),l===s-1){if(e)c.anchor("bottom","parent");else if(r>0&&!c.multiline){const e=t[r-1][l];!1===(null===(i=e)||void 0===i?void 0:i.multiline)&&he(c.bounds.top,e.bounds.top)&&(c.anchor("top",e.documentId),c.modifyBox(2,-e.marginTop))}c.modifyBox(8)}c.anchored=!0,c.positioned=!0}}}function Me(t){const e=t.element;e.readOnly&&t.android("focusable","false"),e.disabled&&t.android("enabled","false")}function Be(t,e,n,i){const[o,a,r,s,l,c,d,u]=i?[h.HORIZONTAL,"width","left","right",16,4,256,64]:[h.VERTICAL,"height","top","bottom",2,8,32,128],p=t.autoMargin;if(n&&p[o])t.hasPX(r)&&p[s]?(t.anchor(r,"parent"),t.modifyBox(l,t[r])):t.hasPX(s)&&p[r]?(t.anchor(s,"parent"),t.modifyBox(c,t[s])):(t.anchorParent(o),t.modifyBox(l,t[r]),t.modifyBox(c,t[s]));else{let h=0;t.hasPX(r)&&(t.anchor(r,"parent"),t.hasPX(s)||"100%"!==t.css(a)||t.anchor(s,"parent"),t.modifyBox(l,Se(e,d,t[r])),h++),t.hasPX(s)&&(t.hasPX(a)&&"100%"!==t.css(a)&&t.hasPX(r)||(t.anchor(s,"parent"),t.modifyBox(c,Se(e,u,t[s]))),h++),2!==h||n||p[o]&&!p[r]&&!p[s]||(i?t.setLayoutWidth("match_parent"):t.setLayoutHeight("match_parent"))}t.positioned=!0}function De(t,e,n,i,o){return n=e,t.css("width",Ut(e),!0),o&&o.width>0&&o.height>0?t.css("height",Ut(i=o.height*(n/o.width)),!0):t.android("adjustViewBounds","true"),[n,i]}function We(t,e){const{minLength:n,maxLength:i}=e;-1!==n&&t.android("minLength",""+n),i>0&&t.android("maxLength",""+i)}function He(t,e){const{min:n,max:i}=e;se(n)&&t.android("min",n),se(i)&&t.android("max",i)}const Ge=t=>t.plainText&&M.hasLineBreak(t,!1,!0)||t.preserveWhiteSpace&&te.LEADINGNEWLINE.test(t.textContent),Xe=t=>Math.max(t.actualHeight,t.lineHeight),Ve=t=>t.imageOrSvgElement?"baseline":"bottom",Fe=t=>t.some(t=>t.positionRelative||!t.pageFlow&&t.positionAuto)?e.RELATIVE:e.LINEAR,Ue=t=>t.some(t=>t.positionRelative)?e.RELATIVE:e.LINEAR,ze=t=>t?["right","left","rightLeft","leftRight"]:["left","right","leftRight","rightLeft"];class qe extends squared.base.ControllerUI{constructor(t,e){super(),this.application=t,this.cache=e,this.localSettings={layout:{pathName:"res/layout",fileExtension:"xml",baseTemplate:ue},directory:{string:"res/values",font:"res/font",image:"res/drawable"},svg:{enabled:!1},style:{inputBorderColor:"rgb(0, 0, 0)",inputBackgroundColor:Xt(4)?"rgb(255, 255, 255)":"rgb(221, 221, 221)",meterForegroundColor:"rgb(99, 206, 68)",meterBackgroundColor:"rgb(237, 237, 237)",progressForegroundColor:"rgb(138, 180, 248)",progressBackgroundColor:"rgb(237, 237, 237)"},supported:{fontFormat:["truetype","opentype"],imageFormat:["jpg","jpeg","png","gif","bmp","webp","svg","ico","cur"]},unsupported:{cascade:new Set(["SELECT","svg"]),tagName:new Set(["HEAD","TITLE","META","SCRIPT","STYLE","LINK","OPTION","INPUT:hidden","COLGROUP","MAP","AREA","SOURCE","TEMPLATE","DATALIST"]),excluded:new Set(["BR","WBR"])},precision:{standardFloat:3},deviations:{textMarginBoundarySize:8,subscriptBottomOffset:.35,superscriptTopOffset:.35,legendBottomOffset:.25}}}static setConstraintDimension(t,e=1){return e=Ne(t,!1,e),Le(t,!1,1),t.inputElement||t.imageOrSvgElement||(Re(t,!0),Re(t,!1)),e}static setFlexDimension(t,e,n=1,i=1){const o="width"===e,{grow:a,basis:r,shrink:s}=t.flexbox;function l(e){return a>0?(t.app(o?"layout_constraintHorizontal_weight":"layout_constraintVertical_weight",Qt(a,t.localSettings.floatPrecision)),!0):(e>0&&(s>1?e/=s:s>1&&(e*=1-s),t.app(o?"layout_constraintWidth_min":"layout_constraintHeight_min",Ut(e))),!1)}if(qt(r))l(t.parseUnit(r,e)),Ie(t,"0px",o,!0);else if("0%"!==r&&jt(r))l(0),o?n=we(t,r,!0,n):i=we(t,r,!1,i);else{let a=!1;ye.isFlexDirection(t,o?"row":"column")&&(a=l(t.hasPX(e,!1)?o?t.actualWidth:t.actualHeight:0),a&&Ie(t,"0px",o,!0)),a||(o?n=Ne(t,!1,n):i=Le(t,!1,i))}return s>1&&t.app(o?"layout_constrainedWidth":"layout_constrainedHeight","true"),o?Le(t,!0):Ne(t,!0),t.inputElement||t.imageOrSvgElement||(Re(t,!0),Re(t,!1)),[n,i]}init(){const{resolutionDPI:t,resolutionScreenWidth:e,resolutionScreenHeight:n,supportRTL:i,targetAPI:o}=this.userSettings,a=160/t,r={width:e*a,height:n*a};this._targetAPI=o||29,this._screenDimension=r,this._defaultViewSettings={screenDimension:r,supportRTL:i,floatPrecision:this.localSettings.precision.standardFloat},super.init()}optimize(t){for(const e of t)e.applyOptimizations(),e.hasProcedure(me.CUSTOMIZATION)&&e.applyCustomizations(this.userSettings.customizationsOverwritePrivilege)}finalize(t){const e=this.userSettings.insertSpaces;for(const n of t)n.content=pe(n.content.replace(/{#0}/,Q(n.content)),e)}processUnknownParent(t){const n=t.node;if(n.has("columnCount")||n.hasPX("columnWidth"))t.setContainerType(e.CONSTRAINT,260);else if(t.some(t=>!t.pageFlow&&!t.positionAuto))t.setContainerType(e.CONSTRAINT,34);else if(t.visible.length<=1){const i=n.find(t=>t.visible);if(!i)return this.processUnknownChild(t);if(n.documentRoot&&function(t,e){const n=e.dataset.target;if(n&&t){const e=document.getElementById(n);return null!==e&&e!==t}return!1}(n.element,i))return n.hide(),{layout:t,next:!0};n.naturalElement&&i.plainText?(n.clear(),n.inlineText=!0,n.textContent=i.textContent,i.hide(),t.setContainerType(e.TEXT)):n.autoMargin.horizontal||t.parent.layoutConstraint&&t.parent.flexElement&&"baseline"===n.flexbox.alignSelf&&i.textElement?t.setContainerType(e.LINEAR,4104):i.percentWidth?(n.hasPX("width")||n.setLayoutWidth("match_parent"),t.setContainerType(e.CONSTRAINT,4160)):i.baseline&&(i.textElement||i.inputElement)?t.setContainerType(Ue(t),16):t.setContainerType(e.FRAME,4096)}else if(M.hasLineBreak(n,!0))t.setContainerType(Ue(t),18);else if(this.checkConstraintFloat(t))t.setContainerType(e.CONSTRAINT,512);else if(t.linearX)this.checkFrameHorizontal(t)?t.renderType|=520:this.checkConstraintHorizontal(t)?t.setContainerType(e.CONSTRAINT):this.checkLinearHorizontal(t)?(t.setContainerType(e.LINEAR),t.floated.size&&Ae(t.children)):t.setContainerType(e.RELATIVE),t.add(8);else if(t.linearY)t.setContainerType(Fe(t),16|(n.documentRoot?2:0));else if(t.every(t=>t.inlineFlow))this.checkFrameHorizontal(t)?t.renderType|=520:t.setContainerType(Fe(t),18);else{const{cleared:n,children:i}=t;t.some((t,e)=>t.alignedVertically(e>0?i.slice(0,e):void 0,n)>0)?t.setContainerType(Fe(t),18):t.setContainerType(e.CONSTRAINT,2)}return{layout:t}}processUnknownChild(t){const n=t.node,i=n.visibleStyle;if(!n.inlineText||n.textEmpty&&!i.borderWidth)if(n.blockStatic&&(i.borderWidth||i.backgroundImage||n.paddingTop+n.paddingBottom>0)&&0===n.naturalChildren.length)t.setContainerType(e.FRAME);else{if(n.naturalElement&&""===n.elementId&&0===n.bounds.height&&0===n.marginTop&&0===n.marginRight&&0===n.marginBottom&&0===n.marginLeft&&!n.documentRoot&&!i.background&&!n.dataset.use)return n.hide(),{layout:t,next:!0};i.background?(t.setContainerType(e.TEXT),n.inlineText=!0):t.setContainerType(e.FRAME)}else t.setContainerType(e.TEXT);return{layout:t}}processTraverseHorizontal(t,n){const i=t.parent;return 1===t.floated.size&&t.same((t,e)=>t.floating&&(t.positiveAxis||t.renderExclude)?-1:e)?(t.node=this.createNodeGroup(t.node,t.children,i),t.setContainerType(e.CONSTRAINT,512)):this.checkFrameHorizontal(t)?(t.node=this.createNodeGroup(t.node,t.children,i),t.renderType|=520):t.length!==n.length||i.hasAlign(16)?(t.node=this.createNodeGroup(t.node,t.children,i),this.processLayoutHorizontal(t)):i.addAlign(8),t}processTraverseVertical(t){const n=t.cleared,i=t.floated.size;return t.some((e,n)=>e.lineBreakTrailing&&n<t.length-1)?t.parent.hasAlign(16)||(t.node=this.createLayoutNodeGroup(t),t.setContainerType(Fe(t),18)):1===i&&t.every((e,i)=>0===i||i===t.length-1||n.has(e))?(t.node=this.createLayoutNodeGroup(t),t.same(t=>t.float)?t.setContainerType(e.CONSTRAINT,512):n.size?t.renderType|=520:t.setContainerType(Ue(t),16)):i&&n.size?(t.node=this.createLayoutNodeGroup(t),t.renderType|=528):i&&t.item(0).floating?(t.node=this.createLayoutNodeGroup(t),t.renderType|=520):t.parent.hasAlign(16)||(t.node=this.createLayoutNodeGroup(t),t.setContainerType(Ue(t),16)),t}processLayoutHorizontal(t){return this.checkConstraintFloat(t)?t.setContainerType(e.CONSTRAINT,512):this.checkConstraintHorizontal(t)?t.setContainerType(e.CONSTRAINT,8):this.checkLinearHorizontal(t)?(t.setContainerType(e.LINEAR,8),t.floated.size&&Ae(t.children)):t.setContainerType(e.RELATIVE,8),t}sortRenderPosition(t,e){if(t.layoutRelative&&e.some(t=>0!==t.node.zIndex))e.sort((t,e)=>{const n=t.node.zIndex,i=e.node.zIndex;return n===i?0:n>i?1:-1});else if(t.layoutConstraint&&e.some(t=>!t.node.pageFlow||0!==t.node.zIndex)){const t=[],n=[],i=[];for(const o of e){const e=o.node;e.pageFlow?n.push(o):e.zIndex>=0?i.push(o):t.push(o)}return Ee(t),Ee(i),t.concat(n,i)}return e}checkFrameHorizontal(t){const e=t.floated;if(2===e.size||1===e.size&&"center"===t.node.cssAscend("textAlign",!0)&&t.some(t=>t.pageFlow))return!0;if(e.has("right")){let e=0,n=!1;for(const i of t)if(i.floating){if(n)return!1}else i.multiline&&(n=!0),e++;return e>0}if(e.has("left")&&!t.linearX){const e=t.item(0);return e.pageFlow&&e.floating}return!1}checkConstraintFloat(t){if(t.length>1){const e=t.cleared;let n=!0,i=!0;for(const o of t)if(!(e.has(o)||o.renderExclude||((!o.positiveAxis||!o.floating&&!o.autoMargin.horizontal||o.positionRelative&&!o.positionAuto)&&(n=!1),(!o.percentWidth||o.blockStatic&&"100%"===o.css("width"))&&(i=!1),n||i)))return!1;return!0}return!1}checkConstraintHorizontal(t){const e=t.floated;let n=!1;switch(t.node.cssInitial("textAlign")){case"center":n=0===e.size;break;case"end":case"right":n=0===e.size||e.has("right")&&1===e.size&&0===t.cleared.size}return!(!n&&!t.some(e=>e.blockVertical||e.percentWidth||"bottom"===e.verticalAlign&&!t.parent.hasHeight))&&(t.singleRowAligned&&t.every(t=>t.positiveAxis||t.renderExclude))}checkLinearHorizontal(t){const e=t.floated;if((0===e.size||1===e.size&&e.has("left"))&&0===t.node.lineHeight&&t.singleRowAligned){const{fontSize:e,lineHeight:n}=t.item(0);for(const i of t)if(!i.naturalChild||!i.baseline||0!==i.length||i.inputElement||i.positionRelative||i.blockVertical||i.positionAuto||0!==i.zIndex||0!==n&&(i.lineHeight!==n||i.fontSize!==e))return!1;return!0}return!1}setConstraints(){for(const t of this.cache){const e=t.renderChildren,n=e.length;if(0!==n)if(t.layoutRelative)this.processRelativeHorizontal(t,e);else if(t.layoutConstraint){const i=Array(n);let o=0;for(let a=0;a<n;a++){const n=e[a];if(!n.positioned)if(n.pageFlow||n.positionAuto)i[o++]=n;else if(n.outerWrapper===t){const{horizontal:t,vertical:e}=n.constraint;t||n.anchorParent(h.HORIZONTAL,"packed"),e||n.anchorParent(h.VERTICAL,"packed")}else n.leftTopAxis&&(Be(n,t,n.hasWidth,!0),Be(n,t,n.hasHeight,!1)),n.anchored||this.addGuideline(n,t)}if(o>0){if(i.length=o,t.layoutHorizontal&&!t.layoutElement)this.processConstraintHorizontal(t,i);else if(t.hasAlign(256))this.processConstraintColumn(t,i);else if(o>1)this.processConstraintChain(t,i);else{const t=i[0],{top:e,topBottom:n}=t.autoMargin;t.anchorParent(h.VERTICAL,"packed",n?.5:e?1:0,!1),t.anchorParent(h.HORIZONTAL,"packed",t.centerAligned?.5:t.rightAligned?1:0,!1),qe.setConstraintDimension(t)}this.evaluateAnchors(i)}}}}renderNodeGroup(t){const{node:n,containerType:i}=t,o=Z();let a=!1;switch(i){case e.LINEAR:re(t.alignmentType,16)?(o.android.orientation=h.VERTICAL,a=!0):(o.android.orientation=h.HORIZONTAL,a=!0);break;case e.GRID:{const{columnCount:e,rowCount:n}=t,i=o.android;n>0&&(i.rowCount=""+n),i.columnCount=e>0?""+e:"2",a=!0;break}case e.FRAME:case e.RELATIVE:case e.CONSTRAINT:a=!0;break;default:if(0===t.length)return this.renderNode(t)}if(a){const e=n.dataset,a=!e.use&&e.target;return n.setControlType(Dt.getControlName(i,n.api),i),n.addAlign(t.alignmentType),n.render(a?this.application.resolveTarget(a):t.parent),n.apply(o),{type:1,node:n,controlName:n.controlName}}}renderNode(t){var n,i;const{containerType:a,node:r}=t,s=r.dataset;let l=Dt.getControlName(a,r.api);r.setControlType(l,a),r.addAlign(t.alignmentType);let c=t.parent,d=!s.use&&s.target;switch(r.tagName){case"IMG":{const i=r.element,a=r.absoluteParent||r.documentParent;let s=r.toFloat("width",0),l=r.toFloat("height",0),h=r.percentWidth?s:-1;const u=r.percentHeight?l:-1;let p,g="fitXY";if(se(i.srcset)||"PICTURE"===(null===(n=r.actualParent)||void 0===n?void 0:n.tagName))if(p=zt(i,this.localSettings.supported.imageFormat),p.length){const t=p[0],e=t.actualWidth;if(e)-1===h?[s,l]=De(r,e,s,l,this.application.resourceHandler.getImage(i.src)):(s=r.bounds.width,r.android("adjustViewBounds","true"),h=-1);else{const e=this.application.resourceHandler.getImage(t.src);e&&(-1===h?[s,l]=De(r,e.width,s,l,e):(s=r.bounds.width,r.android("adjustViewBounds","true"),h=-1))}}else p=void 0;if(-1!==h||-1!==u)h>=0&&(s*=a.box.width/100,h<100&&!c.layoutConstraint&&(r.css("width",Ut(s)),r.android("adjustViewBounds","true"))),u>=0&&(l*=a.box.height/100,!(u<100)||c.layoutConstraint&&a.hasHeight||(r.css("height",Ut(l)),r.android("adjustViewBounds","true")));else{switch(r.css("objectFit")){case"contain":g="centerInside";break;case"cover":g="centerCrop";break;case"scale-down":g="fitCenter";break;case"none":g="center"}(0===s&&l>0||0===l&&s>0)&&r.android("adjustViewBounds","true")}if(r.android("scaleType",g),s>0&&c.hasPX("maxWidth",!1)&&(-1===h||100===h)){const t=c.parseUnit(c.css("maxWidth"));t<=s&&(s=t,r.css("width",Ut(s)),r.android("adjustViewBounds","true"))}else if(l>0&&c.hasPX("maxHeight",!1)&&(-1===u||100===u)){const t=c.parseUnit(c.css("maxHeight"),"height");t<=l&&(l=t,r.css("maxHeight",Ut(l)),r.android("adjustViewBounds","true"),r.setLayoutHeight("wrap_content"))}if(r.baseline&&(r.android("baselineAlignBottom","true"),r.marginBottom>0&&c.layoutLinear&&c.layoutHorizontal&&r.mergeGravity("layout_gravity","bottom")),r.hasResource(fe.IMAGE_SOURCE)){const t=this.application.resourceHandler.addImageSrc(i,"",p);""!==t&&r.android("src","@drawable/"+t)}if(!r.pageFlow&&c===a&&(r.left<0&&"hidden"===c.css("overflowX")||r.top<0&&"hidden"===c.css("overflowY"))){const n=this.application,i=n.createNode({parent:c,replace:r});i.setControlType(o.FRAME,e.FRAME),i.inherit(r,"base"),i.exclude({resource:fe.ALL,procedure:me.ALL}),i.cssApply({position:r.css("position"),zIndex:""+r.zIndex}),i.positionAuto=!1,i.setLayoutWidth(s>0?s<a.box.width?Ut(s):"match_parent":"wrap_content"),i.setLayoutHeight(l>0?l<a.box.height?Ut(l):"match_parent":"wrap_content"),i.render(d?n.resolveTarget(d):c),i.saveAsInitial(),c.layoutConstraint||(r.modifyBox(2,r.top),r.modifyBox(16,r.left)),n.addLayoutTemplate(c,i,{type:1,node:i,controlName:o.FRAME}),c=i,t.parent=i,d=void 0}break}case"INPUT":{const t=r.element;switch(t.type){case"radio":case"checkbox":t.checked&&r.android("checked","true");break;case"text":r.android("inputType","text");break;case"password":r.android("inputType","textPassword");break;case"number":case"range":r.android("inputType","number"),r.android("progress",t.value),He(r,t);break;case"time":r.android("inputType","time"),He(r,t);break;case"date":r.android("inputType","date"),He(r,t);break;case"datetime-local":r.android("inputType","datetime"),He(r,t);break;case"email":r.android("inputType","textEmailAddress"),We(r,t);break;case"tel":r.android("inputType","phone"),We(r,t);break;case"url":r.android("inputType","textUri"),We(r,t);break;case"week":case"month":case"search":r.android("inputType","text"),We(r,t)}break}case"TEXTAREA":{const{cols:t,maxLength:e,placeholder:n,rows:i}=r.element;switch(r.android("minLines",i>0?""+i:"2"),r.css("verticalAlign")){case"middle":r.mergeGravity("gravity",h.CENTER_VERTICAL);break;case"bottom":r.mergeGravity("gravity","bottom");break;default:r.mergeGravity("gravity","top")}e>0&&r.android("maxLength",""+e),!r.hasPX("width")&&t>0&&r.css("width",Ut(8*t)),r.android("hint",n),r.android("scrollbars",h.VERTICAL),r.android("inputType","textMultiLine"),r.overflowX&&r.android("scrollHorizontally","true");break}case"LEGEND":{r.hasWidth||(r.css("minWidth",Ut(r.actualWidth),!0),r.css("display","inline-block",!0));const t=r.actualHeight*this.localSettings.deviations.legendBottomOffset;r.modifyBox(8,t),r.linear.bottom+=t;break}case"METER":case"PROGRESS":{const{min:t,max:e,value:n}=r.element;let i,o;"METER"===r.tagName?(({meterForegroundColor:i,meterBackgroundColor:o}=this.localSettings.style),e&&(n&&r.android("progress",""+Math.round(n/e*100)),100===e&&(r.android("min",""+t),r.android("max",""+e)))):(({progressForegroundColor:i,progressBackgroundColor:o}=this.localSettings.style),n&&r.android("progress",""+n),e&&r.android("max",""+e)),r.hasWidth||r.css("width",Ut(r.bounds.width)),r.hasHeight||r.css("height",Ut(r.bounds.height)),r.android("progressTint","@color/"+M.addColor(i)),r.android("progressBackgroundTint","@color/"+M.addColor(o)),r.attr("_","style","@android:style/Widget.ProgressBar.Horizontal"),r.exclude({resource:fe.BOX_STYLE|fe.FONT_STYLE});break}}switch(l){case o.TEXT:{let t="";if(r.overflowX&&(t+=h.HORIZONTAL),r.overflowY&&(t+=(""!==t?"|":"")+h.VERTICAL),""!==t&&r.android("scrollbars",t),r.has("letterSpacing")&&r.android("letterSpacing",Qt(r.toFloat("letterSpacing")/r.fontSize,this.localSettings.precision.standardFloat)),"justify"===r.css("textAlign")&&r.android("justificationMode","inter_word"),r.has("textShadow")){const t=Te.exec(r.css("textShadow"));if(t){const e=M.addColor(Ft(t[1]||r.css("color")));if(""!==e){const n=this.localSettings.precision.standardFloat,i=r.fontSize,o=t[4];r.android("shadowColor","@color/"+e),r.android("shadowDx",Qt(2*Yt(t[2],i),n)),r.android("shadowDy",Qt(2*Yt(t[3],i),n)),r.android("shadowRadius",Qt(se(o)?Yt(o,i):.01,n))}}}"nowrap"===r.css("whiteSpace")&&(r.android("maxLines","1"),"ellipsis"===r.css("textOverflow")&&"hidden"===r.css("overflow")&&r.android("ellipsize","end"));break}case o.BUTTON:r.hasHeight||r.android("minHeight",Ut(Math.ceil(r.actualHeight))),r.mergeGravity("gravity",h.CENTER_VERTICAL),Me(r);break;case o.SELECT:case o.CHECKBOX:case o.RADIO:Me(r);break;case o.EDIT:!r.companion&&r.hasProcedure(me.ACCESSIBILITY)&&[r.previousSibling,r.nextSibling].some(t=>{var e;if((null===(e=t)||void 0===e?void 0:e.visible)&&t.pageFlow){const e=r.element,n=t.element,i="LABEL"===t.documentParent.tagName&&t.documentParent;if(e.id&&e.id===n.htmlFor)return t.android("labelFor",r.documentId),!0;if(i&&t.textElement)return i.android("labelFor",r.documentId),!0}return!1}),(null===(i=r.element.list)||void 0===i?void 0:i.children.length)?(l=o.EDIT_LIST,r.controlName=l):r.api>=26&&r.android("importantForAutofill","no"),Me(r);case o.RANGE:r.hasPX("width")||r.css("width",Ut(r.bounds.width));break;case o.LINE:r.hasHeight||r.setLayoutHeight(Ut(r.contentBoxHeight||1))}if(r.inlineVertical&&(!c.layoutHorizontal||c.layoutLinear))switch(r.verticalAlign){case"sub":r.modifyBox(8,-1*Math.floor(r.baselineHeight*this.localSettings.deviations.subscriptBottomOffset));break;case"super":r.modifyBox(2,-1*Math.floor(r.baselineHeight*this.localSettings.deviations.superscriptTopOffset))}return r.render(d?this.application.resolveTarget(d):c),{type:1,node:r,parent:c,controlName:l}}renderNodeStatic(t,e,n,i,o){const a=new Dt(0,"0",void 0,this.afterInsertNode);return a.setControlType(t),a.setLayoutWidth(n||"wrap_content"),a.setLayoutHeight(i||"wrap_content"),e&&(a.apply(e),e.documentId=a.documentId),this.getEnclosingXmlTag(t,this.userSettings.showAttributes?a.extractAttributes(1):void 0,o)}renderSpace(t){const{android:e,app:n,column:i,columnSpan:a,row:r,rowSpan:s}=t;let{width:l,height:c}=t;l?jt(l)&&(e.layout_columnWeight=Qt(parseFloat(l)/100,this.localSettings.precision.standardFloat),l="0px"):l="wrap_content",c?jt(c)&&(e.layout_rowWeight=Qt(parseFloat(c)/100,this.localSettings.precision.standardFloat),c="0px"):c="wrap_content",void 0!==i&&(e.layout_column=""+i),a&&(e.layout_columnSpan=""+a),void 0!==r&&(e.layout_row=""+r),s&&(e.layout_rowSpan=""+s);const d={android:e,app:n},h=this.renderNodeStatic(o.SPACE,d,l,c);return t.documentId=d.documentId,h}addGuideline(t,e,n,i=!1,r=!1){const s=t.absoluteParent,l=e.nodeGroup&&!t.documentParent.hasAlign(4)?e:t.documentParent,c=l.box,d=t.linear,u=t.positionStatic?t.bounds:d,p=(p,g)=>{var m,f;if(t.constraint[p]||n&&p!==n)return;let y,b,T,A;if(g?r?(y="right",b="left",T="rightLeft",A="leftRight"):(y="left",b="right",T="leftRight",A="rightLeft"):r?(y="bottom",b="top",T="bottomTop",A="topBottom"):(y="top",b="bottom",T="topBottom",A="bottomTop"),he(d[y],c[y]))return void t.anchor(y,"parent",!0);let E,v="layout_constraintGuide_";if(!i&&!e.hasAlign(4)){if(e.renderChildren.some(e=>{if(e!==t&&e.constraint[p]){let n;if(t.pageFlow&&e.pageFlow&&(he(d[y],e.linear[b])?n=T:he(d[b],e.linear[y])&&(n=A)),void 0===n&&(he(t.bounds[y],e.bounds[y])?!g&&t.textElement&&t.baseline&&e.textElement&&e.baseline?n="baseline":(n=y,g?t.modifyBox(16,-e.marginLeft,!1):t.modifyBox(2,-e.marginTop,!1)):he(t.bounds[b],e.bounds[b])?(n=b,t.modifyBox(g?4:8)):!t.pageFlow&&e.pageFlow&&he(t.bounds[y]+t[y],e.bounds[y])&&(n=y,t.modifyBox(g?16:2,t[y]))),n)return t.anchor(n,e.documentId,!0),t.constraint[p]=!0,!0}return!1}))return}if(t.positionAuto){const e=t.siblingsLeading;if(e.length&&0===t.alignedVertically()){const n=e[0];if(n.renderParent===t.renderParent)return t.anchor(g?"rightLeft":"top",n.documentId,!0),void(t.constraint[p]=n.constraint[p])}}if(i){const t=Math.abs(u[y]-c[y])/c[g?"width":"height"];E=parseFloat(Qt(r?1-t:t,this.localSettings.precision.standardFloat)),v+="percent"}else{if(E=u[y]-c[r?b:y],!g&&!l.nodeGroup)if(l!==s)s.positionRelative||1!==s.getBox(2)[0]||(E-=s.marginTop);else if(!t.hasPX("top")){const e=t.previousSibling;(null===(m=e)||void 0===m?void 0:m.blockStatic)&&(E+=e.marginBottom)}v+="begin"}const S=e.constraint.guideline||{};if(t.pageFlow){if(t.inlineVertical){const e=oe(t.verticalAlign);e<0&&(E+=e)}}else if(t.parent===l.outerMostWrapper)E+=l[r?g?"paddingRight":"paddingBottom":g?"paddingLeft":"paddingTop"];else if(s===t.documentParent){let t;t=g?r?64:256:r?128:32,E=Se(l,t,E)}if(!g&&t.marginTop<0&&(E-=t.marginTop,t.modifyBox(2)),t.constraint[p]=!0,E<=0){if(t.anchor(y,"parent",!0),E<0){const e=t.innerMostWrapped;if(!1===(null===(f=e)||void 0===f?void 0:f.pageFlow)){let t=0;switch(y){case"top":t=2;break;case"left":t=16;break;case"bottom":t=8;break;case"right":t=4}e.modifyBox(t,E)}}}else if(g&&E+u.width>=c.right&&l.hasPX("width")&&!t.hasPX("right")||!g&&E+u.height>=c.bottom&&l.hasPX("height")&&!t.hasPX("bottom"))t.anchor(b,"parent",!0);else{const n=ce(S,`${p}.${v}.${y}`);if(n)for(const e in n)if(parseInt(n[e])===E)return t.anchor(y,e,!0),void t.anchorDelete(b);const s=Z(void 0,{android:{orientation:g?h.VERTICAL:h.HORIZONTAL},app:{[v]:i?""+E:"@dimen/"+M.insertStoredAsset("dimens","constraint_guideline_"+(r?b:y),Ut(E))}});this.addAfterOutsideTemplate(t.id,this.renderNodeStatic(t.api<29?o.GUIDELINE:a.GUIDELINE,s),!1);const l=s.documentId;l&&(t.anchor(y,l,!0),t.anchorDelete(b),E>0&&(ie(S,p,v,y,l,""+E),e.constraint.guideline=S))}};p(h.HORIZONTAL,!0),p(h.VERTICAL,!1)}addBarrier(t,e){const n=[];for(const i of t){const t=i.constraint.barrier;if(void 0===t)i.constraint.barrier={};else if(t[e])continue;n.push(i)}if(n.length){const t=Z(void 0,{android:{},app:{barrierDirection:e,constraint_referenced_ids:le(n,t=>Y(t.anchorTarget.documentId)).join(",")}}),i=n[n.length-1];this.addAfterOutsideTemplate(i.anchorTarget.id,this.renderNodeStatic(i.api<29?o.BARRIER:a.BARRIER,t),!1);const r=t.documentId;if(r){for(const t of n)t.constraint.barrier[e]=r;return r}}return""}evaluateAnchors(t){var e;const n=[],i=[];for(const o of t){const{horizontal:a,vertical:r}=o.constraint;if(a&&n.push(o),r&&i.push(o),o.alignParent("top")){let n=o;for(;;){const i=n.alignSibling("bottomTop");if(""===i){if(n!==o){const t=n.constraint.barrier,e=void 0!==t&&se(t.bottom)?t.bottom:this.addBarrier([n],"bottom");e&&n.anchor("bottomTop",e)}break}{const a=t.find(t=>t.documentId===i);if((null===(e=a)||void 0===e?void 0:e.alignSibling("topBottom"))!==n.documentId)break;if(a.alignParent("bottom")){o.anchorStyle(h.VERTICAL,"packed",0,!1);break}n=a}}}}let o=-1;for(;++o<t.length;){const e=t[o],a=e.constraint,r=a.current;if(!a.horizontal)for(const t in r){const i=r[t];if(i.horizontal&&n.some(t=>t.documentId===i.documentId)){a.horizontal=!0,n.push(e),o=-1;break}}if(!a.vertical)for(const t in r){const n=r[t];if(!n.horizontal&&i.some(t=>t.documentId===n.documentId)){a.vertical=!0,i.push(e),o=-1;break}}}}createNodeGroup(t,e,n,i=!1){const o=new Wt(this.cache.nextId,t,e,this.afterInsertNode);return n?(n.appendTry(t,o),o.init()):o.containerIndex=t.containerIndex,this.cache.append(o,i),o}createNodeWrapper(t,e,n,i={}){var o;const{controlName:a,containerType:r,alignmentType:s}=i;let{resource:l,procedure:c,section:d}=i;const h=this.application.createNode({parent:e,children:n,append:!0,replace:t});h.inherit(t,"base","alignment"),t.documentRoot&&(h.documentRoot=!0,t.documentRoot=!1),null===h.actualParent&&e.naturalElement&&(h.actualParent=e),void 0===l&&(l=fe.BOX_STYLE|fe.ASSET),void 0===c&&(c=me.CUSTOMIZATION),void 0===d&&(d=ge.ALL),a&&h.setControlType(a,r),s&&h.addAlign(s),h.addAlign(16384),h.exclude({resource:l,procedure:c,section:d}),h.saveAsInitial(),h.cssApply({marginTop:"0px",marginRight:"0px",marginBottom:"0px",marginLeft:"0px",paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px"});const{documentParent:u,renderParent:p}=t;if(p){const e=p.renderTemplates;if(e){const n=e.length;for(let i=0;i<n;i++)if((null===(o=e[i])||void 0===o?void 0:o.node)===t){t.renderChildren.splice(i,1),e.splice(i,1);break}}t.rendered=!1,t.renderParent=void 0}if(u.layoutElement){const e=t.namespace("android");for(const t in e)/^layout_/.test(t)&&(h.android(t,e[t]),delete e[t])}return i.resetMargin&&t.resetBox(30,h),h}processRelativeHorizontal(t,n){var i;const o=[],a="nowrap"!==t.css("whiteSpace");let r,s=!1,l=!1;if(t.hasAlign(16)){let t;for(const e of n)t?e.anchor("topBottom",t.documentId):e.anchor("top","true"),e.pageFlow?(o.push([e]),t=e):l=!0}else{const e=(()=>{const e=t.renderParent;if(e.overflowY)return e.box.width;{const i=t.actualParent;if(i){if(t.naturalElement&&t.inlineStatic&&i.blockStatic&&i===e){const{left:e,width:n}=i.box;return n-(t.linear.left-e)}if(i.floatContainer){const{containerType:e,alignmentType:o}=this.containerTypeVerticalMargin;if(t.ascend({condition:t=>t.of(e,o),including:i,attr:"renderParent"}).length){const{left:e,right:o,width:a}=t.box;let r=0,s=0;for(const a of i.naturalElements){const i=a.linear;a.floating&&!n.includes(a)&&t.intersectY(i)&&("left"===a.float?Math.floor(i.right)>e&&(r=Math.max(r,i.right-e)):o>Math.ceil(i.left)&&(s=Math.max(s,o-i.left)))}return a-r-s}}}}return t.box.width})(),s=be.linearData(n,!0).cleared,c="center"===t.cssInitial("textAlign");let d=0;if(t.naturalElement)t.blockDimension&&(d=t.parseUnit(t.css("textIndent")));else{const e=t.actualParent;if((null===(i=e)||void 0===i?void 0:i.blockDimension)&&e.has("textIndent")){const t=n[0];if(!t.rightAligned){const n=e.css("textIndent");d=e.parseUnit(n),0!==d&&(d<0&&e.setCacheValue("paddingLeft",Math.max(0,e.paddingLeft+d)),t.setCacheValue("blockDimension",!0),t.css("textIndent",n),e.css("textIndent","0px"))}}}let h,u=0,p=!1;de(n,t=>"right"!==t.float).forEach((n,i)=>{var g,m;const f=n.length;if(0===f)return;const y=0===i;let b,T,A,E,v=!0;y?((null===(g=n[0].actualParent)||void 0===g?void 0:g.cssInitialAny("textAlign","right","end"))?(b="right",v=!1,n[f-1].anchor(b,"true")):b="left",n.some(t=>t.floating)&&Ae(n),T=o):(b="right",r=[],T=r);for(let i=0;i<f;i++){const o=n[i];let r;if(y&&v?(r="leftRight",0===i&&o.inline&&Math.abs(d)>=o.actualWidth&&"right"!==o.float&&!o.positionRelative&&(p=!0,o.floating||(o.setCacheValue("float","left"),o.setCacheValue("floating",!0)))):r="rightLeft",!o.pageFlow){if(A){const t=A.documentId;o.anchor(r,t),o.anchor("top",t)}else o.anchor(b,"true"),o.anchor("top","true");l=!0;continue}let g,S=o.bounds;if(o.styleText&&!o.hasPX("width")){const t=o.textBounds;t&&(t.numberOfLines>1||Math.ceil(t.width)<o.box.width)&&(S=t)}let x=o.multiline;x&&Math.floor(S.width)<=e&&!o.hasPX("width")&&!Ge(o)&&(x=!1,o.multiline=!1);let R=o.autoMargin.horizontal;if(R){const t=o.autoMargin;o.anchor(t.leftRight?"centerHorizontal":t.left?"right":"left","true")}if(A){let n=0,l=0,y=!1;const w=()=>{if(A.floating&&A.alignParent("left")&&(x||Math.floor(u+o.actualWidth)<e))return!0;if(t.floating&&i===f-1&&o.textElement&&!/\s|-/.test(o.textContent.trim())){if(t.hasPX("width")){const e=t.css("width");t.parseUnit(e)>t.parseUnit(t.css("minWidth"))&&t.cssApply({width:"auto",minWidth:e})}return t.android("maxLines","1"),!0}return!1},I=()=>(l=u+o.marginLeft,h&&!E.includes(h)&&(l+=h.linear.width),void 0!==h&&o.plainText&&!x&&E.includes(h)&&!s.has(o)||(l+=S.width),o.marginRight<0&&(l+=o.marginRight),n=e,d<0?T.length<=1&&(n+=d):d>0&&1===T.length&&(n-=d),o.styleElement&&o.inlineStatic&&(l-=o.contentBoxWidth),n=Math.ceil(n),!0),_=()=>{var t;if(A.textElement){if(1===i&&o.plainText&&o.previousSibling===A&&!te.TRAILINGSPACE.test(A.textContent)&&!te.LEADINGSPACE.test(o.textContent))return y=!0,!1;if(a&&A.multiline&&(A.bounds.width>=e||o.plainText&&M.hasLineBreak(A,!1,!0)))return!0}if(w())return!1;if(a){if(I()&&l>n)return!0;if("CODE"!==(null===(t=o.actualParent)||void 0===t?void 0:t.tagName))return x&&o.plainText||Ge(o)}return!1},N=o.textElement&&_();A.floating&&xe(o,A)&&(r=""),g=o.inlineVertical&&A.inlineVertical&&o.previousSibling!==A?$t(A.element,o.element):void 0,N||o.nodeGroup&&!o.hasAlign(128)||ne(o.linear.top,A.linear.bottom)&&(o.blockStatic||o.floating&&A.float===o.float)||!o.textElement&&!w()&&I()&&Math.floor(l)>n||!o.floating&&(A.blockStatic||o.previousSiblings().some(t=>t.lineBreak||t.excluded&&t.blockStatic)||(null===(m=g)||void 0===m?void 0:m.some(e=>ke(e,t.sessionId))))||A.autoMargin.horizontal||s.has(o)?(v?(h&&(o.linear.bottom<=h.bounds.bottom||p)?R||o.anchor(r,h.documentId):(R||o.anchor(b,"true"),h=void 0),R=!0):(h&&o.linear.bottom>h.bounds.bottom&&(h=void 0),A.anchor(b,"true")),1===E.length&&(A.centerAligned||c&&!A.blockStatic)&&(A.anchorDelete(b),A.anchor("centerHorizontal","true")),u=Math.min(0,N&&!A.multiline&&x&&!s.has(o)?o.linear.right-t.box.right:0),E=[o],T.push(E)):(""!==r&&(v?R||(o.anchor(r,A.documentId),R=!0):A.anchor(r,o.documentId)),!x||o.hasPX("width")||A.floating||y||(o.multiline=!1),E.push(o))}else v&&(R||o.anchor(b,"true")),E=[o],T.push(E);if("left"===o.float&&y&&(h?ne(o.linear.bottom,h.linear.bottom)&&(h=o):h=o),g&&!g.some(t=>!!ee(t,o.sessionId)||ke(t,o.sessionId))){const t=Kt(g[0]);if(!t.numberOfLines){const e=g.length>1?Kt(g[g.length-1]):void 0;void 0!==e&&e.numberOfLines||(u+=e?t.left-e.right:t.width)}}u+=o.marginLeft+S.width+o.marginRight,A=o}}),1===o.length&&d<0&&t.setCacheValue("paddingLeft",Math.max(0,t.paddingLeft+d))}(o.length>1||r&&r.length>1)&&(s=!0);const c=n=>{let i=null;const o=n.length,a=1===o&&!t.hasHeight;for(let r=0;r<o;r++){const o=n[r];let l;if(o.length>1){const n=Ce(o);let i=n[0];l=be.baseline(n.length?o.filter(t=>!n.includes(t)):o),l&&i&&(l!==i&&l.bounds.height<i.bounds.height?l.anchor("bottom",i.documentId):(l=be.baseline(o),i=void 0));const c=[];let d=0===r?"true":l?l.documentId:"",h=0,u=null;for(const e of o){if(e===l||e===i)continue;let n=!1;if(e.baseline)!e.naturalElements.length||!qt(e.verticalAlign)&&e.baselineElement?c.push(e):n=!0;else if(e.inlineVertical)switch(e.css("verticalAlign")){case"text-top":null===u&&(u=be.baseline(o,!0)),u&&e!==u&&e.anchor("top",u.documentId);break;case"super":e.baselineAltered||e.modifyBox(2,-1*Math.floor(e.baselineHeight*this.localSettings.deviations.superscriptTopOffset));case"top":""!==d&&d!==e.documentId?e.anchor("top",d):l&&e.anchor("top",l.documentId);break;case"middle":{const t=Math.max(e.actualHeight,e.lineHeight);if(s){if(l){const n=Math.max(l.actualHeight,l.lineHeight);t<n?(e.anchor("top",l.documentId),e.modifyBox(2),e.modifyBox(2,Math.round((n-t)/2))):t>h&&(h=t)}}else e.anchor("centerVertical","true"),e.imageElement&&(h=Math.max(t,h));break}case"text-bottom":null===u&&(u=be.baseline(o,!0)),u!==e&&u?e.anchor("bottom",u.documentId):l&&e.anchor("bottom",l.documentId);break;case"sub":e.baselineAltered||e.modifyBox(8,-1*Math.ceil(e.baselineHeight*this.localSettings.deviations.subscriptBottomOffset));case"bottom":""===d||he(t.bounds.height,e.bounds.height)||(t.hasHeight||"true"!==d||(s?l&&(d=l.documentId):t.css("height",Ut(t.bounds.height))),e.anchor("bottom",d));break;default:n=!e.baselineAltered}else n=!0;n&&0===r&&e.anchor("top","true")}const p=c.length;if(l)l.baselineActive=!0,p?(ve(l,c,a,t.box.top),a&&l.is(e.BUTTON)&&(l.anchor("centerVertical","true"),l=null)):l.textElement&&h>l.actualHeight&&(l.anchor("centerVertical","true"),l=null);else if(p>0&&p<o.length&&(i=Ce(o)[0],i))for(const t of c)t.baseline&&!t.multiline&&i.bounds.height>t.bounds.height&&t.anchor("bottom",i.documentId);for(let t=o.length-1,e=!0;t>0;t--){const n=o[t];n.textElement&&(n.setSingleLine(e&&!n.rightAligned&&!n.centerAligned),e=!1)}}else l=o[0],l.baselineActive=!0;null===l&&(l=o.find(t=>t.baselineElement)||o[0]);for(const t of o)i&&""===t.alignSibling("baseline")&&t.anchor("topBottom",i.documentId),t!==l&&(t.baselineElement||l.floating)&&t.linear.bottom>=l.linear.bottom&&(l=t);i=l}};if(c(o),r&&c(r),s&&(t.horizontalRows=r?o.concat(r):o),l){const e=t.renderChildren,n=t.renderTemplates,i=[];for(let t=0;t<e.length;t++)e[t].pageFlow||(i.push(n[t]),e.splice(t,1),n.splice(t--,1));for(const t of i)e.push(t.node),n.push(t)}}processConstraintHorizontal(t,e){var n;const i=be.baseline(e),o=be.baseline(e,!0),a=t.hasAlign(2048),r=Ce(e)[0],s=i?i.documentId:"",[l,c,d,u]=ze(a);let p=Dt.availablePercent(e,"width",t.box.width),g=0;switch(t.cssAscend("textAlign",!0)){case"center":g=.5;break;case"right":case"end":a||(g=1)}Ae(e),!t.hasPX("width")&&e.some(t=>t.percentWidth)&&t.setLayoutWidth("match_parent");let m,f,y,b=!0;const T=e.length;for(let a=0;a<T;a++){const A=e[a];if(y?A.pageFlow?(y.anchor(u,A.documentId),A.anchor(d,y.documentId),a===T-1&&A.anchor(c,"parent")):A.positionAuto&&A.anchor(d,y.documentId):(A.anchor(l,"parent"),A.anchorStyle(h.HORIZONTAL,"packed",g)),A.pageFlow){if(A!==i){let a=!1;if(A.inlineVertical)switch((void 0===m||Xe(A)>Xe(m))&&(m=A),A.css("verticalAlign")){case"text-top":o&&A!==o?A.anchor("top",o.documentId):a=!0;break;case"middle":!1===(null===(n=i)||void 0===n?void 0:n.textElement)||r?a=!0:A.anchorParent(h.VERTICAL,"packed",.5);break;case"text-bottom":if(o&&A!==o){A!==r?A.anchor("bottom",o.documentId):r&&(a=!0);break}case"bottom":if(void 0===f)for(const t of e)!t.baseline&&(void 0===f||t.linear.bottom>f.linear.bottom)&&(f=t);A===f?a=!0:A.anchor("bottom","parent");break;case"baseline":null===i||A.blockVertical||!A.textElement&&Xe(A)>Xe(i)?a=!0:A.anchor("baseline",s);break;default:a=!0}else A.plainText?i&&A.anchor("baseline",s):a=!0;a&&(A.anchorParent(h.VERTICAL,"packed"),A.modifyBox(2,A.linear.top-t.box.top),A.baselineAltered=!0,b=!1),A.anchored=!0}else i.baselineActive=!0;p=qe.setConstraintDimension(A,p),y=A}else A.positionAuto&&(A.anchorParent(h.VERTICAL,"packed"),A.anchored=!0)}if(i){if(m&&m!==i&&i.textElement&&Xe(m)>Xe(i))switch(m.verticalAlign){case"middle":i.anchorParent(h.VERTICAL,void 0,void 0,!0);break;case"baseline":i.anchor("baseline",m.documentId);break;case"bottom":case"text-bottom":i.anchor("bottom",m.documentId);break;case"sub":m.textElement||(i.anchor("bottom",m.documentId),i.modifyBox(8,-1*Math.floor(i.baselineHeight*this.localSettings.deviations.subscriptBottomOffset)));break;case"super":m.textElement||(i.anchor("bottom",m.documentId),i.modifyBox(2,-1*Math.floor(i.baselineHeight*this.localSettings.deviations.superscriptTopOffset)))}else b&&i.baselineElement&&!i.imageOrSvgElement?(i.anchorParent(h.VERTICAL),i.anchor("baseline","parent")):(i.anchorParent(h.VERTICAL,"packed"),i.modifyBox(2,Math.floor(i.linear.top-t.box.top)));i.anchored=!0}}processConstraintColumn(t,e){let n=[];const i=[n];for(const t of e)"all"===t.css("columnSpan")?(n.length?i.push([t]):n.push(t),n=[],i.push(n)):n.push(t),t.textElement&&(t.plainText||t.inlineText)||t.modifyBox(4);0===n.length&&i.pop();const o=t.parseUnit(t.css("columnGap"))||t.fontSize,a=t.parseUnit(t.css("columnWidth"),"width"),r=t.toInt("columnCount");let s,l=0;if(a>0){let e;for(e=Vt(4)?Math.min(t.width>0?t.width-t.contentBoxWidth:1/0,t.box.width*(r||1),t.documentParent.box.width-t.contentBoxWidth):t.box.width;e-a>=0;)l++,e-=a+o}else l=1/0;const c=i.length;for(let e=0;e<c;e++){const n=i[e];if(1===n.length){const t=n[0];0===e?(t.anchor("top","parent"),t.anchorStyle(h.VERTICAL)):s&&(s.anchor("bottomTop",t.documentId),t.anchor("topBottom","string"==typeof s?s:s.documentId)),t.rightAligned?t.anchorParent(h.HORIZONTAL,"packed",1):t.centerAligned?t.anchorParent(h.HORIZONTAL):t.anchorParent(h.HORIZONTAL,"packed"),e===c-1?t.anchor("bottom","parent"):s=n[0]}else{const i=[],d=n.length;let h=Math.min(d,l,r||1/0),u=0;if(h>1){let e=d>=h?Math.ceil(d/h):1;const a=Math.floor(n.reduce((t,e)=>t+e.bounds.height,0)/h);let r=e>1&&d%h!=0?d-h:1/0,s=0;for(let t=0,o=0,l=0;t<d;t++,l++){const c=n[t],d=l%e==0;o<h-1&&(d||r<=0||t>0&&(n[t-1].bounds.height>=a||i[o].length&&n.length-t+1==h-o&&n[t-1].bounds.height>n[t+1].bounds.height))&&(t>0&&(o++,d?r--:r++),l=0);let u=i[o];void 0===u&&(u=[],i[o]=u),u.push(c),c.length&&(s+=Jt(le(c.children,t=>t.marginLeft+t.marginRight))),t>0&&/^H\d/.test(c.tagName)?1===u.length&&t===n.length-2?(h--,r=0):(l+1)%e==0&&n.length-t>h&&!n[t+1].multiline&&n[t+1].bounds.height<a&&(u.push(n[++t]),l=-1):n.length-t==h-o&&r!==1/0&&(e=1)}u=h>1?Math.max((s+o*(h-1))/t.box.width/h,.01):0}else i.push(n);const p=[],g=i.length;for(let t=0;t<g;t++){const e=i[t];for(const t of e)t.app("layout_constraintWidth_percent",Qt(1/h-u,this.localSettings.precision.standardFloat)),t.setLayoutWidth("0px");p.push(e[0])}const m=Array(g).fill(0),f=[];for(let e=0;e<g;e++){const n=i[e];if(e<g-1&&n.length>1){const t=n[n.length-1];/^H\d/.test(t.tagName)&&(n.pop(),p[e+1]=t,i[e+1].unshift(t))}const o=[],r=n.length;for(let t=0;t<r;t++){const i=n[t];i.naturalChild?o.push(i.element.cloneNode(!0)):m[e]+=i.linear.height}if(o.length){const n=Zt(document.body,"div",{width:Ut(a||t.box.width/h),visibility:"hidden"});for(const t of o)n.appendChild(t);m[e]+=n.getBoundingClientRect().height,document.body.removeChild(n)}}const y=p.length;for(let t=1;t<y;t++)p[t].modifyBox(16,o);if(Oe(p),Pe(i,e===c-1,s),s=void 0,i.every(t=>1===t.length)){for(const t of i)f.push(t[t.length-1]);s=this.addBarrier(f,"bottom")}if(!s){let t=0;const e=m.length;for(let n=0;n<e;n++){const e=m[n];e>=t&&(s=i[n].pop(),t=e)}}}}}processConstraintChain(t,e){const n=e[0].actualParent||t,i=be.partitionRows(e),o=t.hasAlign(512),a=i.length;a>1&&(t.horizontalRows=i),!t.hasWidth&&e.some(t=>t.percentWidth)&&t.setLayoutWidth("match_parent");let r=[],s=!1;for(let e=0;e<a;e++){const l=i[e],c=i[e-1],[d,u]=de(l,t=>"right"===t.float||!0===t.autoMargin.left);let p,g;const m=(i,d)=>{const u=i.length;if(0===u)return;const[m,f,y,b]=ze(d),T=i[0],A=i[u-1];T.anchor(m,"parent"),o||"center"!==n.css("textAlign")?u>1&&(d?A.anchorStyle(h.HORIZONTAL,"packed",1):T.anchorStyle(h.HORIZONTAL)):T.anchorStyle(h.HORIZONTAL,"spread"),(u>1||A.autoMargin.leftRight)&&A.anchor(f,"parent");let E=Dt.availablePercent(l,"width",t.box.width);for(let t=0;t<u;t++){const l=i[t],u=i[t-1],v=i[t+1];if(0===e?1===a?(l.anchorParent(h.VERTICAL),l.autoMargin.topBottom||l.anchorStyle(h.VERTICAL,"packed",l.autoMargin.top?1:0)):l.anchor("top","parent"):s||e!==a-1||l.anchor("bottom","parent"),l.autoMargin.leftRight)l.anchorParent(h.HORIZONTAL);else{if(u)if(!u.pageFlow&&u.positionAuto){let e;for(let n=t-2;n>=0&&(e=i[n],!e.pageFlow);n--)e=void 0;e?l.anchor(y,e.documentId):l.anchor(m,"parent")}else l.anchor(y,u.documentId);v&&l.anchor(b,v.documentId)}if(E=qe.setConstraintDimension(l,E),o&&e>0&&0===t){let t=!1;for(const e of r)if(Math.ceil(l.linear.top)<Math.floor(e.linear.bottom)){t=!0;break}if(t){p=c[c.length-1];for(let t=r.length-2;t>=0;t--){const e=r[t];if(e.linear.bottom>p.linear.bottom){if(d&&Math.ceil(e.linear[f])-Math.floor(n.box[f])<l.linear.width)continue;const i=r[t+1];l.anchor(m,i.documentId,!0),d?l.modifyBox(4,-i.marginRight,!1):l.modifyBox(16,-i.marginLeft,!1),T.anchorDelete(b),A.anchorDelete(f),T.delete("app","layout_constraintHorizontal_chainStyle","layout_constraintHorizontal_bias"),void 0===g&&(g=l,s=!0);break}}}}}};if(m(u,!1),m(d,!0),o&&(r=r.concat(u,d)),e>0){if(void 0===p){p=c[0];const t=c.length;for(let e=1;e<t;e++)c[e].linear.bottom>=p.linear.bottom&&(p=c[e])}if(void 0===g){g=l[0];const t=l.length;for(let e=1;e<t;e++){const t=l[e];t.linear.bottom>=g.linear.bottom&&(g=t)}s=!1}g.anchor("topBottom",p.documentId),p.anchor("bottomTop",g.documentId);for(const t of l)if(t!==g){const e=t.autoMargin;e.topBottom||t.anchorStyle(h.VERTICAL,"packed",e.top?1:0),t.anchor("top",g.documentId),t.modifyBox(2,-1*g.marginTop)}}}}createLayoutNodeGroup(t){return this.createNodeGroup(t.node,t.children,t.parent)}get containerTypeHorizontal(){return{containerType:e.LINEAR,alignmentType:8,renderType:0}}get containerTypeVertical(){return{containerType:e.LINEAR,alignmentType:16,renderType:0}}get containerTypeVerticalMargin(){return{containerType:e.FRAME,alignmentType:256,renderType:0}}get containerTypePercent(){return{containerType:e.CONSTRAINT,alignmentType:8,renderType:0}}get afterInsertNode(){return t=>{this.userSettings.exclusionsDisabled||t.setExclusions(),t.localSettings=this._defaultViewSettings,t.api=this._targetAPI}}get userSettings(){return this.application.userSettings}get screenDimension(){return this._screenDimension}}class je extends squared.base.ExtensionManager{}var Ye={resources:{">":{color:{"@":["name"],"~":!0}}}},Ze={resources:{">":{dimen:{"@":["name"],"~":!0}}}},$e={"font-family":{"@":["xmlns:android"],">":{font:{"^":"android","@":["font","fontStyle","fontWeight"]}}}},Ke={resources:{">":{string:{"@":["name"],"~":!0}}}},Je={resources:{">":{"string-array":{"@":["name"],">":{item:{"~":!0}}}}}},Qe={resources:{">":{style:{"@":["name","parent"],">":{item:{"@":["name"],"~":!0}}}}}};const tn=squared.lib,{fromLastIndexOf:en,objectMap:nn}=tn.util,{applyTemplate:on,replaceTab:an}=tn.xml,rn=M.STORED,sn=/^(.+)\/(.+?\.\w+)$/,ln=/"(-?[\d.]+)px"/g,cn=/>(-?[\d.]+)px</g;function dn(t){const e=t.length,n=Array(e/3);for(let i=0,o=0;i<e;i+=3,o++)n[o]={pathname:t[i+1],filename:t[i+2],content:t[i]};return n}function hn(t){const e=t.length,n=Array(e/3);for(let i=0,o=0;i<e;i+=3,o++)n[o]={pathname:t[i+1],filename:t[i+2].split("?")[0],content:"",uri:t[i]};return n}const un=(t,e,n)=>({pathname:t,filename:e,content:n}),pn=(t,e)=>"dp"===e?t.replace(ln,(t,...e)=>'"'+j(e[0],!1)+'"'):t,gn=(t,e)=>(""+t).toLowerCase()>=(""+e).toLowerCase()?1:-1;class mn extends squared.base.FileUI{copyToDisk(t,e,n){this.copying(t,this.getAssetsAll(e),n)}appendToArchive(t,e){this.archiving(this.userSettings.outputArchiveName,this.getAssetsAll(e),t)}saveToArchive(t,e){this.archiving(t,this.getAssetsAll(e))}resourceAllToXml({copyTo:t,archiveTo:e,callback:n}={}){const i={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml(),drawableImage:this.resourceDrawableImageToXml(),anim:this.resourceAnimToXml()};for(const t in i)0===i[t].length&&delete i[t];if(t||e){let o=[];for(const t in i)o=o.concat("image"===t?hn(i[t]):dn(i[t]));t&&this.copying(t,o,n),e&&this.archiving(e,o)}return i}resourceStringToXml(t={}){const e={string:[]},n=e.string;rn.strings.has("app_name")||n.push({name:"app_name",innerText:this.userSettings.manifestLabelAppName});for(const[t,e]of Array.from(rn.strings.entries()).sort(gn))n.push({name:t,innerText:e});return this.checkFileAssets([an(on("resources",Ke,[e]),this.userSettings.insertSpaces,!0),this.directory.string,"strings.xml"],t)}resourceStringArrayToXml(t={}){if(rn.arrays.size){const e={"string-array":[]},n=e["string-array"];for(const[t,e]of Array.from(rn.arrays.entries()).sort())n.push({name:t,item:nn(e,t=>({innerText:t}))});return this.checkFileAssets([an(on("resources",Je,[e]),this.userSettings.insertSpaces,!0),this.directory.string,"string_arrays.xml"],t)}return[]}resourceFontToXml(t={}){var e;if(rn.fonts.size){const n=this.resource,{insertSpaces:i,targetAPI:o}=this.userSettings,a=o<26?d.app:d.android,r=this.directory.font,s=[];for(const[t,l]of Array.from(rn.fonts.entries()).sort()){const c={"xmlns:android":a,font:[]},d=c.font;for(const i in l){const[o,a,s]=i.split("|");let c=t;"normal"===a?c+="400"===s?"_normal":"_"+l[i]:(c+="_"+a,"400"!==s&&(c+="_"+l[i])),d.push({font:"@font/"+c,fontStyle:a,fontWeight:s});const h=null===(e=n.getFont(o,a,s))||void 0===e?void 0:e.srcUrl;h&&this.addAsset({pathname:r,filename:c+"."+en(h.split("?")[0],".").toLowerCase(),uri:h})}let h=an(on("font-family",$e,[c]),i);o<26&&(h=h.replace(/\s+android:/g," app:")),s.push(h,r,t+".xml")}return this.checkFileAssets(s,t),s}return[]}resourceColorToXml(t={}){if(rn.colors.size){const e={color:[]},n=e.color;for(const[t,e]of Array.from(rn.colors.entries()).sort())n.push({name:e,innerText:t});return this.checkFileAssets([an(on("resources",Ye,[e]),this.userSettings.insertSpaces),this.directory.string,"colors.xml"],t)}return[]}resourceStyleToXml(t={}){const e=[];if(rn.styles.size){const t={style:[]},n=t.style;for(const t of Array.from(rn.styles.values()).sort((t,e)=>(""+t.name).toLowerCase()>=(""+e.name).toLowerCase()?1:-1)){const e=t.items;if(Array.isArray(e)){const i=[];for(const t of e.sort((t,e)=>t.key>=e.key?1:-1))i.push({name:t.key,innerText:t.value});n.push({name:t.name,parent:t.parent,item:i})}}e.push(an(on("resources",Qe,[t]),this.userSettings.insertSpaces),this.directory.string,"styles.xml")}if(rn.themes.size){const{convertPixels:t,insertSpaces:i,manifestThemeName:o}=this.userSettings,a={};for(const[r,s]of rn.themes.entries()){const l=sn.exec(r);if(l){const c={style:[]},d=c.style;for(const[t,e]of s.entries()){const n=[],i=e.items;for(const t in i)n.push({name:t,innerText:i[t]});a[r]&&t===o&&!c.length||d.push({name:t,parent:e.parent,item:n}),t===o&&(a[r]=!0)}e.push(an((n=on("resources",Qe,[c]),"dp"===t?n.replace(cn,(t,...e)=>">"+j(e[0],!1)+"<"):n),i),l[1],l[2])}}}var n;return this.checkFileAssets(e,t)}resourceDimenToXml(t={}){if(rn.dimens.size){const e=this.userSettings.convertPixels,n={dimen:[]},i=n.dimen;for(const[t,n]of Array.from(rn.dimens.entries()).sort())i.push({name:t,innerText:e?j(n,!1):n});return this.checkFileAssets([an(on("resources",Ze,[n])),this.directory.string,"dimens.xml"],t)}return[]}resourceDrawableToXml(t={}){if(rn.drawables.size){const{convertPixels:e,insertSpaces:n}=this.userSettings,i=this.directory.image,o=[];for(const[t,a]of rn.drawables.entries())o.push(an(pn(a,e),n),i,t+".xml");return this.checkFileAssets(o,t)}return[]}resourceDrawableImageToXml({copyTo:t,archiveTo:e,callback:n}={}){if(rn.images.size){const i=this.directory.image,o=[];for(const[t,e]of rn.images.entries())if(Object.keys(e).length>1)for(const n in e){const a=e[n];o.push(a,i+"-"+n,t+"."+en(a,"."))}else{const n=e.mdpi;n&&o.push(n,i,t+"."+en(n,"."))}if(t||e){const i=hn(o);t&&this.copying(t,i,n),e&&this.archiving(e,i)}return o}return[]}resourceAnimToXml(t={}){if(rn.animators.size){const e=this.userSettings.insertSpaces,n=[];for(const[t,i]of rn.animators.entries())n.push(an(i,e),"res/anim",t+".xml");return this.checkFileAssets(n,t)}return[]}layoutAllToXml(t={}){const{assets:e,copyTo:n,archiveTo:i,callback:o}=t,a={};if(e){const t=[],r=e.length;for(let n=0;n<r;n++){const{content:o,filename:r,pathname:s}=e[n];a[r]=[o],i&&t.push(un(s,0===n?this.userSettings.outputMainFileName:r+".xml",o))}n&&this.copying(n,t,o),i&&this.archiving(i,t)}return a}getAssetsAll(t){const e=[],n=t.length;for(let i=0;i<n;i++){const n=t[i];e.push(un(n.pathname,0===i?this.userSettings.outputMainFileName:n.filename+".xml",n.content))}return e.concat(dn(this.resourceStringToXml()),dn(this.resourceStringArrayToXml()),dn(this.resourceFontToXml()),dn(this.resourceColorToXml()),dn(this.resourceDimenToXml()),dn(this.resourceStyleToXml()),dn(this.resourceDrawableToXml()),hn(this.resourceDrawableImageToXml()),dn(this.resourceAnimToXml()))}checkFileAssets(t,{copyTo:e,archiveTo:n,callback:i}={}){if(e||n){const o=dn(t);e&&this.copying(e,o,i),n&&this.archiving(n,o)}return t}get userSettings(){return this.resource.userSettings}}const{NODE_PROCEDURE:fn}=squared.base.lib.enumeration;class yn extends squared.base.extensions.Accessibility{constructor(){super(...arguments),this.eventOnly=!0,this.options={showLabel:!1}}beforeBaseLayout(){for(const t of this.cacheProcessing)if(t.inputElement&&t.hasProcedure(fn.ACCESSIBILITY))switch(t.containerName){case"INPUT_RADIO":case"INPUT_CHECKBOX":{const e=t.elementId;[t.nextSibling,t.previousSibling].some(n=>{var i;if((null===(i=n)||void 0===i?void 0:i.pageFlow)&&!n.visibleStyle.backgroundImage&&n.visible){let i=!1;if(e&&e===n.toElementString("htmlFor"))i=!0;else if(n.textElement){const e=n.actualParent;"LABEL"===e.tagName?(e.renderAs=t,i=!0):n.plainText&&(i=!0)}if(i)return n.labelFor=t,this.options.showLabel||n.hide(),!0}return!1});break}case"INPUT_IMAGE":t.extracted=[t];break;case"BUTTON":if(t.length){const e=t.filter(t=>!t.textElement);e.length&&(t.extracted=e),t.clear()}}}}var bn=squared.base.extensions.CssGrid;const Tn=squared.lib,An=squared.base,En=An.lib,{formatPercent:vn,formatPX:Sn,isLength:xn,isPercent:Rn}=Tn.css,{maxArray:wn,truncate:In}=Tn.math,{CHAR:_n,CSS:Nn}=Tn.regex,{captureMap:Ln,flatMultiArray:Cn,isArray:kn,objectMap:On}=Tn.util,{NODE_PROCEDURE:Pn,NODE_RESOURCE:Mn}=En.enumeration,{LayoutUI:Bn,Node:Dn}=An,Wn=En.constant.EXT_NAME.CSS_GRID,Hn=/start|left|center|right|end/,Gn=/(start|left|baseline)$/,Xn=/(right|end)$/,Vn=/start|end|center|baseline/,Fn=/(start|baseline)$/,Un=/end$/,zn=/fr$/;function qn(t,e,n,i,o){const a=n?e.column:e.row,r=a.unit,s=r.length;let l=0;if(s){const t=n?"width":"height";for(let n=0;n<s;n++){const i=r[n];if(Jn(i))l+=parseFloat(i);else{let i=0;Ln(e.rowData[n],t=>kn(t),e=>i=Math.min(i,...On(e,e=>e.bounds[t]))),l+=i}}}else if(l=wn(a.unitTotal),l<=0)return 0;return l+=a.gap*(a.length-1),n?(l+=t.contentBox?t.borderLeftWidth+t.borderRightWidth:t.contentBoxWidth,(i>l?Math.min(i,t.actualWidth):t.actualWidth)-l):(l+=t.contentBox?t.borderTopWidth+t.borderBottomWidth:t.contentBoxHeight,(o>l&&t.documentBody?Math.min(o,t.actualHeight):t.actualHeight)-l)}function jn(t,e){const n=Math.floor(e/t);return[n,e-n*t]}function Yn(t,e,n,i,o,a,r,s,l,c){const d=i?e.column:e.row;if(/^space/.test(n)){const h=qn(t,e,i,l,c);if(h>0){const t=function(t,e){const n=t.rowData;if(e){const e=t.column.length,i=t.row.length,o=Array(e);for(let t=0;t<e;t++){const e=Array(i);for(let o=0;o<i;o++)e[o]=n[o][t];o[t]=e}return o}return n}(e,i),l=d.length,c=new Set;switch(n){case"space-around":{const[e,n]=jn(2*l,h);for(let i=0;i<l;i++)for(const a of new Set(Cn(t[i]))){const t=(i>0&&i<=n?1:0)+e;c.has(a)?a.cssPX(o,h/l,!1,!0):(a.modifyBox(r,t),a.modifyBox(s,e),c.add(a))}break}case"space-between":if(l>1){const[e,n]=jn(l-1,h);for(let a=0;a<l;a++)for(const r of new Set(Cn(t[a])))if(a<l-1){const t=e+(a<n?1:0);c.has(r)?r.cssPX(o,t,!1,!0):(r.modifyBox(s,t),c.add(r))}else{if(parseInt(r.android(i?"layout_columnSpan":"layout_rowSpan"))>1){const t=e+(n>0?Math.max(n-1,1):0);r.cssPX(o,t,!1,!0),c.has(r)&&r.modifyBox(s,-t,!1)}}break}return;case"space-evenly":{const[e,n]=jn(l+1,h);for(let i=0;i<l;i++)for(const l of new Set(Cn(t[i]))){let t=e+(i<n?1:0);c.has(l)?l.cssPX(o,t,!1,!0):(a?(t/=2,l.modifyBox(r,t),l.modifyBox(s,t)):(0===i&&l.modifyBox(r,e),l.modifyBox(s,t)),c.add(l))}break}}}}else if(a)switch(n){case"center":t.anchorParent(i?h.HORIZONTAL:h.VERTICAL,"packed",.5,!0);break;case"right":if(!i)break;case"end":case"flex-end":t.anchorParent(i?h.HORIZONTAL:h.VERTICAL,"packed",1,!0)}else{let o=qn(t,e,i,l,c);if(o>0)switch(n){case"center":o/=2,i?t.modifyBox(256,Math.floor(o)):(t.modifyBox(32,Math.floor(o)),t.modifyBox(128,Math.ceil(o)));break;case"right":if(!i)break;case"end":case"flex-end":t.modifyBox(i?256:32,o)}}}function Zn(t,e,n,i){let o,a,r,s;if(n.every(t=>Jn(t))){let t=i;for(const e of n)t+=parseFloat(e);const r=Sn(t);e?o=r:a=r}else if(n.every(t=>zn.test(t))){let i=0;for(const t of n)i+=parseFloat(t);const l=In(i,t.localSettings.floatPrecision);e?(o="0px",r=l):(a="0px",s=l)}else if(n.every(t=>Rn(t))){const r=vn((n.reduce((t,e)=>t+parseFloat(e),0)+i/(e?t.actualWidth:t.actualHeight))/100);e?o=r:a=r}else e?o="wrap_content":a="wrap_content";return[o,a,r,s]}function $n(t,e){const n=t.unit,i=n.length;i&&n.every(t=>"auto"===t)&&(t.unit=Array(i).fill(e?"1fr":""))}function Kn(t,e){const{gap:n,length:i,unit:o}=t;let a=0,r=0;for(const t of o)if(Jn(t))a+=parseFloat(t);else if(Rn(t))r+=parseFloat(t);else if(zn.test(t))return 0;const s=Math.ceil(a+(i-1)*n);return r>0?r+s/e*100:a>0&&s<e?-1:0}const Jn=t=>Nn.PX.test(t);class Qn extends squared.base.extensions.CssGrid{processNode(t,n){super.processNode(t,n);const i=t.data(Wn,"mainData");if(i){const{column:o,row:a}=i,r=o.unit,s=o.length,l=new Bn(n,t,0,4,t.children);if(l.rowCount=a.length,l.columnCount=s,!t.documentRoot&&!t.hasWidth&&0===i.rowSpanMultiple.length&&r.length===s&&r.every(t=>zn.test(t))&&function(t){return t.ascend({condition:t=>{var e;const n=t.actualParent;if(null===(e=n)||void 0===e?void 0:e.gridElement){const e=n.data(Wn,"mainData"),i=t.data(Wn,"cellData");if(e&&i){const t=e.column.unit,{columnStart:n,columnSpan:o}=i;let a=!1;for(let e=0;e<o;e++){const i=t[n+e];if(zn.test(i)||Rn(i))a=!0;else if("auto"===i){a=!1;break}}return a}}else if(Dn.isFlexDirection(t,"row")&&t.flexbox.grow>0)return!0;return!1},error:t=>t.hasWidth}).length>0}(t)){const n=i.rowData,s=n.length,c=Array(s);let d=!0;t:for(let t=0;t<s;t++){const e=[],i=n[t],o=i.length;for(let t=0;t<o;t++){const n=i[t];if(!n||1!==n.length){d=!1;break t}e.push(n[0])}c[t]=e}if(d)return o.frTotal=r.reduce((t,e)=>t+parseFloat(e),0),a.frTotal=a.unit.reduce((t,e)=>t+(zn.test(e)?parseFloat(e):0),0),t.setLayoutWidth("match_parent"),t.lockAttr("android","layout_width"),t.data(Wn,"barrierData",c),l.setContainerType(e.CONSTRAINT),{output:this.application.renderNode(l),complete:!0}}return $n(o,!0),$n(a,!1),l.setContainerType(e.GRID),{output:this.application.renderNode(l),complete:!0}}}processChild(t,n){var i;const a=n.data(Wn,"mainData"),r=t.data(Wn,"cellData");let s,l;if(a&&r){const c=n.layoutConstraint,{alignContent:d,column:u,row:p}=a,{alignSelf:g,justifySelf:m}=t.flexbox,f=(e,i,o)=>{const[a,s,l,d]=i?[u,r.columnStart,r.columnSpan,"minWidth"]:[p,r.rowStart,r.rowSpan,"minHeight"],{unit:g,unitMin:m}=a;let f=0,y=0,b=0,T=0,A=!1,E=!1;for(let r=0,c=0;r<l;r++){const d=s+r,h=m[d];""!==h&&(b+=n.parseUnit(h));let u=g[d];if(!u){const t=a.auto;if(!t[c])continue;u=t[c],t[c+1]&&c++}if("auto"===u||"max-content"===u){if(E=!0,l<g.length&&(!n.hasPX(o)||g.some(t=>xn(t))||"max-content"===u)){f=t.bounds[o],y=0,T=0;break}if(i){f=0,y=0,T=-1;break}}else if("min-content"===u){if(!e.hasPX(o)){i?e.setLayoutWidth("wrap_content",!1):e.setLayoutHeight("wrap_content",!1);break}}else if(zn.test(u))i||n.hasHeight?(-1===T&&(T=0),T+=parseFloat(u),y=f):(T=0,y=t.bounds[o]),f=0;else if(Rn(u))-1===T&&(T=0),T+=parseFloat(u)/100,y=f,f=0;else{const t=e.parseUnit(u,i?"width":"height");0===y?f+=t:y+=t}t.textElement&&_n.UNITZERO.test(h)&&(A=!0)}if(l>1){const t=(l-1)*a.gap;f>0&&0===y?f+=t:y>0&&(y+=t),b>0&&(b+=t)}if(b>0&&(a.autoFill&&0===f&&1===(i?p.length:u.length)?(f=Math.max(t.actualWidth,b),T=0):y=b),y>0&&!e.hasPX(d)&&e.css(d,Sn(y),!0),c)if(i){if(e.hasPX("width",!1)||(e.app("layout_constraintWidth_percent",In(T/u.frTotal,e.localSettings.floatPrecision)),e.setLayoutWidth("0px")),0===s)e.anchor("left","parent"),e.anchorStyle(h.HORIZONTAL,"spread",0);else{const t=(e.innerMostWrapped||e).previousSibling;t&&(t.anchor("rightLeft",e.documentId),e.anchor("leftRight",t.anchorTarget.documentId))}s+l===u.length&&e.anchor("right","parent"),e.positioned=!0}else e.hasPX("height",!1)||(T>0?1===p.length?e.setLayoutHeight("match_parent"):(e.app("layout_constraintHeight_percent",In(T/p.frTotal,e.localSettings.floatPrecision)),e.setLayoutHeight("0px")):f>0&&(e.contentBox&&(f-=e.contentBoxHeight),e.css(E?"minHeight":"height",Sn(f),!0)));else{e.android(i?"layout_column":"layout_row",""+s),e.android(i?"layout_columnSpan":"layout_rowSpan",""+l);let a=i&&u.flexible;if(0!==T)e.hasPX(o)||(i?(r.columnSpan===u.length?e.setLayoutWidth("match_parent"):(e.setLayoutWidth("0px"),e.android("layout_columnWeight",-1===T?"0.01":In(T,t.localSettings.floatPrecision)),e.mergeGravity("layout_gravity","fill_horizontal")),a=!1):r.rowSpan===p.length?e.setLayoutHeight("match_parent"):(e.setLayoutHeight("0px"),e.android("layout_rowWeight",In(T,t.localSettings.floatPrecision)),e.mergeGravity("layout_gravity","fill_vertical")));else if(f>0){const t=i?"maxWidth":"maxHeight";A&&!e.hasPX(t)?(e.css(t,Sn(f),!0),e.mergeGravity("layout_gravity",i?"fill_horizontal":"fill_vertical")):e.hasPX(o)||(e.contentBox&&(f-=i?e.contentBoxWidth:e.contentBoxHeight),E&&!n.hasPX(t)?(e.css(d,Sn(f),!0),i?e.setLayoutWidth("wrap_content"):e.setLayoutHeight("wrap_content")):e.css(o,Sn(f),!0))}else 0!==g.length||e.hasPX(o)||(i?e.setLayoutWidth("match_parent",!1):e.setLayoutHeight("wrap_content",!1));a&&e.android("layout_columnWeight","0")}return[s,l]};if(Vn.test(g)||Hn.test(m)||c){s=this.application.createNode({parent:n,replace:t}),s.containerName=t.containerName,s.setControlType(o.FRAME,e.FRAME),s.inherit(t,"base","initial"),s.exclude({resource:Mn.BOX_STYLE|Mn.ASSET,procedure:Pn.CUSTOMIZATION}),s.resetBox(510),s.render(n),t.transferBox(30,s);let i=!0;Gn.test(m)?t.mergeGravity("layout_gravity","left"):Xn.test(m)?t.mergeGravity("layout_gravity","right"):"center"===m?t.mergeGravity("layout_gravity",h.CENTER_HORIZONTAL):i=!1,t.hasWidth||t.setLayoutWidth(i?"wrap_content":"match_parent",!1),Fn.test(g)?t.mergeGravity("layout_gravity","top"):Un.test(g)?t.mergeGravity("layout_gravity","bottom"):"center"===g?t.mergeGravity("layout_gravity",h.CENTER_VERTICAL):t.hasHeight||t.setLayoutHeight("match_parent",!1),l=this.application.renderNode(new Bn(n,s,e.FRAME,4096,s.children))}else t.mergeGravity("layout_gravity","top");const y=s||t;f(y,!0,"width"),y!==t||t.hasPX("maxHeight")?y.mergeGravity("layout_gravity","fill"):y.hasPX("width")||y.mergeGravity("layout_gravity","fill_horizontal");const[b,T]=f(y,!1,"height");!("normal"!==d||n.hasPX("height")||t.hasPX("minHeight")||p.unit[b]&&"auto"!==p.unit[b])&&Math.floor(t.bounds.height)>(null===(i=t.data(Wn,"boundsData"))||void 0===i?void 0:i.height)&&function(t,e,n,i){if(1===n&&e.rowSpanMultiple[i]){const o=e.rowData,a=o.length;for(const e of Cn(o[i]))if(e!==t){const t=e.data(Wn,"cellData");if(t&&t.rowSpan>n&&(0===i||t.rowSpan<a))return!0}}return!1}(t,a,T,b)?y.css("minHeight",Sn(t.actualHeight),!0):y.hasPX("height")||y.hasPX("maxHeight")||1===p.length&&/^space/.test(d)||Vn.test(a.alignItems)||y.mergeGravity("layout_gravity","fill_vertical")}return{parent:s,renderAs:s,outputAs:l}}postBaseLayout(t){const e=t.data(Wn,"mainData");if(e){const n=this.controller,{alignContent:i,children:o,column:a,emptyRows:r,justifyContent:s,row:l,rowDirection:c,rowData:d}=e,u=t.renderParent===t.outerWrapper,p=o[o.length-1].id;if(bn.isJustified(t))switch(Yn(t,e,s,!0,"width",u,16,4,this.controller.userSettings.resolutionScreenWidth-t.bounds.left,0),s){case"space-around":case"space-evenly":u&&t.anchorParent(h.HORIZONTAL,"packed",.5,!0);break;default:1===e.column.length&&t.setLayoutWidth("match_parent")}else{const e=a.length;if(t.blockStatic||t.hasWidth){const i=Kn(a,t.actualWidth);0!==i&&i<100&&(i>0&&n.addAfterOutsideTemplate(p,n.renderSpace({width:vn((100-i)/100),height:"match_parent",rowSpan:l.length,android:{layout_row:"0",layout_column:""+e,layout_columnWeight:a.flexible?"0.01":""}}),!1),t.android("columnCount",""+(e+1)))}u&&(t.contentBoxWidth>0&&t.hasPX("width",!1)?t.anchorParent(h.HORIZONTAL,"packed",.5,!0):1===e?t.setLayoutWidth("match_parent"):t.setLayoutWidth("wrap_content",!1))}if(bn.isAligned(t)){if(Yn(t,e,i,!1,"height",u,2,8,0,this.controller.userSettings.resolutionScreenHeight),u)switch(i){case"space-around":case"space-evenly":t.anchorParent(h.VERTICAL,"packed",.5,!0)}}else{if(t.hasHeight){const e=Kn(l,t.actualHeight);if(0!==e&&e<100){const i=l.length;e>0&&n.addAfterOutsideTemplate(p,n.renderSpace({width:"match_parent",height:vn((100-e)/100),columnSpan:a.length,android:{layout_row:""+i,layout_column:"0",layout_rowWeight:l.flexible?"0.01":""}}),!1),t.android("rowCount",""+(i+1))}}u&&(t.contentBoxHeight>0&&t.hasPX("height",!1)?t.anchorParent(h.VERTICAL,"packed",.5,!0):t.setLayoutHeight("wrap_content",!1))}const g=t.data(Wn,"barrierData");if(g){const n=g.length;if(1===length)for(const t of g[0])t.anchorParent(h.VERTICAL,"packed",0);else{const i=this.controller,o=e.column,{gap:a,length:r}=o;let s="";for(let e=0;e<n;e++){const l=g[e],c=i.addBarrier(l,"bottom");let d;for(let u=0;u<r;u++){const p=l[u];if(p)0===e?(p.anchor("top","parent"),p.anchor("bottomTop",c),p.anchorStyle(h.VERTICAL)):(e===n-1?p.anchor("bottom","parent"):p.anchor("bottomTop",c),p.anchor("topBottom",s)),u<r-1&&p.modifyBox(4,-a),d=p;else if(d){const n={width:"0px",height:"wrap_content",android:{},app:{layout_constraintTop_toTopOf:0===e?"parent":"",layout_constraintTop_toBottomOf:s,layout_constraintBottom_toTopOf:e<r-1?c:"",layout_constraintBottom_toBottomOf:e===r-1?"parent":"",layout_constraintStart_toEndOf:d.anchorTarget.documentId,layout_constraintEnd_toEndOf:"parent",layout_constraintVertical_bias:0===e?"0":"",layout_constraintVertical_chainStyle:0===e?"packed":"",layout_constraintWidth_percent:""+o.unit.slice(u,r).reduce((t,e)=>t+parseFloat(e),0)/o.frTotal}};i.addAfterInsideTemplate(t.id,i.renderSpace(n),!1),d.anchor("rightLeft",n.documentId);break}}s=c}}}if(!t.layoutConstraint){const{flexible:e,gap:i,unit:o}=c?a:l,s=o.length;let u=-1,g=0;const m=(i,o,a,r,s="wrap_content",l="",c=0)=>{let d="",m="";if(-1!==u){const f=a.slice(u,u+g);let y,b,T="",A="",E=1,v=1;if(o?(y=""+i,b=""+u,m=s,T=e?"0.01":"",A=l,v=g):(y=""+u,b=""+i,A=e?"0.01":"",T=l,d=s,E=g),f.length===a.length)o?(d="match_parent",T=""):(m="match_parent",A=""),r=0;else{const[e,n,i,a]=Zn(t,o,f,r*(f.length-1));e&&(d=e),n&&(m=n),i&&(T=i),a&&(A=a)}n.addAfterOutsideTemplate(p,n.renderSpace({width:d,height:m,rowSpan:E,columnSpan:v,android:{[o?t.localizeString(h.MARGIN_RIGHT):"bottom"]:r>0&&u+g<a.length?"@dimen/"+M.insertStoredAsset("dimens",`${t.controlId}_cssgrid_${o?"column":"row"}_gap`,Sn(r)):"",[o?"bottom":t.localizeString(h.MARGIN_RIGHT)]:c>0?"@dimen/"+M.insertStoredAsset("dimens",`${t.controlId}_cssgrid_${o?"row":"column"}_gap`,Sn(c)):"",layout_row:y,layout_column:b,layout_rowWeight:A,layout_columnWeight:T,layout_gravity:"fill"}}),Jn(d)||Jn(m)),u=-1}return g=0,[d,m]};let f=Math.max(d.length,1);for(let t=0;t<f;t++)if(void 0===r[t]){const e=d[t];for(let n=0;n<s;n++)e[n]?m(t,c,o,i):(-1===u&&(u=n),g++)}m(f-1,c,o,i),f=r.length;for(let e=0;e<f;e++){const n=r[e];if(n){const i=n.length;for(let o=0;o<i;o++){const i=n[o];if(i>0){u=o;const{unit:n,gap:r}=c?l:a,{unit:s,gap:d}=c?a:l,h=Zn(t,!c,[n[o]],0);g=i===1/0?s.length:1,m(e,c,s,d,h[c?1:0],h[c?3:2],e<f-1?r:0)}}}}}}}postOptimize(t){var e;const n=t.data(Wn,"mainData");if(n&&t.blockStatic&&!t.hasPX("minWidth",!1)&&!1===(null===(e=t.actualParent)||void 0===e?void 0:e.layoutElement)){const{gap:e,length:i,unit:o}=n.column;let a=e*(i-1);for(const t of o){if(!Jn(t))return;a+=parseFloat(t)}a>t.width&&(t.android("minWidth",Sn(a)),t.flexibleWidth||t.blockWidth||t.setLayoutWidth("wrap_content"))}}}class ti extends squared.base.ExtensionUI{constructor(){super(...arguments),this.eventOnly=!0}init(t){return this.included(t)&&this.application.rootElements.add(t),!1}}var ei=squared.base.LayoutUI;const ni=squared.lib,ii=squared.base,oi=ii.lib,{isLength:ai}=ni.css,{truncate:ri}=ni.math,{capitalize:si,sameArray:li,withinRange:ci}=ni.util,di=ii.NodeUI,hi=oi.constant.EXT_NAME.FLEXBOX,ui={orientation:h.HORIZONTAL,orientationInverse:h.VERTICAL,WH:"Width",HW:"Height",LT:"left",TL:"top",RB:"right",BR:"bottom",LRTB:"leftRight",RLBT:"rightLeft"},pi={orientation:h.VERTICAL,orientationInverse:h.HORIZONTAL,WH:"Height",HW:"Width",LT:"top",TL:"left",RB:"bottom",BR:"right",LRTB:"topBottom",RLBT:"bottomTop"};function gi(t,e,n){const i="width"===n,o="has"+si(n),a=e=>e.flexbox.basis=e.bounds[n]/t.box[n]*100+"%";let r=t[o]||t.blockStatic&&ci(t.parseUnit(t.css(i?"maxWidth":"maxHeight")),t.box.width),s=0,l=0;for(const t of e){if(r){const e=yi(t);if(i){if(e.horizontal){r=!1;break}}else if(e.vertical){r=!1;break}}s+=t.flexbox.grow}if(e.length>1&&(i||r)){const t=[],i=[];let s,c=0,d=0,h=NaN;for(const a of e){const{alignSelf:e,basis:u,shrink:p,grow:g}=a.flexbox,m=a.bounds[n];let f=!1;if(g>0||1!==p){const e=a.parseUnit("auto"===u?a.css(n):u,n);if(e>0){let n=!1;m<e?(isNaN(h)||p<h)&&(h=p,n=!0,l=1):(isNaN(h)||g>h)&&(h=g,n=!0,l=2),n&&(s=a,c=e,d=m),t.push({item:a,basis:e,dimension:m,shrink:p,grow:g});continue}g>0&&m>a[n]&&(f=!0)}else if(ai(u)){t.push({item:a,basis:Math.min(m,a.parseUnit(u,n)),dimension:m,shrink:p,grow:g}),a.flexbox.basis="auto";continue}"auto"===e&&(r&&!a[o]||f)&&i.push(a)}if(0!==l){if(t.length>1)for(const e of t){const{basis:t,item:n}=e;n===s||t===c&&(1===l&&h===e.shrink||2===l&&h===e.grow)?n.flexbox.grow=1:t>0&&(n.flexbox.grow=e.dimension/t/(d/c)*t/c)}for(const t of i)a(t)}}if(i&&0===l)for(const n of e)n.cascadeSome(e=>e.multiline&&0===e.ascend({condition:t=>t[o],including:t}).length)&&a(n);return s}function mi(t){for(const e of t)if(e.textElement&&e.baseline)return e;return di.baseline(t)}function fi(t,e,n){n?t.setLayoutHeight(e):t.setLayoutWidth(e)}const yi=t=>(t.innerMostWrapped||t).autoMargin;class bi extends squared.base.extensions.Flexbox{processNode(t,n){super.processNode(t,n);const i=t.data(hi,"mainData");if(i.directionRow&&1===i.rowCount||i.directionColumn&&1===i.columnCount)return t.containerType=e.CONSTRAINT,t.addAlign(4),t.addAlign(i.directionColumn?8:16),i.wrap=!1,{include:!0};{const o=new ei(n,t,0,4);return o.itemCount=t.length,o.rowCount=i.rowCount,o.columnCount=i.columnCount,o.containerType=i.directionRow&&t.hasHeight||i.directionColumn&&t.hasWidth||t.some(t=>!t.pageFlow)?e.CONSTRAINT:e.LINEAR,o.add(i.directionColumn?8:16),{output:this.application.renderNode(o),complete:!0}}}processChild(t,n){if(t.hasAlign(128))return{output:this.application.renderNode(new ei(n,t,e.CONSTRAINT,4,t.children)),complete:!0};{const i=t.autoMargin;if(i.horizontal||i.vertical&&t.hasHeight){const o=n.data(hi,"mainData");if(o){const a=o.children.findIndex(e=>e===t);if(-1!==a){const r=this.controller.createNodeWrapper(t,n);return r.cssApply({marginTop:"0px",marginRight:"0px",marginBottom:"0px",marginLeft:"0px",display:"block"},!0),r.saveAsInitial(!0),r.flexbox=t.flexbox,o.children[a]=r,i.horizontal&&!t.hasWidth&&t.setLayoutWidth("wrap_content"),{parent:r,renderAs:r,outputAs:this.application.renderNode(new ei(n,r,e.FRAME,4096,r.children))}}}}}}postBaseLayout(t){const e=t.data(hi,"mainData");if(e){const n=this.controller,{alignContent:i,children:o,directionColumn:a,directionReverse:r,directionRow:s,justifyContent:l,wrap:c,wrapReverse:d}=e,u=[],p=[],g=[];if(c){let e;t.each(t=>{if(t.hasAlign(128)){const n=t.renderFilter(t=>t.pageFlow);if(n.length){if(s)t.setLayoutWidth("match_parent"),u.push(n);else{if(t.setLayoutHeight("match_parent"),e){const n=e.length;let i=e[0];for(let t=1;t<n;t++)e[t].linear.right>i.linear.right&&(i=e[t]);if(d){const e=t.linear.left-i.actualRect("right");e>0&&t.modifyBox(16,e)}t.constraint.horizontal=!0}p.push(n),e=n}g.push(t)}}}),t.layoutLinear?d&&a&&t.mergeGravity("gravity","right"):g.length&&(s?p.push(g):u.push(g))}else s?(r&&o.reverse(),u[0]=o):(r&&o.reverse(),p[0]=o);const m=(e,o)=>{var s;const u=e.length;if(0===u)return;const{orientation:p,orientationInverse:m,WH:f,HW:y,LT:b,TL:T,RB:A,BR:E,LRTB:v,RLBT:S}=o?ui:pi,x=`layout_constraint${si(p)}_weight`,R=o?"width":"height",w=y.toLowerCase(),I=t["has"+y],_=t["has"+f];function N(t,e){0===t[R]&&(t.app(x,ri(e,t.localSettings.floatPrecision)),o?t.setLayoutWidth("0px"):t.setLayoutHeight("0px"))}for(let f=0;f<u;f++){const y=e[f],L=y.length,C=y[0],k=y[L-1],O=y===g,P=!O&&y.every(t=>0===t.flexbox.grow),M=P&&("space-between"===l||"space-around"===l&&L>1),B=[];let D,W,H,G=0,X=0,V=!0,F=null;if(O)if(D=!1,_){let t="spread",e=0;switch(i){case"left":case"right":case"flex-end":e=1;case"baseline":case"start":case"end":case"flex-start":t="packed",V=!1}C.anchorStyle(p,t,e)}else C.anchorStyle(p);else if(o?(W=Dt.availablePercent(y,"width",t.box.width),H=1):(W=1,H=Dt.availablePercent(y,"height",t.box.height)),D=o||_,X=1-gi(t,y,R),L>1){let t=0;for(const e of y){const n=(e.data(hi,"boundsData")||e.bounds)[w];0===t?(G=n,t++):n===G?t++:n>G&&(G=n,t=1)}t===L&&(G=NaN)}for(let t=0;t<L;t++){const e=y[t],n=y[t-1],a=y[t+1];if(a&&e.anchor(S,a.documentId),n&&e.anchor(v,n.documentId),O)V&&L>1&&_&&N(e,1),e.anchor(T,"parent");else{const r=yi(e),l=e.innerWrapped;if(o){if(r.horizontal)if(l){const t=r.leftRight?h.CENTER_HORIZONTAL:e.localizeString(r.left?"right":"left");l.mergeGravity("layout_gravity",t),X>0&&(e.flexbox.basis="0%",B.push(e))}else r.leftRight||(r.left?n&&e.anchorDelete(v):a&&e.anchorDelete(S))}else r.vertical&&(l?(l.mergeGravity("layout_gravity",r.topBottom?h.CENTER_VERTICAL:e.localizeString(r.top?"bottom":"top")),X>0&&(e.flexbox.basis="0%",B.push(e))):r.topBottom||(r.top?n&&e.anchorDelete(v):a&&e.anchorDelete(S)));switch(e.flexbox.alignSelf){case"start":case"flex-start":e.anchor(T,"parent");break;case"end":case"flex-end":e.anchor(E,"parent");break;case"baseline":o&&(null===F&&(F=mi(y)),F&&(F!==e?e.anchor("baseline",F.documentId):e.anchorParent(m,"packed")));break;case"center":e.anchorParent(m,"packed",.5),!o&&e.textElement&&e.mergeGravity("gravity","center");break;default:{const n=e.layoutFrame&&e.innerWrapped;switch(i){case"center":u%2==1&&f===Math.floor(u/2)?e.anchorParent(m):f<u/2?e.anchor(E,"parent"):f>=u/2&&e.anchor(T,"parent");break;case"space-evenly":case"space-around":n?n.mergeGravity("layout_gravity",o?h.CENTER_VERTICAL:h.CENTER_HORIZONTAL):e.anchorParent(m);break;case"space-between":M&&2===L&&e.anchorDelete(0===t?S:v),0===f?n?n.mergeGravity("layout_gravity",d?E:T):e.anchor(d?E:T,"parent"):u>2&&f<u-1?n?n.mergeGravity("layout_gravity",o?h.CENTER_VERTICAL:h.CENTER_HORIZONTAL):e.anchorParent(m):n?n.mergeGravity("layout_gravity",d?T:E):e.anchor(d?T:E,"parent");break;default:e.anchorParent(m),void 0!==l&&yi(e)[m]||e.anchorStyle(m,"packed",d?1:0),0===e[w]&&(!o&&e.blockStatic?fi(e,"match_parent",o):isNaN(G)?fi(e,!o&&!c&&e.length||I&&"normal"===i?I?"0px":"match_parent":"wrap_content",o):1===L?fi(e,o?"wrap_content":I?"0px":"match_parent",o):(e.naturalElement?(e.data(hi,"boundsData")||e.bounds)[w]:1/0)<G?(fi(e,e.flexElement&&e.css("flexDirection").startsWith(o?"row":"column")?"match_parent":"0px",o),!1===(null===(s=l)||void 0===s?void 0:s.autoMargin[p])&&fi(l,"match_parent",o)):(e.lockAttr("android","layout_"+w),fi(e,"wrap_content",o)))}break}}[W,H]=qe.setFlexDimension(e,R,W,H),(e.innerMostWrapped||e).has("flexGrow")||(D=!1)}e.anchored=!0,e.positioned=!0}if(D)for(const t of y)N(t,t.flexbox.grow);else if(X>0)for(const t of B){const e=yi(t);let n=1;o?e.leftRight&&(n=2):e.topBottom&&(n=2),N(t,Math.max(t.flexbox.grow,X*n/B.length))}if(C.anchor(b,"parent"),k.anchor(A,"parent"),!O&&(o||a)){let e=!1;if(P)switch(l){case"normal":a&&C.anchorStyle(p,"packed",r?1:0);break;case"left":if(!o)break;case"start":case"flex-start":C.anchorStyle(p,"packed",r?1:0);break;case"center":L>1&&C.anchorStyle(p,"packed",.5),e=!0;break;case"right":if(!o)break;case"end":case"flex-end":C.anchorStyle(p,"packed",1);break;case"space-between":1===L&&k.anchorDelete(A);break;case"space-evenly":L>1?C.anchorStyle(p,"spread"):e=!0;break;case"space-around":L>1?(C.constraint[p]=!1,k.constraint[p]=!1,n.addGuideline(C,t,p,!0,!1),n.addGuideline(k,t,p,!0,!0)):e=!0}M||!c&&y.some(t=>""!==t.app(x))&&!li(y,t=>t.app(x))?C.anchorStyle(p,"spread_inside",0,!1):e||C.anchorStyle(p,"packed",r?1:0,!1)}}};m(u,!0),m(p,!1)}}}var Ti=squared.base.LayoutUI;const Ai=squared.lib,Ei=squared.base.lib,{formatPX:vi}=Ai.css,{captureMap:Si,withinRange:xi}=Ai.util,Ri=Ei.constant.EXT_NAME.GRID;class wi extends squared.base.extensions.Grid{processNode(t,n){super.processNode(t,n);const i=t.data(Ri,"columnCount");if(i){const o=new Ti(n,t,e.GRID,4,t.children);return o.columnCount=i,{output:this.application.renderNode(o),complete:!0}}}processChild(t,e){var n;const i=t.data(Ri,"cellData");if(i){const o=null===(n=i.siblings)||void 0===n?void 0:n.slice(0);let a;if(o){const n=this.controller;if(o.unshift(t),a=n.processLayoutHorizontal(new Ti(e,n.createNodeGroup(t,o,e,!0),0,i.block?64:0,o)),t=a.node,i.block)t.css("display","block");else for(const t of o)t.percentWidth&&t.css("width",vi(t.bounds.width),!0);!function(t,e){const n=squared.base.extensions.Grid.createDataCellAttribute();for(const t of e){const e=t.data(Ri,"cellData");e&&(e.cellStart&&(n.cellStart=!0),e.cellEnd&&(n.cellEnd=!0),e.rowEnd&&(n.rowEnd=!0),e.rowStart&&(n.rowStart=!0),t.data(Ri,"cellData",null))}t.data(Ri,"cellData",n)}(t,o)}if(i.rowSpan>1&&t.android("layout_rowSpan",""+i.rowSpan),i.columnSpan>1&&t.android("layout_columnSpan",""+i.columnSpan),"table-cell"===t.display&&t.mergeGravity("layout_gravity","fill"),a)return{parent:a.node,renderAs:a.node,outputAs:this.application.renderNode(a),complete:!0}}}postConstraints(t){if("collapse"!==t.css("borderCollapse")){const e=t.data(Ri,"columnCount");if(e){let n=0,i=0,o=0,a=0;t.renderEach(r=>{var s;const l=r.data(Ri,"cellData");if(l){const c=r.actualParent;if(!1===(null===(s=c)||void 0===s?void 0:s.visible)){const s=1!==c.getBox(2)[0]?c.marginTop:0,d=1!==c.getBox(8)[0]?c.marginBottom:0;if(l.cellStart&&(n=s+c.paddingTop),l.rowStart&&(a=Math.max(c.marginLeft+c.paddingLeft,a)),l.rowEnd){const n=d+c.paddingBottom+(l.cellEnd?0:s+c.paddingTop);if(n>0)if(l.cellEnd)o=n;else{const i=this.controller;i.addAfterOutsideTemplate(r.id,i.renderSpace({width:"match_parent",height:"@dimen/"+M.insertStoredAsset("dimens",t.controlId+"_grid_space",vi(n)),columnSpan:e,android:{}}),!1)}i=Math.max(c.marginRight+c.paddingRight,i)}}}}),t.modifyBox(32,n),t.modifyBox(64,i),t.modifyBox(128,o),t.modifyBox(256,a)}}if(!t.hasWidth){let e=-1/0;Si(t.renderChildren,t=>t.inlineFlow||!t.blockStatic,t=>e=Math.max(e,t.linear.right)),xi(t.box.right,e)&&t.setLayoutWidth("wrap_content")}}}var Ii=squared.base.LayoutUI;const _i=squared.lib,Ni=squared.base.lib,{formatPX:Li,getBackgroundPosition:Ci}=_i.css,{convertInt:ki}=_i.util,Oi=Ni.constant.EXT_NAME.LIST;class Pi extends squared.base.extensions.List{processNode(t,n){const i=new Ii(n,t,0,0,t.children);if(!i.unknownAligned||i.singleRowAligned){if(super.processNode(t,n),i.linearY)i.rowCount=t.length,i.columnCount=t.some(t=>"inside"===t.css("listStylePosition"))?3:2,i.setContainerType(e.GRID,4);else{if(!i.linearX&&!i.singleRowAligned)return;i.rowCount=1,i.columnCount=i.length,i.setContainerType(e.LINEAR,8)}return{output:this.application.renderNode(i),complete:!0}}}processChild(t,n){const i=t.data(Oi,"mainData");if(i){const a=this.application,r=this.controller,s=n.firstStaticChild===t,l="inside"===t.css("listStylePosition"),c=t.marginTop;let d,h=i.ordinal||"",u=t.marginLeft,p=0,g=0,m=!1,f=NaN;if(t.modifyBox(16),n.is(e.GRID)?(g=ki(n.android("columnCount"))||1,m=!0):s&&(m=!0),m&&(u+=n.paddingLeft>0?n.paddingLeft:n.marginLeft),0===t.length){const{containerType:i,alignmentType:o}=r.containerTypeVertical;d=r.createNodeWrapper(t,n,void 0,{controlName:Dt.getControlName(e.LINEAR,t.api),containerType:i,alignmentType:o}),0!==c&&t.resetBox(2,d)}else d=t;let y=""===h?t.find(t=>"left"===t.float&&t.marginLeft<0&&Math.abs(t.marginLeft)<=t.documentParent.marginLeft):void 0;if(y){3===g&&t.android("layout_columnSpan","2"),y.hasWidth||(u+=y.marginLeft,u>0&&y.android("minWidth",Li(u))),y.parent=n,y.setControlType(o.TEXT,e.INLINE),y.modifyBox(16),y.render(n);const i=new Ii(n,y);y.inlineText||0===y.length?i.setContainerType(e.TEXT):(i.singleRowAligned?i.setContainerType(e.RELATIVE,8):i.setContainerType(e.CONSTRAINT,2),i.retain(y.children)),a.addLayoutTemplate(n,y,a.renderNode(i))}else{let r,s="right",c=0,b=0,T=0;if(""!==i.imageSrc){const e=this.resource;i.imagePosition&&(({top:b,left:T}=Ci(i.imagePosition,t.actualDimension,t.fontSize,e.getImage(i.imageSrc))),t.marginLeft<0?f=t.marginLeft+(n.paddingLeft>0?n.paddingLeft:n.marginLeft):(m=!1,p=t.marginLeft),u=t.paddingLeft-T,t.modifyBox(256),s=""),r=e.addImageSrc(i.imageSrc)}const A=Z();if(y=a.createNode({parent:n}),y.childIndex=t.childIndex,y.containerName=t.containerName+"_ORDINAL",y.inherit(t,"textStyle"),""===h||/\.$/.test(h)||(y.fontSize*=.75),"right"===s&&(r?(c=Math.max(u/6,4),u-=c):""!==h&&(h+="&#160;".repeat(1===h.length?3:2))),3===g&&d.android("layout_columnSpan","2"),"DT"!==t.tagName||r){r?(y.setControlType(o.IMAGE,e.IMAGE),Object.assign(A.android,{src:"@drawable/"+r,scaleType:"right"!==s||l?"fitStart":"fitEnd",baselineAlignBottom:m?"true":""})):""!==h?(y.textContent=h,y.inlineText=!0,y.setControlType(o.TEXT,e.TEXT),"DFN"===t.tagName&&(u+=8,y.modifyBox(64,8))):(y.setControlType(o.SPACE,e.SPACE),y.renderExclude=!1,t.modifyBox(256));const{paddingTop:i,lineHeight:d}=t;y.cssApply({minWidth:u>0?Li(u):"",marginLeft:p>0?Li(p):"",paddingTop:i>0&&0===t.getBox(32)[0]?Li(i):"",paddingRight:c>0?Li(c):"",lineHeight:d>0?Li(d):""}),y.apply(A),y.modifyBox(256,2),y.cssTry("display","block")&&(y.setBounds(),y.cssFinally("display")),y.saveAsInitial(),""!==s&&y.mergeGravity("gravity",t.localizeString(s)),0!==b&&y.modifyBox(2,b),0!==T&&y.modifyBox(16,T),y.render(n),a.addLayoutTemplate(n,y,{type:1,node:y,controlName:y.controlName})}else d.android("layout_columnSpan",""+g)}if(0!==c&&(y.modifyBox(2,c),y.companion=d,this.subscribers.add(y)),y.positioned=!0,m&&((isNaN(f)||f<=0)&&n.modifyBox(n.paddingLeft>0?256:16),f<0&&n.modifyBox(16,f)),g>0&&(d.setLayoutWidth("0px"),d.android("layout_columnWeight","1")),t!==d)return{parent:d,renderAs:d,outputAs:a.renderNode(new Ii(n,d,e.LINEAR,18,d.children))}}}postConstraints(t){const e=!t.naturalChild&&t.companion;if(e){const[n,i]=e.getBox(2),o=t.getBox(2)[1];t.modifyBox(2,(1===n?0:i)-o)}}}const{convertFloat:Mi}=squared.lib.util;class Bi extends squared.base.extensions.Relative{postOptimize(t){super.postOptimize(t),t.imageOrSvgElement&&t.alignSibling("baseline")&&0!==Mi(t.verticalAlign)&&"invisible"===t.android("visibility")&&t.android("baselineAlignBottom","true")}}var Di=squared.base.LayoutUI;const{formatPX:Wi}=squared.lib.css,Hi=squared.base.lib,{APP_SECTION:Gi,NODE_PROCEDURE:Xi,NODE_RESOURCE:Vi}=Hi.enumeration,Fi=Hi.constant.EXT_NAME.SPRITE;class Ui extends squared.base.extensions.Sprite{processNode(t,n){const i=t.data(Fi,"mainData");if(i){const a=this.resource.addImageSrc(t.backgroundImage);if(""!==a){const{width:r,height:s}=i.image,{top:l,left:c}=i.position,d=this.application.createNode({parent:n,replace:t});return d.inherit(t,"base","initial","styleMap"),d.setControlType(o.FRAME,e.FRAME),d.exclude({resource:Vi.ASSET,procedure:Xi.CUSTOMIZATION,section:Gi.ALL}),t.setControlType(o.IMAGE,e.IMAGE),t.exclude({resource:Vi.FONT_STYLE|Vi.BOX_STYLE}),t.cssApply({position:"static",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"inline-block",width:r>0?Wi(r):"auto",height:s>0?Wi(s):"auto",marginTop:Wi(l),marginRight:"0px",marginBottom:"0px",marginLeft:Wi(c),paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px",backgroundPositionX:"0px",backgroundPositionY:"0px",backgroundColor:"transparent"}),t.unsetCache(),t.android("src","@drawable/"+a),{renderAs:d,outputAs:this.application.renderNode(new Di(n,d,e.FRAME,4096,d.children)),parent:d,complete:!0}}}}}const{getDataSet:zi}=squared.lib.css;squared;class qi extends squared.base.ExtensionUI{constructor(t,e,n,o){super(t,e,n,o),this.require(i.EXTERNAL,!0)}processNode(t,n){const i=zi(t.element,this.name),o=i.tag;if(o){t.containerType=t.blockStatic?e.BLOCK:e.INLINE,t.setControlType(o),t.render(n);const a=i.tagChild;if(a){const e=this.name;t.addAlign(4),t.each(t=>{if(t.styleElement){const n=t.dataset;n.use=e,n.androidSubstituteTag=a}})}return{output:{type:1,node:t,controlName:o}}}}postOptimize(t){t.apply(M.formatOptions(Z(this.options[t.elementId]),this.application.extensionManager.optionValueAsBoolean(i.RESOURCE_STRINGS,"numberResourceValue")))}}var ji=squared.base.LayoutUI;const Yi=squared.lib,Zi=squared.base.lib,{formatPX:$i}=Yi.css,{aboveRange:Ki,convertFloat:Ji,convertInt:Qi,trimEnd:to}=Yi.util,{UNITZERO:eo}=Yi.regex.CHAR,no=Zi.constant.EXT_NAME.TABLE;function io(t){t.hasPX("height")&&t.height+t.contentBoxHeight<Math.floor(t.bounds.height)&&"top"!==t.css("verticalAlign")&&t.setLayoutHeight("wrap_content")}class oo extends squared.base.extensions.Table{processNode(t,n){super.processNode(t,n);const i=t.data(no,"mainData");if(i){let o=!1;i.columnCount>1?(o=i.expand,t.each(t=>{const e=t.data(no,"cellData");if(eo.test(t.css("width")))t.android("layout_columnWeight",t.toElementString("colSpan","1")),t.setLayoutWidth("0px");else{const n=e.expand;if(n){const n=Ji(e.percent)/100;n>0&&(t.setLayoutWidth("0px"),t.android("layout_columnWeight",to(n.toPrecision(3),"0")),o||(o=!t.hasWidth))}else!1===n&&t.android("layout_columnWeight","0");if(e.downsized)if(e.exceed)t.setLayoutWidth("0px"),t.android("layout_columnWeight","0.01");else if(t.hasPX("width")){const e=t.bounds.width;t.actualWidth<e&&t.setLayoutWidth($i(e))}}"TD"===t.tagName&&t.setSingleLine(!0),io(t)})):t.each(t=>{t.has("width",4)&&(t.setLayoutWidth("wrap_content"),o=!0),io(t)}),o?n.hasPX("width")&&Ki(t.actualWidth,n.actualWidth)?t.setLayoutWidth("match_parent"):t.css("width",$i(t.actualWidth)):t.hasPX("width")&&t.actualWidth<Math.floor(t.bounds.width)&&(i.layoutFixed?t.android("width",$i(t.bounds.width)):(t.hasPX("minWidth")||t.android("minWidth",$i(t.actualWidth)),t.css("width","auto"))),t.hasPX("height")&&t.actualHeight<Math.floor(t.bounds.height)&&(t.hasPX("minHeight")||t.android("minHeight",$i(t.actualHeight)),t.css("height","auto"));const a=new ji(n,t,e.GRID,4,t.children);return a.rowCount=i.rowCount,a.columnCount=i.columnCount,{output:this.application.renderNode(a),complete:!0}}}processChild(t,e){const n=t.data(no,"cellData");if(n){const{rowSpan:i,colSpan:o,spaceSpan:a}=n;if(i>1&&t.android("layout_rowSpan",""+i),o>1&&t.android("layout_columnSpan",""+o),a){const e=this.controller;e.addAfterOutsideTemplate(t.id,e.renderSpace({width:"wrap_content",height:"wrap_content",columnSpan:a,android:{}}),!1)}t.mergeGravity("layout_gravity","fill"),"hide"===e.css("empty-cells")&&0===t.naturalChildren.length&&""===t.textContent&&t.hide(!0)}}postOptimize(t){const e=Qi(t.layoutWidth);if(e>0){const n=t.bounds.width;n>e&&t.setLayoutWidth($i(n)),"auto"===t.cssInitial("width")&&t.renderChildren.every(t=>t.inlineWidth)&&t.renderEach(t=>{t.setLayoutWidth("0px"),t.android("layout_columnWeight","1")})}}}var ao=squared.base.LayoutUI;squared;class ro extends squared.base.extensions.VerticalAlign{processNode(t,n){return super.processNode(t,n),{output:this.application.renderNode(new ao(n,t,e.RELATIVE,8,t.children))}}}class so extends squared.base.extensions.WhiteSpace{constructor(){super(...arguments),this.eventOnly=!0}}var lo=squared.base.LayoutUI;const co=squared.lib,{formatPX:ho}=co.css,{withinRange:uo}=co.util;squared;class po extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={circlePosition:!1}}is(t){return this.included(t.element)}condition(t){return t.length>0}processNode(t,n){return{output:this.application.renderNode(new lo(n,t,e.CONSTRAINT,32,t.children))}}postBaseLayout(t){const e=this.controller,n=this.options.circlePosition,{left:i,top:o}=t.box;let a;if(t.each(t=>{const e=t.linear;if(uo(e.left,i)&&(t.anchor("left","parent"),t.anchorStyle(h.HORIZONTAL)),uo(e.top,o)&&(t.anchor("top","parent"),t.anchorStyle(h.VERTICAL)),n)if(t.anchored)a=t;else{const{horizontal:e,vertical:n}=t.constraint;a?!a.constraint.vertical&&n&&(a=t):n?a=t:e&&(a=t)}t.positioned=!0}),n){void 0===a&&(a=t.item(0)),a.anchored||e.addGuideline(a,t);const{x:n,y:i}=a.center;t.each(t=>{if(t!==a){const{x:e,y:o}=t.center,r=Math.abs(e-n),s=Math.abs(o-i),l=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(s,2)));let c=Math.round(Math.atan(Math.min(r,s)/Math.max(r,s))*(180/Math.PI));o>i?e>n?r>s?c+=90:c=180-c:r>s?c=270-c:c+=180:o<i?n>e?r>s?c+=270:c=360-c:r>s&&(c=90-c):c=e>n?90:270,t.app("layout_constraintCircle",a.documentId),t.app("layout_constraintCircleRadius",ho(l)),t.app("layout_constraintCircleAngle",""+c)}})}else t.each(n=>{n.anchored||e.addGuideline(n,t)})}}var go=squared.base.LayoutUI;const{resolveURL:mo}=squared.lib.css,{NODE_RESOURCE:fo}=squared.base.lib.enumeration,yo=t=>!t.blockStatic||t.hasPX("width")||t.has("maxWidth",6,{not:"100%"});class bo extends squared.base.ExtensionUI{is(t){return t.documentBody}condition(t){const e=t.visibleStyle;return((t,e)=>""!==t.backgroundColor&&e.borderWidth&&!t.inline&&"100%"!==t.css("height")&&"100%"!==t.css("minHeight")&&!t.actualParent.visibleStyle.background||e.backgroundImage&&e.backgroundRepeatY)(t,e)||((t,e)=>e.backgroundImage&&(t.marginTop>0||t.marginRight>0||t.marginBottom>0||t.marginLeft>0))(t,e)}processNode(t,n){var i;const a=this.controller;let r,s=t.outerMostWrapper;if(s){r=s.parent;const t=r.renderChildren,e=t.findIndex(t=>t===s);-1!==e?(t.splice(e,1),null===(i=r.renderTemplates)||void 0===i||i.splice(e,1),s.rendered=!1,s.renderParent=void 0):(s=null,r=void 0)}const l=s||t,c=r||n,{backgroundColor:d,visibleStyle:h}=t,u=((t,e)=>!0===t.actualParent.visibleStyle.background&&(yo(t)&&"100%"!==t.css("height")&&"100%"!==t.css("minHeight")||e.backgroundImage&&(e.backgroundRepeatY||t.css("backgroundPositionY").includes("bottom"))))(t,h);let p,g;""!==d&&(p=a.createNodeWrapper(l,c),p.unsafe("excludeResource",fo.BOX_SPACING),p.css("backgroundColor",d),p.setCacheValue("backgroundColor",d),u?(p.setLayoutWidth(yo(t)?"wrap_content":"match_parent"),p.setLayoutHeight("wrap_content")):(p.setLayoutWidth("match_parent"),p.setLayoutHeight("match_parent")),p.unsetCache("visibleStyle"),t.css("backgroundColor","transparent"),t.setCacheValue("backgroundColor",""),h.backgroundColor=!1);const m=t.backgroundImage;if(""!==m){const n=this.application.resourceHandler.getImage(mo(m)),i=!!n&&n.height<t.actualHeight;(void 0===p||u||c.visibleStyle.background||!h.backgroundRepeatY||i)&&(p?(g=p,g.setControlType(o.FRAME,e.FRAME),g.addAlign(4096),g.render(c),this.application.addLayoutTemplate(c,p,{type:1,node:p,controlName:p.controlName}),p=a.createNodeWrapper(l,g),p.documentRoot=!1,g.documentRoot=!0):p=a.createNodeWrapper(l,c)),p.setLayoutWidth("match_parent"),p.unsafe("excludeResource",fo.BOX_SPACING);const r=c.cssInitial("height"),s=c.cssInitial("minHeight");let d;if(""===r&&""===s)p.setLayoutHeight(!u&&(h.backgroundRepeatY||n&&!i||t.has("backgroundSize"))?"match_parent":"wrap_content");else{if("100%"!==r&&"100%"!==s){const t=c.toElementInt("offsetHeight");t<window.innerHeight&&(d=`auto ${t}px`)}p.setLayoutHeight("match_parent")}p.cssApply({backgroundImage:m,backgroundSize:d||t.css("backgroundSize"),backgroundRepeat:t.css("backgroundRepeat"),backgroundPositionX:t.css("backgroundPositionX"),backgroundPositionY:t.css("backgroundPositionY"),backgroundClip:t.css("backgroundClip"),border:"0px none solid",borderRadius:"0px"}),p.setCacheValue("backgroundImage",m),p.unsetCache("visibleStyle"),t.css("backgroundImage","none"),t.setCacheValue("backgroundImage",""),h.backgroundImage=!1}return h.background=h.borderWidth||h.backgroundImage||h.backgroundColor,p?s?(s.render(p),this.application.addLayoutTemplate(p,s,{type:1,node:s,controlName:s.controlName}),{parent:s,parentAs:c,renderAs:p,outputAs:this.application.renderNode(new go(c,p,e.FRAME,4096,p.children))}):{parent:p,parentAs:g,renderAs:p,outputAs:this.application.renderNode(new go(g||n,p,e.FRAME,4096,p.children)),remove:!0}:{remove:!0}}}var To=squared.base.LayoutUI;const Ao=squared.base,{NODE_RESOURCE:Eo}=Ao.lib.enumeration,vo=Ao.extensions.CssGrid,So=t=>"space-between"===t?"match_parent":"wrap_content";class xo extends squared.base.ExtensionUI{is(t){return t.gridElement}condition(t){return vo.isJustified(t)||vo.isAligned(t)}processNode(t,n){const i=this.controller.createNodeWrapper(t,n,void 0,{controlName:Dt.getControlName(e.CONSTRAINT,t.api),containerType:e.CONSTRAINT,resource:Eo.ASSET,resetMargin:!t.documentBody});i.inherit(t,"styleMap","boxStyle"),vo.isJustified(t)?t.setLayoutWidth(So(t.css("justifyContent"))):t.hasPX("width",!1)?t.setLayoutWidth("match_parent"):i.setLayoutWidth(t.blockStatic?"match_parent":"wrap_content"),vo.isAligned(t)?t.setLayoutHeight(So(t.css("alignContent"))):t.hasPX("height",!1)?t.setLayoutHeight("match_parent"):i.setLayoutHeight("wrap_content"),i.unsetCache("contentBoxWidth","contentBoxHeight");const o=t.visibleStyle;return o.background=!1,o.backgroundImage=!1,o.backgroundColor=!1,o.borderWidth=!1,{parent:i,renderAs:i,outputAs:this.application.renderNode(new To(n,i,e.CONSTRAINT,4096,i.children)),include:!0}}}var Ro=squared.base.LayoutUI;const{aboveRange:wo,belowRange:Io}=squared.lib.util;squared;class _o extends squared.base.ExtensionUI{is(t){return t.naturalElement&&(t.contentBoxWidth>0||t.contentBoxHeight>0||t.documentBody)}condition(t){const e=t.filter(t=>!t.pageFlow&&t.leftTopAxis&&t.left>=0&&t.right>=0);if(e.length){const n=t.paddingTop+(t.documentBody?t.marginTop:0),o=t.paddingRight+(t.documentBody?t.marginRight:0),a=t.paddingBottom+(t.documentBody?t.marginBottom:0),r=t.paddingLeft+(t.documentBody?t.marginLeft:0),s=new Set;let l=!1,c=!1;for(const i of e){const e="fixed"===i.css("position");if(i.hasPX("left")){const t=i.left;t>=0&&t<r&&s.add(i)}else if(i.hasPX("right")){const n=i.right;n>=0&&(e||n<o||t.documentBody&&t.hasPX("width")&&t.positionStatic)&&(s.add(i),l=!0)}else i.rightAligned?i.marginRight<0&&(t.documentRoot||wo(i.linear.right,t.bounds.right))&&s.add(i):i.marginLeft<0&&(t.documentRoot||Io(i.linear.left,t.bounds.left))&&s.add(i);if(i.hasPX("top")){const t=i.top;t>=0&&t<n&&s.add(i)}else if(i.hasPX("bottom")){const n=i.bottom;n>=0&&(e||n<a||t.documentBody&&t.hasPX("height")&&t.positionStatic)&&(s.add(i),c=!0)}}if(s.size)return t.data(i.DELEGATE_FIXED,"mainData",{children:Array.from(s),right:l,bottom:c}),!0}return!1}processNode(t,n){const o=t.data(i.DELEGATE_FIXED,"mainData");if(o){const i=this.controller.createNodeWrapper(t,n,o.children,{resetMargin:!t.documentId&&!t.pageFlow});if(t.documentBody){let t=!1;o.right&&(i.setLayoutWidth("match_parent"),t=!0),o.bottom&&(i.setLayoutHeight("match_parent"),t=!0),t&&i.cssApply({width:"auto",height:"auto",display:"block",float:"none"})}t.pageFlow||(!t.hasPX("width")&&t.has("left")&&t.has("right")&&t.setLayoutWidth("match_parent"),!t.hasPX("height")&&t.has("top")&&t.has("bottom")&&t.setLayoutHeight("match_parent"));for(const e of o.children){const n=e.autoMargin;let i=!1,o=!1;e.hasPX("top")&&(e.modifyBox(2,t.borderTopWidth),i=!0),e.hasPX("bottom")&&(!i||n.top||n.topBottom)&&e.modifyBox(8,t.borderBottomWidth),e.hasPX("left")&&(e.modifyBox(16,t.borderLeftWidth),o=!0),e.hasPX("right")&&(!o||n.left||n.leftRight)&&e.modifyBox(4,t.borderRightWidth)}return this.subscribers.add(i),{parent:i,renderAs:i,outputAs:this.application.renderNode(new Ro(n,i,e.CONSTRAINT,32,i.children))}}}postBaseLayout(t){var e,n;const o=t.innerMostWrapped;if(o){const a=o.data(i.DELEGATE_MAXWIDTHHEIGHT,"mainData");(null===(n=null===(e=a)||void 0===e?void 0:e.container)||void 0===n?void 0:n.outerWrapper)===t&&(a.width&&(t.css("maxWidth",o.css("maxWidth")),t.setLayoutWidth("0px"),t.contentBoxWidth=o.contentBoxWidth,o.setLayoutWidth("wrap_content",!1)),a.height&&(t.css("maxHeight",o.css("maxHeight")),t.setLayoutHeight("0px"),t.contentBoxHeight=o.contentBoxHeight,o.setLayoutHeight("wrap_content",!1)))}}}var No=squared.base.LayoutUI;squared;class Lo extends squared.base.ExtensionUI{is(t){return!t.inputElement&&!t.support.maxDimension}condition(t,e){const n=t.hasPX("maxWidth")&&(t.blockStatic||e.layoutVertical||t.onlyChild&&(e.blockStatic||e.hasWidth)||e.layoutFrame)&&!e.layoutElement&&!(e.layoutConstraint&&e.blockStatic&&e.naturalChildren.every(t=>t.pageFlow&&t.naturalChildren.every(t=>t.pageFlow)))&&!(e.hasAlign(256)&&e.hasAlign(4)),o=t.hasPX("maxHeight")&&(e.hasHeight||e.gridElement||e.tableElement);return!(!n&&!o)&&(t.data(i.DELEGATE_MAXWIDTHHEIGHT,"mainData",{width:n,height:o}),!0)}processNode(t,n){const o=t.data(i.DELEGATE_MAXWIDTHHEIGHT,"mainData");if(o){const i=this.controller.createNodeWrapper(t,n,void 0,{controlName:Dt.getControlName(e.CONSTRAINT,t.api),containerType:e.CONSTRAINT});if(i.addAlign(64),o.width&&(t.setLayoutWidth("0px"),i.setLayoutWidth("match_parent"),n.layoutElement)){const e=t.autoMargin;e.horizontal=!1,e.left=!1,e.right=!1,e.leftRight=!1}if(o.height&&(t.setLayoutHeight("0px"),i.setLayoutHeight("match_parent"),n.layoutElement)){const e=t.autoMargin;e.vertical=!1,e.top=!1,e.bottom=!1,e.topBottom=!1,o.width||!t.blockStatic||t.hasWidth||t.setLayoutWidth("match_parent",!1)}return o.container=i,{parent:i,renderAs:i,outputAs:this.application.renderNode(new No(n,i,i.containerType,4096,i.children))}}}}var Co=squared.base.LayoutUI;squared;class ko extends squared.base.ExtensionUI{is(t){return!t.pageFlow}condition(t,e){if(e.documentRoot){const n=e.box,i=t.linear;return Math.ceil(i.left)<Math.floor(n.left)&&(t.left<0||t.marginLeft<0||!t.hasPX("left")&&t.right>0)||Math.floor(i.right)>Math.ceil(n.right)&&(t.left>0||t.marginLeft>0||!t.hasPX("left")&&t.right<0)||Math.ceil(i.top)<Math.floor(n.top)&&(t.top<0||t.marginTop<0||!t.hasPX("top")&&t.bottom>0)||Math.floor(i.bottom)>Math.ceil(n.bottom)&&(t.top>0||t.marginTop>0||!t.hasPX("top")&&t.bottom<0)&&e.hasPX("height")}return!1}processNode(t,n){const i=this.controller.createNodeWrapper(t,n);return{parent:i,renderAs:i,outputAs:this.application.renderNode(new Co(n,i,e.FRAME,4096,i.children)),include:!0}}}var Oo=squared.base.LayoutUI;const{formatPX:Po}=squared.lib.css;squared;function Mo(t,e){return t.pageFlow?t===e.firstChild&&t.inlineFlow&&!t.centerAligned&&!t.rightAligned&&t.marginLeft<0&&Math.abs(t.marginLeft)<=e.marginLeft+e.paddingLeft&&!e.some(t=>t.multiline):t.absoluteParent===e&&(t.left<0||!t.hasPX("left")&&t.right<0)}class Bo extends squared.base.ExtensionUI{is(t){return!t.documentRoot&&"hidden"!==t.css("overflowX")}condition(t){return t.some(e=>Mo(e,t))}processNode(t,n){const o=t.filter(e=>Mo(e,t)),a=this.controller.createNodeWrapper(t,n,o,{controlName:Dt.getControlName(e.CONSTRAINT,t.api),containerType:e.CONSTRAINT});t.resetBox(10,a);let r,s=NaN,l=NaN;for(const t of o){const e=t.linear;t.pageFlow?((isNaN(s)||e.left<s)&&(s=e.left),r=t):t.hasPX("left")?t.left<0&&(isNaN(s)||e.left<s)&&(s=e.left):t.right<0&&(isNaN(l)||e.right>l)&&(l=e.right)}if(a.inherit(t,"styleMap"),!isNaN(s)){let e=t.linear.left-s;if(e>0){t.modifyBox(16,e);for(const t of o)!t.pageFlow&&t.left<0&&t.css("left",Po(t.left+e),!0)}else{for(const e of o)!e.pageFlow&&e.left<0&&e.css("left",Po(t.marginLeft+e.left),!0);e=Math.abs(e)}t.hasPX("width",!1)?a.cssPX("width",Math.max(t.marginLeft,0)+e,!1):t.percentWidth&&a.css("width","auto")}if(!isNaN(l)){const e=t.linear.right,n=t.marginRight;let i=l-e;i>n?(i-=n,t.modifyBox(4,i)):i=0;const r=e+i;n>0&&(i+=n),i>0&&(t.hasPX("width",!1)||!t.blockStatic&&!t.hasPX("width"))&&a.css(a.hasPX("width")?"width":"minWidth",Po(t.actualWidth+i),!0);for(const t of o)t.right<0&&t.css("right",Po(r-t.linear.right),!0)}return a.data(i.DELEGATE_NEGATIVEX,"mainData",{offsetLeft:t.marginLeft+t.paddingLeft,firstChild:r,nextSibling:t}),this.subscribers.add(a),{parent:a,renderAs:a,outputAs:this.application.renderNode(new Oo(n,a,a.containerType,4104,a.children))}}postBaseLayout(t){const e=t.data(i.DELEGATE_NEGATIVEX,"mainData");if(e){const n={excluding:t,attr:"outerWrapper"};let i=e.firstChild;i&&(i=i.ascend(n).pop()||i,i.anchorParent(h.HORIZONTAL,"packed"),i.anchorParent(h.VERTICAL,"packed"),i.modifyBox(16,e.offsetLeft),qe.setConstraintDimension(i),i.positioned=!0);const o=e.nextSibling.ascend(n).pop()||e.nextSibling;o.anchorParent(h.HORIZONTAL,"packed"),o.anchorParent(h.VERTICAL,"packed"),qe.setConstraintDimension(o),o.positioned=!0}}}var Do=squared.base.LayoutUI;squared;const Wo=t=>!t.documentParent.layoutElement&&!/^table/.test(t.display);class Ho extends squared.base.ExtensionUI{is(t){return t.pageFlow}condition(t,e){return t.percentWidth&&!e.layoutConstraint&&"100%"!==t.cssInitial("width")&&(t.documentRoot||t.hasPX("height")||(e.layoutVertical||t.onlyChild)&&(e.blockStatic||e.hasPX("width")))?Wo(t):!(!t.percentHeight||"100%"===t.cssInitial("height")||!(t.documentRoot||e.hasHeight&&t.onlyChild))&&Wo(t)}processNode(t,n){const i=this.controller.createNodeWrapper(t,n,void 0,{resetMargin:!0});return t.percentWidth?(i.css("display","block"),i.setLayoutWidth("match_parent"),t.setLayoutWidth("100%"===t.cssInitial("width")?"match_parent":"0px")):i.setLayoutWidth("wrap_content"),t.percentHeight?(i.setLayoutHeight("match_parent"),t.setLayoutHeight("100%"===t.cssInitial("height")?"match_parent":"0px")):i.setLayoutHeight("wrap_content"),{parent:i,renderAs:i,outputAs:this.application.renderNode(new Do(n,i,e.CONSTRAINT,4096,i.children)),include:!0}}}const{getElementAsNode:Go}=squared.lib.session,Xo=squared.base,{NODE_RESOURCE:Vo}=Xo.lib.enumeration,Fo=Xo.NodeUI;function Uo(t,e){let n=!1;const i=t.length;for(let o=0;o<i;o++){const i=t[o];i.toElementBoolean("checked")&&i.android("checked","true"),!n&&i.baseline&&i.parent===e&&e.layoutLinear&&(0===o||e.layoutHorizontal)&&(e.android("baselineAlignedChildIndex",""+o),n=!0),i.positioned=!0}return n}const zo=t=>t.name?t.name.trim():"";class qo extends squared.base.ExtensionUI{is(t){return t.is(e.RADIO)}condition(t){return""!==zo(t.element)&&!t.positioned}processNode(t,n){var i;const a=zo(t.element),r=[],s=[];let l=-1,c=-1;n.each((n,i)=>{const o=n.renderAs;let d;if(o&&(o!==t&&(d=n),n=o),n.is(e.RADIO)&&!n.rendered&&zo(n.element)===a)r.push(n),-1===l&&(l=i),c=i;else if(!n.visible){const t=n.labelFor;t&&r.includes(t)&&(c=i)}d&&s.push(d)});let d=r.length;if(d>1){const i=Fo.linearData(n.children.slice(l,c+1)).linearX,a=this.controller.createNodeGroup(t,r,n,!0),d=o.RADIOGROUP;i?(a.addAlign(136),a.android("orientation",h.HORIZONTAL)):(a.addAlign(16),a.android("orientation",h.VERTICAL)),a.setControlType(d,e.LINEAR),a.inherit(t,"alignment"),a.exclude({resource:Vo.ASSET});const u=t.dataset;a.render(u.target&&!u.use?this.application.resolveTarget(u.target):n),Uo(r,a)||(a.css("verticalAlign","middle"),a.setCacheValue("baseline",!1),a.setCacheValue("verticalAlign","middle"));for(const t of s)t.hide();return this.subscribers.add(a),{renderAs:a,outputAs:{type:1,node:a,controlName:d},parent:a,complete:!0}}{r.length=0;const n=zo(t.element),a=t.sessionId;if(document.querySelectorAll(`input[type=radio][name=${n}]`).forEach(t=>{const e=Go(t,a);e&&r.push(e)}),d=r.length,d>1&&r.includes(t)){const t=o.RADIOGROUP,n=new Map;for(const e of r){const i=e.ascend({condition:t=>t.layoutLinear,error:e=>e.controlName===t,every:!0});if(!i.length){n.clear();break}for(const t of i){const e=(n.get(t)||0)+1;n.set(t,e)}}for(const[o,a]of n.entries())if(a===d){o.unsafe("controlName",t),o.containerType=e.RADIO;const n=o.renderParent;if(n){const e=null===(i=n.renderTemplates)||void 0===i?void 0:i.find(t=>{var e;return(null===(e=t)||void 0===e?void 0:e.node)===o});e&&(e.controlName=t)}return void Uo(r,o)}}}}postBaseLayout(t){t.renderEach(e=>{e.naturalElement&&e.toElementBoolean("checked")&&t.android("checkedButton",e.documentId)})}}const{formatPX:jo}=squared.lib.css,{NODE_RESOURCE:Yo}=squared.base.lib.enumeration;class Zo extends squared.base.ExtensionUI{is(t){return t.length>0}condition(t){return t.overflowX&&t.hasPX("width")||t.overflowY&&t.hasHeight&&t.hasPX("height")||this.included(t.element)}processNode(t,n){const i=[],r=[],s=o.HORIZONTAL_SCROLL,l=t.api<29?o.VERTICAL_SCROLL:a.VERTICAL_SCROLL;if(t.overflowX&&t.overflowY)i.push(s,l);else if(t.overflowX)i.push(s);else if(t.overflowY)i.push(l);else{let e=0;t.hasPX("width")&&(e|=8,i.push(s)),t.hasHeight&&t.hasPX("height")&&(e|=16,i.push(l)),t.overflow=e}if(i.includes(s)){const e=[];let n=t.actualWidth-t.contentBoxWidth,o=!0,a=0;if(t.each(t=>{if(t.textElement&&"nowrap"!==t.css("whiteSpace"))e.push(t);else{const e=t.actualWidth;if(e<=n)return;e>a&&(a=e)}o=!1}),o?i.shift():a>n&&(n=a),i.length)for(const t of e)t.css("maxWidth",jo(n),!0)}const c=i.length;if(c){for(let o=0;o<c;o++){let a;0===o?(a=this.application.createNode({element:t.element,parent:n}),a.inherit(t,"base","initial","styleMap"),n.appendTry(t,a)):(a=this.application.createNode({parent:n}),a.inherit(t,"base"),a.exclude({resource:Yo.BOX_STYLE})),a.setControlType(i[o],e.BLOCK),a.exclude({resource:Yo.ASSET}),a.resetBox(480),a.childIndex=t.childIndex,r.push(a)}for(let e=0;e<c;e++){const i=r[e];switch(i.controlName){case l:t.setLayoutHeight("wrap_content"),i.setLayoutHeight(jo(t.actualHeight)),i.android("scrollbars",h.VERTICAL),i.cssApply({width:1===c&&t.css("width")||"auto",overflow:"scroll visible",overflowX:"visible",overflowY:"scroll"});break;case s:t.setLayoutWidth("wrap_content"),i.setLayoutWidth(jo(t.actualWidth)),i.android("scrollbars",h.HORIZONTAL),i.cssApply({height:1===c&&t.css("height")||"auto",overflow:"visible scroll",overflowX:"scroll",overflowY:"visible"})}if(0===e){const e=t.dataset;i.render(e.target&&!e.use?this.application.resolveTarget(e.target):n)}else i.render(r[e-1]);i.unsetCache(),this.application.addLayoutTemplate(i.renderParent||n,i,{type:1,node:i,controlName:i.controlName})}for(let e=c-1,i=0;e>=0;e--,i++){const o=r[e];0===i?(n=o,o.innerWrapped=t):o.innerWrapped=n}return t.overflow=0,t.exclude({resource:Yo.BOX_STYLE}),t.resetBox(30,r[0]),t.parent=n,{parent:n}}}}var $o={shape:{"@":["xmlns:android","android:shape"],">":{solid:{"^":"android","@":["color"]},gradient:{"^":"android","@":["type","startColor","endColor","centerColor","angle","centerX","centerY","gradientRadius","visible"]},corners:{"^":"android","@":["radius","topLeftRadius","topRightRadius","bottomRightRadius","bottomLeftRadius"]},stroke:{"^":"android","@":["width","color","dashWidth","dashGap"]}}}},Ko={"layer-list":{"@":["xmlns:android"],">":{item:{"^":"android","@":["left","top","right","bottom","drawable","width","height","gravity"],">":{shape:$o.shape,bitmap:{"^":"android","@":["src","gravity","tileMode","tileModeX","tileModeY"]},rotate:{"^":"android","@":["drawable","fromDegrees","toDegrees","pivotX","pivotY","visible"]}}}}}};const Jo={path:{"^":"android","@":["name","fillColor","fillAlpha","fillType","strokeColor","strokeAlpha","strokeWidth","strokeLineCap","strokeLineJoin","strokeMiterLimit","trimPathStart","trimPathEnd","trimPathOffset","pathData"],">":{"aapt:attr":{"@":["name"],">":{gradient:{"^":"android","@":["type","startColor","endColor","centerColor","angle","startX","startY","endX","endY","centerX","centerY","gradientRadius","tileMode"],">":{item:{"^":"android","@":["offset","color"]}}}}}}}},Qo={group:{"^":"android","@":["name","rotation","scaleX","scaleY","translateX","translateY","pivotX","pivotY"],">>":!0,">":{"clip-path":{"^":"android","@":["name","pathData"]},path:Jo.path},"#":"include"}};var ta={vector:{"@":["xmlns:android","xmlns:aapt","android:name","android:width","android:height","android:viewportWidth","android:viewportHeight","android:alpha"],">":{path:Jo.path},"#":"include"}};const ea=squared.lib,{reduceRGBA:na}=ea.color,{formatPercent:ia,formatPX:oa,getBackgroundPosition:aa,isLength:ra,isPercent:sa}=ea.css,{truncate:la}=ea.math,{CHAR:ca,CSS:da,XML:ha}=ea.regex,{flatArray:ua,isEqual:pa,resolvePath:ga}=ea.util,{applyTemplate:ma}=ea.xml,{NODE_RESOURCE:fa}=squared.base.lib.enumeration;function ya(t,e=-1,n=!1){const{style:i,color:o}=t,a=Oa(t.width),r=Pa(o);switch(i){case"solid":break;case"dotted":r.dashWidth=oa(a),r.dashGap=r.dashWidth;break;case"dashed":{let t,e;switch(a){case 1:case 2:t=3*a,e=t-1;break;case 3:t=6,e=3;break;default:t=2*a,e=4}r.dashWidth=oa(t),r.dashGap=oa(e);break}case"inset":case"outset":case"groove":case"ridge":{const t=o.rgba;let r=1;if(1===a)"inset"!==i&&"outset"!==i||(r=.5);else{const o=t.r===t.g&&t.g===t.b;let a=0;if("ridge"===i?(n=!n,a+=.25):"groove"===i?a+=.25:o?"inset"===i&&(n=!n):"outset"===i&&(n=!n),n)switch(e){case 0:case 3:e=1;break;case 1:case 2:e=0}switch(e){case 0:case 3:o&&(r=.5+a);break;case 1:case 2:r=o?.75+a:-.75}}if(1!==r){const e=na(t,r,o.valueAsRGBA);if(e)return Pa(e)}break}}return r}function ba(t,e=-1,n=!1,i=!1){if(t){let o;if(Ea(t.style)){const a=parseFloat(t.width);o=ya(t,e,!i),o.width=oa(i?2*Math.ceil(a/2):n?Math.ceil(a/2):Oa(t.width))}else o=ya(t),o.width=oa(Oa(t.width));return o}}function Ta(t){const[e,n,i,o]=t,a={};let r=!1;return"0px"!==e&&(a.topLeftRadius=e,r=!0),"0px"!==n&&(a.topRightRadius=n,r=!0),"0px"!==i&&(a.bottomRightRadius=i,r=!0),"0px"!==o&&(a.bottomLeftRadius=o,r=!0),r?a:void 0}function Aa(t){const e=La(t,!1);return""!==e?{color:e}:void 0}function Ea(t,e=0){switch(t){case"groove":case"ridge":case"inset":case"outset":return 1!==e;default:return!1}}function va(t,e,n,i,o,a,r=0,s){const l=Oa(e.width),c=Math.max(1,Math.floor(l/3)),d=r>0?oa(r):"";let h="-"+oa(c+r+1);t.push({top:n?d:h,right:i?d:h,bottom:o?d:h,left:a?d:h,shape:{"android:shape":"rectangle",stroke:Object.assign({width:oa(c)},ya(e)),corners:s}});const u=l-c+r,p=oa(u);h="-"+oa(u+1),t.push({top:n?p:h,right:i?p:h,bottom:o?p:h,left:a?p:h,shape:{"android:shape":"rectangle",stroke:Object.assign({width:oa(c)},ya(e)),corners:s}})}function Sa(t,e,n){return!t.includes(" ")&&e.includes(" ")?ca.LOWERCASE.test(t)?("initial"===t?n:t)+" 0px":n+" "+t:"initial"===t?"0px":t}function xa(t,e=21,n){const i=t.type,o={type:i,item:!1},a=e>=21;switch(i){case"conic":{const e=t.center;o.type="sweep",a?(o.centerX=""+2*e.left,o.centerY=""+2*e.top):(o.centerX=ia(e.leftAsPercent),o.centerY=ia(e.topAsPercent));break}case"radial":{const{center:e,radius:n}=t;a?(o.gradientRadius=""+n,o.centerX=""+e.left,o.centerY=""+e.top):(o.gradientRadius=oa(n),o.centerX=ia(e.leftAsPercent),o.centerY=ia(e.topAsPercent));break}case"linear":{const{angle:e,angleExtent:i,dimension:a}=t;let r=i.x,s=i.y;if(e<=90){const t=a.height;s+=t,o.startX="0",o.startY=""+t}else if(e<=180)o.startX="0",o.startY="0";else if(e<=270){const t=a.width;r+=t,o.startX=""+t,o.startY="0"}else{const{width:t,height:e}=a;r+=t,s+=e,o.startX=""+t,o.startY=""+e}o.endX=la(r,n),o.endY=la(s,n);break}}const r=t.colorStops;if(a)o.item=Wa(r);else{const t=r.length;o.startColor=La(r[0].color),o.endColor=La(r[t-1].color),t>2&&(o.centerColor=La(r[Math.floor(t/2)].color))}return o}function Ra(t,e,n,i=!1){(2===t.orientation.length||i)&&(t[e]=0),t[n]=0}function wa(t,e,n,i){if(i){const o=e.orientation;if("left"===t||"right"===t){if(sa(4===o.length?o[1]:o[0]))return("left"===t?e.leftAsPercent:e.rightAsPercent)*(n.width-i.width)}else{if(sa(4===o.length?o[3]:o[1]))return("top"===t?e.topAsPercent:e.bottomAsPercent)*(n.height-i.height)}}return e[t]}function Ia(t,e,n=!0){const i=[{"xmlns:android":d.android,item:[]}],o=!n&&Aa(t.backgroundColor);if(o&&i[0].item.push({shape:{"android:shape":"rectangle",solid:o}}),e)for(const t of e)i[0].item.push(t.gradient?{shape:{"android:shape":"rectangle",gradient:t.gradient}}:t);return i}function _a(t,e,n){M.addTheme({name:t,parent:e,items:{"android:windowBackground":n,"android:windowFullscreen":"true","android:fitsSystemWindows":"true"}})}function Na(t){const e=Oa(t.width);return 2===e&&"double"===t.style?3:e}function La(t,e=!0){const n=M.addColor(t,e);return""!==n?"@color/"+n:""}function Ca(t,e){for(;t.length<e;)t=t.concat(t.slice(0));return t.length=e,t}function ka(t,e,n,i,o,a){const r=e[n];if(r){const e=Oa(r.width);if("double"===r.style&&e>1)va(t.item,r,0===n,1===n,2===n,3===n,o,i);else{const s=e>1&&Ma(r);if(s){const i="-"+oa(e+o+1);t.item.push({top:0===n?"":i,right:1===n?"":i,bottom:2===n?"":i,left:3===n?"":i,shape:{"android:shape":"rectangle",stroke:ba(r,n,s,!0)}})}const l="-"+oa((s?Math.ceil(e/2):e)+o+1);t.item.push({top:0===n?a:l,right:1===n?a:l,bottom:2===n?a:l,left:3===n?a:l,shape:{"android:shape":"rectangle",corners:i,stroke:ba(r,n,s)}})}}}const Oa=t=>Math.round(parseFloat(t)),Pa=t=>({color:La(t),dashWidth:"",dashGap:""}),Ma=t=>"groove"===t.style||"ridge"===t.style||"double"===t.style&&Oa(t.width)>1,Ba=(t,e)=>`${t}px ${e}px`,Da=t=>!t.inline&&!t.floating&&t.hasPX("width",!0,!0)&&"100%"!==t.cssInitial("width");function Wa(t,e){const n=[];for(const i of t)n.push({color:La(i.color),offset:la(i.offset,e)});return n}function Ha(t,e,n=0,i=0,o){return o?(n=la(n,o),i=la(i,o),t=la(n+t,o),e=la(i+e,o)):(t+=n,e+=i),`M${n},${i} ${t},${i} ${t},${e} ${n},${e} Z`}class Ga extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={drawOutlineAsInsetBorder:!0},this.eventOnly=!0}beforeParseDocument(){this._resourceSvgInstance=this.controller.localSettings.svg.enabled?this.application.builtInExtensions[i.RESOURCE_SVG]:void 0}afterResources(){var t,e;const n=this.application.userSettings;let i=!1;function o(t,e){if(""!==e){const o="@drawable/"+M.insertStoredAsset("drawables",t.containerName.toLowerCase()+"_"+t.controlId,e);if(!i)if(t.documentBody){if(i=!0,!function(t){var e;const i=t.actualParent;if(!1===(null===(e=i)||void 0===e?void 0:e.visible)){const t=i.android("background");if(""!==t)return _a(n.manifestThemeName,n.manifestParentThemeName,t),!0}return!1}(t)&&(""!==t.backgroundColor||t.visibleStyle.backgroundRepeatY)&&"none"!==t.css("backgroundImage"))return void _a(n.manifestThemeName,n.manifestParentThemeName,o)}else if("HTML"===t.tagName)return i=!0,void _a(n.manifestThemeName,n.manifestParentThemeName,o);t.android("background",o,!1)}}const a=this.options.drawOutlineAsInsetBorder;for(const r of this.cacheProcessing){const s=r.data(M.KEY_NAME,"boxStyle");if(s&&r.hasResource(fa.BOX_STYLE)){if(r.inputElement){const n=r.companion;if("LABEL"===(null===(t=n)||void 0===t?void 0:t.tagName)&&!n.visible){const t=null===(e=n.data(M.KEY_NAME,"boxStyle"))||void 0===e?void 0:e.backgroundColor;t&&(s.backgroundColor=t)}}const l=this.getDrawableImages(r,s),c=s.outline;let[d,h]=this.getDrawableBorder(s,void 0,l,a&&c?Na(c):0);const u=void 0===d&&void 0===h;if(c&&(a||u)){const[t,e]=this.getDrawableBorder(s,c,u?l:void 0,void 0,!u);t?void 0===d&&(d=t):e&&(h?h[0].item=h[0].item.concat(e[0].item):h=e)}if(d)o(r,ma("shape",$o,d));else if(h)o(r,ma("layer-list",Ko,h));else{const t=s.backgroundColor;if(t){const e=La(t,!1);if(""!==e)if(r.documentBody)i?r.android("background",e,!1):(_a(n.manifestThemeName,n.manifestParentThemeName,e),i=!0);else{const n=r.data(M.KEY_NAME,"fontStyle");n?n.backgroundColor=t:r.android("background",e,!1)}}}}}}getDrawableBorder(t,e,n,i=0,o=!1){var a,r;const s=[,,,,],l=[,,,,],c=o?void 0:function(t){if(t){const e=t.length;if(1===e)return{radius:t[0]};if(8===e){const n=[,,,,];for(let i=0,o=0;i<e;i+=2)n[o++]=oa((parseFloat(t[i])+parseFloat(t[i+1]))/2);return Ta(n)}return Ta(t)}}(t.borderRadius),h=i>0?oa(i):"";let u,p,g,m,f=!0,y=!0;if(e){p=e;for(let t=0;t<4;t++)s[t]=e,l[t]=!0}else{s[0]=t.borderTop,s[1]=t.borderRight,s[2]=t.borderBottom,s[3]=t.borderLeft;for(let t=0;t<4;t++){const e=s[t];e?(f&&p&&(f=pa(p,e),f||(y=!1)),p=e,l[t]=!0):(l[t]=!1,y=!1)}}if(y&&(u=p),u&&!Ea(u.style,Oa(u.width))&&!("double"===u.style&&parseInt(u.width)>1)||void 0===p&&(c||(null===(a=n)||void 0===a?void 0:a.length))){const e=!!u&&ba(u);(null===(r=n)||void 0===r?void 0:r.length)||i>0||o?(m=Ia(t,n,o),(c||e)&&m[0].item.push({top:h,right:h,left:h,bottom:h,shape:{"android:shape":"rectangle",corners:c,stroke:e}})):g=function(t,e,n){return[{"xmlns:android":d.android,"android:shape":"rectangle",stroke:t,solid:e,corners:n}]}(e,!o&&Aa(t.backgroundColor),c)}else if(p)if(m=Ia(t,n,o),f&&!Ea(p.style)){const t=Oa(p.width);if("double"===p.style&&t>1)va(m[0].item,p,l[0],l[1],l[2],l[3],i,c);else{const e="-"+oa(t+i+1);m[0].item.push({top:l[0]?h:e,right:l[1]?h:e,bottom:l[2]?h:e,left:l[3]?h:e,shape:{"android:shape":"rectangle",corners:c,stroke:ba(p)}})}}else{const t=m[0];ka(t,s,0,c,i,h),ka(t,s,3,c,i,h),ka(t,s,2,c,i,h),ka(t,s,1,c,i,h)}return[g,m]}getDrawableImages(t,n){var i;const o=n.backgroundImage,a=t.extracted;if((o||a)&&t.hasResource(fa.IMAGE_SOURCE)){const l=this.resource,c=t.bounds,u=t.localSettings.screenDimension;let{width:p,height:g}=c;t.documentBody?(p=u.width,g=u.height):t.documentRoot?(Da(t)||(p=u.width),"100%"!==t.cssInitial("height")&&"100%"!==t.cssInitial("minHeight")||(g=u.height)):0===t.ascend({condition:e=>Da(e)&&(!e.layoutElement||e===t),startSelf:!0}).length&&(p=Math.min(p,u.width));const m=[],f=[],y=[],b=[],T=[],A=n.backgroundPositionX.split(ha.SEPARATOR),E=n.backgroundPositionY.split(ha.SEPARATOR);let v=n.backgroundRepeat.split(ha.SEPARATOR),S=n.backgroundSize.split(ha.SEPARATOR),x=0,R=!0;if(o){const e=this._resourceSvgInstance,n=o.length;v=Ca(v,n),S=Ca(S,n);let a=!1;for(let r=0;r<n;r++){let n=o[r],s=!1;if("string"==typeof n){if("initial"!==n){if(e){const[i,o]=e.createSvgElement(t,n);if(i&&o){const n=e.createSvgDrawable(t,o);if(""!==n){f[x]=n,b[x]=!0;const e=t.data(M.KEY_NAME,"svgViewBox")||{width:o.width.baseVal.value,height:o.height.baseVal.value};if(!t.svgElement){let{width:t,height:n}=e;if(t>p||n>g){const e=t/p,i=n/g;e>i?e>1?(t=p,n/=e):n=g*(i/e):i>1?(n=g,t/=i):t=p*(e/i)}e.width=t,e.height=n}y[x]=e,s=!0}i.removeChild(o)}}if(!s){const t=da.URL.exec(n);if(t){const e=t[1];if(/^data:image/.test(e)){const t=l.getRawData(e);(null===(i=t)||void 0===i?void 0:i.base64)&&(f[x]=t.filename.substring(0,t.filename.lastIndexOf(".")),y[x]=t,l.writeRawImage(t.filename,t.base64),s=!0)}else n=ga(e),f[x]=l.addImageSet({mdpi:n}),""!==f[x]&&(y[x]=l.getImage(n),s=!0)}}}}else if(n.colorStops.length>1){const e=xa(n,t.api);e&&(f[x]=e,y[x]=n.dimension,s=!0)}if(s){const e=A[r]||A[r-1],n=E[r]||E[r-1];T[x]=aa(Sa(e,n,"left")+" "+Sa(n,e,"top"),t.actualDimension,t.fontSize,y[x],S[r],u),x++}else v[r]=void 0,S[r]=void 0,a=!0}a&&(v=ua(v),S=ua(S))}if(a){0===x&&(v.length=0,S.length=0);const e=a.filter(t=>t.visible&&(t.imageElement||"INPUT_IMAGE"===t.containerName));for(let n=0;n<e.length;n++){const i=e[n],o=i.element,a=l.addImageSrc(o);if(""!==a){const e=i.bounds;f[x]=a,v[x]="no-repeat",S[x]=Ba(i.actualWidth,i.actualHeight);const n=aa("INPUT_IMAGE"===i.containerName?Ba(0,0):Ba(e.left-c.left+t.borderLeftWidth,e.top-c.top+t.borderTopWidth),t.actualDimension,t.fontSize,e,"",u),r=l.getImage(o.src);if(!t.hasPX("width")){const e=(r?r.width:0)+n.left-(t.paddingLeft+t.borderLeftWidth);e>0&&t.modifyBox(256,e)}y[x]=r,T[x]=n,x++}}}for(let i=x-1;i>=0;i--){const o=f[i],a=T[i],l=S[i],u={};let A=y[i],E=NaN,x=NaN;A&&(A.width&&A.height?(E=A.width,x=A.height):A=void 0);let w=0,I=0,_=0,N=0,L=!0,C=!0,k=!0;if("string"==typeof o){const c=()=>{if(D="",W="",H="",P=!1,t.documentBody){const e=t.visibleStyle;e.backgroundRepeat=!0,e.backgroundRepeatY=!0}},d=(t=!0)=>{G="",X="",t&&(a.top=0,a.right=0,a.bottom=0,a.left=0),R=!1,k=!1},m=()=>R&&"fill_horizontal"!==G&&"repeat"!==D&&""===W,f=()=>R&&"fill_vertical"!==X&&"repeat"!==D&&""===H,y="@drawable/"+o;let T=v[i];if(T.includes(" ")){const[t,e]=T.split(" ");T="no-repeat"===t?"no-repeat"===e?"no-repeat":"repeat-y":"no-repeat"===e?"repeat-x":"repeat"}else"space"!==T&&"round"!==T||(T="repeat");const S=!0===b[i];let O,P="repeat"===T,M=0,B=0,D="",W="",H="",G="",X="",V="";if(P||"repeat-x"===T){if(A){let t=a.left;if(t>0){do{t-=E}while(t>0);L=!0,a.left=t}else L=E<p}else a.left=0,L=!0;a.right=0}else switch(a.horizontal){case"left":case"0%":Ra(a,"left","right"),G=t.localizeString("left");break;case"center":case"50%":Ra(a,"left","right",!0),G=h.CENTER_HORIZONTAL;break;case"right":case"100%":Ra(a,"right","left"),G=t.localizeString("right");break;default:G=t.localizeString(0!==a.right?"right":"left")}if(P||"repeat-y"===T){if(A){let e=a.top;if(e>0){do{e-=x}while(e>0);a.top=e,C=!0}else C=t.element===document.body||x<g,0===e&&(X="top")}else a.top=0,X="top",C=!0;a.bottom=0}else switch(a.vertical){case"top":case"0%":Ra(a,"top","bottom"),X="top",isNaN(x)&&(B=g);break;case"center":case"50%":Ra(a,"top","bottom",!0),X=h.CENTER_VERTICAL;break;case"bottom":case"100%":Ra(a,"bottom","top"),X="bottom";break;default:X=0!==a.bottom?"bottom":"top"}if(P)L&&C?D="repeat":(L&&(W="repeat"),C&&(H="repeat"),P=!1);else switch(T){case"repeat-x":t.documentBody?E<p?W="repeat":G="fill_horizontal":!t.blockStatic&&E>p?M=E:W="repeat";break;case"repeat-y":t.documentBody?x<g?H="repeat":X="fill_vertical":x>g?B=x:H="repeat";break;default:D="disabled"}if(A){if(""!==G&&"repeat"===H&&E<p){const e=()=>{""===X&&G!==t.localizeString("left")&&t.renderChildren.length&&(H=""),V=G,G="",W=""};switch(G){case"start":case"left":a.left+=t.borderLeftWidth,a.right=0,e();break;case"end":case"right":a.left=0,a.right+=t.borderRightWidth,e();break;case h.CENTER_HORIZONTAL:a.left=0,a.right=0,e()}}if(""!==X&&"repeat"===W&&x<g){const e=()=>{""===G&&"top"!==X&&t.renderChildren.length&&(W=""),V+=(""!==V?"|":"")+X,X="",H="disabled"};switch(X){case"top":a.top+=t.borderTopWidth,a.bottom=0,e();break;case"bottom":a.top=0,a.bottom+=t.borderBottomWidth,e();break;case h.CENTER_VERTICAL:a.top=0,a.bottom=0,e()}}}switch(l){case"auto":case"auto auto":case"initial":case"contain":break;case"100%":case"100% 100%":case"100% auto":case"auto 100%":if(!P&&"repeat"!==W&&"repeat"!==H&&(E<p||x<g)){const t=E/p,e=x/g;t<e?(M=p,B=g*(e/t),d()):t>e&&(M=p*(t/e),B=g,d()),O="fill"}E>p&&(G=""),x>g&&(X=""),R=!1;break;case"cover":c();break;case"round":O="fill",G="fill_horizontal",X="fill_vertical",c();break;default:l.split(" ").forEach((e,n)=>{"100%"===e?0===n?G="fill_horizontal":X="fill_vertical":P||"auto"===e||(0===n?M=t.parseUnit(e,"width",!1):B=t.parseUnit(e,"height",!1))})}if(A){const e=E/p,n=x/g,i=()=>E*B/x,o=()=>x*M/E,r=()=>p*(e/n),s=()=>g*(n/e);switch(l){case"cover":if(e<n){if(M=p,B=s(),B>g){const e=a.topAsPercent;e>0&&(w=Math.round((g-B)*e),a.top=0),t.hasPX("height")||t.css("height",oa(g-t.contentBoxHeight))}O=""}else if(e>n){if(M=r(),B=g,t.hasWidth&&M>p){const t=a.leftAsPercent;t>0&&(N=Math.round((p-M)*t),a.left=0)}O=""}else O="fill";d(!1);break;case"contain":e>n?(B=s(),M=E<p?i():p,O="",V="fill_horizontal|center_vertical"):e<n?(M=r(),B=x<g?o():g,O="",V="fill_vertical|center_horizontal"):(M=r(),B=s(),O="",V="fill"),d();break;default:0===M&&B>0&&m()&&(M=i()),0===B&&M>0&&f()&&(B=o())}}if(n.backgroundClip){const{top:e,right:i,left:o,bottom:r}=n.backgroundClip;0===M?M=p:M+=t.contentBoxWidth,0===B?B=g:B+=t.contentBoxHeight,M-=o+i,B-=e+r,"right"===G||"end"===G?(a.right+=i,N=0):0!==a.right?I+=i:N+=o,"bottom"===X?(a.bottom+=r,w=0):0!==a.bottom?_+=r:w+=e,O="",G="",X="",k=!1}else 0===M&&0===B&&E<p&&x<g&&!S&&m()&&f()&&(M=E,B=x);if(k){if(!P){const t=n.backgroundOrigin;t&&("repeat"!==W&&("right"===G||"end"===G?(a.right+=t.right,N=0):0!==a.leftAsPercent||0===a.rightAsPercent?0!==a.right?I-=t.left:N+=t.left:0!==a.right?I+=t.right:N-=t.right),"repeat"!==H&&("bottom"===X?(a.bottom+=t.bottom,w=0):0!==a.topAsPercent||0===a.bottomAsPercent?0!==a.bottom?_-=t.top:w+=t.top:0!==a.bottom?_+=t.bottom:w-=t.bottom),k=!1)}if(!t.documentBody&&!t.is(e.IMAGE)&&!S)if(R){let e=!1,n=!1;if(p<E&&(!t.has("width",2,{map:"initial",not:"100%"})&&(!t.blockStatic||!O||"center"!==O&&!O.includes(h.CENTER_HORIZONTAL))||!t.pageFlow)&&(M=p-(t.contentBox?t.contentBoxWidth:0),e=!0,"disabled"!==D))switch(a.horizontal){case"left":case"0px":W="repeat"}!(g<x)||t.has("height",2,{map:"initial",not:"100%"})&&t.pageFlow||(B=g-(t.contentBox?t.contentBoxHeight:0),n=!0),(e||n)&&(""!==V&&(V+="|"),V+=e&&n?"fill":e?"fill_horizontal":"fill_vertical")}else if(g<x&&!t.hasPX("height")&&0===t.length){if(B=g,""===X)switch(t.controlName){case r.TOOLBAR:case s.TOOLBAR:X="fill_vertical";break;default:X="top"}H=""}}M>0&&(u.width=M),B>0&&(u.height=B),""===V&&((M||E)+a.left>=p&&(!t.blockStatic||t.hasPX("width",!1))&&(W="",!R&&!B&&a.left<0&&"fill"!==O&&!G.includes("fill_horizontal")&&(G+=(""!==G?"|":"")+"fill_horizontal"),"repeat"===D&&(H="repeat",D="")),(B||x)+a.top>=g&&!t.documentBody&&!t.percentHeight&&(H="",!R&&a.top<0&&"fill"!==O&&!X.includes("fill_vertical")&&!t.hasPX("height")&&(X+=(""!==X?"|":"")+"fill_vertical"),"repeat"===D&&(W="repeat",D="")),"repeat"!==D&&"fill"!==O&&(""!==W?""===H&&(""===X||X.includes("top")||X.includes("fill_vertical"))&&(V=X,X="",t.renderChildren.length&&(W="")):""!==H&&t.renderChildren.length&&(""===G||G.includes("start")||G.includes("left")||G.includes("fill_horizontal"))&&(H=""))),void 0===O&&(G===h.CENTER_HORIZONTAL&&X===h.CENTER_VERTICAL?E<=p&&x<=g?(V+=(""!==V?"|":"")+"center",O=""):O="center":G.includes("fill_horizontal")&&X.includes("fill_vertical")?O="fill":(O="",""!==G&&(O+=G),""!==X&&(O+=(O?"|":"")+X)),G="",X="");const F="cover"===l||"contain"===l;if(t.documentBody&&!F&&"repeat"!==W&&""!==O&&""===V)u.gravity=O,u.drawable=y;else if(!S&&("repeat"===D||""!==W||""!==H||""!==V&&""!==O||F||!R&&B>0)){switch(O){case"top":"repeat"!==H||t.hasHeight||t.layoutLinear||t.layoutRelative&&void 0===t.horizontalRows||(O="",H="");break;case"bottom":""===V&&(V=O,O="",D="",W=""===W?"disabled":"",H=""===H?"disabled":"")}u.gravity=V,u.bitmap=[{src:y,gravity:O,tileMode:D,tileModeX:W,tileModeY:H}]}else u.gravity=O||V,u.drawable=y}else if(o.item){const[e,n]=A?[Math.round(E),Math.round(x)]:[Math.round(t.actualWidth),Math.round(t.actualHeight)];l.split(" ").some(t=>"100%"!==t&&ra(t,!0))&&(u.width=e,u.height=n);const r=M.insertStoredAsset("drawables",`${t.controlId}_gradient_${i+1}`,ma("vector",ta,[{"xmlns:android":d.android,"xmlns:aapt":d.aapt,"android:width":oa(u.width||e),"android:height":oa(u.height||n),"android:viewportWidth":""+e,"android:viewportHeight":""+n,path:{pathData:Ha(e,n),"aapt:attr":{name:"android:fillColor",gradient:o}}}]));""!==r&&(u.drawable="@drawable/"+r,a.static&&"HTML"!==t.tagName&&(u.gravity="fill"))}else u.gradient=o,a.static&&"HTML"!==t.tagName&&(u.gravity="fill");if(u.drawable||u.bitmap||u.gradient){0!==a.bottom?_=(C||!k?a.bottom:wa("bottom",a,c,A))+_:0!==a.top&&(w=(C||!k?a.top:wa("top",a,c,A))+w),0!==a.right?I=(L||!k?a.right:wa("right",a,c,A))+I:0!==a.left&&(N=(L||!k?a.left:wa("left",a,c,A))+N);const t=u.width,e=u.height;0!==w&&(w<0&&e>g&&(w=Math.max(w,g-e)),u.top=oa(w)),0!==I&&(u.right=oa(I)),0!==_&&(u.bottom=oa(_)),0!==N&&(N<0&&t>p&&(N=Math.max(N,p-t)),u.left=oa(N)),t&&(u.width=oa(t)),e&&(u.height=oa(e)),m.push(u)}}return m}}}const Xa=squared.lib,{XML:Va}=Xa.regex,{convertUnderscore:Fa,fromLastIndexOf:Ua}=Xa.util,za=M.STORED,qa=/\dpx$/,ja=/:(\w+)="(-?[\d.]+px)"/;function Ya(t,e,n){for(const[i,o]of t.entries())if(i.startsWith(e)&&n===o)return i;const i=t.get(e);return i&&i!==n?M.generateId("dimen",e):e}function Za(t,e,n){const i=e.namespace(t);for(const o in i)if("text"!==o){const a=i[o];if(qa.test(a)){const i=`${t},${o},${a}`;let r=n[i];void 0===r&&(r=[],n[i]=r),r.push(e)}}}const $a=t=>Ua(t,".");class Ka extends squared.base.ExtensionUI{constructor(){super(...arguments),this.eventOnly=!0}beforeCascade(){const t=za.dimens,e={};for(const t of this.cache)if(t.visible){const n=t.containerName.toLowerCase();let i=e[n];void 0===i&&(i={},e[n]=i),Za("android",t,i),Za("app",t,i)}for(const n in e){const i=e[n];for(const e in i){const[o,a,r]=e.split(Va.SEPARATOR),s=Ya(t,$a(n)+"_"+Fa(a),r),l=i[e];for(const t of l)t[o](a,"@dimen/"+s);t.set(s,r)}}}afterFinalize(){if(this.controller.hasAppendProcessing()){const t=za.dimens;for(const e of this.application.layouts){let n,i=e.content;for(;null!==(n=ja.exec(i));){const[e,o,a]=n;if("text"!==o){const n=Ya(t,"custom_"+Fa(o),a);i=i.replace(e,e.replace(a,"@dimen/"+n)),t.set(n,a)}}e.content=i}}}}const Ja=squared.lib,{XML:Qa}=Ja.regex,{capitalize:tr,convertInt:er,convertWord:nr,filterArray:ir,objectMap:or,spliceArray:ar,trimString:rr}=Ja.util,{NODE_RESOURCE:sr}=squared.base.lib.enumeration,lr=M.STORED,cr=/^(\w*?)(?:_(\d+))?$/,dr=/"/g,hr={"sans-serif":14,"sans-serif-thin":16,"sans-serif-light":16,"sans-serif-condensed":16,"sans-serif-condensed-light":16,"sans-serif-medium":21,"sans-serif-black":21,"sans-serif-smallcaps":21,"serif-monospace":21,serif:21,casual:21,cursive:21,monospace:21,"sans-serif-condensed-medium":26},ur={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},pr={"ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif","-webkit-standard":"sans-serif"},gr={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},mr={fontFamily:'android:fontFamily="',fontStyle:'android:textStyle="',fontWeight:'android:fontWeight="',fontSize:'android:textSize="',color:'android:textColor="@color/',backgroundColor:'android:background="@color/'};function fr(t,e,n){const i=t.length;for(const o of e.split(";"))for(let e=0;e<i;e++){let a=-1,r="",s=t[e];for(const t in s)if(t===o){a=e,r=t,e=i;break}if(-1!==a){s=t[a],s[r]=ir(s[r],t=>!n.includes(t)),0===s[r].length&&delete s[r];break}}}class yr extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={systemDefaultFont:"sans-serif",disableFontAlias:!1},this.eventOnly=!0}afterParseDocument(){var t;const e=this.resource,n=this.options.disableFontAlias,i="dp"===e.userSettings.convertPixels,{fonts:o,styles:a}=lr,r=Object.keys(mr),s={},l={};for(const t of this.cache)if(t.data(M.KEY_NAME,"fontStyle")&&t.hasResource(sr.FONT_STYLE)){const e=t.containerName;let n=s[e];void 0===n&&(n=[],s[e]=n),n.push(t)}for(const a in s){const c=[],d=s[a];for(let a of d){const{id:s,companion:l}=a,d=a.api,h=a.data(M.KEY_NAME,"fontStyle");let{fontFamily:u,fontStyle:p,fontWeight:g}=h;"LABEL"!==(null===(t=l)||void 0===t?void 0:t.tagName)||l.visible||(a=l),u.replace(dr,"").split(Qa.SEPARATOR).some((t,i,r)=>{let s=t=rr(t,"'").toLowerCase(),l="";if(!n&&pr[s]&&(s=this.options.systemDefaultFont),d>=hr[s]||!n&&d>=hr[ur[s]])u=s;else{if(!p||!g)return!1;{let n=!1;if(e.getFont(t,p,g))n=!0;else{const o=e.getFont(t,p);if(o)l=g,g=""+o.fontWeight,n=!0;else{if(i<r.length-1)return!1;s=t=rr(r[0],"'").toLowerCase()}}if(s=nr(s),n){const e=o.get(s)||{};e[t+"|"+p+"|"+g]=gr[g]||g,o.set(s,e)}u="@font/"+s}}return"normal"===p&&(p=""),""!==l?g=l:("400"===g||a.api<26)&&(g=""),parseInt(g)>500&&(p+=(p?"|":"")+"bold"),!0});const m={fontFamily:u,fontStyle:p,fontWeight:g,fontSize:h.fontSize,color:M.addColor(h.color),backgroundColor:M.addColor(h.backgroundColor)};for(let t=0;t<6;t++){const e=r[t];let n=m[e];if(n){3===t&&i&&(n=j(n,!0));const o=mr[e]+n+'"';let a=c[t];void 0===a&&(a={},c[t]=a);let r=a[o];void 0===r&&(r=[],a[o]=r),r.push(s)}}}l[a]=c}const c={};for(const t in l){const e={};c[t]=e;const n=ir(l[t],t=>!!t).sort((t,e)=>{let n=0,i=0,o=0,a=0;for(const e in t){const i=t[e].length;n=Math.max(i,n),o+=i}for(const t in e){const n=e[t];if(n){const t=n.length;i=Math.max(t,i),a+=t}}return n!==i?n>i?-1:1:o!==a?o>a?-1:1:0});do{if(1===n.length){const t=n[0];for(const n in t){const i=t[n];i.length&&(e[n]=i)}n.length=0}else{const i={};for(let o=0;o<n.length;o++){const a={},r=n[o];for(const e in r){const l=r[e];if(0===l.length)continue;if(l.length===s[t].length){i[e]=l,n[o]={};break}const c={};let d=!1;for(let t=0;t<n.length;t++)if(o!==t){const e=n[t];for(const t in e){const n=e[t];if(n.length)for(const e of l)if(n.includes(e)){let n=c[t];void 0===n&&(n=[],c[t]=n),n.push(e)}}}for(const t in c){const n=c[t];n.length>1&&(a[e<t?e+";"+t:t+";"+e]=n,d=!0)}d||(a[e]=l)}if(Object.keys(a).length){const t={},i=new Set,o={};for(const t in a)o[t]=a[t].join(",");for(const e in a)for(const n in a){const a=o[e];if(e!==n&&a===o[n]){let o=t[a];void 0===o&&(o=new Set(e.split(";")),t[a]=o);for(const t of n.split(";"))o.add(t);i.add(e).add(n)}}for(const t of i)delete a[t];for(const t in a)fr(n,t,a[t]),e[t]=a[t];for(const i in t){const o=Array.from(t[i]).sort().join(";"),a=or(i.split(Qa.SEPARATOR),t=>parseInt(t));fr(n,o,a),e[o]=a}}}const o=Object.keys(i);o.length&&(e[o.join(";")]=i[o[0]]),ar(n,t=>{for(const e in t)if(t[e].length)return!1;return!0})}}while(n.length)}const d={},h={},u=new Set;for(const t in c){const e=c[t],n=[];for(const t in e){const i=[];for(const e of t.split(";")){const t=Qa.ATTRIBUTE.exec(e);t&&i.push({key:t[1],value:t[2]})}n.push({name:"",parent:"",items:i,ids:e[t]})}n.sort((t,e)=>{let n=t.ids.length,i=e.ids.length;if(n===i){n=t.items.length,i=e.items.length,n===i&&(n=t.name,i=e.name)}return n<=i?1:-1});const i=n.length;for(let e=0;e<i;e++)n[e].name=tr(t)+(e>0?"_"+e:"");d[t]=n}for(const t in d)for(const e of d[t]){const t=e.ids;if(t)for(const n of t){let t=h[n];void 0===t&&(t=[],h[n]=t),t.push(e.name)}}for(const t of this.cache){const e=h[t.id];e&&(e.length>1?(u.add(e.join(".")),e.shift()):u.add(e[0]),t.attr("_","style","@style/"+e.join(".")))}for(const t of u){const e=[];let n,i="";if(t.split(".").forEach((t,o,r)=>{const s=cr.exec(t);if(s){const l=d[s[1].toUpperCase()][er(s[2])];if(l)if(0===o)i=t,1===r.length?n=l.items:a.has(t)||a.set(t,{name:t,parent:"",items:l.items});else{if(n)for(const t of l.items){const e=n.findIndex(e=>e.key===t.key);-1!==e?n[e]=t:n.push(t)}else n=l.items.slice(0);e.push(t)}}}),n)if(0===e.length)a.set(i,{name:i,parent:"",items:n});else{const t=e.join(".");a.set(t,{name:t,parent:i,items:n})}}}}squared;class br extends squared.base.ExtensionUI{constructor(){super(...arguments),this.eventOnly=!0}beforeCascade(){for(const t of this.cache){const e=t.renderTemplates;if(e){let n,i;if(t.renderEach((t,e)=>{const o=t.dataset,a=o.androidInclude,r="true"===o.androidIncludeEnd;if(a||r){const s={item:t,name:a,index:e,include:"false"===o.androidIncludeMerge};a&&(void 0===n&&(n=[]),n.push(s)),r&&(void 0===i&&(i=[]),i.push(s))}}),n&&i){const t=this.application,o=this.controller;n.length=Math.min(n.length,i.length);for(let t=n.length;t<i.length;t++)i.shift();for(let a=n.length-1;a>=0;a--){const r=n[a];for(let n=0;n<i.length;n++){const a=i[n].index;if(a>=r.index){const s=[];for(let t=r.index;t<=a;t++)s.push(e[t]),e[t]=null;const l=!r.include||s.length>1,c=l?1:0;e[r.index]={type:2,node:s[0].node,content:o.renderNodeStatic("include",{layout:"@layout/"+r.name},"match_parent"),indent:!0};let d=o.cascadeDocument(s,c);l?d=o.getEnclosingXmlTag("merge",Q(d),d):r.item.documentRoot=!0,t.saveDocument(r.name,d,"",1/0),i.splice(n,1);break}}}}}}}}const Tr=squared.lib,{formatPX:Ar}=Tr.css,{measureTextWidth:Er}=Tr.dom,{capitalizeString:vr,lowerCaseString:Sr,isNumber:xr,isString:Rr}=Tr.util,{replaceCharacterData:wr}=Tr.xml,{NODE_RESOURCE:Ir}=squared.base.lib.enumeration;class _r extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={numberResourceValue:!1,fontVariantSmallCapsReduction:.7},this.eventOnly=!0}afterResources(){var t;const e=this.options.numberResourceValue;function n(t,n,i,o){""!==(i=M.addString(o,i,e))&&t.android(n,e||!xr(i)?"@string/"+i:i,!1)}for(const e of this.cacheProcessing)if(e.hasResource(Ir.VALUE_STRING)){switch(e.tagName){case"SELECT":{const t=this.createOptionArray(e.element,e.controlId);""!==t&&e.android("entries","@array/"+t);break}case"IFRAME":{const t=e.data(M.KEY_NAME,"valueString");t&&M.addString(wr(t.value),t.key);break}default:if(!e.layoutFrame){const i=e.data(M.KEY_NAME,"valueString");if(i){const o=i.key||i.value;let a=i.value;if(e.naturalChild&&e.alignParent("left")&&!(!e.plainText&&e.preserveWhiteSpace||e.plainText&&e.actualParent.preserveWhiteSpace)){let t=0;const n=e.textContent,i=n.length;for(let e=0;e<i;e++)switch(n.charCodeAt(e)){case 160:t++;case 32:continue}0===t&&(a=a.replace(/^(\s|&#160;)+/,""))}if("small-caps"===e.css("fontVariant"))if(e.api>=21)e.android("fontFeatureSettings","smcp");else{e.android("textAllCaps","true");const t=e.data(M.KEY_NAME,"fontStyle");t&&(t.fontSize*=this.options.fontVariantSmallCapsReduction)}switch(e.css("textTransform")){case"uppercase":e.android("textAllCaps","true");break;case"lowercase":a=Sr(a);break;case"capitalize":a=vr(a)}const r=e.tagName;a=wr(a,e.preserveWhiteSpace||"CODE"===r);const s=e.css("textDecorationLine");if("none"!==s)for(const t of s.split(" "))switch(t){case"underline":a="<u>"+a+"</u>";break;case"line-through":a="<strike>"+a+"</strike>"}"INS"!==r||s.includes("line-through")||(a="<strike>"+a+"</strike>");let l=0;if(e.blockDimension||"table-cell"===e.display){const t=e.css("textIndent");l=e.parseUnit(t),("100%"===t||l+e.bounds.width<0)&&(a="",e.delete("android","ellipsize","maxLines"))}if(""!==a){if(0===l){const n=e.actualParent;(null===(t=n)||void 0===t?void 0:t.firstChild)!==e||!n.blockDimension&&"table-cell"!==n.display||(l=n.parseUnit(n.css("textIndent")))}if(l>0){const t=Er(" ",e.css("fontFamily"),e.fontSize)||e.fontSize/2;a="&#160;".repeat(Math.max(Math.floor(l/t),1))+a}n(e,"text",o,a)}}if(e.inputElement){if(e.controlName===o.EDIT_LIST){const t=e.element.list;t&&(this.createOptionArray(t,e.controlId),e.hasPX("width")||e.css("width",Ar(e.actualWidth)))}const t=e.data(M.KEY_NAME,"hintString");Rr(t)&&n(e,"hint","",t)}}}if(e.styleElement){const t=e.toElementString("title");""!==t&&n(e,"tooltipText",e.controlId.toLowerCase()+"_title",t)}}}createOptionArray(t,e){var n;const[i,o]=M.getOptionArray(t),a=this.options.numberResourceValue;let r;if(!a&&o)r=o;else{const t=i||o;if(t){r=[];for(let e of t)e=M.addString(wr(e),"",a),""!==e&&r.push("@string/"+e)}}return(null===(n=r)||void 0===n?void 0:n.length)?M.insertStoredAsset("arrays",e+"_array",r):""}}const Nr=squared.lib,{XML:Lr}=Nr.regex,{capitalize:Cr,trimString:kr}=Nr.util,Or=M.STORED,Pr=/(\w+):(\w+)="([^"]+)"/;class Mr extends squared.base.ExtensionUI{constructor(){super(...arguments),this.eventOnly=!0}beforeCascade(){const t={},e={};for(const n of this.cache)if(n.controlId&&n.visible){const i=n.renderChildren,o=i.length;if(o>1){const a=new Map;let r=!0,s="";for(let t=0;t<o;t++){const e=i[t];let n=!1;for(const i of e.combine("_","android"))if(!n&&/^style=/.test(i)){if(0===t)s=i;else if(""===s||i!==s){r=!1;break}n=!0}else a.set(i,(a.get(i)||0)+1);if(!r||!n&&""!==s){r=!1;break}}if(r){for(const[t,e]of a.entries())e!==o&&a.delete(t);if(a.size>1){""!==s&&(s=kr(s.substring(s.indexOf("/")+1),'"'));const o=[];for(const t of a.keys()){const e=Pr.exec(t);if(e){for(const t of i)t.delete(e[1],e[2]);o.push(e[0])}}o.sort();const r=o.join(";");let l="";for(const t in e)if(e[t]===r){l=t;break}""!==s&&l.startsWith(s+".")||(l=(""!==s?s+".":"")+Cr(n.controlId),t[l]=o,e[l]=r);for(const t of i)t.attr("_","style","@style/"+l)}}}}for(const e in t){const n=[];for(const i of t[e]){const t=Lr.ATTRIBUTE.exec(i);t&&n.push({key:t[1],value:t[2]})}Or.styles.set(e,Object.assign(Object.assign({},$()),{name:e,items:n}))}}}var Br={"animated-vector":{"@":["xmlns:android","android:drawable"],">":{target:{"^":"android","@":["name","animation"]}}}};const Dr={objectAnimator:{"^":"android","@":["propertyName","startOffset","duration","repeatCount","interpolator","valueType","valueFrom","valueTo"],">":{propertyValuesHolder:{"^":"android","@":["propertyName"],">":{keyframe:{"^":"android","@":["interpolator","fraction","value"]}}}}}};var Wr={set:{"@":["xmlns:android","android:ordering"],">":{set:{"^":"android","@":["ordering"],">":{set:{"^":"android","@":["ordering"],">":{objectAnimator:Dr.objectAnimator}},objectAnimator:Dr.objectAnimator}},objectAnimator:Dr.objectAnimator}}};void 0===squared.svg&&Object.assign(squared,{svg:{lib:{constant:{},util:{}}}});var Hr=squared.svg.Svg,Gr=squared.svg.SvgAnimate,Xr=squared.svg.SvgAnimateTransform,Vr=squared.svg.SvgBuild,Fr=squared.svg.SvgG,Ur=squared.svg.SvgPath,zr=squared.svg.SvgShape;const qr=squared.lib,jr=squared.svg.lib,{formatPX:Yr,isPercent:Zr}=qr.css,{truncate:$r}=qr.math,{CHAR:Kr,CSS:Jr,FILE:Qr}=qr.regex,{convertCamelCase:ts,convertInt:es,convertWord:ns,filterArray:is,formatString:os,isArray:as,isNumber:rs,isString:ss,objectMap:ls,partitionArray:cs,replaceMap:ds}=qr.util,{applyTemplate:hs}=qr.xml,{KEYSPLINE_NAME:us}=jr.constant,{MATRIX:ps,SVG:gs,TRANSFORM:ms}=jr.util,fs=M.STORED,ys={accelerate_decelerate:"@android:anim/accelerate_decelerate_interpolator",accelerate:"@android:anim/accelerate_interpolator",anticipate:"@android:anim/anticipate_interpolator",anticipate_overshoot:"@android:anim/anticipate_overshoot_interpolator",bounce:"@android:anim/bounce_interpolator",cycle:"@android:anim/cycle_interpolator",decelerate:"@android:anim/decelerate_interpolator",linear:"@android:anim/linear_interpolator",overshoot:"@android:anim/overshoot_interpolator"},bs=["name","value","fill","stroke","fillPattern","fillRule","strokeWidth","fillOpacity","strokeOpacity","strokeLinecap","strokeLinejoin","strokeLineJoin","strokeMiterlimit"];us&&Object.assign(ys,{[us["ease-in"]]:ys.accelerate,[us["ease-out"]]:ys.decelerate,[us["ease-in-out"]]:ys.accelerate_decelerate,[us.linear]:ys.linear});const Ts={stroke:["strokeColor"],fill:["fillColor"],opacity:["alpha"],"stroke-opacity":["strokeAlpha"],"fill-opacity":["fillAlpha"],"stroke-width":["strokeWidth"],"stroke-dasharray":["trimPathStart","trimPathEnd"],"stroke-dashoffset":["trimPathOffset"],d:["pathData"],"clip-path":["pathData"]};function As(t,e){var n;const i=null===(n=t)||void 0===n?void 0:n[e];return i?ys[i]||vs(i):""}function Es(t){for(const e in Ts)if(Ts[e].includes(t))return ts(e);return""}function vs(t){if(ys[t])return ys[t];{const e="path_interpolator_"+ns(t);if(!fs.animators.has(e)){const n=os('<?xml version="1.0" encoding="utf-8"?>\n<pathInterpolator xmlns:android="http://schemas.android.com/apk/res/android"\n\tandroid:controlX1="{0}"\n\tandroid:controlY1="{1}"\n\tandroid:controlX2="{2}"\n    android:controlY2="{3}" />\n',...t.split(Kr.SPACE));fs.animators.set(e,n)}return"@anim/"+e}}function Ss(t){const e={};for(const n of t){const{matrix:t,origin:i}=n;switch(n.type){case SVGTransform.SVG_TRANSFORM_SCALE:e.scaleX=""+t.a,e.scaleY=""+t.d,i&&(e.pivotX=""+i.x,e.pivotY=""+i.y);break;case SVGTransform.SVG_TRANSFORM_ROTATE:e.rotation=""+n.angle,i?(e.pivotX=""+i.x,e.pivotY=""+i.y):(e.pivotX="0",e.pivotY="0");break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:e.translateX=""+t.e,e.translateY=""+t.f}}return e}function xs(t,e){let n=0,i=0;for(const o of function(t){const e=[];let n=t.parentElement;for(;n&&(e.push(n),n=n.parentElement,!(n instanceof HTMLElement)););return e}(t))(gs.svg(o)||gs.use(o))&&o!==e&&(n+=o.x.baseVal.value,i+=o.y.baseVal.value);return{x:n,y:i}}function Rs(t,e,n=1,i=1){const o=e.length;return o&&(gs.circle(t)||gs.ellipse(t))&&e.some(t=>t.type===SVGTransform.SVG_TRANSFORM_ROTATE)&&(n!==i||o>1&&e.some(t=>t.type===SVGTransform.SVG_TRANSFORM_SCALE&&t.matrix.a!==t.matrix.d))?ws(t,e):[[],e]}function ws(t,e,n=!1){if(e.length){const i=[],o=[],a=e[0].fromCSS?[]:ms.rotateOrigin(t).reverse(),r=e.slice(0).reverse(),s=[],l=()=>{i.push(s.slice(0)),s.length=0};for(let t=1;t<r.length;t++){const e=r[t],n=r[t-1];if(e.type===n.type){let i;switch(e.type){case SVGTransform.SVG_TRANSFORM_TRANSLATE:i=ps.clone(e.matrix),i.e+=n.matrix.e,i.f+=n.matrix.f;break;case SVGTransform.SVG_TRANSFORM_SCALE:i=ps.clone(e.matrix),i.a*=n.matrix.a,i.d*=n.matrix.d}i&&(e.matrix=i,r.splice(--t,1))}}for(const t of r)switch(t.type){case SVGTransform.SVG_TRANSFORM_MATRIX:case SVGTransform.SVG_TRANSFORM_SKEWX:case SVGTransform.SVG_TRANSFORM_SKEWY:o.push(t);break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:n||0!==i.length||0!==s.length?(s.push(t),l()):o.push(t);break;case SVGTransform.SVG_TRANSFORM_ROTATE:for(;a.length;){const e=a.shift();if(e.angle===t.angle){0===e.x&&0===e.y||(t.origin=e);break}}if(void 0===t.origin&&1===s.length&&s[0].type===SVGTransform.SVG_TRANSFORM_SCALE){s.push(t);continue}case SVGTransform.SVG_TRANSFORM_SCALE:s.length&&l(),s.push(t)}return s.length&&i.push(s),[i.reverse(),o]}return[[],e]}function Is(t,e,n,i=!1,o){let a;const r=t[e];return r?a=Array.isArray(r)?""+r[n]:r:i||0!==e||(a=o),a||""}function _s(t){switch(t){case"fill":case"stroke":return"";case"opacity":case"stroke-opacity":case"stroke-dasharray":case"stroke-dashoffset":case"fill-opacity":case"transform":return"floatType";case"stroke-width":return"intType";case"d":case"x":case"x1":case"x2":case"cx":case"y":case"y1":case"y2":case"cy":case"r":case"rx":case"ry":case"width":case"height":case"points":return"pathType";default:return Os(t)?"floatType":void 0}}function Ns(t,e,n,i){const o=new Gr;return o.attributeName=t,o.delay=e,o.duration=1,o.from=i||n,o.to=n,o.fillForwards=!0,o.convertToValues(),o}function Ls(t,e=!0){let n=Ts[t];return void 0===n&&e&&Os(t)&&(n=[t]),n}function Cs(t){switch(t){case SVGTransform.SVG_TRANSFORM_TRANSLATE:return["translateX","translateY"];case SVGTransform.SVG_TRANSFORM_SCALE:return["scaleX","scaleY","pivotX","pivotY"];case SVGTransform.SVG_TRANSFORM_ROTATE:return["rotation","pivotX","pivotY"]}}function ks(t){switch(t.type){case SVGTransform.SVG_TRANSFORM_ROTATE:return Xr.toRotateList(t.values);case SVGTransform.SVG_TRANSFORM_SCALE:return Xr.toScaleList(t.values);case SVGTransform.SVG_TRANSFORM_TRANSLATE:return Xr.toTranslateList(t.values)}}function Os(t){switch(t){case"rotation":case"pivotX":case"pivotY":case"translateX":case"translateY":return"0";case"scaleX":case"scaleY":return"1"}}function Ps(t,e=!1){const n="@color/"+M.addColor(t);return e?[n]:n}function Ms(t,e){return Xs(t.attributeName)?Ps(e):e.trim()||void 0}function Bs(t){switch(t){case SVGGradientElement.SVG_SPREADMETHOD_PAD:return"clamp";case SVGGradientElement.SVG_SPREADMETHOD_REFLECT:return"mirror";case SVGGradientElement.SVG_SPREADMETHOD_REPEAT:return"repeat"}return""}function Ds(t,e,n){const i=t.type,o={type:i,item:Wa(t.colorStops,n)};switch(i){case"radial":{const{cxAsString:n,cyAsString:i,rAsString:a,spreadMethod:r}=t,s=e.element;let l,c,d,h,u=[];switch(s.tagName){case"path":for(const t of Vr.getPathCommands(e.value))u=u.concat(t.value);case"polygon":if(gs.polygon(s)&&(u=u.concat(Vr.clonePoints(s.points))),!u.length)return;[l,c,d,h]=Vr.minMaxPoints(u),d-=l,h-=c;break;default:if(gs.rect(s))l=s.x.baseVal.value,c=s.y.baseVal.value,d=s.width.baseVal.value,h=s.height.baseVal.value;else if(gs.circle(s))l=s.cx.baseVal.value-s.r.baseVal.value,c=s.cy.baseVal.value-s.r.baseVal.value,d=2*s.r.baseVal.value,h=d;else{if(!gs.ellipse(s))return;l=s.cx.baseVal.value-s.rx.baseVal.value,c=s.cy.baseVal.value-s.ry.baseVal.value,d=2*s.rx.baseVal.value,h=2*s.ry.baseVal.value}}o.centerX=""+(l+d*Fs(n)),o.centerY=""+(c+h*Fs(i)),o.gradientRadius=""+(d+h)/2*(Zr(a)?parseFloat(a)/100:1),r&&(o.tileMode=Bs(r));break}case"linear":{const{x1:e,y1:n,x2:i,y2:a,spreadMethod:r}=t;o.startX=""+e,o.startY=""+n,o.endX=""+i,o.endY=""+a,r&&(o.tileMode=Bs(r))}}return o}function Ws(t,e){const n=t.synchronized,i=e.synchronized;return n&&i?n.key>=i.key?1:-1:0}function Hs(t,e,n,i,o){const a=n.set,r=a.length;if(r){let s=!1;if(r>1&&a.every(t=>""===t.ordering)){const t={set:[],objectAnimator:[]};for(const e of a)t.set=t.set.concat(e.set),t.objectAnimator=t.objectAnimator.concat(e.objectAnimator);n=t}for(;1===n.set.length;){const t=n.set[0];if(s&&""!==t.ordering||0!==t.objectAnimator.length)break;n=t,s=!0}n["xmlns:android"]=d.android,s&&(n["android:ordering"]=n.ordering,n.ordering=void 0);const l={name:e,animation:M.insertStoredAsset("animators",Gs(i,o,"anim",e),hs("set",Wr,[n]))};""!==l.animation&&(l.animation="@anim/"+l.animation,t[0].target.push(l))}}const Gs=(t,e,n,i)=>t+(n?"_"+n:"")+(e?"_vector":"")+(i?"_"+i.toLowerCase():""),Xs=t=>"fill"===t||"stroke"===t,Vs=(t,e,n=-1)=>t.name+"_"+e+(-1!==n?"_"+(n+1):""),Fs=t=>Zr(t)?parseFloat(t)/100:.5,Us=t=>"@drawable/"+t,zs=(t="")=>({ordering:t,objectAnimator:[]});class qs extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={transformExclude:{path:[],line:[],rect:[],ellipse:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],circle:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],polyline:[],polygon:[],image:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY]},floatPrecisionKeyTime:5,floatPrecisionValue:3,animateInterpolator:""},this.eventOnly=!0,this.VECTOR_DATA=new Map,this.ANIMATE_DATA=new Map,this.ANIMATE_TARGET=new Map,this.IMAGE_DATA=[],this.SYNCHRONIZE_MODE=0,this.NAMESPACE_AAPT=!1}beforeParseDocument(){Vr&&(Vr.setName(),this.controller.localSettings.svg.enabled=!0)}afterResources(){if(Vr){let t,e;for(const n of this.cacheProcessing)if(n.imageElement?[t,e]=this.createSvgElement(n,n.src):n.svgElement&&(e=n.element),e){const i=this.createSvgDrawable(n,e);""!==i&&(n.api>=21?n.android("src",Us(i)):n.app("srcCompat",Us(i))),n.hasWidth||n.setLayoutWidth("wrap_content"),n.hasHeight||n.setLayoutHeight("wrap_content"),n.baseline&&n.android("baselineAlignBottom","true"),t&&(t.removeChild(e),t=void 0),e=void 0}}}afterFinalize(){this.controller.localSettings.svg.enabled=!1}createSvgElement(t,e){const n=Jr.URL.exec(e);if(n&&(e=n[1]),Qr.SVG.test(e)||/^data:image\/svg\+xml/.test(e)){const n=this.resource.getRawData(e);if(n){const e=(t.actualParent||t.documentParent).element;e.insertAdjacentHTML("beforeend",n.content);const i=e.lastElementChild;if(i instanceof SVGSVGElement){const n=i;return 0===n.width.baseVal.value&&n.setAttribute("width",""+t.actualWidth),0===n.height.baseVal.value&&n.setAttribute("height",""+t.actualHeight),[e,n]}}}return[]}createSvgDrawable(t,e){const n=new Hr(e),i=t.api>=23,{floatPrecisionValue:o,floatPrecisionKeyTime:a}=this.options;this.SVG_INSTANCE=n,this.VECTOR_DATA.clear(),this.ANIMATE_DATA.clear(),this.ANIMATE_TARGET.clear(),this.IMAGE_DATA.length=0,this.NAMESPACE_AAPT=!1,this.SYNCHRONIZE_MODE=2|(i?32:64);const r=(t.tagName+"_"+ns(t.controlId,!0)+"_viewbox").toLowerCase();n.build({exclude:this.options.transformExclude,residual:Rs,precision:o}),n.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,framesPerSecond:this.controller.userSettings.framesPerSecond,precision:o}),this.queueAnimations(n,n.name,t=>"opacity"===t.attributeName);const s=this.parseVectorData(n),l=n.viewBox,c=this.IMAGE_DATA.length;let h,u=M.insertStoredAsset("drawables",Gs(r,c),hs("vector",ta,[{"xmlns:android":d.android,"xmlns:aapt":this.NAMESPACE_AAPT?d.aapt:"","android:name":n.name,"android:width":Yr(n.width),"android:height":Yr(n.height),"android:viewportWidth":""+(l.width||n.width),"android:viewportHeight":""+(l.height||n.height),"android:alpha":parseFloat(n.opacity)<1?""+n.opacity:"",include:s}]));if(this.ANIMATE_DATA.size){const t=[{"xmlns:android":d.android,"android:drawable":Us(u),target:[]}];for(const[e,n]of this.ANIMATE_DATA.entries()){const s=new Map,l=new Map,d=[],h=[],u=[],p=[],g=[],[m,f]=cs(n.animate,t=>"companion"in t),y={set:[],objectAnimator:[]},b=f.length;for(let t=0;t<b;t++){const e=f[t];if(e.setterType)Ts[e.attributeName]&&ss(e.to)&&(e.duration>0&&e.fillReplace?h.push(e):d.push(e));else if(Vr.isAnimate(e)){const n=is(m,t=>t.companion.value===e);if(n.length){n.sort((t,e)=>t.companion.key>=e.companion.key?1:0);const i=[],o=[],a=n.length;for(let t=0;t<a;t++){const a=n[t];a.companion.key<=0?(i.push(a),0===t&&e.delay>0&&(a.delay+=e.delay,e.delay=0)):o.push(a)}i.push(e),s.set("sequentially_companion_"+t,i.concat(o))}else{const t=e.synchronized;if(t){const n=t.value;if(Vr.isAnimateTransform(e)){const t=l.get(n)||[];t.push(e),l.set(n,t)}else{const t=s.get(n)||[];t.push(e),s.set(n,t)}}else Vr.isAnimateTransform(e)&&e.expandToValues(),-1===e.iterationCount?h.push(e):!(!e.fromToType||Vr.isAnimateTransform(e)&&e.transformOrigin)||i&&"pathType"!==_s(e.attributeName)?e.fillReplace?h.push(e):d.push(e):u.push([e])}}}d.length&&u.push(d);for(const[t,e]of s.entries())u.push(/^sequentially_companion/.test(t)?e:e.sort(Ws));for(const t of l.values())g.push(t.sort(Ws));for(const t of h)p.push([[t]]);[u,g,...p].forEach((t,e)=>{if(0===t.length)return;const r={ordering:0===e||1===t.length?"":"sequentially",set:[],objectAnimator:[]};for(const s of t){let t="",l=!1,c=!1,d=!0;e<=1&&s.some(t=>!!t.synchronized&&""!==t.synchronized.value)?(Vr.isAnimateTransform(s[0])||(t="sequentially"),l=!0,d=!1):e<=1&&s.some(t=>!!t.synchronized&&""===t.synchronized.value)?(t="sequentially",l=!0,c=!0):e<=1&&s.some(t=>"companion"in t)?t="sequentially":(e>0&&(t="sequentially"),e>1&&Vr.isAnimateTransform(s[0])&&(c=!0));const h=zs(),u=zs(),p=zs(),g=zs(),m=u.objectAnimator,f=p.objectAnimator;let y=h.objectAnimator,b=g.objectAnimator,T=[];(l?cs(s,t=>-1!==t.iterationCount):[s]).forEach((s,h)=>{var u,g,A;1===h&&s.length>1&&(p.ordering="sequentially");const E=new Map;for(const p of s){const v=_s(p.attributeName);if(void 0===v)continue;const S=p.delay>0;let x,R=!1;const w=(t,e)=>{ss(e)&&-1===y.findIndex(e=>e.propertyName===t)&&y.push(this.createPropertyValue(t,e,"0",v))},I=(t,e,n)=>{var i;if(!l&&p.fillReplace){let o,a=p.replaceValue;if(!a){if(R)a=Os(t);else{const e=p.parent;if(e&&Vr.isShape(e)){const n=e.path;n&&(a="pathData"===t?n.value:n[Es(t)])}}a||(a=p.baseValue)}if(null===(i=e)||void 0===i?void 0:i.length){const t=e[e.length-1];if(as(t.propertyValuesHolder)){const e=t.propertyValuesHolder[t.propertyValuesHolder.length-1];o=e.keyframe[e.keyframe.length-1].value}else o=t.valueTo}if(ss(a)&&a!==o&&(a=Ms(p,a),a)){switch(t){case"trimPathStart":case"trimPathEnd":a=a.split(" ")["trimPathStart"===t?0:1]}b.push(this.createPropertyValue(t,a,"1",v,"pathType"===v?o:"",n?""+n:""))}x&&(/X$/.test(t)?b.push(this.createPropertyValue("translateX","0","1",v)):/Y$/.test(t)&&b.push(this.createPropertyValue("translateY","0","1",v)))}};if(p.setterType){const t=Ls(p.attributeName);if(t){const n=Xs(p.attributeName)?Ps(p.to,!0):p.to.trim().split(" "),i=t.length;if(n.length===i&&!n.some(t=>""===t)){let o,a;for(let r=0;r<i;r++){let i;if("pathType"===v)i=n[r];else if(S){const t=p.baseValue;t&&(i=Ms(p,t.trim().split(" ")[r]))}const s=this.createPropertyValue(t[r],n[r],"1",v,i,p.delay>0?""+p.delay:"");if(e>1)f.push(s),I(t[r],void 0,e>1?p.duration:0);else{const t=p.companion;t?t.key<=0?(void 0===o&&(o=[]),o.push(s)):t.key>0&&(void 0===a&&(a=[]),a.push(s)):T.push(s)}}o&&(y=y.concat(o)),a&&(b=b.concat(a))}}}else if(Vr.isAnimate(p)){let y,b=c;y=1===h?s.length>1?"0":"-1":-1!==p.iterationCount?""+Math.ceil(p.iterationCount-1):"-1";const T=this.createPropertyValue("","",""+p.duration,v,"",p.delay>0?""+p.delay:"",y);let _,N,L;if(l||"pathType"!==T.valueType)if(Vr.asAnimateTransform(p))N=Cs(p.type),L=ks(p),N&&L&&(c&&0===p.keyTimes[0]&&(b=!1),(b||S)&&(_=ls(N,t=>Os(t)||"0")),x=p.transformOrigin),R=!0;else if(Vr.asAnimateMotion(p)){if(N=Cs(p.type),L=ks(p),N&&L){const t=p.rotateValues,e=L.length;if((null===(u=t)||void 0===u?void 0:u.length)===e){N.push("rotation");for(let n=0;n<e;n++)L[n].push(t[n])}}R=!0}else switch(N=Ls(p.attributeName),T.valueType){case"intType":if(L=ls(p.values,t=>""+es(t)),S){const t=p.baseValue;t&&(_=ds(Vr.parseCoordinates(t),t=>""+Math.trunc(t)))}break;case"floatType":if(L="stroke-dasharray"===p.attributeName?ls(p.values,t=>ds(t.split(" "),t=>parseFloat(t))):p.values,S){const t=p.baseValue;t&&(_=ds(Vr.parseCoordinates(t),t=>""+t))}break;default:if(L=p.values.slice(0),Xs(p.attributeName)){if(S){const t=p.baseValue;t&&(_=Ps(t,!0))}const t=L.length;for(let e=0;e<t;e++)""!==L[e]&&(L[e]=Ps(L[e]))}}else if(n.pathData){const t=p.parent;let e,i;t&&Vr.isShape(t)&&(i=t,t.path&&(e=t.path.transformed)),N=["pathData"],L=Ur.extrapolate(p.attributeName,n.pathData,p.values,e,i,o)}if(void 0===p.keySplines&&(p.timingFunction?T.interpolator=vs(p.timingFunction):""!==this.options.animateInterpolator&&(T.interpolator=this.options.animateInterpolator)),L&&N){const{keyTimes:s,synchronized:u}=p,y=N.length,v=s.length,R=u?u.key+u.value:0!==e||y>1?JSON.stringify(T):"";for(let e=0;e<y;e++){const u=N[e];if(b&&_&&w(u,_[e]),d&&v>1)if(i&&"pathType"!==T.valueType){!b&&S&&_&&w(u,_[e]);const t=E.get(R)||[],n=[];for(let t=0;t<v;t++){let i=Is(L,t,e,!0);i&&"floatType"===T.valueType&&(i=$r(i,o)),n.push({interpolator:t>0&&""!==i&&"pivotX"!==u&&"pivotY"!==u?As(p.keySplines,t-1):"",fraction:0===s[t]&&""===i?"":$r(s[t],a),value:i})}t.push({propertyName:u,keyframe:n}),E.has(R)||(""!==R&&E.set(R,t),(0===h?m:f).push(Object.assign(Object.assign({},T),{propertyValuesHolder:t}))),x=void 0}else{t="sequentially";const i=zs("sequentially");for(let t=0;t<v;t++){const a=s[t],r=Object.assign(Object.assign({},T),{propertyName:u,startOffset:0===t?""+(p.delay+(a>0?Math.floor(a*p.duration):0)):"",propertyValuesHolder:!1});let l=Is(L,t,e,!1,"pathType"===T.valueType?n.pathData:p.baseValue);if(l){let d;if(0===t?(r.valueFrom=!c&&S&&_?_[e]:"pathType"===T.valueType?n.pathData||""+L[0]:p.baseValue||p.replaceValue||"",d=0):(r.valueFrom=""+Is(L,t-1,e),d=Math.floor((a-s[t-1])*p.duration)),"floatType"===T.valueType&&(l=$r(l,o)),null===(g=x)||void 0===g?void 0:g[t]){let e,n=0;if(/X$/.test(u)?(e="translateX",n=x[t].x):/Y$/.test(u)&&(e="translateY",n=x[t].y),e){const t=this.createPropertyValue(e,$r(n,o),""+d,"floatType");t.interpolator=vs(us["step-start"]),i.objectAnimator.push(t)}}t>0&&(r.interpolator=As(p.keySplines,t-1)),r.duration=""+d,r.valueTo=l,m.push(r)}}i.objectAnimator.length&&r.set.push(i)}else{const t=Object.assign(Object.assign({},T),{propertyName:u,interpolator:p.duration>1?As(p.keySplines,0):"",propertyValuesHolder:!1}),i=L.length;if(Array.isArray(L[0])){const n=L[i-1][e];if(i>1){const i=L[0][e];i!==n&&(t.valueFrom=""+i)}t.valueTo=""+n}else{let o;i>1?(o=""+L[0],t.valueTo=""+L[i-1]):(o=p.from||(!c&&S&&_?_[e]:""),t.valueTo=p.to),"pathType"===T.valueType?t.valueFrom=o||n.pathData||t.valueTo:o!==t.valueTo&&o&&(t.valueFrom=Ms(p,o))}t.valueTo&&("floatType"===T.valueType&&(t.valueTo=$r(t.valueTo,o)),(0===h?m:f).push(t))}0!==h||l||-1===p.iterationCount||I(u,m)}S&&(null===(A=x)||void 0===A?void 0:A.length)&&(w("translateX","0"),w("translateY","0"))}}}});const A=m.length>0||f.length>0;"sequentially"===t&&(A&&1===y.length&&(m.unshift(y[0]),y.length=0),1===f.length&&(m.push(f[0]),f.length=0),A&&1===b.length&&(m.push(b[0]),b.length=0)),0===y.length&&0===f.length&&0===b.length&&("sequentially"===t&&1===m.length&&(t=""),"sequentially"!==r.ordering&&"sequentially"!==t&&(T=T.concat(m),m.length=0)),(m.length||f.length)&&(y.length&&(r.ordering="sequentially",r.set.push(h)),m.length&&(u.ordering=t,r.set.push(u)),f.length&&(r.ordering="sequentially",r.set.push(p)),b.length&&(r.ordering="sequentially",r.set.push(g))),T.length&&(r.objectAnimator=r.objectAnimator.concat(T))}(r.set.length||r.objectAnimator.length)&&y.set.push(r)}),Hs(t,e,y,r,c)}for(const[e,n]of this.ANIMATE_TARGET.entries()){let i;const o=(t,e,n,o,a)=>{void 0===i&&(i=[]),i.push(this.createPropertyValue(t,e,"0",n,o,a))};for(const t of n.animate)if(Vr.asAnimateMotion(t)){const e=t.parent;if(e&&Vr.isShape(e)){const n=e.path;if(n){const{value:e,baseValue:i}=n;e!==i&&(o("pathData",i,"pathType",e),-1===t.iterationCount||t.setterType||o("pathData",e,"pathType",i,""+t.getTotalDuration()))}}}i&&Hs(t,e,{set:[{set:void 0,objectAnimator:i}],objectAnimator:void 0},r,c)}t[0].target&&(u=M.insertStoredAsset("drawables",Gs(r,c,"anim"),hs("animated-vector",Br,t)))}if(c){const t=this.resource,e=[];""!==u&&e.push({drawable:Us(u)});const i=[{"xmlns:android":d.android,item:e}];for(const i of this.IMAGE_DATA){const o=n.viewBox,a=n.width/o.width,r=n.height/o.height;let s=i.getBaseValue("x",0)*a,l=i.getBaseValue("y",0)*r,c=i.getBaseValue("width",0),d=i.getBaseValue("height",0);const h=xs(i.element,n.element);s+=h.x,l+=h.y,c*=a,d*=r;const u={width:Yr(c),height:Yr(d),left:0!==s?Yr(s):"",top:0!==l?Yr(l):""},p=Us(t.addImageSet({mdpi:i.href}));i.rotateAngle?u.rotate={drawable:p,fromDegrees:""+i.rotateAngle,visible:i.visible?"true":"false"}:u.drawable=p,e.push(u)}h=M.insertStoredAsset("drawables",r,hs("layer-list",Ko,i))}else h=u;return t.data(M.KEY_NAME,"svgViewBox",n.viewBox),h}parseVectorData(t,e=0){var n,i;const o=this.options.floatPrecisionValue,a=this.createGroup(t),r=a.length,s=e+r;let l="";for(const e of t)if(e.visible)if(Vr.isShape(e)){const t=e.path;if(null===(n=t)||void 0===n?void 0:n.value){const[n,a]=this.createPath(e,t),r=[];if(t.strokeWidth&&(t.strokeDasharray||t.strokeDashoffset)){const s=this.ANIMATE_DATA.get(e.name);if(void 0===s||s.animate.every(t=>/^stroke-dash/.test(t.attributeName))){const[l,c,d,h]=t.extractStrokeDash(null===(i=s)||void 0===i?void 0:i.animate,o);if(c){s&&(this.ANIMATE_DATA.delete(e.name),l&&(s.animate=l));const t=Vs(e,"stroke"),i={name:t};""!==d&&(n.pathData=d),""!==h&&(i["clip-path"]=[{pathData:h}]);const u=c.length;for(let e=0;e<u;e++){const i=0===e?n:Object.assign({},n),a=c[e];i.name=t+"_"+e,s&&this.ANIMATE_DATA.set(i.name,{element:s.element,animate:is(s.animate,t=>void 0===t.id||t.id===e)}),i.trimPathStart=$r(a.start,o),i.trimPathEnd=$r(a.end,o),r.push(i)}a.unshift(i)}}}if(0===r.length&&r.push(n),a.length){a[a.length-1].path=r,l+=hs("group",Qo,a,s+1)}else l+=hs("path",Jo,r,s+1)}}else Vr.isContainer(e)?e.length&&(l+=this.parseVectorData(e,s)):Vr.asImage(e)&&(Vr.asPattern(t)||(e.extract(this.options.transformExclude.image),this.IMAGE_DATA.push(e)));return r?(a[r-1].include=l,hs("group",Qo,a,e+1)):l}createGroup(t){const e=[],n=[],i={"clip-path":e},o={"clip-path":n},a=[],r={};if(!(t!==this.SVG_INSTANCE&&Vr.asSvg(t)||Vr.asUseSymbol(t)||Vr.asUsePattern(t))||0===t.x&&0===t.y||(r.name=Vs(t,"main"),r.translateX=""+t.x,r.translateY=""+t.y),""!==t.clipRegion&&this.createClipPath(t,e,t.clipRegion),(e.length||Object.keys(r).length)&&(Object.assign(i,r),a.push(i)),t!==this.SVG_INSTANCE){const e={},[i]=ws(t.element,t.transforms,!0),r=Vs(t,"animate");if((Vr.asG(t)||Vr.asUseSymbol(t))&&ss(t.clipPath)&&this.createClipPath(t,n,t.clipPath)&&(e.name=r),this.queueAnimations(t,r,t=>Vr.asAnimateTransform(t))&&(e.name=r),Object.keys(e).length&&(Object.assign(o,e),a.push(o)),i.length){let e=[];for(const t of i)a.push(Ss(t)),e=e.concat(t);t.transformed=e.reverse()}}return a}createPath(t,e){const n=this.options.floatPrecisionValue,i={name:t.name},o=[],a=[];if(Vr.asUse(t)&&ss(t.clipPath)&&this.createClipPath(t,a,t.clipPath),ss(e.clipPath)){const t=new zr(e.element);t.build({exclude:this.options.transformExclude,residual:Rs,precision:n}),t.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,precision:n}),this.createClipPath(t,a,e.clipPath)}const r={},s=Vs(t,"group");if(this.queueAnimations(t,s,t=>Vr.isAnimateTransform(t),"",t.name)?r.name=s:a.length&&(r.name=""),!Vr.asUse(t)||0===t.x&&0===t.y||(r.translateX=""+t.x,r.translateY=""+t.y),a.length&&(r["clip-path"]=a),Object.keys(r).length&&o.push(r),e.transformResidual)for(const t of e.transformResidual)o.push(Ss(t));const l=function(t){let e=parseFloat(t.opacity),n=t.parent;for(;n;){const t=parseFloat(n.opacity||"1");!isNaN(t)&&t<1&&(e*=t),n=n.parent}return e}(t),c=Vr.asUse(t);for(let o of bs){let a=c&&t[o]||e[o];if(a){switch(o){case"name":break;case"value":o="pathData";break;case"fill":if(o="fillColor","none"===a||void 0!==i["aapt:attr"])continue;{const t=M.addColor(a);""!==t&&(a="@color/"+t)}break;case"stroke":if(o="strokeColor","none"===a)continue;{const t=M.addColor(a);""!==t&&(a="@color/"+t)}break;case"fillPattern":{const t=this.SVG_INSTANCE.definitions.gradient.get(a);let r=!1;if(t)switch(e.element.tagName){case"path":if(!/[zZ]\s*$/.test(e.value))break;case"rect":case"polygon":case"polyline":case"circle":case"ellipse":{const i=Ds(t,e,n);i&&(a={name:"android:fillColor",gradient:i},r=!0);break}}if(!r)continue;o="aapt:attr",i.fillColor="",this.NAMESPACE_AAPT=!0;break}case"fillRule":if("evenodd"!==a)continue;o="fillType",a="evenOdd";break;case"strokeWidth":if("0"===a)continue;break;case"fillOpacity":case"strokeOpacity":if(a=""+(rs(a)?parseFloat(a):1)*l,"1"===a)continue;o="fillOpacity"===o?"fillAlpha":"strokeAlpha";break;case"strokeLinecap":if("butt"===a)continue;o="strokeLineCap";break;case"strokeLinejoin":if("miter"===a)continue;o="strokeLineJoin";break;case"strokeMiterlimit":if("4"===a)continue;o="strokeMiterLimit";break;default:continue}i[o]=a}}i.strokeWidth?i.strokeColor||(i.strokeWidth=""):i.strokeColor="";const d=new Map,h=[],u=[],p=e.value;let g=p,m=0;for(const e of t.animations)if(Vr.asAnimateTransform(e)&&!e.additiveSum&&e.transformFrom){let t=Math.max(0,e.delay-1);d.set(t,{index:m,time:t,to:e.transformFrom,reset:!1,animate:e}),-1!==e.iterationCount&&e.fillReplace&&(t=e.delay+e.iterationCount*e.duration,d.has(t)||d.set(t,{index:m,time:t,to:p,reset:!0})),m++}const f=Array.from(d.values()).sort((t,e)=>t.time<e.time?-1:1),y=f.length;for(let t=0;t<y;t++){const e=f[t];if(!e.reset||e.to!==g){let n=!0;if(e.reset)t:for(let i=0;i<t;i++){const o=f[i];if(!o.reset)for(let i=t+1;i<y;i++)switch(f[i].index){case o.index:n=!1;case e.index:break t}}else{const n=[],i=new Set;for(let e=0;e<t;e++){const t=f[e];n[t.index]=n[t.index]?2:1}const o=n.length;for(let t=0;t<o;t++)if(1===n[t]){const e=f.find(e=>e.index===t&&"animate"in e);if(e){const t=e.animate;t&&i.add(t.type)}}for(const t of i){const n=Cs(t);if(n){const i=ms.typeAsValue(t).split(" "),o=i.length;for(let t=0;t<o;t++)h.push(Ns(n[t],e.time,i[t],""))}}}n&&(u.push(Ns("d",e.time,e.to)),g=e.to)}}this.queueAnimations(t,i.name,t=>(Vr.asAnimate(t)||Vr.asSet(t))&&"clip-path"!==t.attributeName,p)||0!==u.length||r.name!==s&&(i.name="");const b=this.ANIMATE_DATA;if(h.length){const t=b.get(s);t&&(t.animate=t.animate.concat(h))}if(u.length){const e=b.get(i.name);e?e.animate=e.animate.concat(u):b.set(i.name,{element:t.element,animate:u,pathData:p})}return[i,o]}createClipPath(t,e,n){const i=this.SVG_INSTANCE.definitions,o=this.options,a=o.floatPrecisionValue;let r=0;return n.split(";").forEach((n,s,l)=>{if("#"===n.charAt(0)){const t=i.clipPath.get(n);if(t){const n=new Fr(t);n.build({exclude:o.transformExclude,residual:Rs,precision:a}),n.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,precision:a}),n.each(t=>{const n=t.path;if(n){const i=n.value;if(i){let n=Vs(t,"clip_path",l.length>1?s+1:-1);this.queueAnimations(t,n,t=>Vr.asAnimate(t)||Vr.asSet(t),i)||(n=""),e.push({name:n,pathData:i})}}})}r++}else{let i=Vs(t,"clip_path",l.length>1?s+1:-1);this.queueAnimations(t,i,t=>(Vr.asAnimate(t)||Vr.asSet(t))&&"clip-path"===t.attributeName,n)||(i=""),e.push({name:i,pathData:n}),r++}}),r>0}queueAnimations(t,e,n,i="",o){if(t.animations.length){const a=is(t.animations,(t,e,i)=>!t.paused&&(t.duration>=0||t.setterType)&&n(t,e,i));if(a.length){const n=t.element;return this.ANIMATE_DATA.set(e,{element:n,animate:a,pathData:i}),o&&this.ANIMATE_TARGET.set(o,{element:n,animate:a,pathData:i}),!0}}return!1}createPropertyValue(t,e,n,i,o="",a="",r="0"){const s=this.options.floatPrecisionValue;return{propertyName:t,startOffset:a,duration:n,repeatCount:r,valueType:i,valueFrom:rs(o)?$r(o,s):o,valueTo:rs(e)?$r(e,s):e,propertyValuesHolder:!1}}}const js={builtInExtensions:["android.delegate.max-width-height","android.delegate.fixed","android.delegate.negative-x","android.delegate.negative-viewport","android.delegate.percent","android.delegate.scrollbar","android.delegate.background","android.delegate.css-grid","android.delegate.radiogroup","squared.sprite","squared.css-grid","squared.flexbox","squared.table","squared.list","squared.grid","squared.relative","squared.verticalalign","squared.whitespace","squared.accessibility","android.resource.svg","android.resource.background","android.resource.strings","android.resource.fonts","android.resource.dimens","android.resource.styles","android.resource.includes"],targetAPI:29,resolutionDPI:160,resolutionScreenWidth:1280,resolutionScreenHeight:900,framesPerSecond:60,supportRTL:!0,preloadImages:!0,supportNegativeLeftTop:!0,exclusionsDisabled:!1,customizationsOverwritePrivilege:!0,showAttributes:!0,createQuerySelectorMap:!1,convertPixels:"dp",insertSpaces:4,handleExtensionsAsync:!0,autoCloseOnWrite:!0,showErrorMessages:!0,manifestLabelAppName:"android",manifestThemeName:"AppTheme",manifestParentThemeName:"Theme.AppCompat.Light.NoActionBar",outputMainFileName:"activity_main.xml",outputDirectory:"app/src/main",outputArchiveName:"android-xml",outputArchiveFormat:"zip",outputArchiveTimeout:30},Ys=squared.base.lib;let Zs,$s,Ks,Js=!1;const Qs=t=>Js&&(t.closed||!(!Js||Zs.initializing||Zs.closed||!Zs.userSettings.autoCloseOnWrite)&&(Zs.finalize(),!0)),tl={base:{Controller:qe,File:mn,Resource:M,View:Dt},extensions:{Accessibility:yn,CssGrid:Qn,External:ti,Flexbox:bi,Grid:wi,List:Pi,Relative:Bi,Sprite:Ui,Substitute:qi,Table:oo,VerticalAlign:ro,WhiteSpace:so,constraint:{Guideline:po},delegate:{Background:bo,Fixed:_o,CssGrid:xo,MaxWidthHeight:Lo,NegativeViewport:ko,NegativeX:Bo,Percent:Ho,RadioGroup:qo,ScrollBar:Zo},resource:{Background:Ga,Dimens:Ka,Fonts:yr,Includes:br,Strings:_r,Styles:Mr,Svg:qs}},lib:{constant:g,customization:X,enumeration:n,util:tt},system:{customize(t,e,n){if(H[t]){const i=H[t].assign;return i[e]?Object.assign(i[e],n):i[e]=n,i[e]}},addXmlNs(t,e){d[t]=e},copyLayoutAllXml(t,e){Qs(Zs)&&$s.layoutAllToXml({assets:Zs.layouts,copyTo:t,callback:e})},copyResourceAllXml(t,e){Qs(Zs)&&$s.resourceAllToXml({copyTo:t,callback:e})},copyResourceStringXml(t,e){Qs(Zs)&&$s.resourceStringToXml({copyTo:t,callback:e})},copyResourceArrayXml(t,e){Qs(Zs)&&$s.resourceStringArrayToXml({copyTo:t,callback:e})},copyResourceFontXml(t,e){Qs(Zs)&&$s.resourceFontToXml({copyTo:t,callback:e})},copyResourceColorXml(t,e){Qs(Zs)&&$s.resourceColorToXml({copyTo:t,callback:e})},copyResourceStyleXml(t,e){Qs(Zs)&&$s.resourceStyleToXml({copyTo:t,callback:e})},copyResourceDimenXml(t,e){Qs(Zs)&&$s.resourceDimenToXml({copyTo:t,callback:e})},copyResourceDrawableXml(t,e){Qs(Zs)&&$s.resourceDrawableToXml({copyTo:t,callback:e})},copyResourceDrawableImageXml(t,e){Qs(Zs)&&$s.resourceDrawableImageToXml({copyTo:t,callback:e})},copyResourceAnimXml(t,e){Qs(Zs)&&$s.resourceAnimToXml({copyTo:t,callback:e})},saveLayoutAllXml(t){Qs(Zs)&&$s.layoutAllToXml({assets:Zs.layouts,archiveTo:t||Ks.outputArchiveName+"-layouts"})},saveResourceAllXml(t){Qs(Zs)&&$s.resourceAllToXml({archiveTo:t||Ks.outputArchiveName+"-resources"})},saveResourceStringXml(t){Qs(Zs)&&$s.resourceStringToXml({archiveTo:t||Ks.outputArchiveName+"-string"})},saveResourceArrayXml(t){Qs(Zs)&&$s.resourceStringArrayToXml({archiveTo:t||Ks.outputArchiveName+"-array"})},saveResourceFontXml(t){Qs(Zs)&&$s.resourceFontToXml({archiveTo:t||Ks.outputArchiveName+"-font"})},saveResourceColorXml(t){Qs(Zs)&&$s.resourceColorToXml({archiveTo:t||Ks.outputArchiveName+"-color"})},saveResourceStyleXml(t){Qs(Zs)&&$s.resourceStyleToXml({archiveTo:t||Ks.outputArchiveName+"-style"})},saveResourceDimenXml(t){Qs(Zs)&&$s.resourceDimenToXml({archiveTo:t||Ks.outputArchiveName+"-dimen"})},saveResourceDrawableXml(t){Qs(Zs)&&$s.resourceDrawableToXml({archiveTo:t||Ks.outputArchiveName+"-drawable"})},saveResourceDrawableImageXml(t){Qs(Zs)&&$s.resourceDrawableImageToXml({archiveTo:t||Ks.outputArchiveName+"-drawable-image"})},saveResourceAnimXml(t){Qs(Zs)&&$s.resourceAnimToXml({archiveTo:t||Ks.outputArchiveName+"-anim"})},writeLayoutAllXml:()=>Qs(Zs)?$s.layoutAllToXml({assets:Zs.layouts}):{},writeResourceAllXml:()=>Qs(Zs)?$s.resourceAllToXml():{},writeResourceStringXml:()=>Qs(Zs)?$s.resourceStringToXml():[],writeResourceArrayXml:()=>Qs(Zs)?$s.resourceStringArrayToXml():[],writeResourceFontXml:()=>Qs(Zs)?$s.resourceFontToXml():[],writeResourceColorXml:()=>Qs(Zs)?$s.resourceColorToXml():[],writeResourceStyleXml:()=>Qs(Zs)?$s.resourceStyleToXml():[],writeResourceDimenXml:()=>Qs(Zs)?$s.resourceDimenToXml():[],writeResourceDrawableXml:()=>Qs(Zs)?$s.resourceDrawableToXml():[],writeResourceDrawableImageXml:()=>Qs(Zs)?$s.resourceDrawableImageToXml():[],writeResourceAnimXml:()=>Qs(Zs)?$s.resourceAnimToXml():[]},create(){const e=Ys.constant.EXT_NAME,n=i;return Zs=new t(2,Dt,qe,M,je),$s=new mn,Zs.resourceHandler.setFileHandler($s),Ks=Object.assign({},js),Object.assign(Zs.builtInExtensions,{[e.SPRITE]:new Ui(e.SPRITE,2),[e.CSS_GRID]:new Qn(e.CSS_GRID,2),[e.FLEXBOX]:new bi(e.FLEXBOX,2),[e.TABLE]:new oo(e.TABLE,2,void 0,["TABLE"]),[e.LIST]:new Pi(e.LIST,2,void 0,["DIV","UL","OL","DL"]),[e.GRID]:new wi(e.GRID,2,void 0,["DIV","FORM","UL","OL","DL","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET"]),[e.RELATIVE]:new Bi(e.RELATIVE,2),[e.VERTICAL_ALIGN]:new ro(e.VERTICAL_ALIGN,2),[e.WHITESPACE]:new so(e.WHITESPACE,2),[e.ACCESSIBILITY]:new yn(e.ACCESSIBILITY,2),[n.EXTERNAL]:new ti(n.EXTERNAL,2),[n.SUBSTITUTE]:new qi(n.SUBSTITUTE,2),[n.CONSTRAINT_GUIDELINE]:new po(n.CONSTRAINT_GUIDELINE,2),[n.DELEGATE_BACKGROUND]:new bo(n.DELEGATE_BACKGROUND,2),[n.DELEGATE_FIXED]:new _o(n.DELEGATE_FIXED,2),[n.DELEGATE_MAXWIDTHHEIGHT]:new Lo(n.DELEGATE_MAXWIDTHHEIGHT,2),[n.DELEGATE_NEGATIVEVIEWPORT]:new ko(n.DELEGATE_NEGATIVEVIEWPORT,2),[n.DELEGATE_NEGATIVEX]:new Bo(n.DELEGATE_NEGATIVEX,2),[n.DELEGATE_PERCENT]:new Ho(n.DELEGATE_PERCENT,2),[n.DELEGATE_CSS_GRID]:new xo(n.DELEGATE_CSS_GRID,2),[n.DELEGATE_RADIOGROUP]:new qo(n.DELEGATE_RADIOGROUP,2),[n.DELEGATE_SCROLLBAR]:new Zo(n.DELEGATE_SCROLLBAR,2),[n.RESOURCE_INCLUDES]:new br(n.RESOURCE_INCLUDES,2),[n.RESOURCE_BACKGROUND]:new Ga(n.RESOURCE_BACKGROUND,2),[n.RESOURCE_SVG]:new qs(n.RESOURCE_SVG,2),[n.RESOURCE_STRINGS]:new _r(n.RESOURCE_STRINGS,2),[n.RESOURCE_FONTS]:new yr(n.RESOURCE_FONTS,2),[n.RESOURCE_DIMENS]:new Ka(n.RESOURCE_DIMENS,2),[n.RESOURCE_STYLES]:new Mr(n.RESOURCE_STYLES,2)}),Js=!0,{application:Zs,framework:2,userSettings:Ks}},cached:()=>Js?{application:Zs,framework:2,userSettings:Ks}:tl.create()};return tl}();
