var android=function(){"use strict";var t;!function(t){t[t.CHECKBOX=1]="CHECKBOX",t[t.RADIO=2]="RADIO",t[t.EDIT=3]="EDIT",t[t.SELECT=4]="SELECT",t[t.RANGE=5]="RANGE",t[t.SVG=6]="SVG",t[t.TEXT=7]="TEXT",t[t.IMAGE=8]="IMAGE",t[t.BUTTON=9]="BUTTON",t[t.INLINE=10]="INLINE",t[t.LINE=11]="LINE",t[t.SPACE=12]="SPACE",t[t.BLOCK=13]="BLOCK",t[t.FRAME=14]="FRAME",t[t.LINEAR=15]="LINEAR",t[t.GRID=16]="GRID",t[t.RELATIVE=17]="RELATIVE",t[t.CONSTRAINT=18]="CONSTRAINT"}(t||(t={}));var e=Object.freeze({get CONTAINER_NODE(){return t}});const n={DELEGATE_FIXED:"android.delegate.fixed",DELEGATE_MAXWIDTHHEIGHT:"android.delegate.max-width-height",DELEGATE_PERCENT:"android.delegate.percent",DELEGATE_RADIOGROUP:"android.delegate.radiogroup",DELEGATE_SCROLLBAR:"android.delegate.scrollbar",DELEGATE_VERTICALALIGN:"android.delegate.verticalalign",CONSTRAINT_GUIDELINE:"android.constraint.guideline",RESOURCE_INCLUDES:"android.resource.includes",RESOURCE_BACKGROUND:"android.resource.background",RESOURCE_SVG:"android.resource.svg",RESOURCE_STRINGS:"android.resource.strings",RESOURCE_FONTS:"android.resource.fonts",RESOURCE_DIMENS:"android.resource.dimens",RESOURCE_STYLES:"android.resource.styles"},o={CHECKBOX:"CheckBox",RADIO:"RadioButton",EDIT:"EditText",SELECT:"Spinner",RANGE:"SeekBar",SVG:"ImageView",TEXT:"TextView",IMAGE:"ImageView",BUTTON:"Button",LINE:"View",SPACE:"Space",FRAME:"FrameLayout",LINEAR:"LinearLayout",GRID:"GridLayout",RELATIVE:"RelativeLayout",CONSTRAINT:"android.support.constraint.ConstraintLayout",GUIDELINE:"android.support.constraint.Guideline"},i={PLAINTEXT:t.TEXT,HR:t.LINE,SVG:t.SVG,IMG:t.IMAGE,SELECT:t.SELECT,RANGE:t.RANGE,TEXT:t.EDIT,PASSWORD:t.EDIT,NUMBER:t.EDIT,EMAIL:t.EDIT,SEARCH:t.EDIT,URL:t.EDIT,CHECKBOX:t.CHECKBOX,RADIO:t.RADIO,BUTTON:t.BUTTON,SUBMIT:t.BUTTON,RESET:t.BUTTON,TEXTAREA:t.EDIT},a={MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft"},r={HORIZONTAL:"horizontal",VERTICAL:"vertical"},s={relativeParent:{left:"layout_alignParentLeft",top:"layout_alignParentTop",right:"layout_alignParentRight",bottom:"layout_alignParentBottom",centerHorizontal:"layout_centerHorizontal",centerVertical:"layout_centerVertical"},relative:{left:"layout_alignLeft",top:"layout_alignTop",right:"layout_alignRight",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",leftRight:"layout_toRightOf",rightLeft:"layout_toLeftOf",topBottom:"layout_below",bottomTop:"layout_above"},constraint:{left:"layout_constraintLeft_toLeftOf",top:"layout_constraintTop_toTopOf",right:"layout_constraintRight_toRightOf",bottom:"layout_constraintBottom_toBottomOf",leftRight:"layout_constraintLeft_toRightOf",rightLeft:"layout_constraintRight_toLeftOf",baseline:"layout_constraintBaseline_toBaselineOf",topBottom:"layout_constraintTop_toBottomOf",bottomTop:"layout_constraintBottom_toTopOf"}},l={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",aapt:"http://schemas.android.com/aapt",tools:"http://schemas.android.com/tools"},d=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"];var c=Object.freeze({EXT_ANDROID:n,CONTAINER_ANDROID:o,ELEMENT_ANDROID:i,SUPPORT_ANDROID:{DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},BOX_ANDROID:a,AXIS_ANDROID:r,LAYOUT_ANDROID:s,XMLNS_ANDROID:l,PREFIX_ANDROID:{MENU:"ic_menu_",DIALOG:"ic_dialog_"},RESERVED_JAVA:d});const h=squared.base.Resource,u=squared.lib.color,p=squared.lib.dom,m=squared.lib.math,g=squared.lib.util,f=squared.lib.xml,y=squared.svg&&squared.svg.SvgBuild,b=squared.svg&&squared.svg.lib&&squared.svg.lib.util,T=h.STORED;function A(t){return g.isPercent(t)?parseInt(t)/100:.5}function E(t){switch(t){case SVGGradientElement.SVG_SPREADMETHOD_PAD:return"clamp";case SVGGradientElement.SVG_SPREADMETHOD_REFLECT:return"mirror";case SVGGradientElement.SVG_SPREADMETHOD_REPEAT:return"repeat"}return""}class v extends squared.base.Resource{constructor(t,e){super(t,e),T.styles=new Map,T.themes=new Map,T.dimens=new Map,T.drawables=new Map,T.animators=new Map}static createBackgroundGradient(t,e,n){const o=[];for(const i of e){const e={type:i.type,colorStops:[]};let a;switch(!t.svgElement&&0===parseFloat(i.colorStops[0].offset)&&["100%","360"].includes(i.colorStops[i.colorStops.length-1].offset)&&(2===i.colorStops.length||3===i.colorStops.length&&["50%","180"].includes(i.colorStops[1].offset))?(e.startColor=v.addColor(i.colorStops[0].color,!0),e.endColor=v.addColor(i.colorStops[i.colorStops.length-1].color,!0),3===i.colorStops.length&&(e.centerColor=v.addColor(i.colorStops[1].color,!0)),a=!1):a=!0,i.type){case"radial":if(t.svgElement){if(n&&y&&b){const t=i,a=[];let r,s,l,d;switch(n.element.tagName){case"path":for(const t of y.getPathCommands(n.value))a.push(...t.value);case"polygon":if(n.element instanceof SVGPolygonElement&&a.push(...y.clonePoints(n.element.points)),!a.length)break;[r,s,l,d]=y.minMaxPoints(a),l-=r,d-=s;break;default:if(b.SVG.rect(n.element)){const t=n.element;r=t.x.baseVal.value,s=t.y.baseVal.value,l=t.width.baseVal.value,d=t.height.baseVal.value}else if(b.SVG.circle(n.element)){const t=n.element;r=t.cx.baseVal.value-t.r.baseVal.value,s=t.cy.baseVal.value-t.r.baseVal.value,d=l=2*t.r.baseVal.value}else{if(!b.SVG.ellipse(n.element))return o;{const t=n.element;r=t.cx.baseVal.value-t.rx.baseVal.value,s=t.cy.baseVal.value-t.ry.baseVal.value,l=2*t.rx.baseVal.value,d=2*t.ry.baseVal.value}}}e.centerX=""+(r+l*A(t.cxAsString)),e.centerY=""+(s+d*A(t.cyAsString)),e.gradientRadius=""+(l+d)/2*(g.isPercent(t.rAsString)?parseFloat(t.rAsString)/100:1),t.spreadMethod&&(e.tileMode=E(t.spreadMethod))}}else{const n=p.getBackgroundPosition(i.position[0],t.bounds,t.fontSize,!0,!a);a?(e.gradientRadius=""+t.bounds.width,e.centerX=""+n.left,e.centerY=""+n.top):(e.gradientRadius=g.formatPX(t.bounds.width),e.centerX=g.convertPercent(n.left),e.centerY=g.convertPercent(n.top))}break;case"linear":if(t.svgElement){const t=i;e.startX=""+t.x1,e.startY=""+t.y1,e.endX=""+t.x2,e.endY=""+t.y2,t.spreadMethod&&(e.tileMode=E(t.spreadMethod))}else{const n=i;if(a){const o=Math.round(t.bounds.width/2),i=Math.round(t.bounds.height/2);e.startX=""+Math.round(o+m.distanceFromX(o,n.angle+180)),e.startY=""+Math.round(i+m.distanceFromY(i,n.angle+180)),e.endX=""+Math.round(o+m.distanceFromX(o,n.angle)),e.endY=""+Math.round(i+m.distanceFromY(i,n.angle))}else e.angle=""+45*Math.floor(n.angle/45)}break;case"conic":if(!t.svgElement){e.type="sweep";const n=p.getBackgroundPosition(i.position[0],t.bounds,t.fontSize,!0,!a);a?(e.centerX=""+n.left,e.centerY=""+n.top):(e.centerX=g.convertPercent(n.left),e.centerY=g.convertPercent(n.top));break}default:return o}if(a)for(let n=0;n<i.colorStops.length;n++){const o=i.colorStops[n],a=`@color/${v.addColor(o.color,!0)}`;let r=parseInt(o.offset);"sweep"===e.type?r*=100/360:0!==n||0===r||t.svgElement||e.colorStops.push({color:a,offset:"0",opacity:o.opacity}),e.colorStops.push({color:a,offset:m.truncateRange(r/100),opacity:o.opacity})}o.push(e)}return o}static formatOptions(t,e=!1){for(const n in t)if(t.hasOwnProperty(n)){const o=t[n];if("object"==typeof o)for(const t in o){let n=""+o[t];switch(t){case"text":if(!n.startsWith("@string/")&&""!==(n=this.addString(n,"",e))){o[t]=`@string/${n}`;continue}break;case"src":case"srcCompat":if(g.REGEXP_PATTERN.URI.test(n)&&""!==(n=this.addImage({mdpi:n}))){o[t]=`@drawable/${n}`;continue}}const i=u.parseRGBA(n);if(i){const e=this.addColor(i);""!==e&&(o[t]=`@color/${e}`)}}}return t}static getOptionArray(t){const e=[];let n=[],o=-1;for(;++o<t.children.length;){const i=t.children[o].text.trim();if(""!==i)if(n&&0===e.length&&g.isNumber(i))n.push(i);else{if(n&&n.length){o=-1,n=void 0;continue}""!==i&&e.push(f.replaceEntity(i))}}return[e.length?e:void 0,n&&n.length?n:void 0]}static addTheme(...t){for(const e of t){const t=g.isString(e.output.path)?e.output.path:"",n=g.isString(e.output.file)?e.output.file:"themes.xml",o=`${g.trimString(t.trim(),"/")}/${g.trimString(n.trim(),"/")}`,i=T.themes.get(o)||new Map;let a="";if(""===e.name||"."===e.name.charAt(0)){t:for(const t of T.themes.values())for(const e of t.values())if(e.name){a=e.name;break t}""===a&&(a="AppTheme")}else a=e.name;if(e.name=a+("."===e.name.charAt(0)?e.name:""),v.formatOptions(e.items),i.has(e.name)){const t=i.get(e.name);for(const n in e.items)t.items[n]=e.items[n]}else i.set(e.name,e);T.themes.set(o,i)}}static addString(t,e="",n=!1){if(""!==t){""===e&&(e=t.trim());const o=g.isNumber(t);if(!o||n){for(const[e,n]of T.strings.entries())if(n===t)return e;e=e.toLowerCase().replace(/[^a-z\d]/g,"_").replace(/_+/g,"_").split("_").slice(0,4).join("_").replace(/_+$/g,""),o||/^\d/.test(e)||d.includes(e)?e=`__${e}`:""===e&&(e=`__symbol${Math.ceil(1e5*Math.random())}`),T.strings.has(e)&&(e=v.generateId("string",e)),T.strings.set(e,t)}return e}return""}static addImageSrcSet(t,e=""){const n={},o=t.srcset.trim();if(""!==o){const e=t.src.substring(0,t.src.lastIndexOf("/")+1);for(const t of o.split(",")){const o=/^(.+?)\s*(\d+\.?\d*x)?$/.exec(t.trim());if(o){g.hasValue(o[2])||(o[2]="1x");const t=e+g.lastIndexOf(o[1]);switch(o[2]){case"0.75x":n.ldpi=t;break;case"1x":n.mdpi=t;break;case"1.5x":n.hdpi=t;break;case"2x":n.xhdpi=t;break;case"3x":n.xxhdpi=t;break;case"4x":n.xxxhdpi=t}}}}return void 0===n.mdpi&&(n.mdpi=t.src),this.addImage(n,e)}static addImage(t,e=""){let n="";if(t&&t.mdpi){n=g.lastIndexOf(t.mdpi);const o=g.lastIndexOf(n,".").toLowerCase();switch(n=n.replace(/.\w+$/,"").replace(/-/g,"_"),o){case"bmp":case"cur":case"gif":case"ico":case"jpg":case"png":n=v.insertStoredAsset("images",e+n,t);break;default:n=""}}return n}static addImageUrl(t,e=""){const n=p.cssResolveUrl(t);return""!==n?this.addImage({mdpi:n},e):""}static addColor(t,e=!1){if("string"==typeof t&&(t=u.parseRGBA(t,void 0,e)),t&&("#00000000"!==t.valueRGBA||e)){const e=t.opaque?t.valueARGB:t.valueRGB;let n=T.colors.get(e)||"";if(""===n){const o=u.getColorByShade(t.valueRGB);o&&(o.name=g.convertUnderscore(o.name),n=t.opaque||o.value!==t.valueRGB?v.generateId("color",o.name):o.name,T.colors.set(e,n))}return n}return""}get userSettings(){return this.application.userSettings}}const S=squared.lib.util;function w(t,e,n,o=0){return(!n||n>=o)&&(t.attr=e,!0)}const _={28:{android:{},app:{},assign:{}},27:{android:{accessibilityHeading:!1,accessibilityPaneTitle:!1,appComponentFactory:!1,buttonCornerRadius:!1,cantSaveState:!1,dialogCornerRadius:!1,fallbackLineSpacing:!1,firstBaselineToTopHeight:!1,fontVariationSettings:!1,lastBaselineToBottomHeight:!1,lineHeight:!1,maxLongVersionCode:!1,outlineAmbientShadowColor:!1,outlineSpotShadowColor:!1,screenReaderFocusable:!1,textFontWeight:!1,ttcIndex:!1,versionCodeMajor:!1,versionMajor:!1,widgetFeatures:!1,windowLayoutInDisplayCutoutMode:!1},app:{},assign:{}},26:{android:{classLoader:!1,navigationBarDividerColor:!1,showWhenLocked:!1,turnScreenOn:!1,windowLightNavigationBar:!1},app:{},assign:{}},25:{android:{fontWeight:!1,justificationMode:!1,layout_marginHorizontal:!1,layout_marginVertical:!1,paddingHorizontal:!1,paddingVertical:!1},app:{},assign:{}},24:{android:{colorSecondary:!1,contextDescription:!1,contextUri:!1,roundIcon:!1,shortcutDisabledMessage:!1,shortcutId:!1,shortcutLongLabel:!1,shortcutShortLabel:!1,showMetadataInPreview:!1},app:{},assign:{}},23:{android:{backupInForeground:!1,bitmap:!1,buttonGravity:!1,canControlMagnification:!1,canPerformGestures:!1,canRecord:!1,collapseIcon:!1,contentInsetEndWithActions:!1,contentInsetStartWithNavigation:!1,contextPopupMenuStyle:!1,countDown:!1,defaultHeight:!1,defaultToDeviceProtectedStorage:!1,defaultWidth:!1,directBootAware:!1,enableVrMode:!1,endX:!1,endY:!1,externalService:!1,fillType:!1,forceHasOverlappingRendering:!1,hotSpotX:!1,hotSpotY:!1,languageTag:!1,level:!1,listMenuViewStyle:!1,maxButtonHeight:!1,networkSecurityConfig:!1,numberPickerStyle:!1,offset:!1,pointerIcon:!1,popupEnterTransition:!1,popupExitTransition:!1,preferenceFragmentStyle:!1,resizeableActivity:!1,startX:!1,startY:!1,subMenuArrow:!1,supportsLocalInteraction:!1,supportsPictureInPicture:!1,textAppearancePopupMenuHeader:!1,tickMark:!1,tickMarkTint:!1,tickMarkTintMode:!1,titleMargin:!1,titleMarginBottom:!1,titleMarginEnd:!1,titleMarginStart:!1,titleMarginTop:!1,tunerCount:!1,use32bitAbi:!1,version:!1,windowBackgroundFallback:!1},app:{},assign:{}},22:{android:{allowUndo:!1,autoVerify:!1,breakStrategy:!1,colorBackgroundFloating:!1,contextClickable:!1,drawableTint:!1,drawableTintMode:!1,end:t=>w(t,"right"),extractNativeLibs:!1,fingerprintAuthDrawable:!1,fraction:!1,fullBackupContent:!1,hyphenationFrequency:!1,lockTaskMode:!1,logoDescription:!1,numbersInnerTextColor:!1,scrollIndicators:!1,showForAllUsers:!1,start:t=>w(t,"left"),subtitleTextColor:!1,supportsAssist:!1,supportsLaunchVoiceAssistFromKeyguard:!1,thumbPosition:!1,titleTextColor:!1,trackTint:!1,trackTintMode:!1,usesCleartextTraffic:!1,windowLightStatusBar:!1},app:{},assign:{}},21:{android:{accessibilityTraversalAfter:!1,accessibilityTraversalBefore:!1,collapseContentDescription:!1,dialogPreferredPadding:!1,resizeClip:!1,revisionCode:!1,searchHintIcon:!1},app:{},assign:{}},20:{android:{actionBarPopupTheme:!1,actionBarTheme:!1,actionModeFindDrawable:!1,actionModeShareDrawable:!1,actionModeWebSearchDrawable:!1,actionOverflowMenuStyle:!1,amPmBackgroundColor:!1,amPmTextColor:!1,ambientShadowAlpha:!1,autoRemoveFromRecents:!1,backgroundTint:!1,backgroundTintMode:!1,banner:!1,buttonBarNegativeButtonStyle:!1,buttonBarNeutralButtonStyle:!1,buttonBarPositiveButtonStyle:!1,buttonTint:!1,buttonTintMode:!1,calendarTextColor:!1,checkMarkTint:!1,checkMarkTintMode:!1,closeIcon:!1,colorAccent:!1,colorButtonNormal:!1,colorControlActivated:!1,colorControlHighlight:!1,colorControlNormal:!1,colorEdgeEffect:!1,colorPrimary:!1,colorPrimaryDark:!1,commitIcon:!1,contentAgeHint:!1,contentInsetEnd:!1,contentInsetLeft:!1,contentInsetRight:!1,contentInsetStart:!1,controlX1:!1,controlX2:!1,controlY1:!1,controlY2:!1,country:!1,datePickerDialogTheme:!1,datePickerMode:!1,dayOfWeekBackground:!1,dayOfWeekTextAppearance:!1,documentLaunchMode:!1,elegantTextHeight:!1,elevation:!1,excludeClass:!1,excludeId:!1,excludeName:!1,fastScrollStyle:!1,fillAlpha:!1,fillColor:!1,fontFeatureSettings:!1,foregroundTint:!1,foregroundTintMode:!1,fragmentAllowEnterTransitionOverlap:!1,fragmentAllowReturnTransitionOverlap:!1,fragmentEnterTransition:!1,fragmentExitTransition:!1,fragmentReenterTransition:!1,fragmentReturnTransition:!1,fragmentSharedElementEnterTransition:!1,fragmentSharedElementReturnTransition:!1,fromId:!1,fullBackupOnly:!1,goIcon:!1,headerAmPmTextAppearance:!1,headerDayOfMonthTextAppearance:!1,headerMonthTextAppearance:!1,headerTimeTextAppearance:!1,headerYearTextAppearance:!1,hideOnContentScroll:!1,indeterminateTint:!1,indeterminateTintMode:!1,inset:!1,isGame:!1,launchTaskBehindSourceAnimation:!1,launchTaskBehindTargetAnimation:!1,layout_columnWeight:!1,layout_rowWeight:!1,letterSpacing:!1,matchOrder:!1,maxRecentsv:!1,maximumAngle:!1,minimumHorizontalAngle:!1,minimumVerticalAngle:!1,multiArch:!1,navigationBarColor:!1,navigationContentDescription:!1,navigationIcon:!1,nestedScrollingEnabled:!1,numbersBackgroundColor:!1,numbersSelectorColor:!1,numbersTextColor:!1,outlineProvider:!1,overlapAnchor:!1,paddingMode:!1,pathData:!1,patternPathData:!1,persistableMode:!1,popupElevation:!1,popupTheme:!1,progressBackgroundTint:!1,progressBackgroundTintMode:!1,progressTint:!1,progressTintMode:!1,propertyXName:!1,propertyYName:!1,queryBackground:!1,recognitionService:!1,relinquishTaskIdentity:!1,reparent:!1,reparentWithOverlay:!1,restrictionType:!1,resumeWhilePausing:!1,reversible:!1,searchIcon:!1,searchViewStyle:!1,secondaryProgressTint:!1,secondaryProgressTintMode:!1,selectableItemBackgroundBorderless:!1,sessionService:!1,setupActivity:!1,showText:!1,slideEdge:!1,splitTrack:!1,spotShadowAlpha:!1,src:(t,e,n)=>(n.svgElement&&(t.obj="app",t.attr="srcCompat"),!0),stackViewStyle:!1,stateListAnimator:!1,statusBarColor:!1,strokeAlpha:!1,strokeColor:!1,strokeLineCap:!1,strokeLineJoin:!1,strokeMiterLimit:!1,strokeWidth:!1,submitBackground:!1,subtitleTextAppearance:!1,suggestionRowLayout:!1,switchStyle:!1,targetName:!1,textAppearanceListItemSecondary:!1,thumbTint:!1,thumbTintMode:!1,tileModeX:!1,tileModeY:!1,timePickerDialogTheme:!1,timePickerMode:!1,timePickerStyle:!1,tintMode:!1,titleTextAppearance:!1,toId:!1,toolbarStyle:!1,touchscreenBlocksFocus:!1,transitionGroup:!1,transitionName:!1,transitionVisibilityMode:!1,translateX:!1,translateY:!1,translationZ:!1,trimPathEnd:!1,trimPathOffset:!1,trimPathStart:!1,viewportHeight:!1,viewportWidth:!1,voiceIcon:!1,windowActivityTransitions:!1,windowAllowEnterTransitionOverlap:!1,windowAllowReturnTransitionOverlap:!1,windowClipToOutline:!1,windowContentTransitionManager:!1,windowContentTransitions:!1,windowDrawsSystemBarBackgrounds:!1,windowElevation:!1,windowEnterTransition:!1,windowExitTransition:!1,windowReenterTransition:!1,windowReturnTransition:!1,windowSharedElementEnterTransition:!1,windowSharedElementExitTransition:!1,windowSharedElementReenterTransition:!1,windowSharedElementReturnTransition:!1,windowSharedElementsUseOverlay:!1,windowTransitionBackgroundFadeDuration:!1,yearListItemTextAppearance:!1,yearListSelectorColor:!1},app:{},assign:{}},19:{android:{allowEmbedded:!1,windowSwipeToDismiss:!1},app:{},assign:{}},18:{android:{accessibilityLiveRegion:!1,addPrintersActivity:!1,advancedPrintOptionsActivity:!1,apduServiceBanner:!1,autoMirrored:!1,category:!1,fadingMode:!1,fromScene:!1,isAsciiCapable:!1,keySet:!1,requireDeviceUnlock:!1,ssp:!1,sspPattern:!1,sspPrefix:!1,startDelay:!1,supportsSwitchingToNextInputMethod:!1,targetId:!1,toScene:!1,transition:!1,transitionOrdering:!1,vendor:!1,windowTranslucentNavigation:!1,windowTranslucentStatus:!1},app:{},assign:{}},17:{android:{canRequestEnhancedWebAccessibility:(t,e)=>e<26,canRequestFilterKeyEvents:!1,canRequestTouchExplorationMode:!1,childIndicatorEnd:!1,childIndicatorStart:!1,indicatorEnd:!1,indicatorStart:!1,layoutMode:!1,mipMap:!1,mirrorForRtl:!1,requiredAccountType:!1,requiredForAllUsers:!1,restrictedAccountType:!1,windowOverscan:!1},app:{},assign:{}},16:{android:{checkedTextViewStyle:!1,format12Hour:!1,format24Hour:!1,initialKeyguardLayout:!1,labelFor:!1,layoutDirection:!1,layout_alignEnd:t=>w(t,"layout_alignRight"),layout_alignParentEnd:t=>w(t,"layout_alignParentRight"),layout_alignParentStart:t=>w(t,"layout_alignParentLeft"),layout_alignStart:t=>w(t,"layout_alignLeft"),layout_marginEnd:t=>w(t,"layout_marginRight"),layout_marginStart:t=>w(t,"layout_marginLeft"),layout_toEndOf:t=>w(t,"layout_toRightOf"),layout_toStartOf:t=>w(t,"layout_toLeftOf"),listPreferredItemPaddingEnd:t=>w(t,"listPreferredItemPaddingRight"),listPreferredItemPaddingStart:t=>w(t,"listPreferredItemPaddingLeft"),paddingEnd:t=>w(t,"paddingRight"),paddingStart:t=>w(t,"paddingLeft"),permissionFlags:!1,permissionGroupFlags:!1,presentationTheme:!1,showOnLockScreen:!1,singleUser:!1,subtypeId:!1,supportsRtl:!1,textAlignment:!1,textDirection:!1,timeZone:!1,widgetCategory:!1},app:{},assign:{}},15:{android:{fontFamily:!1,importantForAccessibility:!1,isolatedProcess:!1,keyboardLayout:!1,mediaRouteButtonStyle:!1,mediaRouteTypes:!1,parentActivityName:!1},app:{},assign:{}},14:{android:{},app:{},assign:{}},0:{android:{},app:{},assign:{Button:{android:{textAllCaps:"false"}}}}},R={android:{amPmBackgroundColor:(t,e)=>w(t,"headerBackground",e,23),amPmTextColor:(t,e)=>w(t,"headerTextColor",e,23),animationResolution:(t,e)=>e<16,canRequestEnhancedWebAccessibility:(t,e)=>e<26,dayOfWeekBackground:(t,e)=>e<23,dayOfWeekTextAppearance:(t,e)=>e<23,directionDescriptions:(t,e)=>e<23,headerAmPmTextAppearance:(t,e)=>w(t,"headerTextColor",e,23),headerDayOfMonthTextAppearance:(t,e)=>w(t,"headerTextColor",e,23),headerMonthTextAppearance:(t,e)=>w(t,"headerTextColor",e,23),headerTimeTextAppearance:(t,e)=>w(t,"headerTextColor",e,23),headerYearTextAppearance:(t,e)=>w(t,"headerTextColor",e,23),showOnLockScreen:(t,e)=>w(t,"showForAllUsers",e,23),targetDescriptions:(t,e)=>e<23,yearListItemTextAppearance:(t,e)=>w(t,"yearListTextColor",e,23),yearListSelectorColor:(t,e)=>e<23}};var x=Object.freeze({API_ANDROID:_,DEPRECATED_ANDROID:R,getValue:function(t,e,n,o){for(const i of[_[t],_[0]]){const t=S.optionalAsString(i,`assign.${e}.${n}.${o}`);if(S.isString(t))return t}return""}});const I=squared.lib.util,N=squared.lib.xml;function C(t){return t?t.replace(/@\+?id\//,""):""}function P(t){return Object.assign({android:{},app:{}},t&&"object"==typeof t?t:{})}function O(t){const e={output:{path:"res/values",file:""},name:"",parent:"",items:{}};if(t&&"object"==typeof t)for(const n in e)typeof t[n]==typeof e[n]&&(e[n]=t[n]);return e}function L(t){return t?t.trim().replace(/[^\w$\-_.]/g,"_"):""}function M(t,e=160,n=!1){if(t){let o=parseFloat(t);if(!isNaN(o))return(t=(o/=e/160)>=1||0===o?""+Math.floor(o):o.toPrecision(2))+(n?"sp":"dp")}return"0dp"}function D(t,e=160,n="dp",o=!1){return"dp"===n||o?t.replace(/([">])(-)?(\d+(?:\.\d+)?px)(["<])/g,(t,...n)=>n[0]+(n[1]||"")+M(n[2],e,o)+n[3]):t}function B(t,e=4,n=!1){return N.replaceTab(t,e,n)}function k(t,e,n=4){return 0===t?0:0===e?1:parseFloat(Math.max(t/(t+e),0).toPrecision(n))}function X(t,e=!0,n=26){return t=t?t.trim():"",e&&n>=17&&(t=(t=t.replace(/left/g,"start").replace(/right/g,"end")).replace(/Left/g,"Start").replace(/Right/g,"End")),t}function V(...t){return I.joinMap(t,t=>l[t]?`xmlns:${t}="${l[t]}"`:""," ")}var G=Object.freeze({stripId:C,createViewAttribute:P,createStyleAttribute:O,validateString:L,convertUnit:M,replaceUnit:D,replaceTab:B,calculateBias:k,replaceRTL:X,getXmlNs:V}),F=squared.base.NodeList,H=squared.base.Resource;const z=squared.base.lib.enumeration,W=squared.lib.dom,q=squared.lib.util,$=["margin","padding"],U=["Top","Left","Right","Bottom"];function Y(t){switch(t){case"justify":case"initial":case"inherit":return"";case"center":return"center_horizontal";default:return t}}function j(t){if(!t.blockWidth){const e=[],n=t.documentRoot&&t.layoutFrame&&1===t.length&&t.has("maxWidth");if(t.autoMargin.leftRight?n?t.renderChildren[0].mergeGravity("layout_gravity","center_horizontal"):e.push("center_horizontal"):t.autoMargin.left?n?t.renderChildren[0].mergeGravity("layout_gravity","right"):e.push("right"):t.autoMargin.right&&e.push("left"),t.autoMargin.topBottom?e.push("center_vertical"):t.autoMargin.top?e.push("bottom"):t.autoMargin.bottom&&e.push("top"),e.length)return t.mergeGravity(t.blockWidth||!t.pageFlow?"gravity":"layout_gravity",...e),!0}return!1}var K=e=>(class n extends e{constructor(t=0,e,n){super(t,e),this.renderChildren=[],this.constraint={horizontal:!1,vertical:!1,current:{}},this._namespaces=new Set(["android","app"]),this._controlName="",this._fontSize=0,this._boxAdjustment=W.newBoxModel(),this._boxReset=W.newBoxModel(),this._containerType=0,this._localSettings={targetAPI:28,supportRTL:!1},this.__android={},this.__app={},n&&n(this)}static documentBody(){if(void 0===n._documentBody){const t=new n(0,document.body);t.hide(),t.setBounds(),n._documentBody=t}return n._documentBody}static getControlName(e){return o[t[e]]}attr(t,e,n="",o=!0){const i={};return this.supported(t,e,i)?(Object.keys(i).length&&(q.isString(i.obj)&&(t=i.obj),q.isString(i.attr)&&(e=i.attr),q.isString(i.value)&&(n=i.value),"boolean"==typeof i.overwrite&&(o=i.overwrite)),super.attr(t,e,n,o)):""}android(t,e="",n=!0){return this.attr("android",t,e,n),this.__android[t]||""}app(t,e="",n=!0){return this.attr("app",t,e,n),this.__app[t]||""}apply(t){const e=Object.assign({},t);super.apply(e);for(const t in e)this.formatted(`${t}="${e[t]}"`)}formatted(t,e=!0){const n=t.match(/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/);n&&this.attr(n[1]||"_",n[2],n[3],e)}anchor(t,e="",n){const o=this.renderParent;if(o)if(o.layoutConstraint){if(void 0===e||void 0===this.constraint.current[t]||n){e&&void 0===n&&(n="parent"===e);const o=s.constraint[t];if(o){if(this.app(this.localizeString(o),e,n),"parent"===e)switch(t){case"left":case"right":this.constraint.horizontal=!0;break;case"top":case"bottom":case"baseline":this.constraint.vertical=!0}return this.constraint.current[t]={documentId:e,horizontal:-1!==q.indexOf(t.toLowerCase(),"left","right")},!0}}}else if(o.layoutRelative){return e&&void 0===n&&(n="true"===e),this.android(this.localizeString(s["true"===e?"relativeParent":"relative"][t]),e,n),!0}return!1}anchorParent(t,e=!1,n=!1){const o=this.renderParent;if(o){const i=t===r.HORIZONTAL;if(o.layoutConstraint){if(e||!this.constraint[t])return this.anchor(i?"left":"top","parent"),this.anchor(i?"right":"bottom","parent"),this.constraint[t]=!0,n&&this.app(`layout_constraint${q.capitalize(t)}_bias`,this[`${t}Bias`]),!0}else if(o.layoutRelative)return this.anchor(i?"left":"top","true"),this.anchor(i?"right":"bottom","true"),!0}return!1}anchorDelete(...t){const e=this.renderParent;if(e)if(e.layoutConstraint)this.delete("app",...q.replaceMap(t,t=>this.localizeString(s.constraint[t])));else if(e.layoutRelative)for(const e of t)""!==this.alignSibling(e)?this.delete("android",s.relative[e],this.localizeString(s.relative[e])):s.relativeParent[e]&&this.delete("android",this.localizeString(s.relativeParent[e]))}anchorClear(){const t=this.renderParent;t&&(t.layoutConstraint?this.anchorDelete(...Object.keys(s.constraint)):t.layoutRelative&&(this.anchorDelete(...Object.keys(s.relativeParent)),this.anchorDelete(...Object.keys(s.relative))))}alignParent(t){const e=this.renderParent;if(e)if(e.layoutConstraint){const e=s.constraint[t];if(e)return"parent"===this.app(this.localizeString(e))||"parent"===this.app(e)}else if(e.layoutRelative){const e=s.relativeParent[t];if(e)return"true"===this.android(this.localizeString(e))||"true"===this.android(e)}return!1}alignSibling(t,e){const n=this.renderParent;if(n)if(e){if(n.layoutConstraint){this.app(this.localizeString(s.constraint[t]),e)}else if(n.layoutRelative){this.android(this.localizeString(s.relative[t]),e)}}else{if(n.layoutConstraint){const e=s.constraint[t],o=this.app(this.localizeString(e))||this.app(e);return""!==o&&"parent"!==o&&o!==n.documentId?o:""}if(n.layoutRelative){const e=s.relative[t];return this.android(this.localizeString(e))||this.android(e)}}return""}horizontalBias(){const t=this.documentParent;if(t!==this){return k(Math.max(0,this.linear.left-t.box.left),Math.max(0,t.box.right-this.linear.right),this.localSettings.constraintPercentAccuracy)}return.5}verticalBias(){const t=this.documentParent;if(t!==this){return k(Math.max(0,this.linear.top-t.box.top),Math.max(0,t.box.bottom-this.linear.bottom),this.localSettings.constraintPercentAccuracy)}return.5}supported(t,e,n={}){if(this.localSettings.targetAPI>0&&this.localSettings.targetAPI<28){const o=R[t];if(o&&"function"==typeof o[e]){const t=o[e](n,this.localSettings.targetAPI,this);if(!t||Object.keys(n).length)return t}for(let o=this.localSettings.targetAPI;o<=28;o++){const i=_[o];if(i&&i[t]&&void 0!==i[t][e]){const o=i[t][e];if("boolean"==typeof o)return o;if("function"==typeof o)return o(n,this.localSettings.targetAPI,this)}}}return!0}combine(...t){const e=[];for(const n of this._namespaces){const o=this[`__${n}`];if(0===t.length||t.includes(n))for(const t in o)e.push(("_"!==n?`${n}:`:"")+`${t}="${o[t]}"`)}return e.sort((t,e)=>t>e||e.startsWith("android:id=")?1:-1)}localizeString(t){return this.hasBit("excludeProcedure",z.NODE_PROCEDURE.LOCALIZATION)?t:X(t,this.localSettings.supportRTL,this.localSettings.targetAPI)}hide(t){t?this.android("visibility","invisible"):super.hide()}clone(t,e=!1,o=!1){const i=new n(t||this.id,this.element);if(Object.assign(i.localSettings,this.localSettings),i.tagName=this.tagName,void 0!==t?i.setControlType(this.controlName,this.containerType):(i.controlId=this.controlId,i.controlName=this.controlName,i.containerType=this.containerType),i.alignmentType=this.alignmentType,i.depth=this.depth,i.visible=this.visible,i.excluded=this.excluded,i.rendered=this.rendered,i.renderDepth=this.renderDepth,i.renderParent=this.renderParent,i.documentParent=this.documentParent,i.documentRoot=this.documentRoot,this.length&&i.retain(this.duplicate()),e){Object.assign(i.unsafe("boxReset"),this._boxReset),Object.assign(i.unsafe("boxAdjustment"),this._boxAdjustment);for(const t of this._namespaces){const e=this[`__${t}`];for(const n in e)i.attr(t,n,"android"===t&&"id"===n?i.documentId:e[n])}}return o&&(i.anchorClear(),i.anchor("left",this.documentId)&&(Object.assign(i.unsafe("boxReset"),{marginLeft:1}),Object.assign(i.unsafe("boxAdjustment"),{marginLeft:0})),i.anchor("top",this.documentId)&&(Object.assign(i.unsafe("boxReset"),{marginTop:1}),Object.assign(i.unsafe("boxAdjustment"),{marginTop:0}))),i.inherit(this,"initial","base","alignment","styleMap"),Object.assign(i.unsafe("cached"),this.unsafe("cached")),i}setControlType(e,n){if(n)this.containerType=n;else if(0===this.containerType)for(const n in o)if(o[n]===e){for(const e in t)if(t[t[e]]===n){this.containerType=t[e];break}break}if(this.controlName=e,""!==this.android("id")&&(this.controlId=C(this.android("id"))),""===this.controlId){const t=this.element;let e="";t&&("parent"===(e=L(t.id||t.name))||d.includes(e))&&(e=`_${e}`),this.controlId=q.convertWord(H.generateId("android",e||q.lastIndexOf(this.controlName,".").toLowerCase(),e?0:1)),this.android("id",this.documentId)}}setLayout(){const e=this.absoluteParent,n=this.renderParent,o=this.renderChildren;this.documentBody&&(!this.hasWidth&&o.some(t=>t.alignParent("right"))&&this.android("layout_width","match_parent",!1),!this.hasHeight&&o.some(t=>t.alignParent("bottom"))&&this.android("layout_height","match_parent",!1));let i=!1;if(!this.android("layout_width")&&(!this.inlineStatic&&this.has("width")||this.toInt("width")>0&&!this.cssInitial("width"))){const o=this.css("width");if(q.isUnit(o)){const t=n?q.convertInt(n.android("layout_width")):0,a=this.convertPX(o);e===n&&t>0&&q.convertInt(a)>=t?this.android("layout_width","match_parent"):this.android("layout_width",a),i=!0}else q.isPercent(o)&&(n&&n.is(t.GRID)?(this.android("layout_width","0px",!1),this.android("layout_columnWeight",(parseInt(o)/100).toPrecision(2),!1)):this.android("layout_width","100%"===o?"match_parent":this.convertPercent(o,!0)),i=!0)}if(this.has("minWidth")&&!this.constraint.minWidth){const t=this.convertPX(this.css("minWidth"));this.android("layout_width","wrap_content",!1),this.android("minWidth",t,!1),i=!0}if(!i){const i=this.blockStatic&&!this.has("maxWidth")&&(this.htmlElement||this.svgElement);if(this.plainText)this.android("layout_width",n&&this.bounds.width>n.box.width&&this.multiline&&this.alignParent("left")?"match_parent":"wrap_content",!1);else if(o.some(t=>(t.inlineStatic&&!t.plainText||q.isUnit(t.cssInitial("width")))&&!t.autoMargin.horizontal&&Math.ceil(t.bounds.width)>=this.box.width))this.android("layout_width","wrap_content",!1);else if(this.flexElement&&n&&n.hasWidth||this.groupParent&&o.some(t=>!(t.plainText&&t.multiline)&&t.linear.width>=this.documentParent.box.width)||i&&(this.documentBody||e&&(e.documentBody||e.has("width",32)||e.blockStatic&&(this.singleChild||this.alignedVertically(this.previousSiblings()))))||this.layoutFrame&&(2===F.floated(o).size||o.some(t=>t.blockStatic&&(t.autoMargin.leftRight||t.rightAligned))))this.android("layout_width","match_parent",!1);else{(this.containerType<t.INLINE||!this.pageFlow||this.inlineFlow||this.tableElement||this.flexElement||!!e&&(e.flexElement||e.gridElement)||!!n&&n.is(t.GRID))&&!i||!(e&&this.linear.width>=e.box.width||this.layoutVertical&&!this.autoMargin.horizontal||!this.documentRoot&&o.some(t=>t.layoutVertical&&!t.autoMargin.horizontal&&!t.hasWidth&&!t.floating))?this.android("layout_width","wrap_content",!1):this.android("layout_width","match_parent",!1)}}let a=!1;if(!this.android("layout_height")&&(!this.inlineStatic&&this.has("height")||this.toInt("height")>0&&!this.cssInitial("height"))){const t=this.css("height");if(q.isUnit(t)){const e=this.convertPX(t,!1);this.android("layout_height","hidden"===this.css("overflow")&&parseInt(e)<Math.floor(this.box.height)?"wrap_content":e),a=!0}else q.isPercent(t)&&("100%"===t?(this.android("layout_height","match_parent"),a=!0):this.documentParent.has("height")&&(this.android("layout_height",q.formatPX(Math.ceil(this.bounds.height)-this.contentBoxHeight)),a=!0))}if(this.has("minHeight")&&!this.constraint.minHeight){const t=this.convertPX(this.css("minHeight"),!1);this.android("layout_height","wrap_content",!1),this.android("minHeight",t,!1),a=!0}a||this.android("layout_height","wrap_content",!1)}setAlignment(){const e=this.renderParent;if(e){let n=Y(this.cssInitial("textAlign",!0));if(this.pageFlow){let o="";if(this.inlineVertical&&(e.layoutHorizontal&&!e.support.container.positionRelative||e.is(t.GRID))){const t="table-cell"===this.display?"gravity":"layout_gravity";switch(this.cssInitial("verticalAlign",!0)){case"top":this.mergeGravity(t,"top");break;case"middle":this.mergeGravity(t,"center_vertical");break;case"bottom":this.mergeGravity(t,"bottom")}}!this.blockWidth&&(e.layoutVertical||this.documentRoot&&(this.layoutVertical||this.layoutFrame))&&(this.floating?this.mergeGravity("layout_gravity",this.float):j(this)),this.hasAlign(64)&&(this.hasAlign(512)||this.renderChildren.length&&this.renderChildren.every(t=>t.rightAligned)?o="right":this.groupParent&&!this.renderChildren.some(t=>"right"===t.float)&&(o="left")),e.layoutFrame&&!j(this)&&""!==(o=this.floating?this.float:o)&&(e.inlineWidth||this.singleChild&&!e.documentRoot)&&e.mergeGravity("layout_gravity",o),""!==o&&(this.blockWidth?""!==n&&"right"!==o||(n=o):this.mergeGravity("layout_gravity",o))}else j(this);const o=Y(this.cssAscend("textAlign"));""!==o&&"left"!==o&&"start"!==o&&(!e.layoutFrame||!this.pageFlow||this.floating||this.autoMargin.horizontal||this.blockWidth||this.mergeGravity("layout_gravity",o),this.imageElement||""!==n||(n=o)),""===n||this.layoutConstraint||this.mergeGravity("gravity",n)}}mergeGravity(t,...e){const n=new Set,o=this.android(t);if(""!==o)for(const t of o.split("|"))n.add(t.trim());for(const t of e)""!==t&&n.add(this.localizeString(t.trim()));let i="";switch(n.size){case 0:break;case 1:i=Y(n.values().next().value);default:let t="",e="",o="";for(const t of["center","fill"]){const e=`${t}_horizontal`,o=`${t}_vertical`;(n.has(t)||n.has(e)&&n.has(o))&&(n.delete(e),n.delete(o),n.add(t))}for(const i of n.values())switch(i){case"justify":case"initial":case"inherit":continue;case"left":case"start":case"right":case"end":case"center_horizontal":t=i;break;case"top":case"bottom":case"center_vertical":e=i;break;default:o+=(""!==o?"|":"")+i}const a=""!==t&&""!==e?`${t}|${e}`:t||e;i=a+(""!==o?(""!==a?"|":"")+o:"")}return""!==i?this.android(t,i):(this.delete("android",t),"")}setLineHeight(t){const e=t-(this.hasHeight?this.height:this.bounds.height);e>0?(this.modifyBox(2,Math.floor(e/2)-(this.inlineVertical?q.convertInt(this.verticalAlign):0)),this.modifyBox(8,Math.ceil(e/2))):this.hasHeight||0!==this.multiline||(this.android("minHeight",q.formatPX(t)),this.mergeGravity("gravity","center_vertical"))}applyOptimizations(){if(this.renderParent)switch(this.autoSizeBoxModel(),this.alignHorizontalLayout(),this.alignVerticalLayout(),this.cssAscend("visibility",!0)){case"hidden":case"collapse":this.hide(!0)}}applyCustomizations(){for(const t of[_[0],_[this.localSettings.targetAPI]])if(t&&t.assign)for(const e of[this.tagName,this.controlName]){const n=t.assign[e];if(n)for(const t in n)for(const e in n[t])this.attr(t,e,n[t][e],this.localSettings.customizationsOverwritePrivilege)}}setBoxSpacing(){const e={marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};for(let n=0;n<$.length;n++){const o=$[n];for(const t of U){const n=o+t;let i;i=1===this._boxReset[n]||"marginRight"===n&&this.bounds.right>=this.documentParent.box.right&&this.inline?0:this[n],e[n]=i+=this._boxAdjustment[n]}const i=0===n?"layout_margin":"padding",a=`${o}Top`,r=`${o}Right`,s=`${o}Bottom`,l=`${o}Left`,d=this.localizeString("Left"),c=this.localizeString("Right"),h=this.renderParent;let u,p,m;!this.supported("android","layout_marginHorizontal")||0===n&&h&&h.is(t.GRID)||(e[a]===e[r]&&e[r]===e[s]&&e[s]===e[l]?u=e[a]:(e[l]===e[r]&&(p=e[l]),e[a]===e[s]&&(m=e[a]))),void 0!==u?0!==u&&this.android(i,q.formatPX(u)):(void 0!==p?0!==p&&this.android(`${i}Horizontal`,q.formatPX(p)):(0!==e[l]&&this.android(i+d,q.formatPX(e[l])),0!==e[r]&&this.android(i+c,q.formatPX(e[r]))),void 0!==m?0!==m&&this.android(`${i}Vertical`,q.formatPX(m)):(0!==e[a]&&this.android(`${i}Top`,q.formatPX(e[a])),0!==e[s]&&this.android(`${i}Bottom`,q.formatPX(e[s]))))}}autoSizeBoxModel(){if(!this.hasBit("excludeProcedure",z.NODE_PROCEDURE.AUTOFIT)){const e=this.renderParent;let n=q.convertInt(this.android("layout_width")),o=q.convertInt(this.android("layout_height"));if(this.is(t.BUTTON)&&0===o)this.has("minHeight")||this.android("layout_height",q.formatPX(this.bounds.height+("outset"===this.css("borderStyle")?q.convertInt(this.css("borderWidth")):0)));else if(this.is(t.LINE))"HR"!==this.tagName&&o>0&&this.toInt("height",!0)>0&&this.android("layout_height",q.formatPX(o+this.borderTopWidth+this.borderBottomWidth));else if(e){let t=!1;this.tableElement?t="content-box"===this.css("boxSizing")||W.isUserAgent(24):this.styleElement&&!this.hasBit("excludeResource",z.NODE_RESOURCE.BOX_SPACING)&&("border-box"===this.css("boxSizing")||e.tableElement||(n>0&&this.toInt("width",!this.imageElement)>0&&this.contentBoxWidth>0?this.android("layout_width",q.formatPX(n+this.contentBoxWidth)):this.imageElement&&this.singleChild&&(n=q.convertInt(e.android("layout_width")))>0&&e.android("layout_width",q.formatPX(n+this.marginLeft+this.contentBoxWidth)),o>0&&this.toInt("height",!this.imageElement)>0&&this.contentBoxHeight>0?this.android("layout_height",q.formatPX(o+this.contentBoxHeight)):this.imageElement&&this.singleChild&&(o=q.convertInt(e.android("layout_height")))>0&&e.android("layout_height",q.formatPX(o+this.marginTop+this.contentBoxHeight))),t=!0),t&&this.visibleStyle.borderWidth&&(this.modifyBox(256,this.borderLeftWidth),this.modifyBox(64,this.borderRightWidth),this.modifyBox(32,this.borderTopWidth),this.modifyBox(128,this.borderBottomWidth))}}}alignHorizontalLayout(){if(this.layoutHorizontal){if(this.layoutLinear){const t=this.renderChildren;let e;t.some(t=>t.floating)&&!t.some(t=>t.imageElement&&t.baseline)?this.android("baselineAligned","false"):(e=F.baseline(t.filter(t=>t.baseline&&!t.layoutRelative&&!t.layoutConstraint),!0)[0])&&this.android("baselineAlignedChildIndex",""+t.indexOf(e));let n=this.lineHeight;this.renderEach(t=>n=Math.max(n,t.lineHeight)),n>0&&this.setLineHeight(n)}if(!this.hasAlign(4096)&&!this.hasAlign(512)&&!this.visibleStyle.background){const t=this.find(t=>"left"===t.float)||this.renderChildren[0];if(t&&t.marginLeft<0){const e=Math.abs(t.marginLeft);e===this.marginLeft?(this.modifyBox(16,null),t.modifyBox(16,null)):e<this.marginLeft?(this.modifyBox(16,t.marginLeft),t.modifyBox(16,null)):(this.modifyBox(16,null),t.modifyBox(16,this.marginLeft))}}}}alignVerticalLayout(){const t=this.renderParent;if(t&&!t.layoutHorizontal){const t=this.lineHeight;if(t>0){const e=()=>{const e=this.android("minHeight"),n=t+this.contentBoxHeight;q.convertInt(e)<n&&(this.android("minHeight",q.formatPX(n)),this.mergeGravity("gravity","center_vertical"))};0===this.length?this.layoutHorizontal||(this.support.lineHeight||this.inlineStatic&&this.visibleStyle.background?this.setLineHeight(t):e()):this.layoutVertical&&this.renderEach(e=>{e.layoutHorizontal||e.setLineHeight(t)})}}}get documentId(){return this.controlId?`@+id/${this.controlId}`:""}set anchored(t){this.constraint.horizontal=t,this.constraint.vertical=t}get anchored(){return this.constraint.horizontal&&this.constraint.vertical}set containerType(t){this._containerType=t}get containerType(){if(0===this._containerType){const t=i[this.tagName]||0;0!==t&&(this._containerType=t)}return this._containerType||0}get layoutFrame(){return this.is(t.FRAME)}get layoutLinear(){return this.is(t.LINEAR)}get layoutRelative(){return this.is(t.RELATIVE)}get layoutConstraint(){return this.is(t.CONSTRAINT)}get support(){const t=this.unsafe("cached")||{};return void 0===t.support&&(t.support={lineHeight:this.textElement&&this.supported("android","lineHeight"),container:{positionRelative:this.layoutRelative||this.layoutConstraint}}),t.support}get inlineWidth(){return"wrap_content"===this.android("layout_width")}get inlineHeight(){return"wrap_content"===this.android("layout_height")}get blockWidth(){return"match_parent"===this.android("layout_width")}get blockHeight(){return"match_parent"===this.android("layout_height")}get singleChild(){return this.renderParent?1===this.renderParent.length:!(!this.parent||0===this.parent.id)&&1===this.parent.length}get fontSize(){return 0===this._fontSize&&(this._fontSize=parseInt(q.convertPX(this.css("fontSize"),0))||16),this._fontSize}set localSettings(t){Object.assign(this._localSettings,t)}get localSettings(){return this._localSettings}});class Z extends(K(squared.base.Node)){}class J extends(K(squared.base.NodeGroup)){constructor(t,e,n,o){super(t,void 0,o),this.tagName=`${e.tagName}_GROUP`,this.documentParent=e.documentParent,this.retain(n)}}var Q='<?xml version="1.0" encoding="utf-8"?>\n{:0}',tt=squared.base.NodeList;const et=squared.base.lib.enumeration,nt=squared.lib.color,ot=squared.lib.dom,it=squared.lib.math,at=squared.lib.util,rt=squared.lib.xml,st=[r.HORIZONTAL,r.VERTICAL];function lt(t,e){for(const n of t){const t=n[0],o=n[n.length-1];t.anchor(e?"left":"top","parent"),o.anchor(e?"right":"bottom","parent");for(let o=0;o<n.length;o++){const i=n[o],a=n[o-1],r=n[o+1];e?i.app("layout_constraintVertical_bias","0"):o>0&&i.anchor("left",t.documentId),r&&i.anchor(e?"rightLeft":"bottomTop",r.documentId),a&&i.anchor(e?"leftRight":"topBottom",a.documentId),St.setConstraintDimension(i),i.anchored=!0}e?t.app("layout_constraintHorizontal_chainStyle","spread_inside"):t.app("layout_constraintVertical_chainStyle","packed")}}function dt(t){if(t.some(t=>t.floating)){const e=t.slice(0).sort((t,e)=>{if(t.floating&&!e.floating)return"left"===t.float?-1:1;if(!t.floating&&e.floating)return"left"===e.float?1:-1;if(t.floating&&e.floating){if(t.float!==e.float)return"left"===t.float?-1:1;if("right"===t.float&&"right"===e.float)return-1}return 0});if(!at.isEqual(t,e))return t.length=0,t.push(...e),!0}return!1}function ct(t,e){e.lineHeight>0?e.setLineHeight(e.lineHeight):t.lineHeight>0&&e.setLineHeight(t.lineHeight+e.paddingTop+e.paddingBottom)}function ht(t,e){for(const n of e)n!==t&&(n.imageElement&&n.actualHeight>t.actualHeight?n.renderParent&&at.withinFraction(n.linear.top,n.renderParent.box.top)&&n.anchor("top","true"):(n.element&&0===n.length||n.layoutHorizontal&&n.renderChildren.every(t=>t.baseline))&&n.anchor("baseline",t.documentId))}function ut(e){return at.filterArray(e,t=>"text-bottom"===t.verticalAlign).sort((e,n)=>e.bounds.height===n.bounds.height?e.is(t.SELECT)?1:-1:e.bounds.height>n.bounds.height?-1:1)[0]}function pt(t,e=!1){t.textElement&&"center"!==t.cssAscend("textAlign",!0)&&!t.hasWidth&&!t.multiline&&(e||t.textContent.trim().split(" ").length>0)&&t.android("singleLine","true")}function mt(t,e,n,o=!1){return t>0?(o||(t-=e[`padding${n}`]),e.documentBody&&(t-=e[`margin${n}`]),Math.max(t,0)):t}function gt(t,e){if("left"===e.float){if(e.marginRight<0){return t.modifyBox(16,e.bounds.width+(e.hasWidth?e.paddingLeft+e.borderLeftWidth:0)-Math.abs(e.marginRight)),t.anchor("left",e.documentId),e.modifyBox(4,null),!0}}else if("right"===t.float&&"right"===e.float&&e.marginLeft<0){const n=Math.abs(e.marginLeft);return n<e.bounds.width&&t.modifyBox(4,e.bounds.width-n),t.anchor("right",e.documentId),e.modifyBox(16,null),!0}return!1}function ft(t,e){const n=t.cssInitial(`min${e}`),o=t.cssInitial(`max${e}`);at.isUnit(n)&&(t.app(`layout_constraint${e}_min`,n),t.constraint.minWidth=!0),at.isUnit(o)&&(t.app(`layout_constraint${e}_max`,o),t.constraint.minHeight=!0)}function yt(t,e,n,o){if(at.isPercent(n))if(o)t.android(`layout_${e.toLowerCase()}`,t.convertPercent(n,"Width"===e));else if("100%"!==n){t.app(`layout_constraint${e}_percent`,(parseInt(n)/100+(t.actualParent?t.contentBoxWidth/t.actualParent.box.width:0)).toPrecision(t.localSettings.constraintPercentAccuracy||4)),t.android(`layout_${e.toLowerCase()}`,"0px")}}function bt(t,e=!1){const n=t.has("width")?t.css("width"):"";yt(t,"Width",n,e)}function Tt(t,e=!1){if(t.documentParent.hasHeight){const n=t.has("height")?t.css("height"):"";yt(t,"Height",n,e)}}function At(t){let e="";for(const n in l)-1!==t.indexOf(`${n}:`)&&(e+=`\n\t${V(n)}`);return e}function Et(t){"rtl"===t.dir&&t.android(t.length?"layoutDirection":"textDirection","rtl");const e=ot.getDataSet(t.element,"android");for(const n in e)if(/^attr[A-Z]/.test(n)){const o=at.capitalize(n.substring(4),!1);for(const i of e[n].split(";")){const[e,n]=i.split("::");e&&n&&t.attr(o,e,n)}}return vt(t,t.renderDepth+1)}function vt(t,e){const n="\t".repeat(e);let o="";for(const e of t.combine())o+=`\n${n+e}`;return o}class St extends squared.base.Controller{constructor(){super(...arguments),this.localSettings={baseTemplate:Q,layout:{pathName:"res/layout",fileExtension:"xml"},unsupported:{excluded:new Set(["BR"]),tagName:new Set(["OPTION","INPUT:hidden","MAP","AREA","IFRAME","svg"])},relative:{boxWidthWordWrapPercent:.9,superscriptFontScale:-4,subscriptFontScale:-4},constraint:{withinParentBottomOffset:3.5,percentAccuracy:4}}}static evaluateAnchors(t){const e=[],n=[];for(const o of t)o.constraint.horizontal&&e.push(o),o.constraint.vertical&&n.push(o);let o=-1;for(;++o<t.length;){const i=t[o];if(!i.constraint.horizontal)for(const t in i.constraint.current){const n=i.constraint.current[t];if(n.horizontal&&e.find(t=>t.documentId===n.documentId)){i.constraint.horizontal=!0,e.push(i),o=-1;break}}if(!i.constraint.vertical)for(const t in i.constraint.current){const e=i.constraint.current[t];if(!e.horizontal&&n.find(t=>t.documentId===e.documentId)){i.constraint.vertical=!0,n.push(i),o=-1;break}}}}static setConstraintDimension(t){bt(t),Tt(t),ft(t,"Width"),ft(t,"Height")}static setFlexDimension(t,e){const n=e?"width":"height",o=e?"height":"width";let i=t.flexbox.basis;if("auto"!==i&&(at.isPercent(i)?"0%"!==i&&(t.app(`layout_constraint${e?"Width":"Height"}_percent`,(parseInt(i)/100).toPrecision(2)),i=""):at.isUnit(i)&&(t.android(`layout_${n}`,t.convertPX(i)),i="")),""!==i){const o=t.has(n)?t.css(n):"";t.flexbox.grow>0?(t.android(`layout_${n}`,"0px"),t.app(`layout_constraint${e?"Horizontal":"Vertical"}_weight`,""+t.flexbox.grow)):at.isUnit(o)?t.android(`layout_${n}`,o):t.flexbox.shrink>1?t.android(`layout_${n}`,"wrap_content"):e?bt(t):Tt(t),t.flexbox.shrink<1&&t.app(`layout_constrained${e?"Width":"Height"}`,"true")}const a=t.has(o)?t.css(o):"";at.isUnit(a)?t.android(`layout_${o}`,a):e?Tt(t,!0):bt(t,!0),ft(t,"Width"),ft(t,"Height")}finalize(t){const e=[...t.views,...t.includes];if(this.userSettings.showAttributes)for(const n of t.cache)if(n.visible){const t=rt.formatPlaceholder(n.id,"@");if(1===e.length)e[0].content=e[0].content.replace(t,Et(n));else for(const o of e)if(-1!==o.content.indexOf(t)){o.content=o.content.replace(t,Et(n));break}}for(const t of e)t.content=this.removePlaceholders(B(D(t.content.replace(/{#0}/,At(t.content)),this.userSettings.resolutionDPI,this.userSettings.convertPixels),this.userSettings.insertSpaces))}processUnknownParent(e){const n=e.node;let o,i=!1;if(n.has("columnCount"))e.columnCount=n.toInt("columnCount"),e.setType(t.CONSTRAINT,256,4);else if(e.some(t=>!t.pageFlow))e.setType(t.CONSTRAINT,32,2);else if(1===e.length){const a=n.item(0);n.documentRoot&&function(t,e){if(e.element&&t.dataset.target){const n=document.getElementById(t.dataset.target);return null!==n&&n!==e.element}return!1}(a,n)?(n.hide(),i=!0):!(this.userSettings.collapseUnattributedElements&&n.element&&n.positionStatic)||at.hasValue(n.element.id)||at.hasValue(n.dataset.use)||at.hasValue(n.dataset.target)||n.hasWidth||n.hasHeight||n.has("maxWidth")||n.has("maxHeight")||n.visibleStyle.background||n.has("textAlign")||n.has("verticalAlign")||!(n.toInt("lineHeight")>0)||n.rightAligned||n.autoMargin.horizontal||n.groupParent||n.companion||this.hasAppendProcessing(n.id)?e.setType(t.FRAME,2048):(a.documentRoot=n.documentRoot,a.siblingIndex=n.siblingIndex,a.parent=e.parent,n.renderAs=a,n.resetBox(510,a,!0),n.hide(),o=a)}else e.init(),ot.hasLineBreak(n.element,!0)?e.setType(t.LINEAR,16,2):this.checkConstraintFloat(e)?e.setType(t.CONSTRAINT,1024):e.linearX?(this.checkFrameHorizontal(e)?e.renderType=72:this.checkConstraintHorizontal(e)?e.setType(t.CONSTRAINT):this.checkRelativeHorizontal(e)?e.setType(t.RELATIVE):(e.setType(t.LINEAR),e.floated.size&&(e.renderPosition=dt(e.children))),e.add(8)):e.linearY?e.setType(t.LINEAR,16,n.documentRoot?2:0):e.every(t=>t.inlineFlow)?this.checkFrameHorizontal(e)?e.renderType=72:e.setType(t.RELATIVE,8,2):e.some(t=>t.alignedVertically(t.previousSiblings(),e.children,e.cleared))?e.setType(t.LINEAR,16,2):e.setType(t.CONSTRAINT,2);return{layout:e,next:i,renderAs:o}}processUnknownChild(e){const n=e.node,o=n.visibleStyle;let i=!1;return n.inlineText||o.borderWidth&&n.textContent.length?e.setType(t.TEXT):o.backgroundImage&&!o.backgroundRepeat&&(!n.inlineText||n.toInt("textIndent")+n.bounds.width<0)?(e.setType(t.IMAGE,2048),n.exclude({resource:et.NODE_RESOURCE.FONT_STYLE|et.NODE_RESOURCE.VALUE_STRING})):n.block&&(o.borderWidth||o.backgroundImage||o.paddingVertical)?e.setType(t.LINE):n.documentRoot||(!this.userSettings.collapseUnattributedElements||!n.element||0!==n.bounds.height||o.background||at.hasValue(n.element.id)||at.hasValue(n.dataset.use)?e.setType(o.background?t.TEXT:t.FRAME):(n.hide(),i=!0)),{layout:e,next:i}}processTraverseHorizontal(t,e){const n=t.parent;return this.checkFrameHorizontal(t)?(t.node=this.createNodeGroup(t.node,t.children,t.parent),t.renderType|=72):void 0===e||t.length!==e.length?(t.node=this.createNodeGroup(t.node,t.children,t.parent),this.processLayoutHorizontal(t)):n.alignmentType|=8,{layout:t}}processTraverseVertical(e,n){const o=e.parent;return!e.floated.size||!e.cleared.size||1===e.floated.size&&e.every((t,n)=>0===n||n===e.length-1||e.cleared.has(t))?void 0===n||e.length!==n.length?o.layoutVertical||(e.node=this.createNodeGroup(e.node,e.children,o),e.setType(t.LINEAR,16)):o.alignmentType|=16:(e.node=this.createNodeGroup(e.node,e.children,o),e.renderType|=80),{layout:e}}processLayoutHorizontal(e,n=!1){let o=0;return this.checkConstraintFloat(e)?e.setType(t.CONSTRAINT,1024):this.checkConstraintHorizontal(e)?o=t.CONSTRAINT:this.checkRelativeHorizontal(e)?o=t.RELATIVE:(!n||e.linearX&&!e.floated.has("right"))&&(o=t.LINEAR,e.floated.size&&(e.renderPosition=dt(e.children))),0!==o&&e.setType(o,8),{layout:e}}sortRenderPosition(t,e){if(t.layoutConstraint&&e.some(t=>!t.pageFlow)){const n=[],o=[],i=[],a=[];for(const n of e)n.pageFlow||n.actualParent!==t?i.push(n):n.zIndex>=0?a.push(n):o.push(n);return n.push(...at.sortArray(o,!0,"zIndex","id")),n.push(...i),n.push(...at.sortArray(a,!0,"zIndex","id")),n}return[]}checkFrameHorizontal(t){const[e,n]=t.partition(t=>t.floating);if(2===t.floated.size||t.cleared.size||t.some(t=>t.pageFlow&&t.autoMargin.horizontal))return!0;if(n.length){if(t.floated.has("right"))return!0;if(!this.userSettings.floatOverlapDisabled&&t.floated.has("left")&&n.some(t=>t.blockStatic)){let t=1/0;for(const e of n)t=Math.min(t,e.siblingIndex);return at.replaceMap(e,t=>t.siblingIndex).some(e=>e<t)}}return!1}checkConstraintFloat(t){return 1===t.floated.size&&t.every(t=>t.floating&&t.marginLeft>=0&&t.marginRight>=0&&(!t.positionRelative||t.left>=0&&t.top>=0))}checkConstraintHorizontal(t){let e=!0;for(let n=1;n<t.length;n++)if(t.children[n-1].bounds.height!==t.children[n].bounds.height){e=!1;break}return!e&&!t.parent.hasHeight&&t.some(t=>"bottom"===t.verticalAlign)&&t.every(t=>t.inlineVertical&&(t.baseline||"bottom"===t.verticalAlign))}checkRelativeHorizontal(t){return 2!==t.floated.size&&t.some(t=>t.positionRelative||t.textElement||t.imageElement||!t.baseline)}setConstraints(){for(const t of this.cache)if(t.visible&&(t.layoutRelative||t.layoutConstraint)&&!t.hasBit("excludeProcedure",et.NODE_PROCEDURE.CONSTRAINT)){const e=t.renderFilter(t=>!t.positioned);if(e.length)if(t.layoutRelative)this.processRelativeHorizontal(t,e);else if(t.layoutConstraint){const[n,o]=at.partitionArray(e,t=>t.pageFlow);let i=t.box.bottom;if(o.length){t.renderEach(t=>i=Math.max(i,t.linear.bottom));for(const e of o)if(!e.positionAuto&&(e.documentParent===e.absoluteParent||"fixed"===e.position)){if(e.hasWidth&&e.autoMargin.horizontal?e.has("left")&&e.autoMargin.right?(e.anchor("left","parent"),e.modifyBox(16,e.left)):e.has("right")&&e.autoMargin.left?(e.anchor("right","parent"),e.modifyBox(4,e.right)):(e.anchorParent(r.HORIZONTAL),e.modifyBox(16,e.left),e.modifyBox(4,e.right)):(e.has("left")&&(e.anchor("left","parent"),e.modifyBox(16,mt(e.left,t,"Left"))),!e.has("right")||e.hasWidth&&e.has("left")||(e.anchor("right","parent"),e.modifyBox(4,mt(e.right,t,"Right")))),e.hasHeight&&e.autoMargin.vertical)e.has("top")&&e.autoMargin.bottom?(e.anchor("top","parent"),e.modifyBox(2,e.top)):e.has("bottom")&&e.autoMargin.top?(e.anchor("bottom","parent"),e.modifyBox(8,e.bottom)):(e.anchorParent(r.VERTICAL),e.modifyBox(2,e.top),e.modifyBox(8,e.bottom));else{if(e.has("top")){const n=t.valueBox(32);e.anchor("top","parent"),e.modifyBox(2,mt(e.top,t,"Top",1===n[0]))}if(e.has("bottom")&&(!e.hasHeight||!e.has("top"))){const n=t.valueBox(128);e.anchor("bottom","parent"),e.modifyBox(8,mt(e.bottom,t,"Bottom",1===n[0]))}}e.positioned=!0}}if(t.layoutHorizontal)this.processConstraintHorizontal(t,n);else if(t.hasAlign(256))this.processConstraintColumn(t,n);else if(n.length>1)this.processConstraintChain(t,n,i);else for(const e of n)e.autoMargin.leftRight||e.inlineStatic&&"center"===e.cssAscend("textAlign",!0)?e.anchorParent(r.HORIZONTAL):e.rightAligned?e.anchor("right","parent"):(at.withinFraction(e.linear.left,t.box.left)||e.linear.left<t.box.left)&&e.anchor("left","parent"),(at.withinFraction(e.linear.top,t.box.top)||e.linear.top<t.box.top)&&e.anchor("top","parent"),this.withinParentBottom(e.linear.bottom,i)&&e.actualParent&&!e.actualParent.documentBody&&e.anchor("bottom","parent"),St.setConstraintDimension(e);St.evaluateAnchors(n);for(const o of e)o.anchored||(this.addGuideline(o,t),o.pageFlow&&St.evaluateAnchors(n)),!o.hasWidth&&o.alignParent("left")&&o.alignParent("right")&&o.android("layout_width","match_parent"),!o.hasHeight&&o.alignParent("top")&&o.alignParent("bottom")&&o.android("layout_height","match_parent")}}}renderNodeGroup(e){const n=e.node,o=P();let i=!1;switch(e.containerType){case t.LINEAR:at.hasBit(e.alignmentType,16)?(o.android.orientation=r.VERTICAL,i=!0):at.hasBit(e.alignmentType,8)&&(o.android.orientation=r.HORIZONTAL,i=!0);break;case t.GRID:o.android.rowCount=e.rowCount?""+e.rowCount:"",o.android.columnCount=e.columnCount?""+e.columnCount:"2",i=!0;break;case t.FRAME:case t.RELATIVE:case t.CONSTRAINT:i=!0}if(i){const t=at.hasValue(n.dataset.target)&&!at.hasValue(n.dataset.use),i=Z.getControlName(e.containerType);return n.alignmentType|=e.alignmentType,n.setControlType(i,e.containerType),n.render(t?n:e.parent),n.apply(o),this.getEnclosingTag(i,n.id,t?-1:n.renderDepth,rt.formatPlaceholder(n.id))}return""}renderNode(e){const n=e.node,i=e.parent;n.alignmentType|=e.alignmentType;const a=Z.getControlName(e.containerType);n.setControlType(a,e.containerType);const s=at.hasValue(n.dataset.target)&&!at.hasValue(n.dataset.use);switch(n.element&&n.element.tagName){case"IMG":if(!n.hasBit("excludeResource",et.NODE_RESOURCE.IMAGE_SOURCE)){const e=n.element,r=n.has("width",32),l=n.has("height",32);let d=n.toInt("width"),c=n.toInt("height"),h="";if(r||l)h=r&&l?"fitXY":"fitCenter";else{if(0===d){const t=/width="(\d+)"/.exec(e.outerHTML);t&&(d=parseInt(t[1]),n.css("width",at.formatPX(t[1]),!0))}if(0===c){const t=/height="(\d+)"/.exec(e.outerHTML);t&&(c=parseInt(t[1]),n.css("height",at.formatPX(t[1]),!0))}switch(n.css("objectFit")){case"contain":h="centerInside";break;case"cover":h="centerCrop";break;case"scale-down":h="fitCenter";break;case"none":h="matrix";break;default:h="fitXY"}}n.android("scaleType",h),(d>0&&0===c||0===d&&c>0)&&n.android("adjustViewBounds","true"),n.baseline&&n.android("baselineAlignBottom","true");const u=v.addImageSrcSet(e);if(""!==u&&n.android("src",`@drawable/${u}`),!n.pageFlow&&n.left<0||n.top<0){const e=n.absoluteParent;if(e&&"hidden"===e.css("overflow")){const e=this.application.createNode(ot.createElement(n.actualParent?n.actualParent.element:null));return e.setControlType(o.FRAME,t.FRAME),e.inherit(n,"base"),e.exclude({procedure:et.NODE_PROCEDURE.ALL,resource:et.NODE_RESOURCE.ALL}),e.cssApply({position:n.position,zIndex:""+n.zIndex}),i.appendTry(n,e),this.cache.append(e),e.android("layout_width",d>0?d<i.box.width?at.formatPX(d):"match_parent":"wrap_content"),e.android("layout_height",c>0?c<i.box.height?at.formatPX(c):"match_parent":"wrap_content"),e.render(s?e:i),e.companion=n,e.saveAsInitial(),n.modifyBox(2,n.top),n.modifyBox(16,n.left),n.render(e),this.getEnclosingTag(o.FRAME,e.id,s?-1:e.renderDepth,this.getEnclosingTag(a,n.id,s?0:n.renderDepth))}}}break;case"TEXTAREA":{const t=n.element;n.android("minLines","2"),t.rows>2&&n.android("lines",""+t.rows),t.maxLength>0&&n.android("maxLength",""+t.maxLength),!n.hasWidth&&t.cols>0&&n.css("width",at.formatPX(8*t.cols),!0),n.android("hint",t.placeholder),n.android("scrollbars",r.VERTICAL),n.android("inputType","textMultiLine"),n.overflowX&&n.android("scrollHorizontally","true"),n.cssInitial("verticalAlign")||n.css("verticalAlign","text-bottom",!0);break}case"SELECT":n.element.size>1&&!n.cssInitial("verticalAlign")&&n.css("verticalAlign","text-bottom",!0);break;case"INPUT":{const t=n.element;switch(t.type){case"password":n.android("inputType","textPassword");break;case"text":n.android("inputType","text");break;case"range":at.hasValue(t.min)&&n.android("min",t.min),at.hasValue(t.max)&&n.android("max",t.max),at.hasValue(t.value)&&n.android("progress",t.value);break;case"image":if(!n.hasBit("excludeResource",et.NODE_RESOURCE.IMAGE_SOURCE)){const e=v.addImage({mdpi:t.src});""!==e&&n.android("src",`@drawable/${e}`,!1)}}switch(t.type){case"text":case"search":case"tel":case"url":case"email":case"password":!n.hasWidth&&t.size>0&&n.css("width",at.formatPX(8*t.size),!0)}break}}if(n.inlineVertical)switch(n.verticalAlign){case"sub":n.modifyBox(8,Math.ceil(n.fontSize/this.localSettings.relative.subscriptFontScale));break;case"super":n.modifyBox(2,Math.ceil(n.fontSize/this.localSettings.relative.superscriptFontScale))}switch(n.controlName){case o.TEXT:const t=[];if(n.overflowX&&t.push(r.HORIZONTAL),n.overflowY&&t.push(r.VERTICAL),t.length&&n.android("scrollbars",t.join("|")),n.has("letterSpacing")&&n.android("letterSpacing",n.css("letterSpacing")),"justify"===n.css("textAlign")&&n.android("justificationMode","inter_word"),n.has("textShadow")){const t=n.css("textShadow");[/^(rgba?\(\d+, \d+, \d+(?:, [\d.]+)?\)) ([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+)$/,/^([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+) (.+)$/].some((e,o)=>{const i=t.match(e);if(i){const t=nt.parseRGBA(i[0===o?1:4]);if(t){const e=v.addColor(t);""!==e&&n.android("shadowColor",`@color/${e}`)}return n.android("shadowDx",""+at.convertInt(i[0===o?2:1])),n.android("shadowDy",""+at.convertInt(i[0===o?3:2])),n.android("shadowRadius",""+at.convertInt(i[0===o?4:3])),!0}return!1})}n.lineHeight>0&&n.multiline&&(n.support.lineHeight?n.android("lineHeight",at.formatPX(n.lineHeight)):n.android("lineSpacingExtra",at.formatPX(n.lineHeight/2))),"nowrap"===n.css("whiteSpace")&&n.android("singleLine","true");break;case o.BUTTON:n.cssInitial("verticalAlign")||n.css("verticalAlign","text-bottom",!0);break;case o.LINE:n.hasHeight||n.android("layout_height",at.formatPX(n.contentBoxHeight||1))}return(n.textElement||n.imageElement||n.svgElement)&&(n.has("maxWidth")&&n.android("maxWidth",n.convertPX(n.css("maxWidth"))),n.has("maxHeight")&&n.android("maxHeight",n.convertPX(n.css("maxHeight"),!1))),n.render(s?n:i),this.getEnclosingTag(a,n.id,s?-1:n.renderDepth)}renderNodeStatic(t,e,n={},o="",i="",a,r){const s=Math.max(0,e);void 0===a?a=new Z(0,void 0,this.afterInsertNode):(a.renderDepth=s,a.rendered=!0),a.apply(n),a.android("layout_width",o,!1),a.android("layout_height",i,!1),0!==a.containerType&&""!==a.controlName||a.setControlType(t);let l=this.getEnclosingTag(t,a.id,a.documentRoot||0!==e?e:-1,r?rt.formatPlaceholder(a.id):"");return this.userSettings.showAttributes&&0===a.id&&(l=l.replace(rt.formatPlaceholder(a.id,"@"),vt(a,s+1))),n.documentId=a.documentId,l}renderSpace(t,e,n="",i=0,a=0,r){r=P(r);let s="",l="";return at.isPercent(e)&&(r.android.layout_columnWeight=s=(parseInt(e)/100).toPrecision(2),e="0px"),at.isPercent(n)&&(r.android.layout_rowWeight=l=(parseInt(n)/100).toPrecision(2),n="0px"),i>0&&(r.android.layout_columnSpan=""+i),a>0&&(r.android.layout_rowSpan=""+a),this.renderNodeStatic(o.SPACE,t,r,e,at.hasValue(n)?n:"wrap_content")}addGuideline(t,e,n="",i=!1,a=!1){const s=e.groupParent?e:t.documentParent;st.forEach(l=>{if(!t.constraint[l]&&(""===n||l===n)){const n=l===r.HORIZONTAL;let d,c,h,u;if(n?(d=a?"right":"left",c=a?"left":"right",h=a?"rightLeft":"leftRight",u=a?"leftRight":"rightLeft"):(d=a?"bottom":"top",c=a?"top":"bottom",h=a?"bottomTop":"topBottom",u=a?"topBottom":"bottomTop"),at.withinFraction(t.linear[d],s.box[d]))return void t.anchor(d,"parent",!0);const p=t.positionStatic?"bounds":"linear";let m,g="layout_constraintGuide_",f=!1;if(!t.pageFlow&&at.isPercent(t.css(d)))m=parseInt(t.css(d))/100,f=!0,g+="percent";else{if(!i&&!e.hasAlign(4)){if(e.renderChildren.some(e=>{if(e!==t&&e.constraint[l]){const o=t.pageFlow&&e.pageFlow;let i=!1;if(o&&(at.withinFraction(t.linear[d],e.linear[c])?(t.anchor(h,e.documentId,!0),i=!0):at.withinFraction(t.linear[c],e.linear[d])&&(t.anchor(u,e.documentId,!0),i=!0)),(o||!t.pageFlow&&!e.pageFlow)&&(at.withinFraction(t.bounds[d],e.bounds[d])?(t.anchor(!n&&t.textElement&&t.baseline&&e.textElement&&e.baseline?"baseline":d,e.documentId,!0),i=!0):at.withinFraction(t.bounds[c],e.bounds[c])&&(t.anchor(c,e.documentId,!0),i=!0)),i)return e.constraint[l]=!0,!0}return!1}))return}if(t.positionAuto){const e=t.previousSiblings();if(e.length&&!t.alignedVertically(e)){const o=e[e.length-1];if(o.renderParent===t.renderParent)return t.anchor(n?"rightLeft":"top",o.documentId,!0),void(t.constraint[l]=o.constraint[l])}}if(i){m=parseFloat(Math.abs(Math.abs(t[p][d]-s.box[d])/s.box[n?"width":"height"]-(a?1:0)).toPrecision(this.localSettings.constraint.percentAccuracy)),f=!0,g+="percent"}else m=t[p][d]-s.box[a?c:d],g+="begin"}const y=e.constraint.guideline||{};if(t.pageFlow){if(t.inlineVertical){const e=at.convertInt(t.verticalAlign);e<0&&(m+=e)}}else if(t.absoluteParent===t.documentParent)if(n)m=mt(m,s,"Left");else{const t=s.valueBox(32);m=mt(m,s,"Top",1===t[0])}if(t.constraint[l]=!0,m<=0)t.anchor(d,"parent",!0);else if(n&&s.hasWidth&&!t.has("right")&&m+t[p].width>=s.box.right||!n&&s.hasHeight&&!t.has("bottom")&&m+t[p].height>=s.box.bottom)t.anchor(c,"parent",!0);else{const i=at.optionalAsObject(y,`${l}.${g}.${d}`);if(i)for(const e in i)if(parseInt(i[e])===m)return t.anchor(d,e,!0),void t.anchorDelete(c);const a=P({android:{orientation:n?r.VERTICAL:r.HORIZONTAL},app:{[g]:f?""+m:at.formatPX(m)}});this.appendAfter(t.id,this.renderNodeStatic(o.GUIDELINE,t.renderDepth,a,"wrap_content","wrap_content"));const s=a.documentId;t.anchor(d,s,!0),t.anchorDelete(c),at.defaultWhenNull(y,l,g,d,s,""+m),e.constraint.guideline=y,t.constraint[n?"guidelineHorizontal":"guidelineVertical"]=s}}})}createNodeGroup(t,e,n,o){const i=new J(this.cache.nextId,t,e,this.afterInsertNode);return i.siblingIndex=t.siblingIndex,n&&(n.appendTry(o||t,i),i.init()),this.cache.append(i),i}createNodeWrapper(t,e,n,o){const i=this.application.createNode(ot.createElement(t.actualParent?t.actualParent.element:null,t.block));return t.documentRoot&&(i.documentRoot=!0,t.documentRoot=!1),i.inherit(t,"base","alignment"),n&&i.setControlType(n,o),i.exclude({section:et.APP_SECTION.ALL,procedure:et.NODE_PROCEDURE.CUSTOMIZATION,resource:et.NODE_RESOURCE.ALL}),i.siblingIndex=t.siblingIndex,e&&(e.appendTry(t,i),t.siblingIndex=0,-1!==t.renderPosition&&(i.renderPositionId=t.renderPositionId,t.renderPosition=-1),t.parent=i),i.saveAsInitial(),this.application.processing.cache.append(i,!e),t.unsetCache(),i}processRelativeHorizontal(t,e){const n=tt.cleared(e),o=Math.ceil((()=>{const n=t.renderParent;if(n)if(n.overflowX){if(t.has("width",2))return t.toInt("width",!0);if(n.has("width",2))return n.toInt("width",!0);if(n.has("width",32))return n.bounds.width-n.contentBoxWidth}else{let o=-1/0;if(at.captureMap(n.children,e=>"left"===e.float&&e.siblingIndex<t.siblingIndex,t=>o=Math.max(o,t.linear.right)),o!==-1/0&&e.some(t=>t.linear.left===o))return t.box.right-o}return t.box.width})()),i=o*this.localSettings.relative.boxWidthWordWrapPercent,a="nowrap"!==t.css("whiteSpace"),r=ot.isUserAgent(24),s=[],l=new Set;let d,c,h=!1,u=0;const[p,m]=at.partitionArray(e,t=>"right"===t.float);dt(m);for(const e of[m,p]){const h=e===m?"left":"right";for(let p=0;p<e.length;p++){const f=e[p],y=e[p-1];let b=f.bounds;if(f.element&&!f.hasWidth&&f.inlineText){const t=ot.getRangeClientRect(f.element);(t.multiline||t.width<f.box.width)&&(b=t,0===f.multiline&&(f.multiline=t.multiline),r&&t.multiline&&!/^\s*\n+/.test(f.textContent)&&l.add(f))}let T=e===m?"leftRight":"rightLeft",A=[];if(0===p)f.anchor(h,"true"),s.push([f]);else{function g(){const t=(d&&s.length>1?d.linear.width:0)+u+f.marginLeft+("left"!==y.float||n.has(f)?b.width:0)-(r?f.borderRightWidth:0);return!f.rightAligned&&Math.floor(t)-(f.styleElement&&f.inlineStatic?f.paddingLeft+f.paddingRight:0)>o}gt(f,y)&&(T="");const e=f.groupParent&&!f.hasAlign(128);A=!e&&f.element&&f.inlineVertical&&y.inlineVertical?ot.getElementsBetween(y.element,f.element,!0):[];const i=(()=>{if(f.textElement){let t=!1;if(y.textElement&&(1===p&&f.plainText&&!y.rightAligned&&(t=0===A.length&&!/\s+$/.test(y.textContent)&&!/^\s+/.test(f.textContent)),a&&!t&&(l.has(y)||y.multiline&&ot.hasLineBreak(y.element,!1,!0))))return!0;if(a&&!t&&(g()||f.multiline&&ot.hasLineBreak(f.element)||f.preserveWhiteSpace&&/^\s*\n+/.test(f.textContent)))return!0}return!1})(),m=s[s.length-1],E=f.previousSiblings();if(i||e||!f.textElement&&g()||f.linear.top>=y.linear.bottom&&(f.blockStatic||f.floating&&y.float===f.float)||!f.floating&&(y.blockStatic||E.some(t=>t.lineBreak||t.excluded&&t.blockStatic)||A.some(t=>ot.isLineBreak(t)))||n.has(f)){c=m.find(t=>!t.floating)||m[0];for(let t=0;t<m.length;t++)m[t]!==c&&m[t].linear.bottom>c.linear.bottom&&(!m[t].floating||m[t].floating&&c.floating)&&(c=m[t]);f.anchor("topBottom",c.documentId),d&&f.linear.bottom<=d.bounds.bottom?f.anchor(T,d.documentId):(f.anchor(h,"true"),d=void 0),i&&f.multiline&&pt(y,a),u=Math.min(0,i&&!y.multiline&&f.multiline&&!n.has(f)?f.linear.right-t.box.right:0),s.push([f])}else""!==T&&f.anchor(T,y.documentId),c&&f.anchor("topBottom",c.documentId),m.push(f)}"left"===f.float&&(d=f);let E=0;if(A.length&&!A.some(t=>!!ot.getElementAsNode(t)||ot.isLineBreak(t))){const t=ot.getRangeClientRect(A[0]),e=A.length>1?ot.getRangeClientRect(A[A.length-1]):null;t.multiline||null!==e&&e.multiline||(E=e?t.left-e.right:t.width)}Math.ceil(u+=E+f.marginLeft+b.width+f.marginRight)>=i&&!f.alignParent(h)&&pt(f,a)}}s.length>1&&(t.alignmentType|=4096,h=!0);for(let e=0;e<s.length;e++){let n;if(s[e].length>1){const o=tt.baseline(s[e]);n=o[0];const i=tt.baseline(s[e],!0)[0];let a=ut(s[e]);n&&a&&a.bounds.height>n.bounds.height?n.anchor("bottom",a.documentId):a=void 0;const r=[];let l=0===e?"true":n?n.documentId:"";const d=e=>{if(!h){if(o.includes(e)||e.actualParent&&e.actualHeight>=e.actualParent.box.height)return!0;t.hasHeight||t.css("height",at.formatPX(t.bounds.height),!0)}return!1};for(const t of s[e])if(t!==n)if(t.baseline)r.push(t);else if(t.inlineVertical)switch(t.verticalAlign){case"text-top":i&&t.anchor("top",i.documentId);break;case"super":case"top":l&&t.anchor("top",l);break;case"middle":if(h){if(n){const e=Math.max(t.bounds.height,t.lineHeight),o=Math.max(n.bounds.height,n.lineHeight);e<o&&(t.anchor("top",n.documentId),t.modifyBox(2,Math.round((o-e)/2)))}}else t.anchor("centerVertical","true");break;case"text-bottom":i&&t!==a&&t.anchor("bottom",i.documentId);break;case"sub":case"bottom":d(t)&&(l=""),l&&t.anchor("bottom",l);break;default:"0px"===t.verticalAlign||t.svgElement||r.push(t)}n&&(n.baselineActive=!0,r.length&&ht(n,r))}else n=s[e][0];n&&ct(t,n)}}processConstraintHorizontal(t,e){const n=tt.baseline(e)[0],o=tt.baseline(e,!0)[0];let i=ut(e);const a=t.hasAlign(512);n&&(n.baselineActive=!0,i&&n.bounds.height<i.bounds.height?n.anchor("bottom",i.documentId):i=void 0,ct(t,n));for(let t=0;t<e.length;t++){const s=e[t],l=e[t-1];if(0===t?s.anchor(a?"right":"left","parent"):l&&s.anchor(a?"rightLeft":"leftRight",l.documentId),s.inlineVertical)switch(s.verticalAlign){case"text-top":o&&s!==o&&s.anchor("top",o.documentId);break;case"super":case"top":s.anchor("top","parent");break;case"middle":s.anchorParent(r.VERTICAL);break;case"text-bottom":o&&s!==o&&s!==i&&s.anchor("bottom",o.documentId);break;case"sub":case"bottom":s.anchor("bottom","parent");break;case"baseline":n&&s!==n&&s.anchor("baseline",n.documentId)}}}processConstraintColumn(t,e){const n=t.toInt("columnCount"),o=Math.ceil(e.length/Math.min(n,e.length)),i=[];let r=0;for(let t=0,n=0;t<e.length;t++){const a=e[t];t%o==0&&(t>0&&n++,void 0===i[n]&&(i[n]=[])),i[n].push(a),a.length&&(r+=it.maxArray(at.objectMap(a.children,t=>t.marginLeft+t.marginRight)))}const s=at.convertInt(t.css("columnGap"))||16,l=Math.max((r+s*(n-1))/t.box.width/n,.01),d=[],c=[],h=[];for(let t=0;t<i.length;t++){const e=i[t],o=e[0];t>0&&o.android(o.localizeString(a.MARGIN_LEFT),at.formatPX(o.marginLeft+s)),h.push(o);for(const t of e){let e=0;(e=t.has("width",32)?t.toInt("width")/100:1/n-l)>0&&(t.android("layout_width","0px"),t.app("layout_constraintWidth_percent",e.toPrecision(2)))}c.push(e)}d.push(h),lt(d,!0),lt(c,!1)}processConstraintChain(t,e,n){const o=tt.partitionRows(e),i=tt.actualParent(e)||t,a=t.hasAlign(64),s=o.length>1&&t.hasAlign(1024)?tt.clearedAll(i):new Map;let l=!1;o.length>1&&(t.alignmentType|=4096),a&&(l=t.hasAlign(512),e.some(t=>t.has("width",32))&&t.android("layout_width","match_parent"));for(const r of e)a||(r.rightAligned?(at.withinFraction(r.linear.right,i.box.right)||r.linear.right>i.box.right)&&r.anchor("right","parent"):(at.withinFraction(r.linear.left,i.box.left)||r.linear.left<i.box.left)&&r.anchor("left","parent")),(at.withinFraction(r.linear.top,t.box.top)||r.linear.top<t.box.top||r.floating&&1===o.length)&&r.anchor("top","parent"),!this.withinParentBottom(r.linear.bottom,n)||i.documentBody||!i.hasHeight&&r.alignParent("top")||r.anchor("bottom","parent");const d=[];let c,h,u,p;l?(c="right",h="left",u="rightLeft",p="leftRight"):(c="left",h="right",u="leftRight",p="rightLeft");for(let t=0;t<o.length;t++){const e=o[t],n=e[0],m=e[e.length-1];let g;if(n.anchor(c,"parent"),"center"===i.css("textAlign")?n.app("layout_constraintHorizontal_chainStyle","spread"):e.length>1&&(l?(m.app("layout_constraintHorizontal_chainStyle","packed"),m.app("layout_constraintHorizontal_bias","1")):(n.app("layout_constraintHorizontal_chainStyle","packed"),n.app("layout_constraintHorizontal_bias","0"))),e.length>1&&m.anchor(h,"parent"),t>0){const e=o[t-1];g=e[0];for(let t=1;t<e.length;t++)e[t].linear.bottom>g.linear.bottom&&(g=e[t])}for(let f=0;f<e.length;f++){const y=e[f],b=e[f-1],T=e[f+1];if(y.autoMargin.leftRight?y.anchorParent(r.HORIZONTAL):(b&&y.anchor(u,b.documentId),T&&y.anchor(p,T.documentId)),St.setConstraintDimension(y),t>0){const e=o[t-1],r=e[e.length-1],b=l?m:n,T=[];if(r?(T.push(r),y.element&&T.push(...at.flatMap(ot.getElementsBetween(r.element,y.element),t=>ot.getElementAsNode(t)))):T.push(b),!a||0!==s.size&&T.some(t=>s.has(t)))g&&(f>0?(y.anchor("top",n.documentId),y.modifyBox(2,-1*n.marginTop)):(y.anchor("topBottom",g.documentId),g.anchor("bottomTop",y.documentId)));else if(e.length){y.anchor("topBottom",r.documentId),""===r.alignSibling("bottomTop")&&r.anchor("bottomTop",y.documentId);for(let t=d.length-2;t>=0;t--){const e=d[t];if(e.linear.bottom>r.linear.bottom){if((l?Math.ceil(e.linear[h])-Math.floor(i.box[h]):Math.ceil(i.box[h])-Math.floor(e.linear[h]))>=y.linear.width){y.anchor(u,e.documentId),y.anchorDelete(p),y===n?(y.anchorDelete(c),y.delete("app","layout_constraintHorizontal_chainStyle","layout_constraintHorizontal_bias")):y===m&&y.anchorDelete(h);break}}}}}d.push(y)}}St.evaluateAnchors(e)}withinParentBottom(t,e){return at.withinRange(t,e,this.localSettings.constraint.withinParentBottomOffset)}get userSettings(){return this.application.userSettings}get containerTypeHorizontal(){return{containerType:t.LINEAR,alignmentType:8,renderType:0}}get containerTypeVertical(){return{containerType:t.LINEAR,alignmentType:16,renderType:0}}get containerTypeVerticalMargin(){return{containerType:t.FRAME,alignmentType:256,renderType:0}}get afterInsertNode(){const t=this.userSettings;return e=>{e.localSettings={targetAPI:void 0!==t.targetAPI?t.targetAPI:28,supportRTL:void 0===t.supportRTL||t.supportRTL,constraintPercentAccuracy:this.localSettings.constraint.percentAccuracy,customizationsOverwritePrivilege:void 0===t.customizationsOverwritePrivilege||t.customizationsOverwritePrivilege}}}}class wt extends squared.base.ExtensionManager{}var _t='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<color name="{&value}">{&name}</color>\n<<A>>\n</resources>\n\x3c!-- filename: res/values/colors.xml --\x3e',Rt='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<dimen name="{&name}">{&value}</dimen>\n<<A>>\n</resources>\n\x3c!-- filename: res/values/dimens.xml --\x3e',xt="{&value}\n\x3c!-- filename: {&name} --\x3e",It='<?xml version="1.0" encoding="utf-8"?>\n<font-family {&namespace}>\n<<A>>\n\t<font android:fontStyle="{&style}" android:fontWeight="{&weight}" android:font="{&font}" />\n<<A>>\n</font-family>\n\x3c!-- filename: res/font/{&name}.xml --\x3e',Nt='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<string name="{&name}">{~value}</string>\n<<A>>\n</resources>\n\x3c!-- filename: res/values/strings.xml --\x3e',Ct='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<string-array name="{&name}">\n\t<<AA>>\n\t\t<item>{&value}</item>\n\t<<AA>>\n\t</string-array>\n<<A>>\n</resources>\n\x3c!-- filename: res/values/string_arrays.xml --\x3e',Pt='<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<style name="{&name}" parent="{~parent}">\n\t<<items>>\n\t\t<item name="{&name}">{&value}</item>\n\t<<items>>\n\t</style>\n<<A>>\n</resources>\n\x3c!-- filename: {0} --\x3e';const Ot=squared.lib.util,Lt=squared.lib.xml;function Mt(t){const e=[],n=/^<!-- image: (.+) -->\n<!-- filename: (.+)\/(.+?\.\w+) -->$/;for(const o of t){const t=n.exec(o);t&&e.push({uri:t[1],pathname:t[2],filename:t[3],content:""})}return e}function Dt(t){const e=[],n=/^[\w\W]*?(<!-- filename: (.+)\/(.+?\.xml) -->)$/;for(const o of t){const t=n.exec(o);t&&e.push({content:t[0].replace(t[1],"").trim(),pathname:t[2],filename:t[3]})}return e}function Bt(t,e,n){return{pathname:t,filename:e,content:n}}function kt(t,e){return(""+t).toLowerCase()>=(""+e).toLowerCase()?1:-1}class Xt extends squared.base.File{saveAllToDisk(t){const e=[],n=[...t.views,...t.includes];for(let t=0;t<n.length;t++){const o=n[t];e.push(Bt(o.pathname,0===t?this.userSettings.outputMainFileName:`${o.filename}.xml`,o.content))}e.push(...Dt(this.resourceStringToXml())),e.push(...Dt(this.resourceStringArrayToXml())),e.push(...Dt(this.resourceFontToXml())),e.push(...Dt(this.resourceColorToXml())),e.push(...Dt(this.resourceStyleToXml())),e.push(...Dt(this.resourceDimenToXml())),e.push(...Dt(this.resourceDrawableToXml())),e.push(...Mt(this.resourceDrawableImageToXml())),e.push(...Dt(this.resourceAnimToXml())),this.saveToDisk(e)}layoutAllToXml(t,e=!1){const n={},o=[],i=[...t.views,...t.includes];for(let t=0;t<i.length;t++){const a=i[t];n[a.filename]=[a.content],e&&o.push(Bt(a.pathname,0===t?this.userSettings.outputMainFileName:`${a.filename}.xml`,a.content))}return e&&this.saveToDisk(o),n}resourceAllToXml(t=!1){const e={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml(),drawableImage:this.resourceDrawableImageToXml(),anim:this.resourceAnimToXml()};for(const t in e)0===e[t].length&&delete e[t];if(t){const t=[];for(const n in e)"image"===n?t.push(...Mt(e[n])):t.push(...Dt(e[n]));this.saveToDisk(t)}return e}resourceStringToXml(t=!1){const e=[],n={A:[]};this.stored.strings=new Map([...this.stored.strings.entries()].sort(kt)),""===this.appName||this.stored.strings.has("app_name")||n.A.push({name:"app_name",value:this.appName});for(const[t,e]of this.stored.strings.entries())n.A.push({name:t,value:e});return e.push(B(Lt.createTemplate(Lt.parseTemplate(Nt),n),this.userSettings.insertSpaces,!0)),t&&this.saveToDisk(Dt(e)),e}resourceStringArrayToXml(t=!1){const e=[];if(this.stored.arrays.size){const n={A:[]};this.stored.arrays=new Map([...this.stored.arrays.entries()].sort());for(const[t,e]of this.stored.arrays.entries())n.A.push({name:t,AA:Ot.objectMap(e,t=>({value:t}))});e.push(B(Lt.createTemplate(Lt.parseTemplate(Ct),n),this.userSettings.insertSpaces,!0)),t&&this.saveToDisk(Dt(e))}return e}resourceFontToXml(t=!1){const e=[];if(this.stored.fonts.size){const n=this.userSettings;this.stored.fonts=new Map([...this.stored.fonts.entries()].sort());const o=n.targetAPI<26?"app":"android";for(const[t,i]of this.stored.fonts.entries()){const a={name:t,namespace:V(o),A:[]};let r="";for(const e in i){const[n,o]=e.split("-");a.A.push({style:n,weight:o,font:`@font/${t+("normal"===n&&"normal"===o?`_${n}`:("normal"!==n?`_${n}`:"")+("normal"!==o?`_${o}`:""))}`})}r+=Lt.createTemplate(Lt.parseTemplate(It),a),n.targetAPI<26&&(r=r.replace(/android/g,"app")),e.push(B(r,n.insertSpaces))}t&&this.saveToDisk(Dt(e))}return e}resourceColorToXml(t=!1){const e=[];if(this.stored.colors.size){const n={A:[]};this.stored.colors=new Map([...this.stored.colors.entries()].sort());for(const[t,e]of this.stored.colors.entries())n.A.push({name:t,value:e});e.push(B(Lt.createTemplate(Lt.parseTemplate(_t),n),this.userSettings.insertSpaces)),t&&this.saveToDisk(Dt(e))}return e}resourceStyleToXml(t=!1){const e=[];if(this.stored.styles.size){const n=this.userSettings,o=Lt.parseTemplate(Pt),i=[];{const t=Array.from(this.stored.styles.values()).sort((t,e)=>(""+t.name).toLowerCase()>=(""+e.name).toLowerCase()?1:-1),e={A:[]};for(const n of t)Array.isArray(n.items)&&(n.items.sort((t,e)=>t.name>=e.name?1:-1),e.A.push(n));i.push({filename:"res/values/styles.xml",data:e})}const a={};for(const[t,e]of this.stored.themes.entries()){const n={A:[]};for(const[o,i]of e.entries()){const e=[];for(const t in i.items)e.push({name:t,value:i.items[t]});a[t]&&"AppTheme"===o&&!e.length||n.A.push({name:o,parent:i.parent,items:e}),"AppTheme"===o&&(a[t]=!0)}i.push({filename:t,data:n})}for(const t of i)e.push(B(D(Lt.createTemplate(o,t.data).replace("filename: {0}",`filename: ${t.filename}`),n.resolutionDPI,n.convertPixels,!0),n.insertSpaces));t&&this.saveToDisk(Dt(e))}return e}resourceDimenToXml(t=!1){const e=[];if(this.stored.dimens.size){const n=this.userSettings,o={A:[]};this.stored.dimens=new Map([...this.stored.dimens.entries()].sort());for(const[t,e]of this.stored.dimens.entries())o.A.push({name:t,value:e});e.push(B(D(Lt.createTemplate(Lt.parseTemplate(Rt),o),n.resolutionDPI,n.convertPixels),n.insertSpaces)),t&&this.saveToDisk(Dt(e))}return e}resourceDrawableToXml(t=!1){const e=[];if(this.stored.drawables.size){const n=this.userSettings,o=Lt.parseTemplate(xt);for(const[t,i]of this.stored.drawables.entries())e.push(B(D(Lt.createTemplate(o,{name:`res/drawable/${t}.xml`,value:i}),n.resolutionDPI,n.convertPixels),n.insertSpaces));t&&this.saveToDisk(Dt(e))}return e}resourceDrawableImageToXml(t=!1){const e=[];if(this.stored.images.size){const n=this.userSettings,o=Lt.parseTemplate(xt);for(const[t,i]of this.stored.images.entries())if(Object.keys(i).length>1)for(const a in i)e.push(B(Lt.createTemplate(o,{name:`res/drawable-${a}/${t}.${Ot.lastIndexOf(i[a],".")}`,value:`\x3c!-- image: ${i[a]} --\x3e`}),n.insertSpaces));else i.mdpi&&e.push(B(Lt.createTemplate(o,{name:`res/drawable/${t}.${Ot.lastIndexOf(i.mdpi,".")}`,value:`\x3c!-- image: ${i.mdpi} --\x3e`}),n.insertSpaces));t&&this.saveToDisk(Mt(e))}return e}resourceAnimToXml(t=!1){const e=[];if(this.stored.animators.size){const n=Lt.parseTemplate(xt);for(const[t,o]of this.stored.animators.entries())e.push(B(Lt.createTemplate(n,{name:`res/anim/${t}.xml`,value:o}),this.userSettings.insertSpaces));t&&this.saveToDisk(Dt(e))}return e}get userSettings(){return this.resource.userSettings}get stored(){return this.resource.stored}}const Vt=squared.base.lib.enumeration,Gt=squared.lib.dom,Ft=squared.lib.util;class Ht extends squared.base.extensions.Accessibility{constructor(){super(...arguments),this.eventOnly=!0}afterBaseLayout(){for(const t of this.application.processing.cache){const e=t.element;if(e&&t.visible&&!t.hasBit("excludeProcedure",Vt.NODE_PROCEDURE.ACCESSIBILITY))switch(t.controlName){case o.EDIT:t.companion||[Gt.getPreviousElementSibling(e),Gt.getNextElementSibling(e)].some(n=>{if(n){const o=Gt.getElementAsNode(n),i=n&&n.parentElement&&"LABEL"===n.parentElement.tagName?Gt.getElementAsNode(n.parentElement):void 0;if(o&&o.visible&&o.pageFlow){if(Ft.hasValue(n.htmlFor)&&n.htmlFor===e.id)return o.android("labelFor",t.documentId),!0;if(o.textElement&&i)return i.android("labelFor",t.documentId),!0}}return!1});case o.SELECT:case o.CHECKBOX:case o.RADIO:case o.BUTTON:e.disabled&&t.android("focusable","false")}}}}var zt=squared.base.Layout;const Wt=squared.base.lib.constant,qt=squared.base.lib.enumeration,$t=squared.lib.dom,Ut=squared.lib.util;function Yt(t,e,n,o){const i="column"===o?16:2,a="column"===o?4:8,r="column"===o?256:32,s=t[o],l=n.startsWith("space")?function(t,e){const n=[];if("column"===e)for(let e=0;e<t.column.count;e++){n[e]=[];for(let o=0;o<t.row.count;o++)n[e].push(t.rowData[o][e])}else for(let e=0;e<t.row.count;e++)n.push(t.rowData[e]);return n}(t,o):[],d=function(t,e,n){const o="column"===e?"width":"height";let i=0;for(let n=0;n<t[e].count;n++){const a=t[e].unit[n];if(a.endsWith("px"))i+=parseInt(a);else{let e=0;Ut.captureMap(t.rowData[n],t=>t&&t.length>0,t=>e=Math.min(e,t[0].bounds[o])),i+=e}}return i=n[o]-(i+=(t[e].count-1)*t[e].gap)}(t,o,e);if(d>0){const c="column"===o?"width":"height",h=t[o].count,u=new Set;switch(n){case"center":e.modifyBox(r,Math.floor(d/2)),s.normal=!1;break;case"right":if("row"===o)break;case"end":case"flex-end":e.modifyBox(r,d),s.normal=!1;break;case"space-around":{const t=Math.floor(d/(2*h));for(let e=0;e<h;e++)for(const n of new Set(Ut.flatArray(l[e])))u.has(n)?n.cssPX(c,2*t):(n.modifyBox(i,t),e<h-1&&n.modifyBox(a,t),u.add(n));s.normal=!1;break}case"space-between":{const t=Math.floor(d/(2*(h-1))),e=Ut.flatArray(l[h-1]);for(let n=0;n<h;n++)for(const o of new Set(Ut.flatArray(l[n])))u.has(o)?o.cssPX(c,2*t):(n>0&&o.modifyBox(i,t),n<h-1&&!e.some(t=>t===o)&&o.modifyBox(a,t),u.add(o));s.normal=!1;break}case"space-evenly":{const t=Math.floor(d/(h+1)),e=Ut.flatArray(l[h-1]);for(let n=0;n<h;n++){const o=Math.floor(t/2);for(const r of new Set(Ut.flatArray(l[n])))u.has(r)?r.cssPX(c,t):(r.modifyBox(i,0===n?t:o),n<h-1&&!e.some(t=>t===r)&&r.modifyBox(a,o),u.add(r))}s.normal=!1;break}}}}class jt extends squared.base.extensions.CssGrid{processNode(e,n){super.processNode(e,n);const o=e.data(Wt.EXT_NAME.CSS_GRID,"mainData");let i="";if(o){const a=new zt(n,e,t.GRID,4,e.length,e.children);a.rowCount=o.row.count,a.columnCount=o.column.count,i=this.application.renderNode(a)}return{output:i,complete:""!==i}}processChild(e,n){const i=n.data(Wt.EXT_NAME.CSS_GRID,"mainData"),a=e.data(Wt.EXT_NAME.CSS_GRID,"cellData");let r,s="";if(i&&a){function l(t,o,r){const s=i[o],l=`${o}Start`,d=`${o}Span`,c=a[d]-a[l],h=`min${Ut.capitalize(r)}`;let u=0,p=0,m=!1,g=0,f=0;s.unit.every(t=>"auto"===t)&&("width"===r?s.unit=Array(s.unit.length).fill("1fr"):s.unit.length=0);for(let t=0,o=0;t<a[d];t++){const i=s.unitMin[a[l]+t];g+=parseInt(n.convertPX(i));let d=s.unit[a[l]+t];if(!Ut.hasValue(d)){if(!s.auto[o])continue;d=s.auto[o],s.auto[o+1]&&o++}if(Ut.hasValue(d)){if("auto"===d||"min-content"===d||"max-content"===d){c<s.unit.length&&(!n.has(r)||s.unit.some(t=>Ut.isUnit(t))||"min-content"===d)?(u=e.bounds[r],p=0,f=0):(u=0,p=0,f=.01);break}if(Ut.isPercent(d))f+=parseInt(d)/100,p=u,u=0;else if(d.endsWith("fr"))f+=parseInt(d),p=u,u=0;else if(d.endsWith("px")){const t=parseInt(d);0===p?u+=t:p+=t}"0px"===i&&e.textElement&&(m=!0)}}if(a[d]>1){const t=(a[d]-1)*s.gap;u>0&&0===p?u+=t:p>0&&(p+=t),g>0&&(g+=t)}if(g>0&&(s.autoFill&&0===u&&1===i["column"===o?"row":"column"].count?(u=Math.max(e.bounds.width,g),f=0):p=g),t.android(`layout_${o}`,""+a[l]),a[d]>1&&t.android(`layout_${o}Span`,""+a[d]),p>0&&!t.has(h)&&t.css(h,Ut.formatPX(p),!0),f>0)t.android(`layout_${r}`,"0px"),t.android(`layout_${o}Weight`,""+f),t.mergeGravity("layout_gravity","column"===o?"fill_horizontal":"fill_vertical");else if(u>0){const e=`max${Ut.capitalize(r)}`;m&&!t.has(e)?(t.css(e,Ut.formatPX(u),!0),t.mergeGravity("layout_gravity","column"===o?"fill_horizontal":"fill_vertical")):t.has(r)||t.css(r,Ut.formatPX(u),!0)}}const d=e.has("alignSelf")?e.css("alignSelf"):i.alignItems,c=e.has("justifySelf")?e.css("justifySelf"):i.justifyItems;if(/(start|end|center|baseline)/.test(d)||/(start|end|center|baseline|left|right)/.test(c)){(r=this.application.createNode($t.createElement(e.actualParent?e.actualParent.element:null))).tagName=e.tagName,r.setControlType(o.FRAME,t.FRAME),r.inherit(e,"initial","base"),r.resetBox(510),r.exclude({procedure:qt.NODE_PROCEDURE.AUTOFIT|qt.NODE_PROCEDURE.CUSTOMIZATION,resource:qt.NODE_RESOURCE.BOX_STYLE|qt.NODE_RESOURCE.ASSET}),n.appendTry(e,r),r.render(n),this.application.processing.cache.append(r,!1),e.inheritBox(30,r),l(r,"column","width"),l(r,"row","height");let i=!1;c.endsWith("start")||c.endsWith("left")||c.endsWith("baseline")?(e.mergeGravity("layout_gravity","left"),i=!0):c.endsWith("end")||c.endsWith("right")?(e.mergeGravity("layout_gravity","right"),i=!0):c.endsWith("center")&&(e.mergeGravity("layout_gravity","center_horizontal"),i=!0),e.hasWidth||e.android("layout_width",i?"wrap_content":"match_parent",!1),d.endsWith("start")||d.endsWith("baseline")?e.mergeGravity("layout_gravity","top"):d.endsWith("end")?e.mergeGravity("layout_gravity","bottom"):d.endsWith("center")?e.mergeGravity("layout_gravity","center_vertical"):e.hasHeight||e.android("layout_height","match_parent",!1),e.parent=r;const a=new zt(n,r,t.FRAME,2048,1,r.children);s=this.application.renderLayout(a)}const h=r||e;l(h,"column","width"),l(h,"row","height"),h.has("height")||(n.hasHeight&&(h.android("layout_height","0px"),h.android("layout_rowWeight","1")),h.mergeGravity("layout_gravity","fill_vertical")),h.has("width")||h.mergeGravity("layout_gravity","fill_horizontal")}return{output:s,parent:r,complete:""!==s}}postBaseLayout(t){const e=t.data(Wt.EXT_NAME.CSS_GRID,"mainData");if(e&&(t.hasWidth&&"normal"!==e.justifyContent&&Yt(e,t,e.justifyContent,"column"),t.hasHeight&&"normal"!==e.alignContent&&Yt(e,t,e.alignContent,"row"),e.column.normal&&!e.column.unit.includes("auto"))){const n=e.column.gap*(e.column.count-1);n>0&&(t.renderParent&&!t.renderParent.hasAlign(4)&&(t.cssPX("minWidth",n),t.cssPX("width",n,!1,!0)),!t.has("width")&&t.has("maxWidth")&&t.css("width",Ut.formatPX(t.bounds.width+n),!0))}}postProcedure(t){const e=t.data(Wt.EXT_NAME.CSS_GRID,"mainData");if(e){const n=this.application.controllerHandler,o=Array.from(e.children)[e.children.size-1];if(e.column.unit.every(t=>Ut.isPercent(t))){const i=e.column.unit.reduce((t,e)=>t+parseInt(e),0);if(i<100){t.android("columnCount",""+(e.column.count+1));for(let r=0;r<e.row.count;r++)n.appendAfter(o.id,n.renderSpace(t.renderDepth+1,Ut.formatPercent(100-i),"wrap_content",0,0,P({android:{[t.localizeString(a.MARGIN_LEFT)]:Ut.formatPX(e.column.gap),layout_row:""+r,layout_column:""+e.column.count}})))}}for(let i=0;i<e.emptyRows.length;i++){const a=e.emptyRows[i];if(a)for(let r=0;r<a.length;r++)if(1===a[r]){n.appendAfter(o.id,n.renderSpace(t.renderDepth+1,"wrap_content",Ut.formatPX(e.row.gap),0,0,P({android:{layout_row:""+i,layout_column:""+r}})));break}}}}}class Kt extends squared.base.extensions.External{constructor(){super(...arguments),this.eventOnly=!0}}var Zt=squared.base.Layout,Jt=squared.base.NodeList;const Qt=squared.base.lib.constant,te=(squared,squared.lib.util),ee={leftTop:["left","top"],rightBottom:["right","bottom"],rightLeftBottomTop:["rightLeft","bottomTop"],leftRightTopBottom:["leftRight","topBottom"],widthHeight:["Width","Height"],horizontalVertical:["Horizontal","Vertical"]};class ne extends squared.base.extensions.Flexbox{processNode(e,n){super.processNode(e,n);const o=e.data(Qt.EXT_NAME.FLEXBOX,"mainData"),i=new Zt(n,e,0,4,e.length);return i.rowCount=o.rowCount,i.columnCount=o.columnCount,void 0!==e.find(t=>!t.pageFlow)||o.rowDirection&&(1===o.rowCount||e.hasHeight)||o.columnDirection&&1===o.columnCount?i.containerType=t.CONSTRAINT:i.setType(t.LINEAR,o.columnDirection?8:16),{output:this.application.renderNode(i),complete:!0}}processChild(e,n){let o="";if(e.hasAlign(128)){const i=new Zt(n,e,t.CONSTRAINT,4,e.length,e.children);o=this.application.renderNode(i)}return{output:o,complete:""!==o}}postBaseLayout(e){const n=e.data(Qt.EXT_NAME.FLEXBOX,"mainData");if(n){const o=[],i=[],a=[],s=[];if(n.wrap){let r;e.each(t=>{if(t.hasAlign(128)){const l=te.filterArray(t.renderChildren,t=>t.pageFlow);if(n.rowDirection)t.android("layout_width","match_parent"),e.hasHeight&&(t.android("layout_height","0px"),t.app("layout_constraintVertical_weight","1")),o.push(l),s.push(t);else{if(t.android("layout_height","match_parent"),i.push(l),r){let e=r[0];for(let t=1;t<r.length;t++)r[t].linear.right>e.linear.right&&(e=r[t]);const n=t.linear.left-e.actualRight();n>0&&t.modifyBox(16,n),t.constraint.horizontal=!0}a.push(t),r=l}}}),e.is(t.LINEAR)?n.columnDirection&&n.wrapReverse&&e.mergeGravity("gravity","right"):(s.length&&i.push(s),a.length&&o.push(a))}else n.rowDirection?o[0]=n.directionReverse?n.children.reverse():n.children:(e.hasHeight||e.android("layout_height","match_parent"),i[0]=n.directionReverse?n.children.reverse():n.children);[o,i].forEach((t,o)=>{const i=0===o,l=i?1:0;for(const d of t){const t=ee.widthHeight[l],c=t.toLowerCase(),h=ee.leftTop[o],u=ee.leftTop[l],p=ee.rightBottom[o],m=ee.rightBottom[l];let g,f=-1/0;te.captureMap(d,t=>!t.flexElement,e=>f=Math.max(f,e.bounds[t.toLowerCase()]));for(let e=0;e<d.length;e++){const l=d[e],h=d[e-1],p=d[e+1];if(p&&l.anchor(ee.rightLeftBottomTop[o],p.documentId),h&&l.anchor(ee.leftRightTopBottom[o],h.documentId),d!==a&&d!==s){switch(l.flexbox.alignSelf){case"start":case"flex-start":l.anchor(u,"parent");break;case"end":case"flex-end":l.anchor(m,"parent");break;case"baseline":i&&(void 0===g&&(g=Jt.baseline(d)[0]),g&&(l!==g?(l.anchor("baseline",g.documentId),l.constraint.vertical=!0):l.anchor("top","parent")));break;case"center":l.anchorParent(i?r.VERTICAL:r.HORIZONTAL);break;default:if(l.anchor(n.wrapReverse?m:u,"parent"),!l[`has${t}`]&&!l.has(c,32)){const e=l.unsafe("initial");e.bounds&&e.bounds[c]<f&&(l.android(`layout_${t.toLowerCase()}`,"0px"),l.anchor(n.wrapReverse?u:m,"parent"))}}St.setFlexDimension(l,i)}i||l.anchorParent(r.HORIZONTAL),l.positioned=!0}const y=ee.horizontalVertical[o],b=d[0],T=d[d.length-1],A=`layout_constraint${y}_chainStyle`;if(b.anchor(h,"parent"),T.anchor(p,"parent"),d.every(t=>t.flexbox.grow<1))switch(n.justifyContent){case"left":if(!i)break;case"start":case"flex-start":b.app(A,"packed"),b.app(`layout_constraint${y}_bias`,"0");break;case"center":b.app(A,"packed"),b.app(`layout_constraint${y}_bias`,"0.5");break;case"right":if(!i)break;case"end":case"flex-end":b.app(A,"packed"),b.app(`layout_constraint${y}_bias`,"1");break;case"space-between":b.app(A,"spread_inside");break;case"space-evenly":b.app(A,"spread");for(const t of d)t.app(`layout_constraint${y}_weight`,""+(t.flexbox.grow||1));break;case"space-around":const t=this.application.controllerHandler,e=y.toLowerCase();b.app(A,"spread_inside"),b.constraint[e]=!1,T.constraint[e]=!1,t.addGuideline(b,b.parent,e,!0,!1),t.addGuideline(T,b.parent,e,!0,!0)}d.length>1&&(i&&te.withinFraction(e.box.left,b.linear.left)&&te.withinFraction(T.linear.right,e.box.right)||!i&&te.withinFraction(e.box.top,b.linear.top)&&te.withinFraction(T.linear.bottom,e.box.bottom))?b.app(A,"spread_inside",!1):(b.app(A,"packed",!1),b.app(`layout_constraint${y}_bias`,n.directionReverse?"1":"0",!1))}})}}}var oe=squared.base.Layout;const ie=squared.base.lib.constant,ae=(squared,squared.lib.util);class re extends squared.base.extensions.Grid{processNode(e,n){super.processNode(e,n);const o=e.data(ie.EXT_NAME.GRID,"mainData");let i="";if(o){const a=new oe(n,e,t.GRID,4,e.length,e.children);a.columnCount=o.columnCount,i=this.application.renderNode(a)}return{output:i,complete:""!==i}}processChild(e,n){const o=n.data(ie.EXT_NAME.GRID,"mainData"),i=e.data(ie.EXT_NAME.GRID,"cellData");if(o&&i){i.rowSpan>1&&e.android("layout_rowSpan",""+i.rowSpan),i.columnSpan>1&&e.android("layout_columnSpan",""+i.columnSpan),"table-cell"===e.display&&e.mergeGravity("layout_gravity","fill");const o=i.siblings?i.siblings.slice(0):[];if(o.length){const i=this.application.controllerHandler;o.unshift(e);const a=new oe(n,e,0,0,o.length,o);if(a.linearY)a.node=i.createNodeGroup(e,o,n),a.setType(t.LINEAR,16);else{a.init();const t=i.processTraverseHorizontal(a);a.node=t.layout.node}if(0!==a.containerType){return function(t,e){let n;for(let t=0;t<e.length;t++){const o=e[t];if(void 0===n)n=o.data(ie.EXT_NAME.GRID,"cellData");else if(n){const t=o.data(ie.EXT_NAME.GRID,"cellData");if(t)for(const e in t)switch(typeof t[e]){case"number":n[e]+=t[e];break;case"boolean":!0===t[e]&&(n[e]=!0)}}o.siblingIndex=t,o.data(ie.EXT_NAME.GRID,"cellData",null)}t.data(ie.EXT_NAME.GRID,"cellData",n)}(a.node,o),{output:this.application.renderNode(a),parent:a.node,complete:!0}}}}return{output:""}}postBaseLayout(t){if(!t.tableElement||"collapse"!==t.css("borderCollapse")){const e=t.data(ie.EXT_NAME.GRID,"mainData");e&&t.renderEach(t=>{const n=t.data(ie.EXT_NAME.GRID,"cellData");if(n){const o=t.actualParent;if(o&&!o.visible&&(n.cellStart&&(e.paddingTop=o.paddingTop+o.marginTop),n.rowStart&&(e.paddingLeft=Math.max(o.marginLeft+o.paddingLeft,e.paddingLeft)),n.rowEnd)){const i=o.marginBottom+o.paddingBottom+(n.cellEnd?0:o.marginTop+o.paddingTop);i>0&&(n.cellEnd?e.paddingBottom=i:this.application.controllerHandler.appendAfter(t.id,this.application.controllerHandler.renderSpace(t.renderDepth,"match_parent",ae.formatPX(i),e.columnCount))),e.paddingRight=Math.max(o.marginRight+o.paddingRight,e.paddingRight)}}}),t.modifyBox(32,e.paddingTop),t.modifyBox(64,e.paddingRight),t.modifyBox(128,e.paddingBottom),t.modifyBox(256,e.paddingLeft)}if(!t.hasWidth){let e=-1/0;ae.captureMap(t.renderChildren,t=>t.inlineFlow||!t.blockStatic,t=>e=Math.max(e,t.linear.right)),ae.withinFraction(t.box.right,e)&&t.android("layout_width","wrap_content")}}}var se=squared.base.Layout,le=squared.base.NodeList;const de=squared.base.lib.constant,ce=(squared,squared.lib.dom),he=squared.lib.util;class ue extends squared.base.extensions.List{processNode(e,n){super.processNode(e,n);const o=new se(n,e,0,0,e.length,e.children);let i="";return le.linearY(o.children)?(o.rowCount=e.length,o.columnCount=e.some(t=>"inside"===t.css("listStylePosition"))?3:2,o.setType(t.GRID,4)):this.application.controllerHandler.checkRelativeHorizontal(o)&&(o.rowCount=1,o.columnCount=o.length,o.setType(t.RELATIVE,8)),0!==o.containerType&&(i=this.application.renderNode(o)),{output:i,complete:""!==i}}processChild(e,n){const i=e.data(de.EXT_NAME.LIST,"mainData");let r="";if(i){const s=this.application.controllerHandler,l=he.convertInt(n.css("paddingLeft"))+he.convertInt(n.css("marginLeft"));let d=0,c=e.marginLeft;e.modifyBox(16,null),n.is(t.GRID)?(d=he.convertInt(n.android("columnCount")),c+=l):n.item(0)===e&&(c+=l);const h=e.find(t=>"left"===t.float&&t.marginLeft<0&&Math.abs(t.marginLeft)<=he.convertInt(t.documentParent.cssInitial("marginLeft")));if(h&&""===i.ordinal){const o=new se(n,h);h.inlineText||0===h.length?o.containerType=t.TEXT:(o.retain(h.children),s.checkRelativeHorizontal(o)?o.setType(t.RELATIVE,8):o.setType(t.CONSTRAINT,2)),h.parent=n,s.prependBefore(e.id,this.application.renderNode(o)),3===d&&e.android("layout_columnSpan","2"),(c+=h.marginLeft)>0&&!h.hasWidth&&h.android("minWidth",he.formatPX(c)),h.modifyBox(16,null)}else{const t=d>0?"0":"",r="inside"===e.css("listStylePosition");let h=0,u=0,p="";if(""!==i.imageSrc){const t=ce.getBackgroundPosition(i.imagePosition,e.bounds,e.fontSize);h=t.left,u=t.top,p=v.addImageUrl(i.imageSrc)}const m=""!==p&&!e.has("listStyleImage")||0===l&&0===e.marginLeft?"":"right";""===m&&(c+=e.paddingLeft,e.modifyBox(256,null)),h>0&&c>h&&(c-=h),c=Math.max(c,20);const g=(()=>c<=24?6:c<=32?8:10)(),f=h>0?he.formatPX(h):"",y=c>0?he.formatPX(c):"",b=P({android:{layout_columnWeight:t}});if(r){const i=s.renderNodeStatic(o.SPACE,n.renderDepth+1,{android:{minWidth:y,layout_columnWeight:t,[e.localizeString(a.MARGIN_LEFT)]:f}},"wrap_content","wrap_content");s.prependBefore(e.id,i),b.android.minWidth=he.formatPX("24")}else Object.assign(b.android,{minWidth:y,gravity:c>20?e.localizeString(m):"",[a.MARGIN_TOP]:e===n.children[0]&&e.marginTop>0?he.formatPX(e.marginTop):"",[e.localizeString(a.MARGIN_LEFT)]:f,[e.localizeString(a.PADDING_LEFT)]:""===m&&""===p?he.formatPX(g):20===c?"2px":"",[e.localizeString(a.PADDING_RIGHT)]:"right"===m&&c>20?he.formatPX(g):"",[a.PADDING_TOP]:e.paddingTop>0?he.formatPX(e.paddingTop):""}),3===d&&e.android("layout_columnSpan","2");if("DT"===e.tagName&&""===p)e.android("layout_columnSpan",""+d);else{""!==p?Object.assign(b.android,{src:`@drawable/${p}`,[a.MARGIN_TOP]:u>0?he.formatPX(u):"",scaleType:r||"right"!==m?"fitStart":"fitEnd"}):b.android.text=i.ordinal;const t=this.application.createNode(ce.createElement(e.actualParent?e.actualParent.element:null));t.tagName=`${e.tagName}_ORDINAL`,t.inherit(e,"textStyle"),""!==i.ordinal&&!/[A-Za-z\d]+\./.test(i.ordinal)&&t.toInt("fontSize")>12&&t.css("fontSize","12px"),this.application.processing.cache.append(t,!1);const l=s.renderNodeStatic(""!==p?o.IMAGE:""!==i.ordinal?o.TEXT:o.SPACE,n.renderDepth+1,b,"wrap_content","wrap_content",t);s.prependBefore(e.id,l)}}d>0&&(e.android("layout_width","0px"),e.android("layout_columnWeight","1"));const u=le.linearX(e.children);if(u||le.linearY(e.children)){const o=new se(n,e,t.LINEAR,u?8:16,e.length,e.children);r=this.application.renderNode(o)}}return{output:r,next:""!==r}}postBaseLayout(t){super.postBaseLayout(t);const e=t.android("columnCount");for(let n=0;n<t.renderChildren.length;n++){const i=t.renderChildren[n],r=t.renderChildren[n-1];let s=0;if(r){const t=he.convertInt(r.android(a.MARGIN_BOTTOM));t>0&&(s+=t,r.delete("android",a.MARGIN_BOTTOM),r.modifyBox(8,null))}const l=he.convertInt(i.android(a.MARGIN_TOP));if(l>0&&(s+=l,i.delete("android",a.MARGIN_TOP),i.modifyBox(2,null)),s>0){const t=P({android:{layout_columnSpan:""+e}}),n=this.application.controllerHandler.renderNodeStatic(o.SPACE,i.renderDepth,t,"match_parent",he.formatPX(s));this.application.controllerHandler.prependBefore(i.id,n,0)}}}postProcedure(t){t.blockStatic&&t.inlineWidth&&t.android("layout_width","match_parent")}}class pe extends squared.base.extensions.Relative{}var me=squared.base.Layout;const ge=squared.base.lib.constant,fe=squared.base.lib.enumeration,ye=squared.lib.util;class be extends squared.base.extensions.Sprite{processNode(e,n){const i=e.data(ge.EXT_NAME.SPRITE,"mainData");let a,r="";if(i&&i.uri&&i.position){(a=this.application.createNode(e.element)).inherit(e,"initial","base","styleMap"),a.setControlType(o.FRAME),a.exclude({procedure:fe.NODE_PROCEDURE.CUSTOMIZATION,resource:fe.NODE_RESOURCE.IMAGE_SOURCE}),n.appendTry(e,a),this.application.processing.cache.append(a,!1),e.setControlType(o.IMAGE,t.IMAGE),e.exclude({procedure:fe.NODE_PROCEDURE.AUTOFIT,resource:fe.NODE_RESOURCE.FONT_STYLE|fe.NODE_RESOURCE.BOX_STYLE}),e.cssApply({position:"static",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"inline-block",width:ye.formatPX(i.width),height:ye.formatPX(i.height),marginTop:ye.formatPX(i.position.y),marginRight:"0px",marginBottom:"0px",marginLeft:ye.formatPX(i.position.x),paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px",backgroundPositionX:"0px",backgroundPositionY:"0px",backgroundColor:"transparent"}),e.unsetCache(),e.android("src",`@drawable/${v.addImage({mdpi:i.uri})}`),e.parent=a;const s=new me(n,a,t.FRAME,2048,1,a.children);r=this.application.renderLayout(s)}return{output:r,parent:a,complete:!0}}}class Te extends squared.base.extensions.Substitute{processNode(e,n){return e.containerType=e.blockStatic?t.BLOCK:t.INLINE,super.processNode(e,n)}postProcedure(t){const e=P(t.element?this.options[t.element.id]:void 0);t.apply(v.formatOptions(e,this.application.extensionManager.optionValueAsBoolean(n.RESOURCE_STRINGS,"numberResourceValue")))}}var Ae=squared.base.Layout;const Ee=squared.base.lib.constant,ve=(squared,squared.lib.util);class Se extends squared.base.extensions.Table{processNode(e,n){super.processNode(e,n);const o=e.data(Ee.EXT_NAME.TABLE,"mainData");let i="";if(o){if(o.columnCount>1){let t=!!e.data(Ee.EXT_NAME.TABLE,"expand");if(e.each(e=>{if("0px"===e.css("width"))e.android("layout_width","0px"),e.android("layout_columnWeight",""+(e.element.colSpan||1));else{const n=e.data(Ee.EXT_NAME.TABLE,"expand"),o=!!e.data(Ee.EXT_NAME.TABLE,"exceed"),i=!!e.data(Ee.EXT_NAME.TABLE,"downsized");if("boolean"==typeof n)if(n){const n=ve.convertFloat(e.data(Ee.EXT_NAME.TABLE,"percent"))/100;n>0&&(e.android("layout_width","0px"),e.android("layout_columnWeight",ve.trimEnd(n.toPrecision(3),"0")),t=!0)}else e.android("layout_columnWeight","0");i&&(o?(e.android("layout_width","0px"),e.android("layout_columnWeight","0.01")):(e.textElement&&!/[\s\n\-]/.test(e.textContent.trim())&&e.android("maxLines","1"),e.has("width")&&e.toInt("width")<e.bounds.width&&e.android("layout_width",ve.formatPX(e.bounds.width))))}}),t&&!e.hasWidth){let t=0;e.ascend().some(e=>!!e.hasWidth&&(t=e.bounds.width,!0)),e.bounds.width>=t?e.android("layout_width","match_parent"):e.css("width",ve.formatPX(e.bounds.width),!0)}}const a=new Ae(n,e,t.GRID,4,e.length,e.children);a.rowCount=o.rowCount,a.columnCount=o.columnCount,i=this.application.renderNode(a)}return{output:i,complete:""!==i}}processChild(t,e){const n=ve.convertInt(t.data(Ee.EXT_NAME.TABLE,"rowSpan")),o=ve.convertInt(t.data(Ee.EXT_NAME.TABLE,"colSpan")),i=ve.convertInt(t.data(Ee.EXT_NAME.TABLE,"spaceSpan"));return n>1&&t.android("layout_rowSpan",""+n),o>1&&t.android("layout_columnSpan",""+o),t.mergeGravity("layout_gravity","fill"),i>0&&this.application.controllerHandler.appendAfter(t.id,this.application.controllerHandler.renderSpace(e.renderDepth+1,"wrap_content","wrap_content",i)),{output:""}}postProcedure(t){const e=ve.convertInt(t.android("layout_width"));if(e>0&&(t.bounds.width>e&&t.android("layout_width",ve.formatPX(t.bounds.width)),e>0&&"auto"===t.cssInitial("width")&&t.renderChildren.every(t=>t.inlineWidth)))for(const e of t.renderChildren)e.android("layout_width","0px"),e.android("layout_columnWeight","1")}}var we=squared.base.Layout;const _e=squared.base.lib.constant;squared;class Re extends squared.base.extensions.VerticalAlign{processNode(e,n){super.processNode(e,n);let o="";if(e.data(_e.EXT_NAME.VERTICAL_ALIGN,"mainData")){const i=new we(n,e,t.RELATIVE,8,e.length,e.children);i.floated=i.getFloated(!0),o=this.application.renderNode(i)}return{output:o}}}class xe extends squared.base.extensions.WhiteSpace{constructor(){super(...arguments),this.eventOnly=!0}}var Ie=squared.base.Layout;const Ne=squared.base.lib.enumeration,Ce=squared.lib.util;class Pe extends squared.base.Extension{constructor(){super(...arguments),this.options={circlePosition:!1}}condition(t){return this.included(t.element)&&t.length>0}processNode(e,n){e.exclude({procedure:Ne.NODE_PROCEDURE.CONSTRAINT});const o=new Ie(n,e,t.CONSTRAINT,32,e.length,e.children);return{output:this.application.renderNode(o)}}afterConstraints(){const t=this.application.controllerHandler;for(const e of this.subscribers){const n=new Map;if(e.each(t=>{const o=[];Ce.withinFraction(t.linear.left,e.box.left)&&o.push("left"),Ce.withinFraction(t.linear.top,e.box.top)&&o.push("top"),n.set(t,o)}),this.options.circlePosition){let o,i=!1;for(const t of n.values())if(2===t.length){i=!0;break}for(const[a,s]of n.entries())if(i){if(2===s.length){a.anchor("left","parent"),a.anchor("top","parent"),o=a;break}}else if(1===s.length){s.includes("left")?(a.anchor("left","parent"),t.addGuideline(a,e,r.VERTICAL),o=a):(a.anchor("top","parent"),t.addGuideline(a,e,r.HORIZONTAL),o=a);break}void 0===o&&(o=e.item(0),t.addGuideline(o,e)),e.each(t=>{if(o&&t!==o){const e=t.center,n=o.center,i=Math.abs(e.x-n.x),a=Math.abs(e.y-n.y),r=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(a,2)));let s=Math.round(Math.atan(Math.min(i,a)/Math.max(i,a))*(180/Math.PI));e.y>n.y?e.x>n.x?i>a?s+=90:s=180-s:i>a?s=270-s:s+=180:e.y<n.y?n.x>e.x?i>a?s+=270:s=360-s:i>a&&(s=90-s):s=e.x>n.x?90:270,t.app("layout_constraintCircle",o.documentId),t.app("layout_constraintCircleRadius",Ce.formatPX(r)),t.app("layout_constraintCircleAngle",""+s)}})}else for(const[o,i]of n.entries())i.includes("left")&&o.anchor("left","parent"),i.includes("top")&&o.anchor("top","parent"),i.length<2&&t.addGuideline(o,e)}}}var Oe=squared.base.Layout,Le=squared.base.NodeList;const Me=squared.base.lib.enumeration,De=squared.lib.dom,Be=squared.lib.util;function ke(t){return t.filter(e=>!e.pageFlow&&("fixed"===e.position||e.absoluteParent===t))}function Xe(t,e){return t.some(t=>t<e)}function Ve(t,e,n){if(Be.isPercent(e)){const o=t.actualParent;if(o){const t=parseInt(e)-n/o.box.width*100;if(t>0)return Be.formatPercent(t)}}else if(Be.isUnit(e)){const t=parseInt(e)-n;if(t>0)return Be.formatPX(t)}return e}class Ge extends squared.base.Extension{condition(t){const e=ke(t);if(e.length){const n=[],o=[],i=[],a=[];for(const t of e)t.has("top")&&t.top>=0&&n.push(t.top),t.has("right")&&t.right>=0&&o.push(t.right),t.has("bottom")&&t.bottom>=0&&i.push(t.bottom),t.has("left")&&t.left>=0&&a.push(t.left);return Xe(n,t.paddingTop+(t.documentBody?t.marginTop:0))||Xe(o,t.paddingRight+(t.documentBody?t.marginRight:0))||Xe(i,t.paddingBottom+(t.documentBody?t.marginBottom:0))||Xe(a,t.paddingLeft+(t.documentBody?t.marginLeft:0))||t.documentBody&&o.length>0&&t.hasWidth}return!1}processNode(e,n){const o=this.application.createNode(De.createElement(e.element,e.block));o.inherit(e,"initial","base"),o.exclude({procedure:Me.NODE_PROCEDURE.NONPOSITIONAL,resource:Me.NODE_RESOURCE.BOX_STYLE|Me.NODE_RESOURCE.ASSET});const[i,a]=Be.partitionArray(ke(e),t=>t.absoluteParent===e);i.push(o);const r=[...Be.sortArray(i,!0,"zIndex","id"),...Be.sortArray(a,!0,"zIndex","id")];for(const t of e.duplicate())r.includes(t)||(t.parent=o);o.parent=e,this.application.processing.cache.append(o);for(let t=0;t<r.length;t++)r[t].siblingIndex=t;e.sort(Le.siblingIndex),e.resetBox(480|(e.documentBody?30:0),o,!0),e.companion=o;const s=new Oe(n,e,t.CONSTRAINT,32,r.length,r);return{output:this.application.renderLayout(s)}}postBaseLayout(t){if(t.hasWidth&&t.companion){const e=t.cssInitial("width",!0),n=t.cssInitial("minWidth",!0);if(t.documentBody&&t.some(t=>t.has("right")))t.cssApply({width:"auto",minWidth:"auto"},!0),t.companion.cssApply({width:e,minWidth:n},!0),t.android("layout_width","match_parent");else{const o=t.paddingLeft+t.paddingRight+(t.documentBody?t.marginLeft+t.marginRight:0);t.companion.cssApply({width:Ve(t,e,o),minWidth:Ve(t,n,o)},!0)}}}}var Fe=squared.base.Layout;squared;class He extends squared.base.Extension{condition(t){return!t.textElement&&!t.imageElement&&!t.svgElement&&(t.has("maxWidth")||t.has("maxHeight"))}processNode(e,n){const o=this.application.controllerHandler.createNodeWrapper(e,n);if(o.css("display","block",!0),e.has("maxWidth")){const t=e.css("maxWidth");o.cssApply({width:t,maxWidth:t},!0)}if(e.has("maxHeight")){const t=e.css("maxHeight");o.cssApply({height:t,maxHeight:t},!0)}const i=new Fe(n,o,t.FRAME,2048,1,o.children);return{output:"",parent:o,renderAs:o,outputAs:this.application.renderLayout(i)}}}var ze=squared.base.Layout;squared;const We=squared.lib.util;class qe extends squared.base.Extension{condition(t,e){return e.layoutVertical&&!t.documentBody&&t.pageFlow&&!t.imageElement&&t.has("width",32,{not:"100%"})}processNode(e,n){const o=this.application.controllerHandler.createNodeWrapper(e,n);o.android("layout_width","match_parent"),o.android("layout_height","wrap_content"),e.has("height",2)||e.css("height",We.formatPX(e.bounds.height),!0);const i=new ze(n,o,t.CONSTRAINT,2048,1,o.children);return{output:"",parent:o,renderAs:o,outputAs:this.application.renderLayout(i)}}}var $e=squared.base.NodeList;squared;const Ue=squared.lib.util,Ye=squared.lib.xml,je="RadioGroup";class Ke extends squared.base.Extension{condition(t){const e=t.element;return"INPUT"===e.tagName&&"radio"===e.type&&Ue.hasValue(e.name)}processNode(e,n){const i=Ue.hasValue(e.dataset.target)&&!Ue.hasValue(e.dataset.use),a=e.element,s=[];let l;const d=n.flatMap(t=>{t.renderAs&&(t.renderAs===e?l=t:s.push(t),t=t.renderAs);const n=t.element;return"radio"!==n.type||n.name!==a.name||t.rendered?null:t});if(d.length>1){const a=this.application.controllerHandler.createNodeGroup(e,d,n,l);a.alignmentType|=8|(n.length!==d.length?128:0),n.layoutConstraint&&(a.companion=l||e),a.setControlType(je,t.INLINE),a.inherit(e,"alignment"),a.css("verticalAlign","text-bottom"),a.each((n,i)=>{n!==e&&n.setControlType(o.RADIO,t.RADIO),n.positioned=!0,n.parent=a,n.siblingIndex=i});for(const t of s)t.hide();a.android("orientation",$e.linearX(d)?r.HORIZONTAL:r.VERTICAL),a.render(i?a:n),this.subscribers.add(a);const c=this.application.controllerHandler.getEnclosingTag(je,a.id,i?-1:a.renderDepth,Ye.formatPlaceholder(a.id));return{output:"",complete:!0,parent:a,renderAs:a,outputAs:c}}return{output:""}}postBaseLayout(t){t.some(e=>!!e.element.checked&&(t.android("checkedButton",e.documentId),!0))}}const Ze=squared.base.lib.enumeration,Je=squared.lib.dom,Qe=squared.lib.util,tn=squared.lib.xml,en="HorizontalScrollView",nn="android.support.v4.widget.NestedScrollView";class on extends squared.base.Extension{condition(t){return t.length>0&&(t.overflowX||t.overflowY||this.included(t.element)&&(t.hasWidth||t.hasHeight))}processNode(e,n){const o=Qe.hasValue(e.dataset.target)&&!Qe.hasValue(e.dataset.use),i=[],a=[];let r="";if(e.overflowX&&e.overflowY)i.push(en,nn);else if(e.overflowX)i.push(en);else if(e.overflowY)i.push(nn);else{let t=0;e.hasWidth&&(t|=8,i.push(en)),e.hasHeight&&(t|=16,i.push(nn)),e.overflow=t}for(let o=0;o<i.length;o++){const r=this.application.createNode(0===o?e.element:Je.createElement(e.actualParent?e.actualParent.element:null,e.block));r.setControlType(i[o],t.BLOCK),0===o?(r.inherit(e,"initial","base","styleMap"),n.appendTry(e,r)):(r.inherit(e,"base"),r.exclude({resource:Ze.NODE_RESOURCE.BOX_STYLE})),r.exclude({resource:Ze.NODE_RESOURCE.ASSET}),r.resetBox(480),a.push(r)}for(let t=0;t<a.length;t++){const i=a[t],s=a[t-1];switch(i.controlName){case nn:{const t=e.css("height");e.android("layout_width","wrap_content"),i.android("layout_height",e.convertPX(t,!1)),i.cssApply({overflow:"scroll visible",overflowX:"visible",overflowY:"scroll"});break}case en:{const t=e.css("width");i.android("layout_width",e.convertPX(t)),e.android("layout_height","wrap_content"),i.cssApply({overflow:"visible scroll",overflowX:"scroll",overflowY:"visible"});break}}i.unsetCache(),this.application.processing.cache.append(i),i.render(0===t?o?i:n:s);const l=this.application.controllerHandler.getEnclosingTag(i.controlName,i.id,o?0===t?-1:0:i.renderDepth,tn.formatPlaceholder(i.id));r=0===t?l:tn.replacePlaceholder(r,s.id,l)}2===a.length?(e.android("layout_width","wrap_content"),e.android("layout_height","wrap_content")):e.overflowX?(e.android("layout_width","wrap_content"),e.android("layout_height","match_parent")):(e.android("layout_width","match_parent"),e.android("layout_height","wrap_content"));const s=a[a.length-1];return e.parent=s,n.layoutConstraint&&(s.companion=e),e.overflow=0,e.resetBox(30),e.exclude({resource:Ze.NODE_RESOURCE.BOX_STYLE}),{output:"",parent:e.parent,renderAs:a[0],outputAs:r}}}var an='<?xml version="1.0" encoding="utf-8"?>\n<layer-list xmlns:android="http://schemas.android.com/apk/res/android">\n<<A>>\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<solid android:color="@color/{&color}" />\n\t\t</shape>\n\t</item>\n<<A>>\n<<B>>\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" android:visible="{~visible}" />\n\t\t</shape>\n\t</item>\n<<B>>\n<<C>>\n\t<item android:drawable="@drawable/{&src}" />\n<<C>>\n<<D>>\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:drawable="@drawable/{~src}" android:width="{~width}" android:height="{~height}">\n\t<<rotate>>\n\t\t<rotate android:drawable="@drawable/{&src}" android:fromDegrees="{~fromDegrees}" android:toDegrees="{~toDegrees}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:visible="{~visible}" />\n\t<<rotate>>\n\t<<bitmap>>\n\t\t<bitmap android:src="@drawable/{&src}" android:gravity="{~gravity}" android:tileMode="{~tileMode}" android:tileModeX="{~tileModeX}" android:tileModeY="{~tileModeY}" />\n\t<<bitmap>>\n\t</item>\n<<D>>\n<<E>>\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:drawable="@drawable/{&src}" android:width="{~width}" android:height="{~height}" />\n<<E>>\n<<F>>\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}">\n\t\t<shape android:shape="rectangle">\n\t\t<<stroke>>\n\t\t\t<stroke android:width="{&width}" {~borderStyle} />\n\t\t<<stroke>>\n\t\t<<corners>>\n\t\t\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomRightRadius="{~bottomRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" />\n\t\t<<corners>>\n\t\t</shape>\n\t</item>\n<<F>>\n</layer-list>',rn='<?xml version="1.0" encoding="utf-8"?>\n<vector xmlns:android="http://schemas.android.com/apk/res/android" {~namespace} android:name="{~name}" android:width="{&width}" android:height="{&height}" android:viewportWidth="{&viewportWidth}" android:viewportHeight="{&viewportHeight}" android:alpha="{~alpha}">\n<<A>>\n\t##region-start##\n\t<group android:name="{~groupName}" android:translateX="{~translateX}" android:translateY="{~translateY}">\n\t##region-start##\n\t\t<<clipRegion>>\n\t\t<clip-path android:name="{~clipName}" android:pathData="{&clipPathData}" />\n\t\t<<clipRegion>>\n\t\t##path-start##\n\t\t<group android:name="{~groupName}" android:rotation="{~rotation}" android:scaleX="{~scaleX}" android:scaleY="{~scaleY}" android:translateX="{~translateX}" android:translateY="{~translateY}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}">\n\t\t##path-start##\n\t\t<<clipPath>>\n\t\t\t<clip-path android:name="{~clipName}" android:pathData="{&clipPathData}" />\n\t\t<<clipPath>>\n\t\t<<BB>>\n\t\t\t##render-start##\n\t\t\t<group android:name="{~groupName}" android:rotation="{~rotation}" android:scaleX="{~scaleX}" android:scaleY="{~scaleY}" android:translateX="{~translateX}" android:translateY="{~translateY}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}">\n\t\t\t##render-start##\n\t\t\t<<clipGroup>>\n\t\t\t<clip-path android:name="{~clipName}" android:pathData="{&clipPathData}" />\n\t\t\t<<clipGroup>>\n\t\t\t<<CCC>>\n\t\t\t\t<<clipElement>>\n\t\t\t\t<clip-path android:name="{~clipName}" android:pathData="{&clipPathData}" />\n\t\t\t\t<<clipElement>>\n\t\t\t\t<path android:name="{~name}" android:fillColor="{~fill}" android:fillAlpha="{~fillOpacity}" android:fillType="{~fillRule}" android:strokeColor="{~stroke}" android:strokeAlpha="{~strokeOpacity}" android:strokeWidth="{~strokeWidth}" android:strokeLineCap="{~strokeLinecap}" android:strokeLineJoin="{~strokeLinejoin}" android:strokeMiterLimit="{~strokeMiterlimit}" android:trimPathStart="{~trimPathStart}" android:trimPathEnd="{~trimPathEnd}" android:trimPathOffset="{~trimPathOffset}" android:pathData="{&value}">\n\t\t\t\t<<fillPattern>>\n\t\t\t\t\t<aapt:attr name="android:fillColor">\n\t\t\t\t\t<<gradients>>\n\t\t\t\t\t\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:startX="{~startX}" android:startY="{~startY}" android:endX="{~endX}" android:endY="{~endY}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" android:tileMode="{~tileMode}">\n\t\t\t\t\t\t<<colorStops>>\n\t\t\t\t\t\t\t<item android:offset="{&offset}" android:color="{&color}" />\n\t\t\t\t\t\t<<colorStops>>\n\t\t\t\t\t\t</gradient>\n\t\t\t\t\t<<gradients>>\n\t\t\t\t\t</aapt:attr>\n\t\t\t\t<<fillPattern>>\n\t\t\t\t</path>\n\t\t\t<<CCC>>\n\t\t\t##render-end##\n\t\t\t</group>\n\t\t\t##render-end##\n\t\t\t<<DDD>>\n\t\t\t!!{&templateName}!!\n\t\t\t<<DDD>>\n\t\t<<BB>>\n\t\t##path-end##\n\t\t</group>\n\t\t##path-end##\n\t##region-end##\n\t</group>\n\t##region-end##\n<<A>>\n<<B>>\n!!{&templateName}!!\n<<B>>\n</vector>';const sn=squared.svg&&squared.svg.SvgBuild,ln=squared.base.lib.enumeration,dn=squared.lib.color,cn=squared.lib.dom,hn=squared.lib.util,un=squared.lib.xml,pn={LAYER_LIST:un.parseTemplate(an),SHAPE:un.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">\n<<A>>\n\t<stroke android:width="{&width}" {~borderStyle} />\n<<A>>\n<<B>>\n\t<solid android:color="@color/{&color}" />\n<<B>>\n<<C>>\n\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" android:bottomRightRadius="{~bottomRightRadius}" />\n<<C>>\n<<D>>\n\t<gradient android:type="{&type}" android:startColor="@color/{~startColor}" android:endColor="@color/{~endColor}" android:centerColor="@color/{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" />\n<<D>>\n</shape>'),VECTOR:un.parseTemplate(rn)},mn=v.STORED;function gn(t,e=-1,n=!1){const o={solid:`android:color="@color/${t.color}"`,groove:"",ridge:""},i=t.style,a=parseInt(t.width),r=`${o.solid} android:dashWidth="${a}px" android:dashGap="${a}px"`;Object.assign(o,{double:o.solid,inset:o.solid,outset:o.solid,dashed:r,dotted:r});const s="groove"===i;if(a>1&&(s||"ridge"===i)){const a=dn.parseRGBA(t.color);if(a){const t=dn.reduceRGBA(a.valueRGBA,s||"#000000"===a.valueRGB?.5:-.5);if(t){const r=v.addColor(t);if(""!==r){const t=`android:color="@color/${r}"`;if(0!==e&&2!==e||(n=!n),"#000000"!==a.valueRGB||(!s||1!==e&&3!==e)&&(s||0!==e&&2!==e)||(n=!n),n)switch(e){case 0:o[i]=t;break;case 1:case 2:o[i]=o.solid;break;case 3:o[i]=t}else switch(e){case 0:o[i]=o.solid;break;case 1:case 2:o[i]=t;break;case 3:o[i]=o.solid}}}}}return o[i]||o.solid}function fn(t,e,n=-1,o=!1,i=!1){switch(e){case"stroke":if(t.border&&v.isBorderVisible(t.border)){if(!o||i)return[{width:t.border.width,borderStyle:gn(t.border,i?n:-1)}];if(o)return[{width:hn.formatPX(Math.ceil(parseInt(t.border.width)/2)),borderStyle:gn(t.border,n,!0)}]}return!1;case"backgroundColor":return!!hn.hasValue(t.backgroundColor)&&[{color:t.backgroundColor}];case"radius":if(t.borderRadius)if(1===t.borderRadius.length){if("0px"!==t.borderRadius[0])return[{radius:t.borderRadius[0]}]}else if(t.borderRadius.length>1){const e={};for(let n=0;n<t.borderRadius.length;n++)e[`${["topLeft","topRight","bottomRight","bottomLeft"][n]}Radius`]=t.borderRadius[n];return[e]}return!1}return!1}function yn(t,e,n,o,i,a,r){const s=parseInt(e.width),l=Math.floor(s/3),d=2===s%3?1:0,c=l+d,h=l+d;let u=`${hn.formatPX(s-l)}`,p=`-${u}`;t.F.push({top:n?"":p,right:o?"":p,bottom:i?"":p,left:a?"":p,stroke:[{width:hn.formatPX(c),borderStyle:gn(e)}],corners:r}),3===s&&(p=`-${u=`${hn.formatPX(s)}`}`),t.F.push({top:n?u:p,right:o?u:p,bottom:i?u:p,left:a?u:p,stroke:[{width:hn.formatPX(h),borderStyle:gn(e)}],corners:r})}function bn(t,e,n){const o="initial"===t||"unset"===t;return-1===t.indexOf(" ")&&-1!==e.indexOf(" ")?/^[a-z]+$/.test(t)?`${o?n:t} 0px`:`${n} ${t}`:o?"0px":t}class Tn extends squared.base.Extension{constructor(){super(...arguments),this.options={autoSizeBackgroundImage:!0},this.eventOnly=!0}afterResources(){for(const n of this.application.processing.cache.duplicate().sort(t=>t.visible?0:-1)){const o=n.data(v.KEY_NAME,"boxStyle");if(o&&!n.hasBit("excludeResource",ln.NODE_RESOURCE.BOX_STYLE)){o.backgroundColor=v.addColor(o.backgroundColor);const i=hn.replaceMap(o.backgroundRepeat.split(","),t=>t.trim()),a=hn.replaceMap(o.backgroundSize.split(","),t=>t.trim()),r=hn.replaceMap(o.backgroundPositionX.split(","),t=>t.trim()),s=hn.replaceMap(o.backgroundPositionY.split(","),t=>t.trim()),l=[],d=[],c=[],h=[],u=[];if(!n.hasBit("excludeResource",ln.NODE_RESOURCE.IMAGE_SOURCE))if(o.backgroundImage)for(let t=0;t<o.backgroundImage.length;t++){const e=o.backgroundImage[t],n=r[t]||r[t-1],i=s[t]||s[t-1];l[t]=v.addImageUrl(e),c[t]=v.ASSETS.images.get(cn.cssResolveUrl(e)),u[t]=`${bn(n,i,"left")} ${bn(i,n,"top")}`}else if(o.backgroundGradient){const t=v.createBackgroundGradient(n,o.backgroundGradient);t.length&&h.push(t[0])}const p=n.companion;if(p&&!p.visible&&p.htmlElement&&!cn.cssFromParent(p.element,"backgroundColor")){const t=p.data(v.KEY_NAME,"boxStyle"),e=v.addColor(t.backgroundColor);""!==e&&(o.backgroundColor=e)}const m=v.isBorderVisible(o.borderTop)||v.isBorderVisible(o.borderRight)||v.isBorderVisible(o.borderBottom)||v.isBorderVisible(o.borderLeft)||void 0!==o.borderRadius;if(m||l.length||h.length){const r=[o.borderTop,o.borderRight,o.borderBottom,o.borderLeft],s=[],p=new Set,g=new Set;let f;for(let t=0;t<r.length;t++){const e=r[t];s[t]=v.isBorderVisible(e),s[t]&&(e.color=v.addColor(e.color),p.add(gn(e)),g.add(e.width),f=e)}const y=[],b=[];let T,A="";for(let e=0;e<l.length;e++){const o=c[e],r=cn.getBackgroundPosition(u[e],n.bounds,n.fontSize);let s=(()=>"center"===r.horizontal&&"center"===r.vertical?"center":`${"center"===r.horizontal?"center_horizontal":r.horizontal}|${"center"===r.vertical?"center_vertical":r.vertical}`)(),d="",h="",p="",g="",f="";const T=!o||o.width<n.bounds.width||o.height<n.bounds.height;switch(i[e]){case"repeat-x":T&&(g="repeat");break;case"repeat-y":T&&(f="repeat");break;case"no-repeat":p="disabled";break;case"repeat":T&&(p="repeat")}if(""!==s&&o&&o.width>0&&o.height>0&&0===n.renderChildren.length){if("repeat"===f){let t=0;if(o.width<(t=n.hasWidth?n.width+n.paddingLeft+n.paddingRight:n.bounds.width-(n.borderLeftWidth+n.borderRightWidth))){const e=hn.convertInt(n.android("layout_width"));-1!==s.indexOf("left")?(r.right=t-o.width,n.hasWidth&&t>e&&n.android("layout_width",hn.formatPX(n.bounds.width))):-1!==s.indexOf("right")?(r.left=t-o.width,n.hasWidth&&t>e&&n.android("layout_width",hn.formatPX(n.bounds.width))):"center"!==s&&-1===s.indexOf("center_horizontal")||(r.left=Math.floor((t-o.width)/2),d=hn.formatPX(o.width),n.hasWidth&&t>e&&n.android("layout_width",hn.formatPX(n.bounds.width)))}}if("repeat"===g){let t=0;if(o.height<(t=n.hasHeight?n.height+n.paddingTop+n.paddingBottom:n.bounds.height-(n.borderTopWidth+n.borderBottomWidth))){const e=hn.convertInt(n.android("layout_height"));-1!==s.indexOf("top")?(r.bottom=t-o.height,!n.hasHeight&&t>e&&n.android("layout_height",hn.formatPX(n.bounds.height))):-1!==s.indexOf("bottom")?(r.top=t-o.height,!n.hasHeight&&t>e&&n.android("layout_height",hn.formatPX(n.bounds.height))):"center"!==s&&-1===s.indexOf("center_vertical")||(r.top=Math.floor((t-o.height)/2),h=hn.formatPX(o.height),!n.hasHeight&&t>e&&n.android("layout_height",hn.formatPX(n.bounds.height)))}}}if(l.length)if(n.of(t.IMAGE,2048)&&1===l.length){r.left>0&&n.modifyBox(16,r.left),r.top>0&&n.modifyBox(2,r.top);let t="";switch(s){case"left|top":case"left|center_vertical":case"left|bottom":t="fitStart";break;case"right|top":case"right|center_vertical":case"right|bottom":t="fitEnd";break;case"center":case"center_horizontal|top":case"center_horizontal|bottom":t="center"}if(n.android("scaleType",t),n.android("src",`@drawable/${l[0]}`),!m)return}else{const t={top:0!==r.top?hn.formatPX(r.top):"",right:0!==r.right?hn.formatPX(r.right):"",bottom:0!==r.bottom?hn.formatPX(r.bottom):"",left:0!==r.left?hn.formatPX(r.left):"",width:d,height:h,bitmap:[]};if("auto"!==a[e]&&"auto auto"!==a[e]&&"initial"!==a[e])switch(a[e]){case"cover":case"contain":case"100% 100%":d="",h="",p="",g="",f="",s="";break;default:const o=a[e].split(" ");"100%"===o[0]?g="":"100%"===o[1]&&(f="");for(let i=0;i<o.length;i++)"auto"!==o[i]&&"100%"!==o[i]&&(t[0===i?"width":"height"]=n.convertPX(a[e],0===i,!1))}""!==s||""!==p||""!==g||""!==f?(t.bitmap.push({src:l[e],gravity:s,tileMode:p,tileModeX:g,tileModeY:f}),b.push(t)):(t.src=l[e],y.push(t))}}b.sort((t,e)=>{const n=t.bitmap[0],o=e.bitmap[0];return"repeat"!==n.tileModeX&&"repeat"!==n.tileModeY&&"repeat"!==n.tileMode?1:"repeat"!==o.tileModeX&&"repeat"!==o.tileModeY&&"repeat"!==o.tileMode?-1:"repeat"===n.tileMode?-1:"repeat"===o.tileMode?1:"repeat"===o.tileModeX||"repeat"===o.tileModeY?1:-1});const E=fn(o,"backgroundColor")||[],S=fn(o,"radius"),w=sn&&h.length>0&&h.some(t=>t.colorStops.length>0);if(w){const t=n.bounds.width,e=n.bounds.height,o={namespace:V("aapt"),width:hn.formatPX(t),height:hn.formatPX(e),viewportWidth:""+t,viewportHeight:""+e,alpha:"",A:[{region:[[]],clipRegion:!1,path:[[]],clipPath:!1,BB:[{render:[[]],CCC:[{value:sn.drawRect(t,e),clipElement:!1,fillPattern:[{gradients:h}]}],DDD:!1}]}],B:!1},i=un.createTemplate(pn.VECTOR,o,!0);let a=v.getStoredName("drawables",i);""===a&&(a=`${n.tagName.toLowerCase()}_${n.controlId}_gradient`,mn.drawables.set(a,i)),d.push({src:a})}let _;const R=o.border;if(R&&!("double"===R.style&&parseInt(R.width)>2||("groove"===R.style||"ridge"===R.style)&&parseInt(R.width)>1)){const t=fn(o,"stroke")||[];0===l.length&&h.length<=1&&!w?(S&&void 0===S[0].radius&&(S[0].radius="1px"),_=pn.SHAPE,T={A:t,B:E,C:S,D:!!h.length&&h}):(_=pn.LAYER_LIST,T={A:E,B:!(w||!h.length)&&h,C:d,D:!!b.length&&b,E:!!y.length&&y,F:!(!v.isBorderVisible(R)&&!S)&&[{stroke:t,corners:S}]})}else{_=pn.LAYER_LIST,T={A:E,B:!(w||!h.length)&&h,C:d,D:!!b.length&&b,E:!!y.length&&y,F:[]};const t=s[1]&&s[2];function e(e){return e+(t?0:1===e?1:2)}if(1===p.size&&1===g.size&&f&&"groove"!==f.style&&"ridge"!==f.style){const t=parseInt(f.width);if("double"===f.style&&t>2)yn(T,f,s[0],s[1],s[2],s[3],S);else if(T.F){const n=`-${hn.formatPX(e(t))}`,o=!s[0]&&!s[3],i=!s[0]&&s[1]&&s[2]&&s[3],a=s[0]&&s[1]&&s[2]&&!s[3];T.F.push({top:s[0]?"":n,right:s[1]?s[3]||o||a?"":f.width:n,bottom:s[2]?s[0]||o||i?"":f.width:n,left:s[3]?"":n,stroke:fn({border:f},"stroke"),corners:S})}}else for(let n=0;n<r.length;n++)if(s[n]){const o=r[n],i=parseInt(o.width);if("double"===o.style&&i>2)yn(T,o,0===n,1===n,2===n,3===n,S);else if(T.F){const a=i>1&&("groove"===o.style||"ridge"===o.style),r=e(a?Math.ceil(i/2):i),s=!t&&"1px"===o.width;let l=`-${hn.formatPX(r)}`,d=`-${hn.formatPX(r+(t?1:0))}`;T.F.push({top:0===n?"":d,right:1===n?s?o.width:"":l,bottom:2===n?s?o.width:"":l,left:3===n?"":l,stroke:fn({border:o},"stroke",n,a),corners:S}),a&&(l=`-${hn.formatPX(e(i))}`,d=`-${hn.formatPX(i+(t?1:0))}`,T.F.unshift({top:0===n?"":d,right:1===n?s?o.width:"":l,bottom:2===n?s?o.width:"":l,left:3===n?"":l,stroke:fn({border:o},"stroke",n,!0,!0),corners:!1}))}}}if(_){const t=un.createTemplate(_,T);""===(A=v.getStoredName("drawables",t))&&(A=`${n.tagName.toLowerCase()}_${n.controlId}`,mn.drawables.set(A,t))}if(n.android("background",`@drawable/${A}`,!1),l.length&&(n.data("RESOURCE","backgroundImage",!0),this.options.autoSizeBackgroundImage&&!n.documentRoot&&!n.imageElement&&!n.svgElement&&n.renderParent&&!n.renderParent.tableElement&&!n.hasBit("excludeProcedure",ln.NODE_PROCEDURE.AUTOFIT))){const e={width:0,height:0};for(const t of c)t&&(e.width=Math.max(e.width,t.width),e.height=Math.max(e.height,t.height));if(0===e.width){let t=n;for(;t&&!t.documentBody&&(t.hasWidth&&(e.width=t.bounds.width),t.hasHeight&&(e.height=t.bounds.height),t.pageFlow&&!(e.width>0&&e.height>0));)t=t.documentParent}if(!n.has("width",2)){const o=n.bounds.width+(n.is(t.LINE)?0:n.borderLeftWidth+n.borderRightWidth);(0===e.width||o>0&&o<e.width)&&n.css("width",hn.formatPX(o),!0)}if(!n.has("height",2)){const o=n.bounds.height+(n.is(t.LINE)?0:n.borderTopWidth+n.borderBottomWidth);(0===e.height||o>0&&o<e.height)&&(n.css("height",hn.formatPX(o),!0),n.marginTop<0&&n.modifyBox(2,null),n.marginBottom<0&&n.modifyBox(8,null))}}}else!n.data(v.KEY_NAME,"fontStyle")&&hn.hasValue(o.backgroundColor)&&n.android("background",`@color/${o.backgroundColor}`,!1)}}}}const An=squared.lib.util,En=v.STORED,vn=["android","app"];function Sn(t,e,n){for(const[o,i]of t.entries())if(o.startsWith(e)&&n===i)return o;return t.has(e)&&t.get(e)!==n?v.generateId("dimen",e):e}function wn(t){return An.convertUnderscore(t).replace("layout_","")}function _n(t){return An.lastIndexOf(t,".")}class Rn extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}afterProcedure(){const t={};for(const e of this.application.session.cache)if(e.visible){const n=e.tagName.toLowerCase();void 0===t[n]&&(t[n]={});for(const o of vn){const i=e.namespace(o);for(const a in i){const r=i[a].trim();if(/^-?[\d.]+(px|dp|sp)$/.test(r)){const i=`${o},${a},${r}`;void 0===t[n][i]&&(t[n][i]=[]),t[n][i].push(e)}}}}for(const e in t){const n=t[e];for(const t in n){const[o,i,a]=t.split(","),r=Sn(En.dimens,`${_n(e)}_${wn(i)}`,a);for(const e of n[t])e[o](i,`@dimen/${r}`);En.dimens.set(r,a)}}}afterFinalize(){for(const t of this.application.viewData){const e=/[\s\n]+<[^<]*?(\w+):(\w+)="(-?[\d.]+(?:px|dp|sp))"/;let n,o=t.content;for(;null!==(n=e.exec(o));){const t=/^[\s\n]+<([\w\-.]+)[\s\n]/.exec(n[0]);if(t){const e=Sn(En.dimens,`${_n(t[1]).toLowerCase()}_${wn(n[2])}`,n[3]);En.dimens.set(e,n[3]),o=o.replace(n[0],n[0].replace(n[3],`@dimen/${e}`))}}t.content=o}}}const xn=squared.base.lib.enumeration,In=squared.lib.dom,Nn=squared.lib.util,Cn={"sans-serif":14,"sans-serif-thin":16,"sans-serif-light":16,"sans-serif-condensed":16,"sans-serif-condensed-light":16,"sans-serif-medium":21,"sans-serif-black":21,"sans-serif-smallcaps":21,"serif-monospace":21,serif:21,casual:21,cursive:21,monospace:21,"sans-serif-condensed-medium":26},Pn={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},On={"ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif"},Ln={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},Mn={fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="@color/{0}"',backgroundColor:'android:background="@color/{0}"'};In.isUserAgent(8)&&(On.consolas="monospace");const Dn=v.STORED;function Bn(t,e,n){for(const o of e.split(";"))for(let e=0;e<t.length;e++)if(t[e]){let i=-1,a="";for(const n in t[e])if(n===o){i=e,a=n,e=t.length;break}if(-1!==i){t[i][a]=Nn.filterArray(t[i][a],t=>!n.includes(t)),0===t[i][a].length&&delete t[i][a];break}}}class kn extends squared.base.Extension{constructor(){super(...arguments),this.options={fontResourceValue:!0},this.eventOnly=!0}afterParseDocument(){const t=this.application.userSettings,e={},n={};for(const t of this.application.session.cache)t.visible&&t.data(v.KEY_NAME,"fontStyle")&&!t.hasBit("excludeResource",xn.NODE_RESOURCE.FONT_STYLE)&&(void 0===e[t.tagName]&&(e[t.tagName]=[]),e[t.tagName].push(t));for(const t in e){const o=[];for(let n of e[t]){const t=n.id,e=n.companion;e&&!e.visible&&"LABEL"===e.tagName&&(n=e);const i=Object.assign({},n.data(v.KEY_NAME,"fontStyle"));let a=!1;if(i.backgroundColor=v.addColor(i.backgroundColor),i.fontFamily){let t=i.fontFamily.split(",")[0].replace(/"/g,"").toLowerCase().trim(),e="",o="";if(i.color=v.addColor(i.color),this.options.fontResourceValue&&On[t]&&(t=On[t]),Cn[t]&&n.localSettings.targetAPI>=Cn[t]||this.options.fontResourceValue&&Pn[t]&&n.localSettings.targetAPI>=Cn[Pn[t]]?(a=!0,i.fontFamily=t,"normal"===i.fontStyle&&delete i.fontStyle,"400"===i.fontWeight&&delete i.fontWeight):(t=Nn.convertWord(t),i.fontFamily=`@font/${t+("normal"!==i.fontStyle?`_${i.fontStyle}`:"")+("400"!==i.fontWeight?`_${Ln[i.fontWeight]||i.fontWeight}`:"")}`,e=i.fontStyle,o=i.fontWeight,delete i.fontStyle,delete i.fontWeight),!a){const n=v.STORED.fonts.get(t)||{};n[`${e}-${Ln[o]||o}`]=!0,v.STORED.fonts.set(t,n)}}const r=Object.keys(Mn);for(let e=0;e<r.length;e++){void 0===o[e]&&(o[e]={});const a=i[r[e]];if(Nn.hasValue(a)&&n.supported("android",r[e])){const n=Nn.formatString(Mn[r[e]],a);void 0===o[e][n]&&(o[e][n]=[]),o[e][n].push(t)}}}n[t]=o}const o={},i={};for(const t in n){o[t]={},i[t]={};const a=e[t].length,r=Nn.filterArray(n[t],t=>Object.keys(t).length>0).sort((t,e)=>{let n=0,o=0,i=0,a=0;for(const e in t)n=Math.max(t[e].length,n),i+=t[e].length;for(const t in e)e[t]&&(o=Math.max(e[t].length,o),a+=e[t].length);return n!==o?n>o?-1:1:i!==a?i>a?-1:1:0});do{if(1===r.length){for(const e in r[0]){const n=r[0][e];1===n.length?i[t][e]=n:n.length>1&&(o[t][e]=n)}r.length=0}else{const e={},n={};for(let i=0;i<r.length;i++){if(!r[i])continue;const s={},l={},d=new Set;for(const t in r[i]){const o=r[i][t];let l=!1;if(o&&0!==o.length&&(o.length===a?(e[t]=o.slice(0),r[i]={},l=!0):1===o.length&&(n[t]=o.slice(0),r[i][t]=[],l=!0),!l)){const e={};let n=!1;for(let t=0;t<r.length;t++)if(i!==t&&r[t])for(const n in r[t]){const i=r[t][n];if(i.length)for(const t of o)i.includes(t)&&(void 0===e[n]&&(e[n]=[]),e[n].push(t))}for(const o in e)e[o].length>1&&(s[[t,o].sort().join(";")]=e[o],n=!0);n||(s[t]=o)}}for(const t in s)for(const e in s)if(t!==e&&s[t].join("")===s[e].join("")){const n=s[t].join(",");l[n]=l[n]?new Set([...l[n],...e.split(";")]):new Set([...t.split(";"),...e.split(";")]),d.add(t).add(e)}for(const t of d)delete s[t];for(const e in s)Bn(r,e,s[e]),o[t][e]=s[e];for(const e in l){const n=Array.from(l[e]).sort().join(";"),i=Nn.replaceMap(e.split(","),t=>parseInt(t));Bn(r,n,i),o[t][n]=i}}const s=Object.keys(e);s.length&&(s.length>1||e[s[0]].length>1?o[t][s.join(";")]=e[s[0]]:Object.assign(n,e));for(const e in n)i[t][e]=n[e];for(let t=0;t<r.length;t++)r[t]&&0===Object.keys(r[t]).length&&delete r[t];Nn.spliceArray(r,t=>{if(t)for(const e in t)if(t[e]&&t[e].length)return!1;return!0})}}while(r.length)}const a={},r={},s=new Set;for(const t in o){const e=o[t],n=[];for(const t in e){const o=[];for(const e of t.split(";")){const t=Nn.REGEXP_PATTERN.ATTRIBUTE.exec(e);t&&o.push({name:t[1],value:t[2]})}n.push({name:"",parent:"",items:o,ids:e[t]})}n.sort((t,e)=>{let n=0,o=0;return t.ids&&e.ids&&(n=t.ids.length,o=e.ids.length),n===o&&(n=t.items.length,o=e.items.length),n===o&&(n=t.items[0].name,o=e.items[0].name),n===o&&(n=t.items[0].value,o=e.items[0].value),n<=o?1:-1});for(let e=0;e<n.length;e++)n[e].name=Nn.capitalize(t)+(e>0?`_${e}`:"");a[t]=n}for(const t in a){for(const e of a[t])if(e.ids)for(const t of e.ids)void 0===r[t]&&(r[t]={styles:[],attrs:[]}),r[t].styles.push(e.name);if(i[t])for(const e in i[t])for(const n of i[t][e])void 0===r[n]&&(r[n]={styles:[],attrs:[]}),r[n].attrs.push(e)}for(const e in r){const n=this.application.session.cache.find("id",parseInt(e));if(n){const o=r[e].styles;o.length&&(s.add(o.join(".")),n.attr("_","style",`@style/${o.pop()}`));for(const o of r[e].attrs.sort())n.formatted(D(o,t.resolutionDPI,t.convertPixels,!0),!1)}}for(const t of s){let e="";for(const n of t.split(".")){const t=n.match(/^(\w*?)(?:_(\d+))?$/);if(t){const o=a[t[1].toUpperCase()],i=t[2]?parseInt(t[2]):0;o[i]&&(Dn.styles.set(n,Object.assign({},o[i],{name:n,parent:e})),e=n)}}}}}const Xn=squared.lib.util,Vn=squared.lib.xml;class Gn extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}afterDepthLevel(){const t=this.application.processing;for(const e of t.cache){const n=[],o=[];if(e.renderEach((t,e)=>{const i=Xn.hasValue(t.dataset.androidInclude),a="true"===t.dataset.androidIncludeEnd;if(i||a){const r="true"===t.dataset.androidIncludeMerge,s={item:t,name:(t.dataset.androidInclude||"").trim(),index:e,merge:r};i&&n.push(s),a&&o.push(s)}}),n.length&&o.length){n.length=Math.min(n.length,o.length);for(let t=n.length;t<o.length;t++)o.shift();for(let i=n.length-1;i>=0;i--){const a=n[i];for(let n=0;n<o.length;n++){const i=o[n];if(i.index>=a.index){const r=new Map;let s=!0;for(let n=a.index;n<=i.index;n++){const o=e.renderChildren[n],i=t.depthMap.get(e.id);if(i&&i.has(o.renderPositionId)){const t=r.get(e.id)||[];t.push(o),r.set(e.id,t)}else s=!1}if(s){const e=new Map,n=[];let o=0;for(const[i,s]of t.depthMap.entries()){const t=r.get(i);if(t){const i=[];for(const[r,l]of s.entries()){const d=t.find(t=>t.renderPositionId===r);if(d){if(0===o){const t=this.application.controllerHandler.renderNodeStatic("include",d.renderDepth,{layout:`@layout/${a.name}`});s.set(r,t),o++}else i.push(r);e.set(r,l),n.push(d)}}for(const t of i)s.delete(t)}}if(e.size){const t=this.application.controllerHandler,o=a.merge||e.size>1,i=o?1:0;for(const o of n)if(o.renderDepth!==i){const n=o.renderPositionId,a=e.get(n);a&&e.set(n,t.replaceIndent(a,i,t.cache.children))}let r="";for(const t of e.values())r+=t;if(o)r=t.getEnclosingTag("merge",0,0,r);else if(!a.item.documentRoot){const t=Vn.formatPlaceholder(a.item.id,"@");r=r.replace(t,`{#0}${t}`),a.item.documentRoot=!0}this.application.addIncludeFile(a.name,r)}}o.splice(n,1);break}}}}}}}const Fn=squared.base.lib.enumeration,Hn=squared.lib.dom,zn=squared.lib.xml;class Wn extends squared.base.Extension{constructor(){super(...arguments),this.options={numberResourceValue:!1},this.eventOnly=!0}afterResources(){for(const t of this.application.processing.cache)if(!t.hasBit("excludeResource",Fn.NODE_RESOURCE.VALUE_STRING)){const e=t.element;if(e&&"SELECT"===e.tagName){const[n,o]=v.getOptionArray(e);let i;if(!this.options.numberResourceValue&&o&&o.length)i=o;else{const t=n||o;if(t){i=[];for(let e of t)e=v.addString(zn.replaceCharacter(e),"",this.options.numberResourceValue),i.push(""!==e?`@string/${e}`:"")}}if(i&&i.length){const e=i.join("-");let n="";for(const[t,o]of v.STORED.arrays.entries())if(e===o.join("-")){n=t;break}""===n&&v.STORED.arrays.set(n=`${t.controlId}_array`,i),t.android("entries",`@array/${n}`,!1)}}else{const e=t.data(v.KEY_NAME,"valueString");if(e){const n=t.renderParent;if(n&&n.layoutRelative&&t.alignParent("left")&&!Hn.cssParent(t.element,"whiteSpace","pre","pre-wrap")){const n=t.textContent;let o=0;for(let t=0;t<n.length;t++)switch(n.charCodeAt(t)){case 160:o++;case 32:continue}0===o&&(e.value=e.value.replace(/^(\s|&#160;)+/,""))}e.value=zn.replaceCharacter(e.value),t.htmlElement&&"small-caps"===t.css("fontVariant")&&(e.value=e.value.toUpperCase());const o=t.actualParent;if(o){let n=0;(o.blockDimension||t.blockDimension)&&(n=t.toInt("textIndent")||o.toInt("textIndent")),0===n||!t.blockDimension&&o.firstChild!==t||(n>0?e.value="&#160;".repeat(Math.floor(n/7))+e.value:t.toInt("textIndent")+t.bounds.width<0&&(e.value=""))}const i=v.addString(e.value,e.name,this.options.numberResourceValue);""!==i&&t.android("text",isNaN(parseInt(i))||""+parseInt(i)!==i?`@string/${i}`:i,!1)}}}}}const qn=squared.lib.util,$n=v.STORED;class Un extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}afterProcedure(){const t={};for(const e of this.application.session.cache)if(e.visible){const n=e.renderChildren;if(e.controlId&&n.length>1){const o=new Map;let i="",a=!0;for(let t=0;t<n.length;t++){let e=!1;if(n[t].combine("_","android").some(n=>{if(n.startsWith("style=")){if(0===t)i=n;else if(""===i||n!==i)return a=!1,!0;e=!0}else o.set(n,(o.get(n)||0)+1);return!1}),!a||""!==i&&!e){a=!1;break}}if(a){for(const[t,e]of o.entries())e!==n.length&&o.delete(t);if(o.size>1){""!==i&&(i=qn.trimString(i.substring(i.indexOf("/")+1),'"'));const a=[];for(const t of o.keys()){const e=t.match(/(\w+):(\w+)="([^"]+)"/);if(e){for(const t of n)t.delete(e[1],e[2]);a.push(e[0])}}a.sort();let r="";for(const e in t)if(t[e].join(";")===a.join(";")){r=e;break}""!==r&&""!==i&&r.startsWith(`${i}.`)||(t[r=qn.convertCamelCase((""!==i?`${i}.`:"")+qn.capitalize(e.controlId),"_")]=a);for(const t of n)t.attr("_","style",`@style/${r}`)}}}}for(const e in t){const n=[];for(const o in t[e]){const i=qn.REGEXP_PATTERN.ATTRIBUTE.exec(t[e][o]);i&&n.push({name:i[1],value:i[2]})}$n.styles.set(e,Object.assign({},O(),{name:e,items:n,ids:[]}))}}}var Yn='<?xml version="1.0" encoding="utf-8"?>\n<animated-vector xmlns:android="http://schemas.android.com/apk/res/android" android:drawable="@drawable/{&vectorName}">\n<<A>>\n\t<target android:name="{&name}" android:animation="@anim/{&animationName}" />\n<<A>>\n</animated-vector>',jn='<?xml version="1.0" encoding="utf-8"?>\n<set xmlns:android="http://schemas.android.com/apk/res/android">\n<<A>>\n\t<set android:ordering="{~ordering}">\n\t<<AA>>\n\t\t<set android:ordering="{~ordering}">\n\t\t<<fillBefore>>\n\t\t\t<set>\n\t\t\t<<values>><<values>>\n\t\t\t</set>\n\t\t<<fillBefore>>\n\t\t<<repeating>>\n\t\t\t<objectAnimator\n\t\t\t\tandroid:propertyName="{~propertyName}"\n\t\t\t\tandroid:interpolator="{~interpolator}"\n\t\t\t\tandroid:valueType="{~valueType}"\n\t\t\t\tandroid:valueFrom="{~valueFrom}"\n\t\t\t\tandroid:valueTo="{~valueTo}"\n\t\t\t\tandroid:startOffset="{~startOffset}"\n\t\t\t\tandroid:duration="{&duration}"\n\t\t\t\tandroid:repeatCount="{&repeatCount}">\n\t\t\t<<propertyValues>>\n\t\t\t\t<propertyValuesHolder android:propertyName="{&propertyName}">\n\t\t\t\t<<keyframes>>\n\t\t\t\t\t<keyframe android:interpolator="{~interpolator}" android:fraction="{~fraction}" android:value="{~value}" />\n\t\t\t\t<<keyframes>>\n\t\t\t\t</propertyValuesHolder>\n\t\t\t<<propertyValues>>\n\t\t\t</objectAnimator>\n\t\t<<repeating>>\n\t\t<<fillCustom>>\n\t\t\t<set android:ordering="{~ordering}">\n\t\t\t<<values>><<values>>\n\t\t\t</set>\n\t\t<<fillCustom>>\n\t\t<<fillAfter>>\n\t\t\t<set>\n\t\t\t<<values>>\n\t\t\t\t<objectAnimator\n\t\t\t\t\tandroid:propertyName="{&propertyName}"\n\t\t\t\t\tandroid:interpolator="{~interpolator}"\n\t\t\t\t\tandroid:valueType="{~valueType}"\n\t\t\t\t\tandroid:valueFrom="{~valueFrom}"\n\t\t\t\t\tandroid:valueTo="{&valueTo}"\n\t\t\t\t\tandroid:startOffset="{~startOffset}"\n\t\t\t\t\tandroid:duration="{&duration}"\n\t\t\t\t\tandroid:repeatCount="{&repeatCount}" />\n\t\t\t<<values>>\n\t\t\t</set>\n\t\t<<fillAfter>>\n\t\t</set>\n\t<<AA>>\n\t<<BB>>\n\t\t<<together>>\n\t\t<objectAnimator\n\t\t\tandroid:propertyName="{&propertyName}"\n\t\t\tandroid:interpolator="{~interpolator}"\n\t\t\tandroid:valueType="{~valueType}"\n\t\t\tandroid:valueFrom="{~valueFrom}"\n\t\t\tandroid:valueTo="{&valueTo}"\n\t\t\tandroid:startOffset="{~startOffset}"\n\t\t\tandroid:duration="{&duration}"\n\t\t\tandroid:repeatCount="{&repeatCount}" />\n\t\t<<together>>\n\t<<BB>>\n\t</set>\n<<A>>\n</set>';squared.svg||(squared.svg={lib:{}});var Kn=squared.svg.Svg,Zn=squared.svg.SvgAnimate,Jn=squared.svg.SvgAnimateTransform,Qn=squared.svg.SvgBuild,to=squared.svg.SvgG,eo=squared.svg.SvgPath,no=squared.svg.SvgShape;const oo=squared.lib.util,io=squared.lib.math,ao=squared.lib.xml,ro=squared.svg.lib.constant,so=squared.svg.lib.util,lo={},co=v.STORED,ho={accelerate_decelerate:"@android:anim/accelerate_decelerate_interpolator",accelerate:"@android:anim/accelerate_interpolator",anticipate:"@android:anim/anticipate_interpolator",anticipate_overshoot:"@android:anim/anticipate_overshoot_interpolator",bounce:"@android:anim/bounce_interpolator",cycle:"@android:anim/cycle_interpolator",decelerate:"@android:anim/decelerate_interpolator",linear:"@android:anim/linear_interpolator",overshoot:"@android:anim/overshoot_interpolator"};ro&&Object.assign(ho,{[ro.KEYSPLINE_NAME["ease-in"]]:ho.accelerate,[ro.KEYSPLINE_NAME["ease-out"]]:ho.decelerate,[ro.KEYSPLINE_NAME["ease-in-out"]]:ho.accelerate_decelerate,[ro.KEYSPLINE_NAME.linear]:ho.linear});const uo='<?xml version="1.0" encoding="utf-8"?>\n<pathInterpolator xmlns:android="http://schemas.android.com/apk/res/android"\n\tandroid:controlX1="{0}"\n\tandroid:controlY1="{1}"\n\tandroid:controlX2="{2}"\n\tandroid:controlY2="{3}" />',po={stroke:["strokeColor"],fill:["fillColor"],opacity:["alpha"],"stroke-opacity":["strokeAlpha"],"fill-opacity":["fillAlpha"],"stroke-width":["strokeWidth"],"stroke-dasharray":["trimPathStart","trimPathEnd"],"stroke-dashoffset":["trimPathOffset"],d:["pathData"],"clip-path":["pathData"]};function mo(t,e){return t&&t[e]?ho[t[e]]||yo(t[e]):""}function go(t){for(const e in po)if(po[e].includes(t))return oo.convertCamelCase(e);return""}function fo(t,e,n=-1){return`${t.name}_${e+(-1!==n?`_${n+1}`:"")}`}function yo(t){if(ho[t])return ho[t];{const e=`path_interpolator_${oo.convertWord(t)}`;if(!co.animators.has(e)){const n=oo.formatString(uo,...t.split(" "));co.animators.set(e,n)}return`@anim/${e}`}}function bo(t){const e={};if(t)for(let n=0;n<t.length;n++){const o=t[n],i=o.matrix;switch(o.type){case SVGTransform.SVG_TRANSFORM_SCALE:e.scaleX=""+i.a,e.scaleY=""+i.d,o.origin&&(e.pivotX=""+o.origin.x,e.pivotY=""+o.origin.y);break;case SVGTransform.SVG_TRANSFORM_ROTATE:e.rotation=""+o.angle,o.origin?(e.pivotX=""+o.origin.x,e.pivotY=""+o.origin.y):(e.pivotX="0",e.pivotY="0");break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:e.translateX=""+i.e,e.translateY=""+i.f}}return e}function To(t,e){let n=0,o=0;for(const i of function(t){const e=[];let n=t.parentElement;for(;n&&(e.push(n),!((n=n.parentElement)instanceof HTMLElement)););return e}(t))(so.SVG.svg(i)||so.SVG.use(i))&&i!==e&&(n+=i.x.baseVal.value,o+=i.y.baseVal.value);return{x:n,y:o}}function Ao(t,e,n=1,o=1){if(e.length&&(so.SVG.circle(t)||so.SVG.ellipse(t))){if(-1!==e.findIndex(t=>t.type===SVGTransform.SVG_TRANSFORM_ROTATE)&&(n!==o||e.length>1&&e.some(t=>t.type===SVGTransform.SVG_TRANSFORM_SCALE&&t.matrix.a!==t.matrix.d)))return Eo(t,e)}return[[],e]}function Eo(t,e,n=!1){if(e.length){const i=[],a=[],r=e.slice(0).reverse(),s=e[0].fromCSS?[]:so.TRANSFORM.rotateOrigin(t).reverse();for(let t=1;t<r.length;t++){const e=r[t],n=r[t-1];if(e.type===n.type){let o;switch(e.type){case SVGTransform.SVG_TRANSFORM_TRANSLATE:(o=so.MATRIX.clone(e.matrix)).e+=n.matrix.e,o.f+=n.matrix.f;break;case SVGTransform.SVG_TRANSFORM_SCALE:(o=so.MATRIX.clone(e.matrix)).a*=n.matrix.a,o.d*=n.matrix.d}o&&(e.matrix=o,r.splice(--t,1))}}const l=[];function o(){i.push(l.slice(0)),l.length=0}for(const t of r)switch(t.type){case SVGTransform.SVG_TRANSFORM_MATRIX:case SVGTransform.SVG_TRANSFORM_SKEWX:case SVGTransform.SVG_TRANSFORM_SKEWY:a.push(t);break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:n||0!==i.length||0!==l.length?(l.push(t),o()):a.push(t);break;case SVGTransform.SVG_TRANSFORM_ROTATE:for(;s.length;){const e=s.shift();if(e.angle===t.angle){0===e.x&&0===e.y||(t.origin=e);break}}if(void 0===t.origin&&1===l.length&&l[0].type===SVGTransform.SVG_TRANSFORM_SCALE){l.push(t);continue}case SVGTransform.SVG_TRANSFORM_SCALE:l.length&&o(),l.push(t)}return l.length&&i.push(l),[i.reverse(),a]}return[[],e]}function vo(t,e,n,o=!1,i){let a;const r=t[e];return r?a=Array.isArray(r)?""+r[n]:r:o||0!==e||(a=i),a||""}function So(t){switch(t){case"fill":case"stroke":return"";case"opacity":case"stroke-opacity":case"stroke-dasharray":case"stroke-dashoffset":case"fill-opacity":case"transform":return"floatType";case"stroke-width":return"intType";case"d":case"x":case"x1":case"x2":case"cx":case"y":case"y1":case"y2":case"cy":case"r":case"rx":case"ry":case"width":case"height":case"points":return"pathType";default:return Io(t)?"floatType":void 0}}function wo(t,e,n,o){const i=new Zn;return i.attributeName=t,i.delay=e,i.duration=1,i.from=void 0!==o?o:n,i.to=n,i.fillForwards=!0,i.convertToValues(),i}function _o(t,e=!0){let n=po[t];return void 0===n&&e&&Io(t)&&(n=[t]),n}function Ro(t){switch(t){case SVGTransform.SVG_TRANSFORM_TRANSLATE:return["translateX","translateY"];case SVGTransform.SVG_TRANSFORM_SCALE:return["scaleX","scaleY","pivotX","pivotY"];case SVGTransform.SVG_TRANSFORM_ROTATE:return["rotation","pivotX","pivotY"]}}function xo(t){switch(t.type){case SVGTransform.SVG_TRANSFORM_ROTATE:return Jn.toRotateList(t.values);case SVGTransform.SVG_TRANSFORM_SCALE:return Jn.toScaleList(t.values);case SVGTransform.SVG_TRANSFORM_TRANSLATE:return Jn.toTranslateList(t.values)}}function Io(t){switch(t){case"rotation":case"pivotX":case"pivotY":case"translateX":case"translateY":return"0";case"scaleX":case"scaleY":return"1"}}function No(t){return"fill"===t||"stroke"===t}function Co(t,e=!1){const n=v.addColor(t);return t=""!==n?`@color/${n}`:"",e?[t]:t}function Po(t,e){return No(t.attributeName)?Co(e):e.trim()||void 0}class Oo extends squared.base.Extension{constructor(){super(...arguments),this.options={transformExclude:{path:[],line:[],rect:[],ellipse:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],circle:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],polyline:[],polygon:[],image:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY]},floatPrecisionKeyTime:5,floatPrecisionValue:3,animateInterpolator:""},this.eventOnly=!0,this.VECTOR_DATA=new Map,this.ANIMATE_DATA=new Map,this.IMAGE_DATA=[],this.SYNCHRONIZE_MODE=0,this.NAMESPACE_AAPT=!1}beforeInit(){Qn&&(void 0===lo.ANIMATED&&(lo.ANIMATED=ao.parseTemplate(Yn),lo.LAYER_LIST=ao.parseTemplate(an),lo.SET_OBJECTANIMATOR=ao.parseTemplate(jn)),Qn.setName(),this.application.controllerHandler.localSettings.unsupported.tagName.delete("svg"))}afterResources(){for(const t of this.application.processing.cache)if(t.svgElement){const e=new Kn(t.element),n=t.localSettings.targetAPI>=23;this.NODE_INSTANCE=t,this.SVG_INSTANCE=e,this.VECTOR_DATA.clear(),this.ANIMATE_DATA.clear(),this.IMAGE_DATA.length=0,this.NAMESPACE_AAPT=!1,this.SYNCHRONIZE_MODE=2|(n?32:64),e.build({exclude:this.options.transformExclude,residual:Ao,precision:this.options.floatPrecisionValue}),e.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,precision:this.options.floatPrecisionValue}),this.parseVectorData(e),this.queueAnimations(e,e.name,t=>"opacity"===t.attributeName);const o=oo.convertWord(`${t.tagName}_${t.controlId}_viewbox`,!0).toLowerCase(),i=(t="",e="")=>o+(""!==t?`_${t}`:"")+(this.IMAGE_DATA.length?"_vector":"")+(""!==e?`_${e.toLowerCase()}`:"");let a="",r="";{const t=ao.parseTemplate(rn);let n=ao.createTemplate(t,{namespace:this.NAMESPACE_AAPT?V("aapt"):"",name:e.name,width:oo.formatPX(e.width),height:oo.formatPX(e.height),viewportWidth:""+(e.viewBox.width||e.width),viewportHeight:""+(e.viewBox.height||e.height),alpha:parseFloat(e.opacity)<1?""+e.opacity:"",A:[],B:[{templateName:e.name}]});const o=new Map;t.__ROOT__=t.A;for(const[e,n]of this.VECTOR_DATA.entries())o.set(e,ao.createTemplate(t,n));const a=Array.from(o.entries()).reverse();for(let t=0;t<a.length;t++){let e=a[t][1];for(let n=t;n<a.length;n++){const t=`!!${a[n][0]}!!`;if(-1!==e.indexOf(t)){e=e.replace(t,a[n][1]);break}}n=n.replace(`!!${a[t][0]}!!`,e)}n=ao.formatTemplate(n),""===(r=v.getStoredName("drawables",n))&&(r=i(),co.drawables.set(r,n))}if(this.ANIMATE_DATA.size){const t={vectorName:r,A:[]};for(const[e,o]of this.ANIMATE_DATA.entries()){const a={name:e},r={A:[]},s=new Map,l=new Map,d=[],c=[],h=[],u=[],p=[],[m,g]=oo.partitionArray(o.animate,t=>void 0!==t.companion);for(let t=0;t<g.length;t++){const e=g[t];if(e.setterType)po[e.attributeName]&&oo.hasValue(e.to)&&(e.duration>0&&e.fillReplace?c.push(e):d.push(e));else if(Qn.isAnimate(e)){const o=oo.filterArray(m,t=>t.companion.value===e);if(o.length){o.sort((t,e)=>t.companion.index>=e.companion.index?1:0);const n=[],i=[];for(const t of o)t.companion.index<=0?n.push(t):i.push(t);n.push(e),n.push(...i),s.set(`sequentially_companion_${t}`,n)}else{const t=e.synchronized;if(t)if(Qn.asAnimateTransform(e)){const n=l.get(t.value)||[];n.push(e),l.set(t.value,n)}else{const n=s.get(t.value)||[];n.push(e),s.set(t.value,n)}else Qn.asAnimateTransform(e)&&e.expandToValues(),-1===e.iterationCount?c.push(e):!(!e.fromToType||Qn.asAnimateTransform(e)&&e.transformOrigin)||n&&"pathType"!==So(e.attributeName)?e.fillReplace?c.push(e):d.push(e):h.push([e])}}}d.length&&h.push(d);for(const[t,e]of s.entries())t.startsWith("sequentially_companion")?h.push(e):h.push(e.sort((t,e)=>t.synchronized&&e.synchronized&&t.synchronized.index>=e.synchronized.index?1:-1));for(const t of l.values())p.push(t.sort((t,e)=>t.synchronized&&e.synchronized&&t.synchronized.index>=e.synchronized.index?1:-1));for(const t of c)u.push([[t]]);if([h,p,...u].forEach((t,e)=>{const i={ordering:0===e||1===t.length?"":"sequentially",AA:[],BB:[]};for(const a of t){let t,r,s,l;e<=1&&a.some(t=>void 0!==t.synchronized&&""!==t.synchronized.value)?(t=Qn.asAnimateTransform(a[0])?"":"sequentially",r=!0,s=!1,l=!1):e<=1&&a.some(t=>void 0!==t.synchronized&&""===t.synchronized.value)?(t="sequentially",r=!0,s=!0,l=!0):e<=1&&a.some(t=>void 0!==t.companion)?(t="sequentially",r=!1,s=!1,l=!0):(t=0===e?"":"sequentially",r=!1,s=e>1&&Qn.asAnimateTransform(a[0]),l=!0);const d={ordering:t,fillBefore:[],repeating:[],fillCustom:[],fillAfter:[]},c={values:[]},h={values:[]},u={values:[]},p={together:[]};(r?oo.partitionArray(a,t=>-1!==t.iterationCount):[a]).forEach((t,a)=>{1===a&&t.length>1&&(h.ordering="sequentially");const m=new Map;for(const g of t){const f=So(g.attributeName);if(void 0===f)continue;const y=(t,e)=>{""!==e&&-1===c.values.findIndex(e=>e.propertyName===t)&&c.values.push(this.createPropertyValue(t,e,"0",f))},b=g.delay>0;let T,A=!1;const E=(t,e,n,o)=>{if(!r&&g.fillReplace&&void 0!==f){let i,a=g.replaceValue;if(a||(A?a=Io(t):g.parent&&Qn.isShape(g.parent)&&g.parent.path&&(a="pathData"===t?g.parent.path.value:g.parent.path[go(t)]),a||(a=g.baseValue)),n&&n.length){const t=n[n.length-1];if(oo.isArray(t.propertyValues)){const e=t.propertyValues[t.propertyValues.length-1];i=e.keyframes[e.keyframes.length-1].value}else i=t.valueTo}if(oo.isString(a)&&a!==i&&(a=Po(g,a))){switch(t){case"trimPathStart":case"trimPathEnd":a=a.split(" ")["trimPathStart"===t?0:1]}e.values.push(this.createPropertyValue(t,a,"1",f,"pathType"===f?i:"",o?""+o:""))}T&&(t.endsWith("X")?e.values.push(this.createPropertyValue("translateX","0","1",f)):t.endsWith("Y")&&e.values.push(this.createPropertyValue("translateY","0","1",f)))}};if(g.setterType){const t=_o(g.attributeName);if(t){const n=No(g.attributeName)?Co(g.to,!0):g.to.trim().split(" ");if(n.length===t.length&&!n.some(t=>""===t)){let o,i;for(let a=0;a<t.length;a++){let r;"pathType"===f?r=n[a]:b&&g.baseValue&&(r=Po(g,g.baseValue.trim().split(" ")[a]));const s=this.createPropertyValue(t[a],n[a],"1",f,r,g.delay>0?""+g.delay:"");e>1?(h.values.push(s),E(t[a],u,void 0,e>1?g.duration:0)):g.companion&&g.companion.index<=0?(void 0===o&&d.fillBefore.push(o={values:[]}),o.values.push(s)):g.companion&&g.companion.index>0?(void 0===i&&d.fillAfter.push(i={values:[]}),i.values.push(s)):p.together.push(s)}}}}else if(Qn.isAnimate(g)){let c;const p=this.createPropertyValue("","",""+g.duration,f,"",g.delay>0?""+g.delay:"",c=1===a?t.length>1?"0":"-1":-1!==g.iterationCount?""+Math.ceil(g.iterationCount-1):"-1");let v,S;void 0===g.keySplines&&(g.timingFunction?p.interpolator=yo(g.timingFunction):""!==this.options.animateInterpolator&&(p.interpolator=this.options.animateInterpolator));const w=[];if(r||"pathType"!==p.valueType)if(Qn.asAnimateTransform(g)){if(void 0===(v=Ro(g.type)))continue;S=xo(g),(s||b)&&w.push(...oo.objectMap(v,t=>Io(t)||"0")),T=g.transformOrigin,A=!0}else switch(v=_o(g.attributeName),p.valueType){case"intType":S=oo.objectMap(g.values,t=>""+oo.convertInt(t)),b&&g.baseValue&&w.push(...oo.replaceMap(Qn.parseCoordinates(g.baseValue),t=>""+Math.trunc(t)));break;case"floatType":switch(g.attributeName){case"stroke-dasharray":S=oo.objectMap(g.values,t=>oo.replaceMap(t.split(" "),t=>parseFloat(t)));break;default:S=g.values}b&&g.baseValue&&w.push(...oo.replaceMap(Qn.parseCoordinates(g.baseValue),t=>""+t));break;default:if(S=g.values.slice(0),No(g.attributeName)){b&&g.baseValue&&w.push(...Co(g.baseValue,!0));for(let t=0;t<S.length;t++)""!==S[t]&&(S[t]=Co(S[t]))}}else if(o.pathData){let t,e;v=["pathData"],g.parent&&Qn.isShape(g.parent)&&(e=g.parent,g.parent.path&&(t=g.parent.path.transformed)),S=eo.extrapolate(g.attributeName,o.pathData,g.values,e,t,this.options.floatPrecisionValue)}if(S&&v){const t=g.synchronized?g.synchronized.index+g.synchronized.value:0!==e||v.length>1?JSON.stringify(p):"";for(let e=0;e<v.length;e++){const c=v[e];if(s&&w[e]&&y(c,w[e]),l&&g.keyTimes.length>1)if(n&&"pathType"!==p.valueType){!s&&b&&y(c,w[e]);const n=m.get(t)||[],o=[];for(let t=0;t<g.keyTimes.length;t++){let n=vo(S,t,e,!0);""!==n&&(n=io.truncateString(n,this.options.floatPrecisionValue)),o.push({interpolator:t>0&&""!==n&&"pivotX"!==c&&"pivotY"!==c?mo(g.keySplines,t-1):"",fraction:0===g.keyTimes[t]&&""===n?"":io.truncateRange(g.keyTimes[t],this.options.floatPrecisionKeyTime),value:n})}n.push({propertyName:c,keyframes:o}),m.has(t)||(""!==t&&m.set(t,n),(0===a?d.repeating:h.values).push(Object.assign({},p,{propertyValues:n}))),T=void 0}else{d.ordering="sequentially";const t={ordering:"sequentially",fillBefore:!1,repeating:[],fillCustom:!1,fillAfter:!1};for(let n=0;n<g.keyTimes.length;n++){const i=Object.assign({},p,{propertyName:c,startOffset:0===n?""+(g.delay+(g.keyTimes[n]>0?Math.floor(g.keyTimes[n]*g.duration):0)):"",propertyValues:!1}),a=vo(S,n,e,!1,"pathType"===p.valueType?o.pathData:g.baseValue);if(a){if("pathType"===p.valueType){const t=0===n?o.pathData:vo(S,n-1,e);if(!t)continue;i.valueFrom=t}else 0===n&&!s&&b&&(i.valueFrom=w[e]);const r=0===n?0:Math.floor((g.keyTimes[n]-(n>0?g.keyTimes[n-1]:0))*g.duration);if(T&&T[n]){let e,o=0;if(c.endsWith("X")?(e="translateX",o=T[n].x):c.endsWith("Y")&&(e="translateY",o=T[n].y),e){const n=this.createPropertyValue(e,""+o,""+r,"floatType");n.interpolator=yo(ro.KEYSPLINE_NAME["step-start"]),t.repeating.push(n)}}i.interpolator=n>0?mo(g.keySplines,n-1):"",i.duration=""+r,i.valueTo=a,d.repeating.push(i)}}t.repeating.length&&i.AA.push(t)}else{const t=Object.assign({},p,{propertyName:c,interpolator:g.duration>1?mo(g.keySplines,0):"",propertyValues:!1});if(Array.isArray(S[0])){const n=S[S.length-1][e];if(S.length>1){const o=S[0][e];o!==n&&(t.valueFrom=""+o)}t.valueTo=""+n}else{let n;S.length>1?(n=""+S[0],t.valueTo=""+S[S.length-1]):(n=g.from||(!s&&b?w[e]:""),t.valueTo=g.to),"pathType"===p.valueType?t.valueFrom=n||o.pathData||t.valueTo:n&&n!==t.valueTo&&(t.valueFrom=Po(g,n))}t.valueTo&&(0===a?d.repeating:h.values).push(t)}0!==a||r||E(c,u,d.repeating)}b&&T&&T.length&&(y("translateX","0"),y("translateY","0"))}}}});const m=d.repeating.length>0||h.values.length>0;m&&c.values.length&&(1===c.values.length?d.repeating.unshift(c.values[0]):d.fillBefore.push(c)),h.values.length&&(1===c.values.length?d.repeating.push(h.values[0]):d.fillCustom.push(h)),m&&u.values.length&&(1===u.values.length?d.repeating.push(u.values[0]):d.fillAfter.push(u));const g=d.fillBefore.length>0||d.fillCustom.length>0||d.fillAfter.length>0;g||"sequentially"!==d.ordering||1!==d.repeating.length||(d.ordering=""),!g&&"sequentially"!==i.ordering&&"sequentially"!==d.ordering&&d.repeating.every(t=>!1===t.propertyValues)?(p.together.push(...d.repeating),d.repeating.length=0):m&&i.AA.push(d),p.together.length&&i.BB.push(p)}(i.AA.length||i.BB.length)&&r.A.push(i)}),r.A.length){const n=ao.createTemplate(lo.SET_OBJECTANIMATOR,r);a.animationName=v.getStoredName("animators",n),""===a.animationName&&(a.animationName=i("anim",e),co.animators.set(a.animationName,n)),t.A.push(a)}}if(t.A.length){const e=ao.createTemplate(lo.ANIMATED,t);""===(r=v.getStoredName("drawables",e))&&(r=i("anim"),co.drawables.set(r,e))}}if(this.IMAGE_DATA.length){const t=[];for(const n of this.IMAGE_DATA){const o=e.width/e.viewBox.width,i=e.height/e.viewBox.height;let a=n.getBaseValue("x",0)*o,r=n.getBaseValue("y",0)*i,s=n.getBaseValue("width",0),l=n.getBaseValue("height",0);const d=To(n.element,e.element);a+=d.x,r+=d.y,l*=i;const c={width:oo.formatPX(s*=o),height:oo.formatPX(l),left:0!==a?oo.formatPX(a):"",top:0!==r?oo.formatPX(r):"",src:v.addImage({mdpi:n.href}),rotate:[]};if(n.rotateAngle)c.rotate.push({src:c.src,fromDegrees:""+n.rotateAngle,visible:n.visible?"true":"false"}),c.src="";else if(!n.visible)continue;t.push(c)}const n=ao.formatTemplate(ao.createTemplate(lo.LAYER_LIST,{A:[],B:!1,C:[{src:r}],D:t,E:!1,F:!1}));""===(a=v.getStoredName("drawables",n))&&co.drawables.set(a=o,n)}else a=r;""!==a&&(t.localSettings.targetAPI>=21?t.android("src",`@drawable/${a}`):t.app("srcCompat",`@drawable/${a}`)),t.hasWidth||t.android("layout_width","wrap_content"),t.hasHeight||t.android("layout_height","wrap_content")}}afterFinalize(){this.application.controllerHandler.localSettings.unsupported.tagName.add("svg")}parseVectorData(t){const e=this.createGroup(t);for(const n of t){const o=[],i=[],a=[[]],r=[];if(Qn.isShape(n)){if(!(n.visible&&n.path&&n.path.value))continue;{const t=this.createPath(n,n.path,a);if(t.strokeWidth&&(t.strokeDasharray||t.strokeDashoffset)){const e=this.ANIMATE_DATA.get(n.name);if(void 0===e||e.animate.every(t=>t.attributeName.startsWith("stroke-dash"))){const[i,s,l]=n.path.extractStrokeDash(e&&e.animate,!1,this.options.floatPrecisionValue);if(i){const d=fo(n,"stroke");s&&l&&(t.value=s,r.push({clipPathData:l}));for(let n=0;n<i.length;n++){const a=0===n?t:Object.assign({},t);a.name=`${d}_${n}`,e&&this.ANIMATE_DATA.set(a.name,{element:e.element,animate:oo.filterArray(e.animate,t=>void 0===t.id||t.id===n)}),a.trimPathStart=io.truncateRange(i[n].start,this.options.floatPrecisionValue),a.trimPathEnd=io.truncateRange(i[n].end,this.options.floatPrecisionValue),o.push(a)}e&&this.ANIMATE_DATA.delete(n.name),a[0].push({groupName:d})}}}0===o.length&&o.push(t)}}else{if(Qn.asImage(n)){if(!Qn.asPattern(t)){if(0===n.width||0===n.height){const t=this.application.session.image.get(n.href);t&&t.width>0&&t.height>0&&(n.width=t.width,n.height=t.height,n.setRect())}n.extract(this.options.transformExclude.image),(n.visible||void 0!==n.rotateAngle)&&this.IMAGE_DATA.push(n)}continue}if(Qn.isContainer(n)){if(!n.visible||!n.length)continue;this.parseVectorData(n),i.push({templateName:n.name})}}e.BB.push({render:a,clipGroup:r,CCC:o,DDD:i})}this.VECTOR_DATA.set(t.name,e)}createGroup(t){const e=[[]],n=[],o=[[]],i=[],a={region:e,clipRegion:n,path:o,clipPath:i,BB:[]},r={};if(!(t!==this.SVG_INSTANCE&&Qn.asSvg(t)||Qn.asUseSymbol(t)||Qn.asUsePattern(t))||0===t.x&&0===t.y||(r.groupName=fo(t,"main"),r.translateX=""+t.x,r.translateY=""+t.y),""!==t.clipRegion&&this.createClipPath(t,n,t.clipRegion),(n.length||Object.keys(r).length)&&e[0].push(r),t!==this.SVG_INSTANCE){const e={},[n]=Eo(t.element,t.transforms,!0),a=fo(t,"animate");if((Qn.asG(t)||Qn.asUseSymbol(t))&&oo.hasValue(t.clipPath)&&this.createClipPath(t,i,t.clipPath)&&(e.groupName=a),this.queueAnimations(t,a,t=>Qn.asAnimateTransform(t))&&(e.groupName=a),Object.keys(e).length&&o[0].push(e),n.length){const e=[];for(const t of n)o[0].push(bo(t)),e.push(...t);t.transformed=e.reverse()}}return a}createPath(t,e,n){const o=[],i={name:t.name,clipElement:o,fillPattern:!1},a=(t,n=!1)=>{if(n){const n=`${t}Pattern`,o=i[n];if(o){const a=this.SVG_INSTANCE.definitions.gradient.get(o);if(a)switch(e.element.tagName){case"path":if(!/[zZ]\s*$/.test(e.value))break;case"rect":case"polygon":case"polyline":case"circle":case"ellipse":{const o=v.createBackgroundGradient(this.NODE_INSTANCE,[a],e);if(o.length)return i[t]="",i[n]=[{gradients:o}],void(this.NAMESPACE_AAPT=!0);break}}i[n]=!1}}const o=v.addColor(i[t]);""!==o&&(i[t]=`@color/${o}`)};if(Qn.asUse(t)&&oo.hasValue(t.clipPath)&&this.createClipPath(t,o,t.clipPath),oo.hasValue(e.clipPath)){const t=new no(e.element);t.build({exclude:this.options.transformExclude,residual:Ao}),t.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,precision:this.options.floatPrecisionValue}),this.createClipPath(t,o,e.clipPath)}const r={},s=fo(t,"group");if(this.queueAnimations(t,s,t=>Qn.asAnimateTransform(t))?r.groupName=s:o.length&&(r.groupName=""),!Qn.asUse(t)||0===t.x&&0===t.y||(r.translateX=""+t.x,r.translateY=""+t.y),Object.keys(r).length&&n[0].push(r),e.transformResidual)for(const t of e.transformResidual)n[0].push(bo(t));const l=function(t){let e=parseFloat(t.opacity),n=t.parent;for(;n;){const t=parseFloat(n.opacity||"1");!isNaN(t)&&t<1&&(e*=t),n=n.parent}return e}(t);for(const t in e){let n=e[t];if(oo.isString(n)){switch(t){case"fillRule":if("evenodd"!==n)continue;n="evenOdd";break;case"strokeWidth":if("0"===n)continue;break;case"fillOpacity":case"strokeOpacity":if("1"===(n=""+(oo.isNumber(n)?parseFloat(n):1)*l))continue;break;case"strokeLinecap":if("butt"===n)continue;break;case"strokeLinejoin":if("miter"===n)continue;break;case"strokeMiterlimit":if("4"===n)continue}i[t]=n}}a("fill",!0),a("stroke");const d=new Map,c=[],h=[],u=e.value;let p=u,m=0;for(const e of t.animations)if(Qn.asAnimateTransform(e)&&!e.additiveSum&&e.transformFrom){let t=Math.max(0,e.delay-1);d.set(t,{index:m,time:t,to:e.transformFrom,reset:!1,animate:e}),-1!==e.iterationCount&&e.fillReplace&&(d.has(t=e.delay+e.iterationCount*e.duration)||d.set(t,{index:m,time:t,to:u,reset:!0})),m++}const g=Array.from(d.values()).sort((t,e)=>t.time<e.time?-1:1);for(let t=0;t<g.length;t++){const e=g[t];if(!e.reset||e.to!==p){let n=!0;if(e.reset)t:for(let o=0;o<t;o++){const i=g[o];if(!i.reset)for(let o=t+1;o<g.length;o++)switch(g[o].index){case i.index:n=!1;case e.index:break t}}else{const n=[],o=new Set;for(let e=0;e<t;e++){const t=g[e];n[t.index]=n[t.index]?2:1}for(let t=0;t<n.length;t++)if(1===n[t]){const e=g.find(e=>e.index===t&&void 0!==e.animate);e&&e.animate&&o.add(e.animate.type)}for(const t of o){const n=Ro(t);if(n){const o=so.TRANSFORM.typeAsValue(t).split(" ");for(let t=0;t<o.length;t++)c.push(wo(n[t],e.time,o[t],""))}}}n&&(h.push(wo("d",e.time,e.to)),p=e.to)}}if(this.queueAnimations(t,i.name,t=>(Qn.asAnimate(t)||Qn.asSet(t))&&"clip-path"!==t.attributeName,u)||0!==h.length||(i.name=""),c.length){const t=this.ANIMATE_DATA.get(s);t&&t.animate.push(...c)}if(h.length){const e=this.ANIMATE_DATA.get(i.name);e?e.animate.push(...h):this.ANIMATE_DATA.set(i.name,{element:t.element,animate:h,pathData:u})}return i}createClipPath(t,e,n){let o=0;return n.split(";").forEach((n,i,a)=>{if("#"===n.charAt(0)){const t=this.SVG_INSTANCE.definitions.clipPath.get(n);if(t){const n=new to(t);n.build({exclude:this.options.transformExclude,residual:Ao}),n.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,precision:this.options.floatPrecisionValue}),n.each(t=>{if(t.path&&t.path.value){let n=fo(t,"clip_path",a.length>1?i+1:-1);this.queueAnimations(t,n,t=>Qn.asAnimate(t)||Qn.asSet(t),t.path.value)||(n=""),e.push({clipName:n,clipPathData:t.path.value})}})}o++}else{let r=fo(t,"clip_path",a.length>1?i+1:-1);this.queueAnimations(t,r,t=>(Qn.asAnimate(t)||Qn.asSet(t))&&"clip-path"===t.attributeName,n)||(r=""),e.push({clipName:r,clipPathData:n}),o++}}),o>0}queueAnimations(t,e,n,o=""){if(t.animations.length){const i=oo.filterArray(t.animations,(t,e,o)=>!t.paused&&(t.duration>0||t.setterType)&&n(t,e,o));if(i.length)return this.ANIMATE_DATA.set(e,{element:t.element,animate:i,pathData:o}),!0}return!1}createPropertyValue(t,e,n,o,i="",a="",r="0"){return{propertyName:t,startOffset:a,duration:n,repeatCount:r,valueType:o,valueFrom:oo.isNumber(i)?io.truncateString(i,this.options.floatPrecisionValue):i,valueTo:oo.isNumber(e)?io.truncateString(e,this.options.floatPrecisionValue):e,propertyValues:!1}}}const Lo={builtInExtensions:["android.delegate.fixed","android.delegate.max-width-height","android.delegate.percent","android.delegate.radiogroup","android.delegate.scrollbar","squared.external","squared.substitute","squared.sprite","squared.css-grid","squared.flexbox","squared.table","squared.list","squared.grid","squared.relative","squared.verticalalign","squared.whitespace","squared.accessibility","android.constraint.guideline","android.resource.includes","android.resource.background","android.resource.svg","android.resource.strings","android.resource.fonts","android.resource.dimens","android.resource.styles"],targetAPI:26,resolutionDPI:160,supportRTL:!0,preloadImages:!0,ellipsisOnTextOverflow:!0,supportNegativeLeftTop:!0,floatOverlapDisabled:!1,collapseUnattributedElements:!0,customizationsOverwritePrivilege:!0,showAttributes:!0,convertPixels:"dp",insertSpaces:4,handleExtensionsAsync:!0,autoCloseOnWrite:!0,outputDirectory:"app/src/main",outputMainFileName:"activity_main.xml",outputArchiveFileType:"zip",outputMaxProcessingTime:30};let Mo,Do,Bo,ko=!1;function Xo(t){return ko&&!!t&&(t.closed||!(!Mo||!Mo.userSettings.autoCloseOnWrite||Mo.initialized||Mo.closed||(Mo.finalize(),0)))}const Vo={base:{Controller:St,File:Xt,Resource:v,View:Z},extensions:{Accessibility:Ht,CssGrid:jt,External:Kt,Flexbox:ne,Grid:re,List:ue,Relative:pe,Sprite:be,Table:Se,VerticalAlign:Re,WhiteSpace:xe,constraint:{Guideline:Pe},delegate:{Fixed:Ge,MaxWidthHeight:He,Percent:qe,RadioGroup:Ke,ScrollBar:on},resource:{Background:Tn,Dimens:Rn,Fonts:kn,Includes:Gn,Strings:Wn,Styles:Un,Svg:Oo}},lib:{constant:c,customization:x,enumeration:e,util:G},system:{customize(t,e,n){if(_[t]){const o=_[t].assign;void 0===o[e]&&(o[e]={}),Object.assign(o[e],n)}},addXmlNs(t,e){l[t]=e},writeLayoutAllXml:(t=!1)=>Do&&Xo(Mo)?Do.layoutAllToXml(Mo.sessionData,t):{},writeResourceAllXml:(t=!1)=>Do&&Xo(Mo)?Do.resourceAllToXml(t):{},writeResourceStringXml:(t=!1)=>Do&&Xo(Mo)?Do.resourceStringToXml(t):[],writeResourceArrayXml:(t=!1)=>Do&&Xo(Mo)?Do.resourceStringArrayToXml(t):[],writeResourceFontXml:(t=!1)=>Do&&Xo(Mo)?Do.resourceFontToXml(t):[],writeResourceColorXml:(t=!1)=>Do&&Xo(Mo)?Do.resourceColorToXml(t):[],writeResourceStyleXml:(t=!1)=>Do&&Xo(Mo)?Do.resourceStyleToXml(t):[],writeResourceDimenXml:(t=!1)=>Do&&Xo(Mo)?Do.resourceDimenToXml(t):[],writeResourceDrawableXml:(t=!1)=>Do&&Xo(Mo)?Do.resourceDrawableToXml(t):[],writeResourceDrawableImageXml:(t=!1)=>Do&&Xo(Mo)?Do.resourceDrawableImageToXml(t):[],writeResourceAnimXml:(t=!1)=>Do&&Xo(Mo)?Do.resourceAnimToXml(t):[]},create(){const t=squared.base.lib.constant.EXT_NAME,e=n;return Mo=new squared.base.Application(2,Z,St,v,wt),Do=new Xt(Mo.resourceHandler),Bo=Object.assign({},Lo),Object.assign(Mo.builtInExtensions,{[t.EXTERNAL]:new Kt(t.EXTERNAL,2),[t.SUBSTITUTE]:new Te(t.SUBSTITUTE,2),[t.SPRITE]:new be(t.SPRITE,2),[t.CSS_GRID]:new jt(t.CSS_GRID,2),[t.FLEXBOX]:new ne(t.FLEXBOX,2),[t.TABLE]:new Se(t.TABLE,2,["TABLE"]),[t.LIST]:new ue(t.LIST,2,["UL","OL","DL","DIV"]),[t.GRID]:new re(t.GRID,2,["FORM","UL","OL","DL","DIV","TABLE","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET","SPAN"]),[t.RELATIVE]:new pe(t.RELATIVE,2),[t.VERTICAL_ALIGN]:new Re(t.VERTICAL_ALIGN,2),[t.WHITESPACE]:new xe(t.WHITESPACE,2),[t.ACCESSIBILITY]:new Ht(t.ACCESSIBILITY,2),[e.CONSTRAINT_GUIDELINE]:new Pe(e.CONSTRAINT_GUIDELINE,2),[e.DELEGATE_FIXED]:new Ge(e.DELEGATE_FIXED,2),[e.DELEGATE_MAXWIDTHHEIGHT]:new He(e.DELEGATE_MAXWIDTHHEIGHT,2),[e.DELEGATE_PERCENT]:new qe(e.DELEGATE_PERCENT,2),[e.DELEGATE_RADIOGROUP]:new Ke(e.DELEGATE_RADIOGROUP,2),[e.DELEGATE_SCROLLBAR]:new on(e.DELEGATE_SCROLLBAR,2),[e.RESOURCE_INCLUDES]:new Gn(e.RESOURCE_INCLUDES,2),[e.RESOURCE_BACKGROUND]:new Tn(e.RESOURCE_BACKGROUND,2),[e.RESOURCE_SVG]:new Oo(e.RESOURCE_SVG,2),[e.RESOURCE_STRINGS]:new Wn(e.RESOURCE_STRINGS,2),[e.RESOURCE_FONTS]:new kn(e.RESOURCE_FONTS,2),[e.RESOURCE_DIMENS]:new Rn(e.RESOURCE_DIMENS,2),[e.RESOURCE_STYLES]:new Un(e.RESOURCE_STYLES,2)}),ko=!0,{application:Mo,framework:2,userSettings:Bo}},cached:()=>ko?{application:Mo,framework:2,userSettings:Bo}:Vo.create()};return Vo}();
