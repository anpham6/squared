var android=function(){"use strict";class t extends squared.base.ApplicationUI{}var e;!function(t){t[t.RADIO=1]="RADIO",t[t.CHECKBOX=2]="CHECKBOX",t[t.SELECT=3]="SELECT",t[t.SVG=4]="SVG",t[t.IMAGE=5]="IMAGE",t[t.BUTTON=6]="BUTTON",t[t.PROGRESS=7]="PROGRESS",t[t.RANGE=8]="RANGE",t[t.EDIT=9]="EDIT",t[t.TEXT=10]="TEXT",t[t.INLINE=11]="INLINE",t[t.LINE=12]="LINE",t[t.SPACE=13]="SPACE",t[t.BLOCK=14]="BLOCK",t[t.FRAME=15]="FRAME",t[t.LINEAR=16]="LINEAR",t[t.GRID=17]="GRID",t[t.RELATIVE=18]="RELATIVE",t[t.CONSTRAINT=19]="CONSTRAINT",t[t.WEBVIEW=20]="WEBVIEW",t[t.UNKNOWN=21]="UNKNOWN"}(e||(e={}));var n=Object.freeze({__proto__:null,get CONTAINER_NODE(){return e}});const i={EXTERNAL:"android.external",SUBSTITUTE:"android.substitute",DELEGATE_BACKGROUND:"android.delegate.background",DELEGATE_CSS_GRID:"android.delegate.css-grid",DELEGATE_MAXWIDTHHEIGHT:"android.delegate.max-width-height",DELEGATE_NEGATIVEX:"android.delegate.negative-x",DELEGATE_PERCENT:"android.delegate.percent",DELEGATE_POSITIVEX:"android.delegate.positive-x",DELEGATE_RADIOGROUP:"android.delegate.radiogroup",DELEGATE_SCROLLBAR:"android.delegate.scrollbar",DELEGATE_VERTICALALIGN:"android.delegate.verticalalign",CONSTRAINT_GUIDELINE:"android.constraint.guideline",RESOURCE_INCLUDES:"android.resource.includes",RESOURCE_BACKGROUND:"android.resource.background",RESOURCE_SVG:"android.resource.svg",RESOURCE_STRINGS:"android.resource.strings",RESOURCE_FONTS:"android.resource.fonts",RESOURCE_DIMENS:"android.resource.dimens",RESOURCE_STYLES:"android.resource.styles"},a={RADIO:"RadioButton",CHECKBOX:"CheckBox",EDIT_LIST:"AutoCompleteTextView",SELECT:"Spinner",EDIT:"EditText",SVG:"ImageView",IMAGE:"ImageView",BUTTON:"Button",RANGE:"SeekBar",METER:"ProgressBar",PROGRESS:"ProgressBar",TEXT:"TextView",LINE:"View",SPACE:"Space",FRAME:"FrameLayout",LINEAR:"LinearLayout",GRID:"GridLayout",RELATIVE:"RelativeLayout",WEBVIEW:"WebView",RADIOGROUP:"RadioGroup",HORIZONTAL_SCROLL:"HorizontalScrollView",VERTICAL_SCROLL:"android.support.v4.widget.NestedScrollView",CONSTRAINT:"android.support.constraint.ConstraintLayout",GUIDELINE:"android.support.constraint.Guideline",BARRIER:"android.support.constraint.Barrier"},o={VERTICAL_SCROLL:"androidx.core.widget.NestedScrollView",CONSTRAINT:"androidx.constraintlayout.widget.ConstraintLayout",GUIDELINE:"androidx.constraintlayout.widget.Guideline",BARRIER:"androidx.constraintlayout.widget.Barrier"},r={DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},s={DRAWER:"androidx.drawerlayout.widget.DrawerLayout",NAVIGATION_VIEW:"com.google.android.material.navigation.NavigationView",COORDINATOR:"androidx.coordinatorlayout.widget.CoordinatorLayout",APPBAR:"com.google.android.material.appbar.AppBarLayout",COLLAPSING_TOOLBAR:"com.google.android.material.appbar.CollapsingToolbarLayout",TOOLBAR:"androidx.appcompat.widget.Toolbar",FLOATING_ACTION_BUTTON:"com.google.android.material.floatingactionbutton.FloatingActionButton",BOTTOM_NAVIGATION:"com.google.android.material.bottomnavigation.BottomNavigationView"},l={PLAINTEXT:e.TEXT,HR:e.LINE,SVG:e.SVG,IMG:e.IMAGE,BUTTON:e.BUTTON,SELECT:e.SELECT,TEXTAREA:e.EDIT,METER:e.PROGRESS,PROGRESS:e.PROGRESS,IFRAME:e.WEBVIEW,INPUT_RANGE:e.RANGE,INPUT_TEXT:e.EDIT,INPUT_PASSWORD:e.EDIT,INPUT_NUMBER:e.EDIT,INPUT_EMAIL:e.EDIT,INPUT_SEARCH:e.EDIT,INPUT_URL:e.EDIT,INPUT_DATE:e.EDIT,INPUT_TEL:e.EDIT,INPUT_TIME:e.EDIT,INPUT_WEEK:e.EDIT,INPUT_MONTH:e.EDIT,INPUT_BUTTON:e.BUTTON,INPUT_FILE:e.BUTTON,INPUT_IMAGE:e.BUTTON,INPUT_COLOR:e.BUTTON,INPUT_SUBMIT:e.BUTTON,INPUT_RESET:e.BUTTON,INPUT_CHECKBOX:e.CHECKBOX,INPUT_RADIO:e.RADIO,INPUT_DATETIME_LOCAL:e.EDIT},c={relativeParent:{left:"layout_alignParentLeft",top:"layout_alignParentTop",right:"layout_alignParentRight",bottom:"layout_alignParentBottom",centerHorizontal:"layout_centerHorizontal",centerVertical:"layout_centerVertical"},relative:{left:"layout_alignLeft",top:"layout_alignTop",right:"layout_alignRight",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",leftRight:"layout_toRightOf",rightLeft:"layout_toLeftOf",topBottom:"layout_below",bottomTop:"layout_above"},constraint:{left:"layout_constraintLeft_toLeftOf",top:"layout_constraintTop_toTopOf",right:"layout_constraintRight_toRightOf",bottom:"layout_constraintBottom_toBottomOf",leftRight:"layout_constraintLeft_toRightOf",rightLeft:"layout_constraintRight_toLeftOf",baseline:"layout_constraintBaseline_toBaselineOf",topBottom:"layout_constraintTop_toBottomOf",bottomTop:"layout_constraintBottom_toTopOf"}},d={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",aapt:"http://schemas.android.com/aapt",tools:"http://schemas.android.com/tools"},h={MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft"},u={left:"start",right:"end",paddingLeft:"paddingStart",paddingRight:"paddingEnd",layout_marginLeft:"layout_marginStart",layout_marginRight:"layout_marginEnd",layout_alignParentLeft:"layout_alignParentStart",layout_alignParentRight:"layout_alignParentEnd",layout_alignLeft:"layout_alignStart",layout_alignRight:"layout_alignEnd",layout_toLeftOf:"layout_toStartOf",layout_toRightOf:"layout_toEndOf",layout_constraintLeft_toLeftOf:"layout_constraintStart_toStartOf",layout_constraintRight_toRightOf:"layout_constraintEnd_toEndOf",layout_constraintLeft_toRightOf:"layout_constraintStart_toEndOf",layout_constraintRight_toLeftOf:"layout_constraintEnd_toStartOf"},p=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"];var g=Object.freeze({__proto__:null,EXT_ANDROID:i,CONTAINER_ANDROID:a,CONTAINER_ANDROID_X:o,SUPPORT_ANDROID:r,SUPPORT_ANDROID_X:s,ELEMENT_ANDROID:l,LAYOUT_ANDROID:c,XMLNS_ANDROID:d,STRING_ANDROID:h,LOCALIZE_ANDROID:u,RESERVED_JAVA:p});const f=squared.lib,{findColorShade:m,parseColor:y}=f.color,{getSrcSet:b}=f.css,{CHAR:T,COMPONENT:S,CSS:E,FILE:v,XML:x}=f.regex,{fromLastIndexOf:A,isNumber:_,isPlainObject:w,isString:R,resolvePath:I,spliceArray:N,trimString:C}=f.util,L=squared.base.ResourceUI.STORED,P=/[^\w+]/g;let k={};function O(t,e=!1){var n;if(t)for(const i in t)if(w(t[i]))O(t,e);else{let a=null===(n=t[i])||void 0===n?void 0:""+n;if(a){switch(i){case"text":if(a.startsWith("@string/"))continue;a=M.addString(a,"",e),""!==a&&(t[i]=`@string/${a}`);break;case"src":case"srcCompat":S.PROTOCOL.test(a)&&(a=M.addImage({mdpi:a}),""!==a&&(t[i]=`@drawable/${a}`));continue}const n=y(a);if(n){const e=M.addColor(n);""!==e&&(t[i]=`@color/${e}`)}}}}class M extends squared.base.ResourceUI{constructor(t,e){super(),this.application=t,this.cache=e,L.styles=new Map,L.themes=new Map,L.dimens=new Map,L.drawables=new Map,L.animators=new Map,this.controllerSettings=t.controllerHandler.localSettings,this._imageFormat=N(this.controllerSettings.supported.imageFormat.slice(0),t=>"svg"===t)}static formatOptions(t,e=!1){for(const n in t){const i=t[n];w(i)&&O(i,e)}return t}static formatName(t){return T.LEADINGNUMBER.test(t)&&(t="__"+t),t.replace(P,"_")}static addTheme(t,e="res/values",n="themes.xml"){const i=L.themes,{items:a,output:o}=t;o&&(R(o.path)&&(e=o.path.trim()),R(o.file)&&(n=o.file.trim()));const r=C(e,"/")+"/"+C(n,"/"),s=i.get(r)||new Map;let l=t.name,c="";if(""===l||"."===l.charAt(0)){t:for(const t of i.values())for(const e of t.values())if(e.name){c=e.name;break t}if(""===c)return!1}else c=l;l=c+("."===l.charAt(0)?l:""),t.name=l,M.formatOptions(a);const d=s.get(l);if(d){const t=d.items;for(const e in a)t[e]=a[e]}else s.set(l,t);return i.set(r,s),!0}static addString(t,e="",n=!1){if(""!==t){""===e&&(e=t.trim());const i=_(t);if(!i||n){const n=L.strings;for(const[e,i]of n.entries())if(i===t)return e;const a=C(e.replace(x.NONWORD_G,"_"),"_").split(/_+/);a.length>1?(a.length>4&&(a.length=4),e=a.join("_")):e=a[0],e=e.toLowerCase(),i||T.LEADINGNUMBER.test(e)||p.includes(e)?e="__"+e:""===e&&(e="__symbol"+Math.ceil(1e5*Math.random())),n.has(e)&&(e=M.generateId("string",e)),n.set(e,t)}return e}return""}static addImage(t,e="",n){const i=t.mdpi;if(i){if(1===Object.keys(t).length){const t=k[i];if(t)return t}const a=A(i,"/"),o=A(a,".").toLowerCase();if(void 0===n||n.includes(o)){const n=M.insertStoredAsset("images",M.formatName(e+a.substring(0,a.length-o.length-1)),t);return k[i]=n,n}}return""}static addColor(t,e=!1){if("string"==typeof t&&(t=y(t,1,e)),t&&(!t.transparent||e)){const e=t.opacity<1?t.valueAsARGB:t.value;let n=L.colors.get(e);if(n)return n;const i=m(t.value);if(i)return n=e===i.value?i.key:M.generateId("color",i.key),L.colors.set(e,n),n}return""}reset(){super.reset(),k={}}addImageSrc(t,e="",n){const i={};let a;if("string"==typeof t){const n=E.URL.exec(t);if(n&&(a=n[1],!a.startsWith("data:image/")))return this.addImageSet({mdpi:I(a)},e)}else{if(t.srcset){void 0===n&&(n=b(t,this._imageFormat));for(const t of n){const e=t.pixelRatio;if(e>0){const n=t.src;e<1?i.ldpi=n:1===e?(void 0===a||t.actualWidth)&&(a=n):e<=1.5?i.hdpi=n:e<=2?i.xhdpi=n:e<=3?i.xxhdpi=n:i.xxxhdpi=n}}}void 0===a&&(a=t.src)}if(a){i.mdpi=a;const t=this.application.resourceHandler,n=t.getRawData(a);if(n){const{base64:i,filename:a}=n;if(i){if(v.SVG.test(a))return"";const n=e+a;return t.writeRawImage(n,i),n.substring(0,n.lastIndexOf("."))}}}return this.addImageSet(i,e)}addImageSet(t,e){return M.addImage(t,e,this._imageFormat)}get userSettings(){return this.application.userSettings}}const{isString:B}=squared.lib.util;function D(t,e,n,i=0){return(!n||n>=i)&&(t.attr=e,!0)}const W={29:{android:{},assign:{}},28:{android:{allowAudioPlaybackCapture:!1,enforceNavigationBarContrast:!1,enforceStatusBarContrast:!1,forceDarkAllowed:!1,forceUriPermissions:!1,foregroundServiceType:!1,hasFragileUserData:!1,identifier:!1,inheritShowWhenLocked:!1,interactiveUiTimeout:!1,isLightTheme:!1,isSplitRequired:!1,minAspectRatio:!1,nonInteractiveUiTimeout:!1,opticalInsetBottom:!1,opticalInsetLeft:!1,opticalInsetRight:!1,opticalInsetTop:!1,packageType:!1,requestLegacyExternalStorage:!1,secureElementName:!1,selectionDividerHeight:!1,settingsSliceUri:!1,shell:!1,supportsMultipleDisplays:!1,textLocale:!1,useAppZygote:!1,useEmbeddedDex:!1,zygotePreloadName:!1},assign:{}},27:{android:{accessibilityHeading:!1,accessibilityPaneTitle:!1,appComponentFactory:!1,buttonCornerRadius:!1,cantSaveState:!1,dialogCornerRadius:!1,fallbackLineSpacing:!1,firstBaselineToTopHeight:!1,fontVariationSettings:!1,lastBaselineToBottomHeight:!1,lineHeight:!1,maxLongVersionCode:!1,outlineAmbientShadowColor:!1,outlineSpotShadowColor:!1,screenReaderFocusable:!1,textFontWeight:!1,ttcIndex:!1,versionCodeMajor:!1,versionMajor:!1,widgetFeatures:!1,windowLayoutInDisplayCutoutMode:!1},assign:{}},26:{android:{classLoader:!1,navigationBarDividerColor:!1,showWhenLocked:!1,turnScreenOn:!1,windowLightNavigationBar:!1},assign:{}},25:{android:{fontWeight:!1,justificationMode:!1,layout_marginHorizontal:!1,layout_marginVertical:!1,paddingHorizontal:!1,paddingVertical:!1,tooltipText:!1},assign:{}},24:{android:{colorSecondary:!1,contextDescription:!1,contextUri:!1,roundIcon:!1,shortcutDisabledMessage:!1,shortcutId:!1,shortcutLongLabel:!1,shortcutShortLabel:!1,showMetadataInPreview:!1},assign:{}},23:{android:{backupInForeground:!1,bitmap:!1,buttonGravity:!1,canControlMagnification:!1,canPerformGestures:!1,canRecord:!1,collapseIcon:!1,contentInsetEndWithActions:!1,contentInsetStartWithNavigation:!1,contextPopupMenuStyle:!1,countDown:!1,defaultHeight:!1,defaultToDeviceProtectedStorage:!1,defaultWidth:!1,directBootAware:!1,enableVrMode:!1,endX:!1,endY:!1,externalService:!1,fillType:!1,forceHasOverlappingRendering:!1,hotSpotX:!1,hotSpotY:!1,languageTag:!1,level:!1,listMenuViewStyle:!1,maxButtonHeight:!1,networkSecurityConfig:!1,numberPickerStyle:!1,offset:!1,pointerIcon:!1,popupEnterTransition:!1,popupExitTransition:!1,preferenceFragmentStyle:!1,resizeableActivity:!1,startX:!1,startY:!1,subMenuArrow:!1,supportsLocalInteraction:!1,supportsPictureInPicture:!1,textAppearancePopupMenuHeader:!1,tickMark:!1,tickMarkTint:!1,tickMarkTintMode:!1,titleMargin:!1,titleMarginBottom:!1,titleMarginEnd:!1,titleMarginStart:!1,titleMarginTop:!1,tunerCount:!1,use32bitAbi:!1,version:!1,windowBackgroundFallback:!1},assign:{}},22:{android:{allowUndo:!1,autoVerify:!1,breakStrategy:!1,colorBackgroundFloating:!1,contextClickable:!1,drawableTint:!1,drawableTintMode:!1,end:t=>D(t,"right"),extractNativeLibs:!1,fingerprintAuthDrawable:!1,fraction:!1,fullBackupContent:!1,hyphenationFrequency:!1,lockTaskMode:!1,logoDescription:!1,numbersInnerTextColor:!1,scrollIndicators:!1,showForAllUsers:!1,start:t=>D(t,"left"),subtitleTextColor:!1,supportsAssist:!1,supportsLaunchVoiceAssistFromKeyguard:!1,thumbPosition:!1,titleTextColor:!1,trackTint:!1,trackTintMode:!1,usesCleartextTraffic:!1,windowLightStatusBar:!1},assign:{}},21:{android:{accessibilityTraversalAfter:!1,accessibilityTraversalBefore:!1,collapseContentDescription:!1,dialogPreferredPadding:!1,resizeClip:!1,revisionCode:!1,searchHintIcon:!1},assign:{}},20:{android:{actionBarPopupTheme:!1,actionBarTheme:!1,actionModeFindDrawable:!1,actionModeShareDrawable:!1,actionModeWebSearchDrawable:!1,actionOverflowMenuStyle:!1,amPmBackgroundColor:!1,amPmTextColor:!1,ambientShadowAlpha:!1,autoRemoveFromRecents:!1,backgroundTint:!1,backgroundTintMode:!1,banner:!1,buttonBarNegativeButtonStyle:!1,buttonBarNeutralButtonStyle:!1,buttonBarPositiveButtonStyle:!1,buttonTint:!1,buttonTintMode:!1,calendarTextColor:!1,checkMarkTint:!1,checkMarkTintMode:!1,closeIcon:!1,colorAccent:!1,colorButtonNormal:!1,colorControlActivated:!1,colorControlHighlight:!1,colorControlNormal:!1,colorEdgeEffect:!1,colorPrimary:!1,colorPrimaryDark:!1,commitIcon:!1,contentAgeHint:!1,contentInsetEnd:!1,contentInsetLeft:!1,contentInsetRight:!1,contentInsetStart:!1,controlX1:!1,controlX2:!1,controlY1:!1,controlY2:!1,country:!1,datePickerDialogTheme:!1,datePickerMode:!1,dayOfWeekBackground:!1,dayOfWeekTextAppearance:!1,documentLaunchMode:!1,elegantTextHeight:!1,elevation:!1,excludeClass:!1,excludeId:!1,excludeName:!1,fastScrollStyle:!1,fillAlpha:!1,fillColor:!1,fontFeatureSettings:!1,foregroundTint:!1,foregroundTintMode:!1,fragmentAllowEnterTransitionOverlap:!1,fragmentAllowReturnTransitionOverlap:!1,fragmentEnterTransition:!1,fragmentExitTransition:!1,fragmentReenterTransition:!1,fragmentReturnTransition:!1,fragmentSharedElementEnterTransition:!1,fragmentSharedElementReturnTransition:!1,fromId:!1,fullBackupOnly:!1,goIcon:!1,headerAmPmTextAppearance:!1,headerDayOfMonthTextAppearance:!1,headerMonthTextAppearance:!1,headerTimeTextAppearance:!1,headerYearTextAppearance:!1,hideOnContentScroll:!1,indeterminateTint:!1,indeterminateTintMode:!1,inset:!1,isGame:!1,launchTaskBehindSourceAnimation:!1,launchTaskBehindTargetAnimation:!1,layout_columnWeight:!1,layout_rowWeight:!1,letterSpacing:!1,matchOrder:!1,maxRecentsv:!1,maximumAngle:!1,minimumHorizontalAngle:!1,minimumVerticalAngle:!1,multiArch:!1,navigationBarColor:!1,navigationContentDescription:!1,navigationIcon:!1,nestedScrollingEnabled:!1,numbersBackgroundColor:!1,numbersSelectorColor:!1,numbersTextColor:!1,outlineProvider:!1,overlapAnchor:!1,paddingMode:!1,pathData:!1,patternPathData:!1,persistableMode:!1,popupElevation:!1,popupTheme:!1,progressBackgroundTint:!1,progressBackgroundTintMode:!1,progressTint:!1,progressTintMode:!1,propertyXName:!1,propertyYName:!1,queryBackground:!1,recognitionService:!1,relinquishTaskIdentity:!1,reparent:!1,reparentWithOverlay:!1,restrictionType:!1,resumeWhilePausing:!1,reversible:!1,searchIcon:!1,searchViewStyle:!1,secondaryProgressTint:!1,secondaryProgressTintMode:!1,selectableItemBackgroundBorderless:!1,sessionService:!1,setupActivity:!1,showText:!1,slideEdge:!1,splitTrack:!1,spotShadowAlpha:!1,src:(t,e,n)=>(n.svgElement&&(t.obj="app",t.attr="srcCompat"),!0),stackViewStyle:!1,stateListAnimator:!1,statusBarColor:!1,strokeAlpha:!1,strokeColor:!1,strokeLineCap:!1,strokeLineJoin:!1,strokeMiterLimit:!1,strokeWidth:!1,submitBackground:!1,subtitleTextAppearance:!1,suggestionRowLayout:!1,switchStyle:!1,targetName:!1,textAppearanceListItemSecondary:!1,thumbTint:!1,thumbTintMode:!1,tileModeX:!1,tileModeY:!1,timePickerDialogTheme:!1,timePickerMode:!1,timePickerStyle:!1,tintMode:!1,titleTextAppearance:!1,toId:!1,toolbarStyle:!1,touchscreenBlocksFocus:!1,transitionGroup:!1,transitionName:!1,transitionVisibilityMode:!1,translateX:!1,translateY:!1,translationZ:!1,trimPathEnd:!1,trimPathOffset:!1,trimPathStart:!1,viewportHeight:!1,viewportWidth:!1,voiceIcon:!1,windowActivityTransitions:!1,windowAllowEnterTransitionOverlap:!1,windowAllowReturnTransitionOverlap:!1,windowClipToOutline:!1,windowContentTransitionManager:!1,windowContentTransitions:!1,windowDrawsSystemBarBackgrounds:!1,windowElevation:!1,windowEnterTransition:!1,windowExitTransition:!1,windowReenterTransition:!1,windowReturnTransition:!1,windowSharedElementEnterTransition:!1,windowSharedElementExitTransition:!1,windowSharedElementReenterTransition:!1,windowSharedElementReturnTransition:!1,windowSharedElementsUseOverlay:!1,windowTransitionBackgroundFadeDuration:!1,yearListItemTextAppearance:!1,yearListSelectorColor:!1},assign:{}},19:{android:{allowEmbedded:!1,windowSwipeToDismiss:!1},assign:{}},18:{android:{accessibilityLiveRegion:!1,addPrintersActivity:!1,advancedPrintOptionsActivity:!1,apduServiceBanner:!1,autoMirrored:!1,category:!1,fadingMode:!1,fromScene:!1,isAsciiCapable:!1,keySet:!1,requireDeviceUnlock:!1,ssp:!1,sspPattern:!1,sspPrefix:!1,startDelay:!1,supportsSwitchingToNextInputMethod:!1,targetId:!1,toScene:!1,transition:!1,transitionOrdering:!1,vendor:!1,windowTranslucentNavigation:!1,windowTranslucentStatus:!1},assign:{}},17:{android:{canRequestEnhancedWebAccessibility:(t,e)=>e<26,canRequestFilterKeyEvents:!1,canRequestTouchExplorationMode:!1,childIndicatorEnd:!1,childIndicatorStart:!1,indicatorEnd:!1,indicatorStart:!1,layoutMode:!1,mipMap:!1,mirrorForRtl:!1,requiredAccountType:!1,requiredForAllUsers:!1,restrictedAccountType:!1,windowOverscan:!1},assign:{}},16:{android:{checkedTextViewStyle:!1,format12Hour:!1,format24Hour:!1,initialKeyguardLayout:!1,labelFor:!1,layoutDirection:!1,layout_alignEnd:t=>D(t,"layout_alignRight"),layout_alignParentEnd:t=>D(t,"layout_alignParentRight"),layout_alignParentStart:t=>D(t,"layout_alignParentLeft"),layout_alignStart:t=>D(t,"layout_alignLeft"),layout_marginEnd:t=>D(t,"layout_marginRight"),layout_marginStart:t=>D(t,"layout_marginLeft"),layout_toEndOf:t=>D(t,"layout_toRightOf"),layout_toStartOf:t=>D(t,"layout_toLeftOf"),listPreferredItemPaddingEnd:t=>D(t,"listPreferredItemPaddingRight"),listPreferredItemPaddingStart:t=>D(t,"listPreferredItemPaddingLeft"),paddingEnd:t=>D(t,h.PADDING_RIGHT),paddingStart:t=>D(t,h.PADDING_LEFT),permissionFlags:!1,permissionGroupFlags:!1,presentationTheme:!1,showOnLockScreen:!1,singleUser:!1,subtypeId:!1,supportsRtl:!1,textAlignment:!1,textDirection:!1,timeZone:!1,widgetCategory:!1},assign:{}},15:{android:{fontFamily:!1,importantForAccessibility:!1,isolatedProcess:!1,keyboardLayout:!1,mediaRouteButtonStyle:!1,mediaRouteTypes:!1,parentActivityName:!1},assign:{}},14:{android:{},assign:{}},0:{android:{},assign:{Button:{android:{textAllCaps:"false"}}}}},X={android:{amPmBackgroundColor:(t,e)=>D(t,"headerBackground",e,23),amPmTextColor:(t,e)=>D(t,"headerTextColor",e,23),animationResolution:(t,e)=>e<16,canRequestEnhancedWebAccessibility:(t,e)=>e<26,dayOfWeekBackground:(t,e)=>e<23,dayOfWeekTextAppearance:(t,e)=>e<23,directionDescriptions:(t,e)=>e<23,headerAmPmTextAppearance:(t,e)=>D(t,"headerTextColor",e,23),headerDayOfMonthTextAppearance:(t,e)=>D(t,"headerTextColor",e,23),headerMonthTextAppearance:(t,e)=>D(t,"headerTextColor",e,23),headerTimeTextAppearance:(t,e)=>D(t,"headerTextColor",e,23),headerYearTextAppearance:(t,e)=>D(t,"headerTextColor",e,23),showOnLockScreen:(t,e)=>D(t,"showForAllUsers",e,23),targetDescriptions:(t,e)=>e<23,yearListItemTextAppearance:(t,e)=>D(t,"yearListTextColor",e,23),yearListSelectorColor:(t,e)=>e<23}};var G=Object.freeze({__proto__:null,API_ANDROID:W,DEPRECATED_ANDROID:X,getValue:function(t,e,n,i){var a,o;for(const r of[W[t],W[0]]){const t=null===(o=null===(a=r.assign[e])||void 0===a?void 0:a[n])||void 0===o?void 0:o[i];if(B(t))return t}return""}});const H=squared.lib,{truncate:V}=H.math,{capitalize:F,convertCamelCase:z,isPlainObject:U}=H.util,q=/^@\+?id\//;function j(t,e,n=3){return 0===t?0:0===e?1:parseFloat(V(Math.max(t/(t+e),0),n))}function Y(t,e=!1,n=3){return"string"==typeof t&&(t=parseFloat(t)||0),e?V(t,n)+"sp":Math.round(t)+"dp"}function $(t){return t.replace(q,"")}function K(t){switch(t){case"left":case"start":case"right":case"end":case"center_horizontal":return!0}return!1}function Z(t){switch(t){case"top":case"bottom":case"center_vertical":return!0}return!1}function J(t,e){const n={};e=z(e,".");for(const i in t)i.startsWith(e)&&(n[F(i.substring(e.length),!1)]=t[i]);return n}function Q(t,e){if(void 0===e?e={android:{}}:void 0===e.android&&(e.android={}),t){const{android:n,app:i}=t;n&&Object.assign(e.android,n),i&&(void 0===e.app&&(e.app={}),Object.assign(e.app,i))}return e}function tt(t){const e={output:{path:"res/values",file:""},name:"",parent:"",items:{}};if(U(t))for(const n in e)typeof t[n]==typeof e[n]&&(e[n]=t[n]);return e}function et(t,e,n){return e&&n>=17&&u[t]||t}function nt(t){return d[t]?`xmlns:${t}="${d[t]}"`:""}function it(t){let e="";for(const n in d)t.includes(n+":")&&(e+="\n\t"+nt(n));return e}var at=Object.freeze({__proto__:null,convertLength:Y,getDocumentId:$,isHorizontalAlign:K,isVerticalAlign:Z,getDataSet:J,getHorizontalBias:function(t){const e=t.documentParent.box;return j(Math.max(0,t.actualRect("left","bounds")-e.left),Math.max(0,e.right-t.actualRect("right","bounds")),t.localSettings.floatPrecision)},getVerticalBias:function(t){const e=t.documentParent.box;return j(Math.max(0,t.actualRect("top","bounds")-e.top),Math.max(0,e.bottom-t.actualRect("bottom","bounds")),t.localSettings.floatPrecision)},createViewAttribute:Q,createStyleAttribute:tt,localizeString:et,getXmlNs:nt,getRootNs:it});const ot=squared.lib,{BOX_MARGIN:rt,BOX_PADDING:st,formatPX:lt,isLength:ct,isPercent:dt}=ot.css,{createElement:ht,getNamedItem:ut,newBoxModel:pt}=ot.dom,{clamp:gt,truncate:ft}=ot.math,{actualTextRangeRect:mt}=ot.session,{capitalize:yt,convertFloat:bt,convertInt:Tt,convertWord:St,fromLastIndexOf:Et,isNumber:vt,isPlainObject:xt,isString:At,replaceMap:_t}=ot.util,{NODE_PROCEDURE:wt}=squared.base.lib.enumeration,Rt=squared.base.ResourceUI,It=X.android,{constraint:Nt,relative:Ct,relativeParent:Lt}=c,Pt=/^attr[A-Z]/,kt=/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/,Ot=/[^\w$\-_.]/g,Mt=/^rect\(0[a-z]*, 0[a-z]*, 0[a-z]*, 0[a-z]*\)$/;function Bt(t,e){switch(t){case"left":case"start":return e?"":t;case"center":return"center_horizontal";case"justify":case"initial":case"inherit":return""}return t}function Dt(t,e){const n=new Set,i=t.android(e);if(""!==i)for(const t of i.split("|"))n.add(t);return n}function Wt(t,e){return!(!e.horizontal||t.blockWidth&&!t.hasWidth&&!t.hasPX("maxWidth")&&!t.innerMostWrapped.has("width",{type:4,not:"100%"}))&&(t.mergeGravity(!t.blockWidth&&t.pageFlow||void 0!==t.outerWrapper?"layout_gravity":"gravity",e.leftRight?"center_horizontal":e.left?"right":"left"),!0)}function Xt(t,e,n){const i=Ft(t,e);if(t.api>=28)t.android("lineHeight",lt(e),n);else{if(!(i>0))return;t.android("lineSpacingExtra",lt(i),n)}const a=Math.round(i);a>0&&(t.modifyBox(t.inline?2:32,a),t.block&&!t.floating||t.modifyBox(t.inline?8:128,Math.floor(i)))}function Gt(t,e,n,i,a){const o=t.cssInitial("lineHeight");if(!t.imageOrSvgElement&&!t.renderChildren.length&&0!==t.actualHeight&&"initial"!==o)if(t.multiline)Xt(t,e,!1);else{const r=(e,r=!1)=>{let s=Math.round(e);if(s>0){const l=n&&(t.styleText||r)&&!t.inline&&!(t.inputElement&&!ct(o,!0));i&&(l?s>0&&t.modifyBox(32,s):!n&&t.baselineAltered||(s-=t.paddingTop,s>0&&t.modifyBox(2,s))),a&&(e=Math.floor(e),l?e>0&&t.modifyBox(128,e):(e-=t.paddingBottom)>0&&t.modifyBox(8,e))}},s=t.height;if(e===s)t.mergeGravity("gravity","center_vertical",!1);else if(s>0)if(t.styleText)r(Ft(t,e));else{const n=e/2-t.paddingTop;n>0&&t.modifyBox(32,n)}else if(t.textElement)r(Ft(t,e));else if(t.inputElement){const n=ht(document.body,"div",Object.assign(Object.assign({},t.textStyle),{visibility:"hidden"}));n.innerText="AgjpyZ";const i=mt(n).height;document.body.removeChild(n);let a=1;switch(t.tagName){case"SELECT":a=t.toElementInt("size",1);break;case"TEXTAREA":a=t.toElementInt("rows",1)}r((e-i*Math.max(a,1))/2,!0)}else r((e-t.bounds.height)/2)}}function Ht(t,e){if("0px"===e){const e=t.renderParent;return!!e&&(e.layoutConstraint||e.layoutGrid)}return!1}function Vt(t,e){const n=t+"_horizontal",i=t+"_vertical";(e.has(t)||e.has(n)&&e.has(i))&&(e.delete(n),e.delete(i),e.add(t))}function Ft(t,e){let n=NaN;if(t.styleText){const e=t.cssTryAll({display:"inline-block",height:"auto","max-height":"none","min-height":"auto","line-height":"normal","white-space":"nowrap"});e&&(n=mt(t.element).height,t.cssFinallyAll(e))}else if(t.plainText){const e=t.bounds;n=e.height/(e.numberOfLines||1)}return(e-(isNaN(n)?t.boundingClientRect.height:n))/2}function zt(t,e){if(t.support.maxDimension&&(e&&t.floating||!e))return;if(!t.hasPX(e?"width":"height",!1)){const n=t.cssInitial(e?"minWidth":"minHeight",!0);ct(n,!0)&&parseFloat(n)>0&&(e?Kt(t)&&(t.setLayoutWidth("0px",!1),t.flexibleWidth&&(t.app("layout_constraintWidth_min",lt(t.parseWidth(n)+t.contentBoxWidth)),t.css("minWidth","auto"))):Zt(t)&&(t.setLayoutHeight("0px",!1),t.flexibleHeight&&(t.app("layout_constraintHeight_min",lt(t.parseHeight(n)+t.contentBoxHeight)),t.css(e?"minWidth":"minHeight","auto"))))}const n=t.cssInitial(e?"maxWidth":"maxHeight",!0);if(ct(n,!0)&&"100%"!==n)if(e){if(Kt(t)){const e=t.parseWidth(n);(e>t.width||t.percentWidth>0)&&(t.setLayoutWidth("0px"),t.app("layout_constraintWidth_max",lt(e+(t.contentBox?t.contentBoxWidth:0))),t.css("maxWidth","auto"))}}else if(Zt(t)){const e=t.parseHeight(n);(e>t.height||t.percentHeight>0)&&(t.setLayoutHeight("0px"),t.app("layout_constraintHeight_max",lt(e+(t.contentBox?t.contentBoxHeight:0))),t.css("maxHeight","auto"))}}function Ut(t,e,n,i){if(e<1&&!isNaN(i)&&t.pageFlow){const a=t.actualParent||t.documentParent;let o,r;if(n){const e=a.box.width;o=a.gridElement?0:t.contentBoxWidth/e,r=(Math.max(t.marginLeft,0)+t.marginRight)/e}else{const e=a.box.height;o=a.gridElement?0:t.contentBoxHeight/e,r=(Math.max(t.marginTop,0)+t.marginBottom)/e}1===i&&e+r>=i?e=i-r:(o>0&&(i<o?(o=Math.max(i,0),i=0):i-=o),0===i?o-=r:i=Math.max(i-r,0),e=Math.min(e+o,1))}return 1!==e||t.hasPX(n?"maxWidth":"maxHeight")?(t.app(n?"layout_constraintWidth_percent":"layout_constraintHeight_percent",ft(e,t.localSettings.floatPrecision)),qt(t,"0px",n,!1)):qt(t,"match_parent",n,!1),i}function qt(t,e,n,i){n?t.setLayoutWidth(e,i):t.setLayoutHeight(e,i)}function jt(t,e,n){const i=e?t.percentWidth:t.percentHeight;return i>0?Ut(t,i,e,n):n}function Yt(t,e=1){const n=t.percentWidth;if(n>0)if(t.renderParent.hasPX("width",!1)&&!(t.actualParent||t.documentParent).layoutElement)n<1?t.setLayoutWidth(lt(t.actualWidth)):t.setLayoutWidth("match_parent",!1);else if(!t.inputElement)return jt(t,!0,e);return e}function $t(t,e=1){const n=t.percentHeight;if(n>0)if(t.renderParent.hasPX("height",!1)&&!(t.actualParent||t.documentParent).layoutElement)n<1?t.setLayoutHeight(lt(t.actualHeight)):t.setLayoutHeight("match_parent",!1);else if(!t.inputElement)return jt(t,!1,e);return e}function Kt(t){if(t.documentRoot&&(t.hasWidth||t.blockStatic||t.blockWidth))return!0;let n=t.renderParent,i=0;for(;n;){if(!n.inlineWidth&&(n.hasWidth||parseInt(n.layoutWidth)>0||n.of(e.CONSTRAINT,64)||n.documentRoot&&(n.blockWidth||n.blockStatic)))return!0;if(n.flexibleWidth){if(++i>1)return!1}else if(n.inlineWidth||n.naturalElement&&n.inlineVertical)return!1;n=n.renderParent}return!1}function Zt(t){var e;if(t.documentRoot&&t.hasHeight)return!0;const n=t.renderParent;return!!n&&(n.hasHeight||n.layoutConstraint&&n.blockHeight)||!0===(null===(e=t.absoluteParent)||void 0===e?void 0:e.hasHeight)}const Jt=t=>0===t.bounds.width&&0===t.contentBoxWidth&&t.textEmpty&&0===t.marginLeft&&0===t.marginRight&&!t.visibleStyle.background,Qt=t=>0===t.bounds.height&&0===t.contentBoxHeight&&(0===t.marginTop&&0===t.marginBottom||"hidden"===t.css("overflow"));var te=t=>class n extends t{constructor(t=0,e="0",n,i){super(t,e,n),this.api=29,this.renderChildren=[],this.constraint={horizontal:!1,vertical:!1,current:{}},this._namespaces=["android","app"],this._cached={},this._containerType=0,this._controlName="",this._boxAdjustment=pt(),this._boxReset=pt(),this.__android={},this.__app={},this.init(),i?(i(this),this._localization=this.hasProcedure(wt.LOCALIZATION)&&this.localSettings.supportRTL):this._localization=!1}static setConstraintDimension(t,e=NaN){return e=Yt(t,e),$t(t,1),t.inputElement||(zt(t,!0),zt(t,!1)),e}static setFlexDimension(t,e){const{grow:n,basis:i,shrink:a}=t.flexbox,o="width"===e,r=e=>n>0?(t.app(o?"layout_constraintHorizontal_weight":"layout_constraintVertical_weight",ft(n,t.localSettings.floatPrecision)),!0):(e>0&&(a>1?e/=a:a>1&&(e*=1-a),t.app(o?"layout_constraintWidth_min":"layout_constraintHeight_min",lt(e))),!1);if(ct(i))r(t.parseUnit(i,e)),qt(t,"0px",o,!0);else if("0%"!==i&&dt(i)){r(0);const e=parseFloat(i)/100;Ut(t,e,!!o,NaN)}else{let n=!1;t.hasFlex(o?"row":"column")&&(n=r(t.hasPX(e,!1)?o?t.actualWidth:t.actualHeight:0),n&&qt(t,"0px",o,!0)),n||(o?Yt(t,0):$t(t,0))}a>1&&t.app(o?"layout_constrainedWidth":"layout_constrainedHeight","true"),o&&$t(t),t.inputElement||t.imageOrSvgElement||(zt(t,!0),zt(t,!1))}static availablePercent(t,e,n){const i="width"===e;let a=1,o=0;for(let r of t)if(r=r.innerMostWrapped,r.pageFlow){if(o++,r.hasPX(e,!0,!0)){const t=r.cssInitial(e);if(dt(t)){a-=parseFloat(t)/100;continue}if(ct(t)){a-=i?Math.max(r.actualWidth+r.marginLeft+r.marginRight,0)/n:Math.max(r.actualHeight+r.marginTop+r.marginBottom,0)/n;continue}}a-=r.linear[e]/n}return o>0?Math.max(0,a):1}static getControlName(t,n=29){const i=e[t];return n>=29&&o[i]||a[i]}setControlType(t,n){this.controlName=t,n?this._containerType=n:0===this._containerType&&(this._containerType=e.UNKNOWN)}setLayout(){if(this.plainText)return this.setLayoutWidth("wrap_content",!1),void this.setLayoutHeight("wrap_content",!1);switch(this.css("visibility")){case"visible":break;case"hidden":this.hide({hidden:!0});break;case"collapse":this.hide({collapse:!0})}Mt.test(this.css("clip"))&&this.hide({collapse:!0});const t=this.actualParent||this.documentParent,i=this.renderParent,a=!i.inlineWidth,o=!i.inlineHeight,r=this.support.maxDimension,s=!i.layoutConstraint||i.flexibleWidth||i.inlineWidth&&!this.renderChildren.length||this.onlyChild||(this.textElement||this.inputElement||this.controlElement||!this.alignParent("left")||!this.alignParent("right"))&&""===this.alignSibling("leftRight")&&""===this.alignSibling("rightLeft")?"match_parent":"0px";let{layoutWidth:l,layoutHeight:c}=this;if(""===l){if(!this.hasPX("width")||this.inlineStatic&&""!==this.cssInitial("width")){if(this.length)switch(this.cssInitial("width")){case"max-content":case"fit-content":this.renderEach(t=>{t.hasPX("width")||t.hasPX("maxWidth")||t.setLayoutWidth("wrap_content")}),l="wrap_content";break;case"min-content":{const t=[];let e=0;if(this.renderEach(n=>{!n.textElement||n.hasPX("width")?e=Math.max(n.actualWidth,e):(e=Math.max(n.width,e),n.support.maxDimension&&t.push(n))}),e>0&&t.length){const n=lt(e);for(const e of t)e.hasPX("maxWidth")||e.css("maxWidth",n)}l="wrap_content";break}}}else{const e=this.css("width");let o=-1;if(dt(e)){const c=()=>"100%"===e&&a&&(r||!this.hasPX("maxWidth"));if(this.inputElement)c()?l=s:o=this.actualWidth;else if(i.layoutConstraint)a?c()?l=s:(n.setConstraintDimension(this,1),l=this.layoutWidth):o=this.actualWidth;else if(i.layoutGrid)l="0px",this.android("layout_columnWeight",ft(parseFloat(e)/100,this.localSettings.floatPrecision));else if(this.imageElement)c()?l=s:o=this.bounds.width;else if("100%"===e){if(!r&&this.hasPX("maxWidth")){const e=this.css("maxWidth"),n=this.parseWidth(e),i=this.absoluteParent||t;"100%"===e?a&&Math.ceil(n)>=i.box.width?l=s:o=Math.min(this.actualWidth,n):n>0&&(this.blockDimension?o=Math.min(this.actualWidth,n):l=Math.floor(n)<i.box.width?"wrap_content":s)}""===l&&(this.documentRoot||a)&&(l=s)}else o=this.actualWidth}else ct(e)&&(o=this.actualWidth);-1!==o&&(l=lt(o))}if(""===l)if(this.textElement&&this.textEmpty&&!this.visibleStyle.backgroundImage)l=lt(this.actualWidth);else if(this.imageElement&&this.hasHeight)l="wrap_content";else if(a&&(this.nodeGroup&&(i.layoutFrame&&(this.hasAlign(512)||this.hasAlign(2048))||this.hasAlign(32768))||this.layoutGrid&&this.some(t=>t.flexibleWidth)))l="match_parent";else if(!this.imageElement&&!this.inputElement&&!this.controlElement){const e=e=>{var n;if(t.pageFlow||!this.some(t=>t.textElement)){if(this.styleText){if((null===(n=this.textBounds)||void 0===n?void 0:n.numberOfLines)>1)return void(e&&(l="match_parent"));if(this.cssTry("display","inline-block")){const e=Math.ceil(mt(this.element).width);return l=e>=t.box.width?"wrap_content":"match_parent",void this.cssFinally("display")}}l=s}};i.layoutGrid?this.blockStatic&&"1"===i.android("columnCount")&&(l=s):this.blockStatic?t.layoutElement?a&&t.gridElement&&!i.layoutElement&&(l=s):this.nodeGroup||i.hasWidth||this.hasAlign(64)||this.originalRoot||this.documentRoot?l=s:e(!0):this.floating&&this.block&&!this.rightAligned&&this.alignParent("left")&&this.alignParent("right")?l="match_parent":this.inlineStatic&&!this.blockDimension&&this.naturalElement&&this.some(t=>t.naturalElement&&t.blockStatic)&&!t.layoutElement&&(i.layoutVertical||""===this.alignSibling("leftRight")&&""===this.alignSibling("rightLeft"))&&e(!1)}this.setLayoutWidth(l||"wrap_content")}if(""===this.layoutHeight){if(this.hasPX("height")&&(!this.inlineStatic||""===this.cssInitial("height"))){const n=this.css("height");let i=-1;if(dt(n)){if(this.inputElement)i=this.bounds.height;else if(this.imageElement)"100%"===n&&o?c="match_parent":i=this.bounds.height;else if("100%"===n){if(!r){const e=this.css("maxHeight"),n=this.parseHeight(e),a=this.absoluteParent||t;"100%"===e?o&&Math.ceil(n)>=a.box.height?c="match_parent":i=Math.min(this.actualHeight,n):n>0&&(this.blockDimension?i=Math.min(this.actualHeight,n):c=Math.floor(n)<a.box.height?"wrap_content":"match_parent")}""===c&&(this.documentRoot||o&&this.onlyChild||"fixed"===this.css("position"))&&(c="match_parent")}""===c&&this.hasHeight&&(i=this.actualHeight)}else ct(n)&&(i=this.actualHeight);-1!==i&&(this.is(e.LINE)&&"HR"!==this.tagName&&this.hasPX("height",!0,!0)&&(i+=this.borderTopWidth+this.borderBottomWidth),this.styleText&&this.multiline&&!t.layoutElement&&!this.hasPX("minHeight")?(this.android("minHeight",lt(i)),c="wrap_content"):c=lt(i))}""===c&&(this.textElement&&this.textEmpty&&!this.visibleStyle.backgroundImage?i.layoutConstraint&&!this.floating&&this.alignParent("top")&&this.actualHeight>=(this.absoluteParent||t).box.height?(c="0px",this.anchor("bottom","parent")):this.naturalChild&&!this.pseudoElement&&(c=lt(this.actualHeight)):this.imageElement&&this.hasWidth?c="wrap_content":"table-cell"===this.display&&t.hasHeight&&(c="match_parent")),this.setLayoutHeight(c||"wrap_content")}else"0px"===c&&i.inlineHeight&&""===i.android("minHeight")&&!t.layoutElement&&t===this.absoluteParent&&this.setLayoutHeight("wrap_content");if(this.hasPX("minWidth")&&(!this.hasFlex("row")||t.flexElement&&!this.flexibleWidth)){const t=this.css("minWidth");"100%"===t&&this.inlineWidth?this.setLayoutWidth(s):this.android("minWidth",lt(this.parseWidth(t)+(this.contentBox?this.contentBoxWidth:0)),!1)}if(this.hasPX("minHeight")&&"table-cell"!==this.display&&(!this.hasFlex("column")||t.flexElement&&!this.flexibleHeight)){const t=this.css("minHeight");"100%"===t&&o&&this.inlineHeight?this.setLayoutHeight("match_parent"):this.android("minHeight",lt(this.parseHeight(t)+(this.contentBox?this.contentBoxHeight:0)),!1)}if(r){const t=this.css("maxWidth");let e=this.css("maxHeight"),n=-1;if(ct(t,!0)?"100%"===t?this.svgElement?n=this.bounds.width:this.imageElement?(n=this.toElementInt("naturalWidth"),n>this.documentParent.actualWidth&&(this.setLayoutWidth("match_parent"),this.setLayoutHeight("wrap_content"),n=-1,e="")):a&&this.setLayoutWidth("match_parent"):n=this.parseWidth(t):this.pageFlow||!this.multiline||!this.inlineWidth||this.preserveWhiteSpace||!this.ascend({condition:t=>t.hasPX("width")}).length&&this.textContent.includes("\n")||(n=this.actualWidth),n>=0&&this.android("maxWidth",lt(n),!1),ct(e,!0)){let t=-1;"100%"!==e||this.svgElement?t=this.parseHeight(e):o?this.setLayoutHeight("match_parent"):t=this.imageElement?this.toElementInt("naturalHeight"):this.parseHeight(e),t>=0&&this.android("maxHeight",lt(t))}}}setAlignment(){const t=this.outerMostWrapper,e=this.renderParent,n=t.renderParent||e,i=this.autoMargin;let a=Bt(this.cssInitial("textAlign",!0),!1),o=Bt(this.cssAscend("textAlign"),!0);if(this.nodeGroup&&""===a&&!this.hasAlign(512)){const t=this.actualParent;t&&(a=Bt(t.cssInitial("textAlign",!0),!1))}if(this.pageFlow){let r="";if(this.inlineVertical&&(n.layoutFrame||n.layoutGrid)||"table-cell"===this.display){const e="table-cell"===this.display?"gravity":"layout_gravity";switch(this.cssInitial("verticalAlign",!0)){case"top":t.mergeGravity(e,"top");break;case"middle":t.mergeGravity(e,"center_vertical");break;case"bottom":t.mergeGravity(e,"bottom")}}if(this.blockWidth?this.rightAligned&&t.nodeGroup&&t.layoutVertical&&t.renderEach(t=>{t.rightAligned&&t.mergeGravity("layout_gravity","right")}):((n.layoutVertical||this.documentRoot&&(this.layoutVertical||this.layoutFrame))&&(this.floating?t.mergeGravity("layout_gravity",this.float):Wt(t,i)||""===a||!this.hasWidth||this.blockStatic||this.inputElement||"table"===this.display||t.mergeGravity("layout_gravity",a,!1)),this.rightAligned?r="right":this.nodeGroup&&(this.renderChildren.every(t=>t.rightAligned)?r="right":this.hasAlign(512)&&!this.renderChildren.some(t=>t.rightAligned)&&(r="left"))),e.layoutFrame&&(Wt(this,i)||(void 0===this.innerWrapped&&(this.floating&&(r=this.float),""!==r&&!e.naturalElement&&(e.inlineWidth||!e.documentRoot&&this.onlyChild)&&(e.mergeGravity("layout_gravity",r),r="")),this.centerAligned?this.mergeGravity("layout_gravity",Bt("center",!1)):this.rightAligned&&e.blockWidth&&this.mergeGravity("layout_gravity","right")),this.onlyChild&&"table-cell"===e.display)){let t;switch(e.css("verticalAlign")){case"top":t="top";break;case"bottom":t="bottom";break;default:t="center_vertical"}this.mergeGravity("layout_gravity",t)}""!==r?this.blockWidth?""!==a&&"right"!==r||(a=r):(t.blockWidth&&this!==t?this:t).mergeGravity("layout_gravity",r):Wt(t.inlineWidth?t:this,i)&&""!==a&&(o="")}""===o||!this.blockStatic||this.centerAligned||this.rightAligned||t.mergeGravity("layout_gravity","left",!1),this.layoutConstraint||this.layoutFrame||this.layoutElement||this.layoutGrid||(""!==a?this.imageOrSvgElement||this.mergeGravity("gravity",a):""===o||this.inputElement||(this.imageOrSvgElement?this.pageFlow&&this.mergeGravity("layout_gravity",o):this.nodeGroup&&this.hasAlign(512)||this.mergeGravity("gravity",o))),i.vertical&&(e.layoutFrame||e.layoutVertical&&e.layoutLinear)&&t.mergeGravity("layout_gravity",i.topBottom?"center_vertical":i.top?"bottom":"top")}setBoxSpacing(){const t=this._boxReset,n=this._boxAdjustment,i=this.renderParent,o=(o,r,s)=>{let l=0,c=0,d=0,u=0;for(let e=0;e<4;e++){const i=o[e];let a=void 0===t||0===t[i]?this[i]:0;if(0!==a)switch(i){case"marginRight":if(this.inline){const t=this.documentParent.box.right,e=this.bounds.right;if(Math.floor(e)>t){this.onlyChild||this.alignParent("left")||this.setSingleLine(!0);continue}e+a>t&&(a=gt(t-e,0,a))}break;case"marginBottom":a<0&&this.pageFlow&&!this.blockStatic&&(a=0);break;case"paddingTop":a=this.actualPadding(i,a);break;case"paddingBottom":if(this.hasPX("height",!1,!0)&&(!this.layoutElement&&(this.layoutVertical||this.layoutFrame)||!this.pageFlow)||this.documentParent.gridElement&&this.hasPX("height",!1))continue;if(this.floatContainer){let t=-1/0;for(const e of this.naturalChildren)e.floating&&(t=Math.max(e.bounds.bottom,t));a=gt(this.bounds.bottom-t,0,a)}else a=this.actualPadding(i,a)}switch(n&&(a+=n[i]),e){case 0:l=a;break;case 1:c=a;break;case 2:d=a;break;case 3:u=a}}if(r){if(this.floating){let t=i.renderChildren.find(t=>!t.floating);if(t){const e=Math.floor(this.bounds.top);let n;for(;Math.floor(t.bounds.top)===e;){n=t;const e=t.innerWrapped;if(!e)break;t=e}if(n){const[t,e]=n.getBox(2);l+=(0===t?n.marginTop:0)+e}}}if(this.positionStatic&&!this.blockWidth&&(u<0||c<0))switch(this.cssAscend("textAlign")){case"center":u<c?(c+=Math.abs(u),c/=2,u=0):(u+=Math.abs(c),u/=2,c=0);break;case"right":case"end":u<0&&(u=0)}switch(this.controlName){case a.RADIO:case a.CHECKBOX:l=Math.max(l-4,0),d=Math.max(d-4,0);break;case a.SELECT:l=Math.max(l-2,0),d=Math.max(d-2,0)}if(l<0)if(this.pageFlow){if(this.blockDimension&&!this.inputElement&&this.translateY(l)){for(const t of this.anchorChain("bottom"))t.translateY(l);l=0}}else d>=0&&this.leftTopAxis&&(this.hasPX("top")||!this.hasPX("bottom"))&&this.translateY(l)&&(l=0);if(d<0)if(this.pageFlow){if(this.blockDimension&&!this.inputElement&&i.layoutConstraint){for(const t of this.anchorChain("bottom"))t.translateY(-d);d=0}}else l>=0&&this.leftTopAxis&&this.hasPX("bottom")&&!this.hasPX("top")&&this.translateY(-d)&&(d=0);if(u<0)if(this.pageFlow){if("right"===this.float){const t=this.anchorChain("left");u=Math.min(-u,-this.bounds.width);for(const e of t)e.translateX(-u);u=0}else if(this.blockDimension&&this.translateX(u)){for(const t of this.anchorChain("right"))t.translateX(u);u=0}}else c>=0&&this.leftTopAxis&&(this.hasPX("left")||!this.hasPX("right"))&&this.translateX(u)&&(u=0);if(c<0)if(this.pageFlow){if(this.rightAligned)this.translateX(-c)&&(c=0);else if(this.blockDimension&&i.layoutConstraint){for(const t of this.anchorChain("right"))t.translateX(c);c=0}}else u>=0&&this.leftTopAxis&&this.hasPX("right")&&!this.hasPX("left")&&this.translateX(-c)&&(c=0)}else this.visibleStyle.borderWidth&&!this.is(e.LINE)&&(l+=this.borderTopWidth,d+=this.borderBottomWidth,c+=this.borderRightWidth,u+=this.borderLeftWidth);if(0!==l||0!==u||0!==d||0!==c){let t=0,e=0,n=0;!s&&this.api>=26&&(l===c&&c===d&&d===u?t=l:(u===c&&(e=u),l===d&&(n=l))),0!==t?this.android(r?h.MARGIN:h.PADDING,lt(t)):(0!==e?this.android(r?h.MARGIN_HORIZONTAL:h.PADDING_HORIZONTAL,lt(e)):(0!==u&&this.android(this.localizeString(r?h.MARGIN_LEFT:h.PADDING_LEFT),lt(u)),0!==c&&this.android(this.localizeString(r?h.MARGIN_RIGHT:h.PADDING_RIGHT),lt(c))),0!==n?this.android(r?h.MARGIN_VERTICAL:h.PADDING_VERTICAL,lt(n)):(0!==l&&this.android(r?h.MARGIN_TOP:h.PADDING_TOP,lt(l)),0!==d&&this.android(r?h.MARGIN_BOTTOM:h.PADDING_BOTTOM,lt(d))))}};o(rt,!0,i.layoutGrid),o(st,!1,!1)}apply(t){for(const e in t){const n=t[e];if(xt(n))for(const t in n)this.attr(e,t,n[t]);else n&&this.attr("_",e,""+n)}}clone(t,e=!0,i=!1){const a=new n(t||this.id,this.sessionId,this.element||void 0);if(a.unsafe("localization",this._localization),a.localSettings=Object.assign({},this.localSettings),void 0!==t?a.setControlType(this.controlName,this.containerType):(a.controlId=this.controlId,a.controlName=this.controlName,a.containerType=this.containerType),this.cloneBase(a),e){Object.assign(a.unsafe("boxReset"),this._boxReset),Object.assign(a.unsafe("boxAdjustment"),this._boxAdjustment);for(const t of this._namespaces){const e=this["__"+t];if(e)for(const n in e)a.attr(t,n,"id"===n&&"android"===t?a.documentId:e[n])}}if(i){a.anchorClear();const t=this.documentId;a.anchor("left",t)&&a.setBox(16,{reset:1,adjustment:0}),a.anchor("top",t)&&a.setBox(2,{reset:1,adjustment:0})}return a.saveAsInitial(!0),a}extractAttributes(t){if("rtl"!==this.dir||this.imageOrSvgElement||(this.textElement?this.android("textDirection","rtl"):this.renderChildren.length&&this.android("layoutDirection","rtl")),this.styleElement||this.hasAlign(16384)){const t=J(this.dataset,"android");for(const e in t){const n="attr"===e?"android":Pt.test(e)?yt(e.substring(4),!1):"";if(""!==n)for(const i of t[e].split(";")){const[t,e]=i.split("::");t&&this.attr(n,t,e)}}if(!this.svgElement){const t=this.css("opacity");"1"!==t&&vt(t)&&this.android("alpha",t)}}const e="\n"+"\t".repeat(t);let n="";for(const t of this.combine())n+=e+t;return n}alignParent(t){const e=this.anchorTarget,n=e.renderParent;if(n)if(n.layoutConstraint){const n=Nt[t];if(n)return"parent"===e.app(this.localizeString(n))}else if(n.layoutRelative){const n=Lt[t];if(n)return"true"===e.android(this.localizeString(n))}else if(n.layoutLinear){const i=n.renderChildren;if(n.layoutVertical)switch(t){case"top":return e===i[0];case"bottom":return e===i[i.length-1]}else switch(t){case"left":case"start":return e===i[0];case"right":case"end":return e===i[i.length-1]}}return!1}alignSibling(t,e){const n=this.anchorTarget,i=n.renderParent;if(i)if(e){if(i.layoutConstraint){const i=Nt[t];i&&n.app(this.localizeString(i),e)}else if(i.layoutRelative){const i=Ct[t];i&&n.android(this.localizeString(i),e)}}else if(i.layoutConstraint){const e=Nt[t];if(e){const t=n.app(this.localizeString(e));return"parent"!==t&&t!==i.documentId?t:""}}else if(i.layoutRelative){const e=Ct[t];if(e)return n.android(this.localizeString(e))}return""}actualRect(t,e="linear"){let n=this[e][t];if(this.positionRelative&&this.floating)switch(t){case"top":case"bottom":this.hasPX("top")?n+=this.top:n-=this.bottom;break;case"left":this.hasPX("left")?n+=this.left:n-=this.right;case"right":this.hasPX("left")?n+=this.left:n-=this.right}if(this.inputElement){const i=this.companion;if((null==i?void 0:i.labelFor)===this&&!i.visible){const a=i[e][t];switch(t){case"top":case"left":return Math.min(a,n);case"right":case"bottom":return Math.max(a,n)}}}return n}translateX(t,e={}){const n=this.anchorTarget,i=n.renderParent;if(null==i?void 0:i.layoutConstraint){let a=Tt(n.android("translationX"));if(!1===e.oppose&&(a>0&&t<0||a<0&&t>0))return!1;if(!1!==e.accumulate&&(a+=t),e.contain){const{left:t,right:e}=i.box,{left:n,right:o}=this.linear;n+a<t?a=Math.max(n-t,0):o+a>e&&(a=Math.max(e-o,0))}return 0!==a?n.android("translationX",lt(a)):n.delete("android","translationX"),!0}return!1}translateY(t,e={}){const n=this.anchorTarget,i=n.renderParent;if(null==i?void 0:i.layoutConstraint){let a=Tt(n.android("translationY"));if(!1===e.oppose&&(a>0&&t<0||a<0&&t>0))return!1;if(!1!==e.accumulate&&(a+=t),e.contain){const{top:t,bottom:e}=i.box,{top:n,bottom:o}=this.linear;n+a<t?a=Math.max(n-t,0):o+a>e&&(a=Math.max(e-o,0))}return 0!==a?n.android("translationY",lt(a)):n.delete("android","translationY"),!0}return!1}localizeString(t){return et(t,this._localization,this.api)}removeTry(t,e){return void 0===e&&t&&(e=()=>t.anchorClear()),super.removeTry(t,e)}hide(t){if(t){if(t.hidden)return void this.android("visibility","invisible");if(t.collapse)return void this.android("visibility","gone")}super.hide(t)}android(t,e,n=!0){return e&&""!==(e=this.attr("android",t,e,n))?e:this.__android[t]||""}app(t,e,n=!0){return e&&""!==(e=this.attr("app",t,e,n))?e:this.__app[t]||""}formatted(t,e=!0){const n=kt.exec(t);n&&this.attr(n[1]||"_",n[2],n[3],e)}anchor(t,e="",n){const i=this.anchorTarget,a=i.renderParent;if(a&&i.documentId!==e)if(a.layoutConstraint){if(""===e||void 0===i.constraint.current[t]||n){const a="parent"===e;void 0===n&&""!==e&&(n=a);const o=Nt[t];if(o){let r=!1;switch(i.app(this.localizeString(o),e,n),t){case"left":case"right":a&&(i.constraint.horizontal=!0);case"leftRight":case"rightLeft":r=!0;break;case"top":case"bottom":case"baseline":a&&(i.constraint.vertical=!0)}return i.constraint.current[t]={documentId:e,horizontal:r},!0}}}else if(a.layoutRelative){const a="true"===e;void 0===n&&""!==e&&(n=a);const o=(a?Lt:Ct)[t];if(o)return i.android(this.localizeString(o),e,n),!0}return!1}anchorParent(t,e,n="",i){const a=this.anchorTarget,o=a.renderParent;if(o){const r="horizontal"===t;if(o.layoutConstraint){if(i||!a.constraint[t])return r?(a.anchor("left","parent",i),a.anchor("right","parent",i),a.constraint.horizontal=!0):(a.anchor("top","parent",i),a.anchor("bottom","parent",i),a.constraint.vertical=!0),void 0!==e&&a.anchorStyle(t,e,n,i),!0}else if(o.layoutRelative)return a.anchor(r?"centerHorizontal":"centerVertical","true",i),!0}return!1}anchorStyle(t,e,n,i=!0){const a=this.anchorTarget;"horizontal"===t?(a.app("layout_constraintHorizontal_bias",""+e,i),n&&a.app("layout_constraintHorizontal_chainStyle",n,i)):(a.app("layout_constraintVertical_bias",""+e,i),n&&a.app("layout_constraintVertical_chainStyle",n,i))}anchorChain(t){const e=[],n=this.anchorTarget,i=n.renderParent;if(i&&(i.layoutConstraint||i.layoutRelative)){let a,o;switch(t){case"top":a="topBottom",o="bottomTop";break;case"right":a="rightLeft",o="leftRight";break;case"bottom":a="bottomTop",o="topBottom";break;case"left":a="leftRight",o="rightLeft"}const r=i.renderChildren;let s=n;for(;;){const t=s.alignSibling(a);if(""===t)break;{const n=r.find(e=>e.documentId===t);if((null==n?void 0:n.alignSibling(o))!==s.documentId)break;e.push(n),s=n}}}return e}anchorDelete(...t){const e=this.anchorTarget,n=e.renderParent;if(n)if(n.layoutConstraint)e.delete("app",..._t(t,t=>this.localizeString(Nt[t])));else if(n.layoutRelative){const n=[];for(const e of t){let t=Ct[e];t&&n.push(this.localizeString(t)),t=Lt[e],t&&n.push(this.localizeString(t))}e.delete("android",...n)}}anchorClear(){const t=this.anchorTarget,e=t.renderParent;e&&(e.layoutConstraint?(t.anchorDelete(...Object.keys(Nt)),t.delete("app","layout_constraintHorizontal_bias","layout_constraintHorizontal_chainStyle","layout_constraintVertical_bias","layout_constraintVertical_chainStyle")):e.layoutRelative&&(t.anchorDelete(...Object.keys(Lt)),t.anchorDelete(...Object.keys(Ct))))}supported(t,e={}){var n;if("function"==typeof It[t]){const n=It[t](e,this.api,this);if(!n||Object.keys(e).length)return n}for(let i=this.api;i<=29;i++){const a=null===(n=W[i])||void 0===n?void 0:n.android[t];switch(typeof a){case"boolean":return a;case"function":return a(e,this.api,this)}}return!0}combine(...t){const e=this._namespaces,n=0===t.length,i=[];let a=!1,o="";for(const r of e)if(n||t.includes(r)){const t=this["__"+r];if(t){let e=r+":";switch(r){case"android":if(this.api<29)for(let n in t)if("id"===n)o=t[n];else{const a={};let o=t[n];if(!this.supported(n,a))continue;Object.keys(a).length&&(At(a.attr)&&(n=a.attr),At(a.value)&&(o=a.value)),i.push(e+`${n}="${o}"`)}else for(const n in t)"id"===n?o=t[n]:i.push(e+`${n}="${t[n]}"`);a=!0;break;case"_":e="";default:for(const n in t)i.push(e+`${n}="${t[n]}"`)}}}return i.sort((t,e)=>t>e?1:-1),a&&i.unshift('android:id="'+(o||`@+id/${this.controlId}`)+'"'),i}mergeGravity(t,n,i=!0){if("layout_gravity"===t){const t=this.renderParent;if(t){if(K(n)&&(this.blockWidth||t.inlineWidth&&this.onlyChild||!i&&this.outerWrapper&&this.hasPX("maxWidth")))return;if(t.layoutRelative){if("center_horizontal"===n&&""===this.alignSibling("leftRight")&&""===this.alignSibling("rightLeft"))return this.anchorDelete("left","right"),void this.anchor("centerHorizontal","true")}else if(t.layoutConstraint){if(!t.layoutHorizontal&&!this.positioned)switch(n){case"top":this.anchor("top","parent",!1);break;case"right":case"end":""===this.alignSibling("rightLeft")&&this.anchor("right","parent",!1);break;case"bottom":this.anchor("bottom","parent",!1);break;case"left":case"start":""===this.alignSibling("leftRight")&&this.anchor("left","parent",!1);break;case"center_horizontal":""===this.alignSibling("leftRight")&&""===this.alignSibling("rightLeft")&&this.anchorParent("horizontal",.5)}return}}}else switch(this.tagName){case"#text":case"IMG":case"SVG":case"HR":return;case"INPUT":switch(this.toElementString("type")){case"radio":case"checkbox":case"image":case"range":return}break;default:if(this.controlElement||this.is(e.TEXT)&&this.textEmpty||this.length&&(this.layoutFrame||this.layoutConstraint||this.layoutGrid))return}const a=Dt(this,t),o=this.localizeString(n);if(!a.has(o)){a.add(o);let e="",n="",r="",s="";for(const t of a.values())K(t)?(""===n||i)&&(n=t):Z(t)?(""===r||i)&&(r=t):s+=(""!==s?"|":"")+t;e=""!==n&&""!==r?n+"|"+r:n||r,""!==s&&(e+=(""!==e?"|":"")+s),""!==e&&this.android(t,e)}}applyOptimizations(){const t=this.renderParent;if(t&&(this.alignLayout(t),this.setLineHeight(t),this.finalizeGravity("layout_gravity"),this.finalizeGravity("gravity"),this.imageElement)){const t=this.layoutWidth,e=this.layoutHeight;("wrap_content"===t&&"wrap_content"!==e||"wrap_content"!==t&&"wrap_content"===e||"match_parent"===t||"match_parent"===e||"0px"===t||"0px"===e||""!==this.android("minWidth")||""!==this.android("minHeight")||""!==this.android("maxWidth")||""!==this.android("maxHeight"))&&this.android("adjustViewBounds","true")}}applyCustomizations(t=!0){const e=e=>{if(e)for(const n in e){const i=e[n];for(const e in i)this.attr(n,e,i[e],t)}},{tagName:n,controlName:i}=this;let a=W[0].assign;e(a[n]),e(a[i]);const o=W[this.api];o&&(a=o.assign,e(a[n]),e(a[i]))}setSingleLine(t=!1){if(this.textElement&&this.naturalChild){const e=this.actualParent;e.preserveWhiteSpace||"CODE"===e.tagName||this.multiline&&"nowrap"!==e.css("whiteSpace")||this.android("maxLines","1"),t&&this.textContent.trim().length>1&&this.android("ellipsize","end")}}setLayoutWidth(t,e=!0){this.android("layout_width",t,e)}setLayoutHeight(t,e=!0){this.android("layout_height",t,e)}alignLayout(t){if(this.layoutLinear){const e=this.renderChildren;if(this.layoutVertical)t.layoutFrame||this.documentRoot||!e.length||!this.baselineElement&&!e.every(t=>t.textElement)||this.android("baselineAlignedChildIndex","0");else{let t=!this.baselineActive;e.some(t=>t.floating)&&!e.some(t=>t.imageElement&&t.baseline)&&(this.android("baselineAligned","false"),t=!1);const n=e.length;for(let i=0;i<n;i++){const a=e[i];a.setSingleLine(i===n-1),t&&a.baselineElement&&(this.android("baselineAlignedChildIndex",""+i),t=!1)}}}}setLineHeight(t){var e;const n=this.lineHeight;if(n>0){const i=this.has("lineHeight",{map:"initial"});if(this.multiline)Xt(this,n,i);else if(this.renderChildren.length){if(!i&&this.layoutHorizontal&&this.alignSibling("baseline"))return;if(this.layoutVertical||this.layoutFrame)for(const t of this.renderChildren)0!==t.length||t.multiline||isNaN(t.lineHeight)||t.has("lineHeight")||Gt(t,n,!0,!0,!0);else{const t=this.horizontalRows||[this.renderChildren];let i=!1;const a=t.length;for(let o=0;o<a;o++){const r=t[o],s=r.length,l=t[o+1],c=!!l&&(1===l.length&&l[0].multiline||l[0].lineBreakLeading||o<a-1&&!!(null===(e=l.find(t=>t.baselineActive))||void 0===e?void 0:e.has("lineHeight"))),d=r[0],h=1===s,u=h&&!d.multiline,p=!h&&r.find(t=>t.baselineActive&&0===t.renderChildren.length),g=u||!i&&(o>0||1===a)||d.lineBreakLeading,f=u||!c&&(o<a-1||1===a);if(p&&s>1){if(isNaN(p.lineHeight)||p.has("lineHeight")){i=!0;continue}Gt(p,n,!1,g,f)}else for(const t of r)0!==t.length||t.multiline||isNaN(t.lineHeight)||t.has("lineHeight")||Gt(t,n,h,g,f);i=h&&d.multiline}}}else(i||0===t.lineHeight)&&Gt(this,n,i,!0,!0)}}finalizeGravity(t){const e=Dt(this,t);e.size>1&&(Vt("center",e),Vt("fill",e));let n="",i="",a="",o="";for(const t of e.values())K(t)?i=t:Z(t)?a=t:o+=(""!==o?"|":"")+t;n=""!==i&&""!==a?i+"|"+a:i||a,""!==o&&(n+=(""!==n?"|":"")+o),""!==n?this.android(t,n):this.delete("android",t)}get controlElement(){switch(this.tagName){case"PROGRESS":case"METER":return!0;case"INPUT":return"range"===this.toElementString("type")}return!1}set containerType(t){this._containerType=t}get containerType(){if(0===this._containerType){const t=l[this.containerName];t>0&&(this._containerType=t)}return this._containerType}set controlId(t){this._controlId=t}get controlId(){var t;let e=this._controlId;if(void 0===e){const n=this.controlName;if(!n)return 0===this.id?"baseroot":"";{let i;if(this.styleElement){const e=(null===(t=this.elementId)||void 0===t?void 0:t.trim())||ut(this.element,"name");""!==e&&(i=e.replace(Ot,"_").toLowerCase(),("parent"===i||p.includes(i))&&(i="_"+i))}e=St(Rt.generateId("android",i||Et(n,".").toLowerCase(),i?0:1)),this._controlId=e}}return e}get documentId(){const t=this.controlId;return""!==t?`@id/${t}`:""}get support(){let t=this._cached.support;return void 0===t&&(t={positionTranslation:this.layoutConstraint,positionRelative:this.layoutRelative,maxDimension:this.textElement||this.imageOrSvgElement},0!==this.containerType&&(this._cached.support=t)),t}set renderExclude(t){this._cached.renderExclude=t}get renderExclude(){let t=this._cached.renderExclude;if(void 0===t){if(this.naturalChild&&!this.originalRoot){const e=this.renderParent;if(!e)return!1;t=!(this.onlyChild||0!==this.length||!this.styleElement||this.imageElement||this.pseudoElement)&&(this.pageFlow?e.layoutVertical?Qt(this)&&""===this.alignSibling("topBottom")&&""===this.alignSibling("bottomTop"):Jt(this)&&(e.layoutHorizontal||Qt(this))&&""===this.alignSibling("leftRight")&&""===this.alignSibling("rightLeft")&&""===this.alignSibling("topBottom")&&""===this.alignSibling("bottomTop"):Jt(this)||Qt(this))}else t=!1;this._cached.renderExclude=t}return t}get baselineHeight(){var t;let e=this._cached.baselineHeight;if(void 0===e){if(e=0,this.plainText){const{height:t,numberOfLines:n}=this.bounds;e=t/(n||1)}else if(this.multiline&&this.cssTry("white-space","nowrap")?(e=this.boundingClientRect.height,this.cssFinally("white-space")):e=this.hasHeight?this.actualHeight:"PICTURE"===this.tagName?Math.max((null===(t=this.naturalElements.find(t=>"IMG"===t.tagName))||void 0===t?void 0:t.height)||0,this.bounds.height):this.bounds.height,this.naturalElement&&!this.pseudoElement&&this.lineHeight>e)e=this.lineHeight;else if(this.inputElement)switch(this.controlName){case a.RADIO:case a.CHECKBOX:e+=8;break;case a.SELECT:e/=this.toElementInt("size")||1,e+=4;break;default:e+=Math.max(-1*bt(this.verticalAlign),0)}this._cached.baselineHeight=e}return e}get innerWrapped(){return this._innerWrapped}set innerWrapped(t){t&&(this._innerWrapped=t=t.outerMostWrapper,t.outerWrapper=this)}get anchorTarget(){let t=this;do{const e=t.renderParent;if(!e)break;if(e.layoutConstraint||e.layoutRelative)return t;t=t.outerWrapper}while(t);return this}set anchored(t){const e=this.constraint;e.horizontal=t,e.vertical=t}get anchored(){const{horizontal:t,vertical:e}=this.constraint;return!0===t&&!0===e}get imageOrSvgElement(){return this.imageElement||this.svgElement}get layoutFrame(){return this._containerType===e.FRAME}get layoutLinear(){return this._containerType===e.LINEAR}get layoutGrid(){return this._containerType===e.GRID}get layoutRelative(){return this._containerType===e.RELATIVE}get layoutConstraint(){return this._containerType===e.CONSTRAINT}get layoutWidth(){return this.__android.layout_width||""}get layoutHeight(){return this.__android.layout_height||""}get inlineWidth(){return"wrap_content"===this.layoutWidth}get inlineHeight(){return"wrap_content"===this.layoutHeight}get blockWidth(){return"match_parent"===this.layoutWidth}get blockHeight(){return"match_parent"===this.layoutHeight}get flexibleWidth(){return Ht(this,this.layoutWidth)}get flexibleHeight(){return Ht(this,this.layoutHeight)}get labelFor(){return this._labelFor}set labelFor(t){t&&(t.companion=this),this._labelFor=t}set localSettings(t){this._localSettings?Object.assign(this._localSettings,t):this._localSettings=Object.assign({},t)}get localSettings(){return this._localSettings}};class ee extends(te(squared.base.NodeUI)){}class ne extends(te(squared.base.NodeGroupUI)){constructor(t,e,n,i){super(t,e.sessionId,void 0,i),this.depth=e.depth,this.containerName=e.containerName+"_GROUP",this.actualParent=e.actualParent,this.documentParent=e.documentParent,this.retain(n)}set containerType(t){this._containerType=t}get containerType(){return this._containerType}set renderExclude(t){}get renderExclude(){return!1}}const ie=squared.lib,ae=squared.base,{isPlatform:oe}=ie.client,{parseColor:re}=ie.color,{formatPX:se,getSrcSet:le,hasComputedStyle:ce,isLength:de,isPercent:he}=ie.css,{getElementsBetweenSiblings:ue,getRangeClientRect:pe}=ie.dom,{truncate:ge}=ie.math,{CHAR:fe}=ie.regex,{getElementAsNode:me,getPseudoElt:ye}=ie.session,{assignEmptyValue:be,convertFloat:Te,hasBit:Se,isString:Ee,objectMap:ve,partitionArray:xe,withinRange:Ae}=ie.util,{STRING_XMLENCODING:_e,replaceTab:we}=ie.xml,{APP_SECTION:Re,NODE_PROCEDURE:Ie,NODE_RESOURCE:Ne}=ae.lib.enumeration,Ce=ae.NodeUI,Le=/^(?:(rgba?\([^)]+\)|[a-z]+) )?(-?[\d.]+[a-z]+) (-?[\d.]+[a-z]+)\s*(-?[\d.]+[a-z]+)?.*$/;function Pe(t){t.sort((t,e)=>{const n=t.float,i=e.float;if("none"!==n&&"none"!==i){if(n!==i)return"left"===n?-1:1;if("right"===n&&"right"===i)return 1}else{if("none"!==n)return"left"===n?-1:1;if("none"!==i)return"left"===i?1:-1}return 0})}function ke(t,e){return function(t,e){const n=t.depth,i=e.depth;if(n===i){const n=t.actualParent,i=e.actualParent;if(t===i)return-1;if(n===e)return 1;if(n&&i){if(n===i)return Me(t,e);if(n.actualParent===i.actualParent)return Me(n,i)}return t.id<e.id?-1:1}return n<i?-1:1}(t.node.innerMostWrapped,e.node.innerMostWrapped)}function Oe(t,e){return Me(t.node.innerMostWrapped,e.node.innerMostWrapped)}function Me(t,e){if(t===e.actualParent)return-1;if(t.actualParent===e)return 1;const{pageFlow:n,zIndex:i}=t,{pageFlow:a,zIndex:o}=e;return!n&&a?i>=0?1:-1:!a&&n?o>=0?-1:1:i===o?t.childIndex<e.childIndex?-1:1:i<o?-1:1}function Be(t,n,i,a){const o=t.baselineHeight,r=t=>t.imageOrSvgElement&&t.baseline,s=t=>t.imageOrSvgElement?"baseline":"bottom";let l,c=0;for(const d of n){if(d.baselineAltered)continue;let n=d.baselineHeight;if(n>0||d.textElement){if(d.blockVertical&&t.blockVertical){d.anchor("bottom",t.documentId);continue}{const t=d.renderChildren.filter(t=>r(t));if(d.imageOrSvgElement||t.length){for(const e of t)n=Math.max(e.baselineHeight,n);if(n>o){void 0===l||n>=c?(null==l||l.anchor(s(d),d.documentId),c=n,l=d):d.anchor(s(l),l.documentId);continue}if(Ae(d.linear.top,a)){d.anchor("top","true");continue}}}i&&d.is(e.BUTTON)?d.anchor("centerVertical","true"):d.naturalChild&&0===d.length?d.anchor("baseline",t.documentId):d.baselineElement&&d.anchor(d.naturalElements.find(t=>r(t))?"bottom":"baseline",t.documentId)}else r(d)&&(l=d)}l&&t.anchor(s(l),l.documentId)}function De(t,e,n){if(n>0){if(t.documentBody)switch(e){case 32:0===t.getBox(2)[0]&&(n-=t.marginTop);break;case 64:n-=t.marginRight;break;case 128:0===t.getBox(8)[0]&&(n-=t.marginBottom);break;case 256:n-=t.marginLeft}if(0===t.getBox(e)[0])switch(e){case 32:n+=t.borderTopWidth-t.paddingTop;break;case 64:n+=t.borderRightWidth-t.paddingRight;break;case 128:n+=t.borderBottomWidth-t.paddingBottom;break;case 256:n+=t.borderLeftWidth-t.paddingLeft}return Math.max(n,0)}if(n<0){switch(e){case 32:n+=t.marginTop;break;case 64:n+=t.marginRight;break;case 128:n+=t.marginBottom;break;case 256:n+=t.marginLeft}return n}return 0}function We(t,e){if("left"===e.float){if(e.marginRight<0){return t.modifyBox(16,e.actualWidth+(e.hasWidth?e.paddingLeft+e.borderLeftWidth:0)-Math.abs(e.marginRight)),t.anchor("left",e.documentId),e.setBox(4,{reset:1}),!0}}else if("right"===t.float&&e.marginLeft<0){const n=Math.abs(e.marginLeft),i=e.actualWidth;return n<i&&t.modifyBox(4,i-n),t.anchor("right",e.documentId),e.setBox(16,{reset:1}),!0}return!1}function Xe(t){return t.filter(t=>(t.baseline||de(t.verticalAlign,!0))&&("TEXTAREA"===t.tagName||"SELECT"===t.tagName&&t.toElementInt("size")>1)||"text-bottom"===t.verticalAlign&&"INPUT_IMAGE"!==t.containerName).sort((t,e)=>t.baselineHeight===e.baselineHeight?"SELECT"===t.tagName?1:0:t.baselineHeight>e.baselineHeight?-1:1)}function Ge(t){if("BR"===t.tagName)return!0;if(ce(t)){const e=getComputedStyle(t),n=e.getPropertyValue("position");if("absolute"!==n&&"fixed"!==n){const t=e.getPropertyValue("display"),n="none"!==e.getPropertyValue("float"),i=()=>("100%"===e.getPropertyValue("width")||"100%"===e.getPropertyValue("minWidth"))&&"none"===e.getPropertyValue("max-width");switch(t){case"block":case"flex":case"grid":return!n||i()}return(/^inline-/.test(t)||"table"===t)&&i()}}return!1}function He(t){const e=t.element;e.readOnly&&t.android("focusable","false"),e.disabled&&t.android("enabled","false")}function Ve(t,e,n){const[i,a,o,r,s,l,c,d]=n?["horizontal","width","left","right",16,4,256,64]:["vertical","height","top","bottom",2,8,32,128],h=t.autoMargin,u=t.hasPX(a);if(u&&h[i])t.hasPX(o)&&h[r]?(t.anchor(o,"parent"),t.modifyBox(s,t[o])):t.hasPX(r)&&h[o]?(t.anchor(r,"parent"),t.modifyBox(l,t[r])):(t.anchorParent(i,.5),t.modifyBox(s,t[o]),t.modifyBox(l,t[r]));else{const p="100%"===t.css(a)||"100%"===t.css(n?"minWidth":"minHeight");let g=0;t.hasPX(o)&&(t.anchor(o,"parent"),!t.hasPX(r)&&p&&(t.anchor(r,"parent"),g++),t.modifyBox(s,De(e,c,t[o])),g++),t.hasPX(r)&&(!p&&u&&t.hasPX(o)||(t.anchor(r,"parent"),t.modifyBox(l,De(e,d,t[r]))),g++),0===g?n&&(t.centerAligned?t.anchorParent("horizontal",.5):t.rightAligned&&(t.blockStatic?t.anchorParent("horizontal",1):t.anchor("right","parent"))):2!==g||u||h[i]&&!h[o]&&!h[r]||(n?t.setLayoutWidth("0px"):t.setLayoutHeight("0px"))}}function Fe(t,e,n,i,a){return n=e,t.css("width",se(e),!0),a&&a.width>0&&a.height>0&&t.css("height",se(i=a.height*(n/a.width)),!0),[n,i]}function ze(t,e){const{minLength:n,maxLength:i}=e;-1!==n&&t.android("minLength",""+n),i>0&&t.android("maxLength",""+i)}function Ue(t,e){const{min:n,max:i}=e;Ee(n)&&t.android("min",n),Ee(i)&&t.android("max",i)}function qe(t,e){return t.naturalChild?e.has(t):t.nodeGroup?t.cascade(t=>t.naturalChild).some(t=>e.has(t)):e.has(t.innerMostWrapped)}function je(t,e){const n=t.parent;if(n.flexElement&&("baseline"===n.css("alignItems")||t.some(t=>"baseline"===t.flexbox.alignSelf)))return!1;const i=t.length>1;return t.some(t=>i&&(t.rightAligned||t.centerAligned)||t.percentWidth>0&&t.percentWidth<1||t.hasPX("maxWidth"))&&(!e||t.every(t=>t.marginTop>=0))}function Ye(t,e){if(t.leftTopAxis){const n=t.absoluteParent;if(n.documentBody)switch(e){case"top":return n.marginTop;case"right":return n.marginRight;case"bottom":return n.marginBottom;case"left":return n.marginLeft}}return 0}function $e(t){return xe(t,t=>"right"===t.float||!0===t.autoMargin.left)}const Ke=(t,e,n=!0)=>e.size&&t.some((t,i)=>(i>0||!n)&&e.has(t)),Ze=t=>t.plainText&&M.hasLineBreak(t,!1,!0)||t.preserveWhiteSpace&&fe.LEADINGNEWLINE.test(t.textContent),Je=t=>Math.max(t.actualHeight,t.lineHeight),Qe=t=>je(t,!0)?e.CONSTRAINT:t.some(t=>t.positionRelative||!t.pageFlow&&t.autoPosition)?e.RELATIVE:e.LINEAR,tn=t=>je(t,!0)?e.CONSTRAINT:t.some(t=>t.positionRelative)?e.RELATIVE:e.LINEAR,en=(t=!1)=>t?{anchorStart:"right",anchorEnd:"left",chainStart:"rightLeft",chainEnd:"leftRight"}:{anchorStart:"left",anchorEnd:"right",chainStart:"leftRight",chainEnd:"rightLeft"},nn=(t,e,n)=>t.containerType===e&&t.length===n&&(0===t.alignmentType||t.hasAlign(2));function an(t){if(t.centerAligned)t.anchorParent("horizontal",.5);else{const e=t.autoMargin;if(e.horizontal)t.anchorParent("horizontal",e.left?1:e.leftRight?.5:0);else{const e=t.rightAligned;e?(t.anchor("right","parent"),t.anchorStyle("horizontal",1)):(t.anchor("left","parent"),t.anchorStyle("horizontal",0)),(t.blockStatic||t.percentWidth>0||t.block&&t.multiline&&t.floating)&&t.anchor(e?"left":"right","parent")}}}function on(t,e=!0,n=!1){const i=t.autoMargin;let a=e?0:NaN;if(t.floating)a=0;else if(i.vertical)a=i.top?1:i.topBottom?.5:0;else if(t.imageOrSvgElement||t.inlineVertical)switch(t.verticalAlign){case"baseline":a=e?0:1;break;case"middle":a=.5;break;case"bottom":a=1;break;default:a=0}else{const e=t.actualParent;if(e&&"table-cell"===e.display)switch(e.verticalAlign){case"middle":a=.5;break;case"bottom":a=1;break;default:a=0}}isNaN(a)||(n?(t.app("layout_constraintVertical_bias",""+a,!1),t.delete("layout_constraintVertical_chainStyle")):t.anchorStyle("vertical",a,e?"":"packed",!1))}class rn extends squared.base.ControllerUI{constructor(t,e){super(),this.application=t,this.cache=e,this.localSettings={layout:{pathName:"res/layout",fileExtension:"xml",baseTemplate:_e},directory:{string:"res/values",font:"res/font",image:"res/drawable"},svg:{enabled:!1},style:{inputBorderColor:"rgb(0, 0, 0)",inputBackgroundColor:oe(4)?"rgb(255, 255, 255)":"rgb(221, 221, 221)",inputColorBorderColor:"rgb(119, 119, 199)",meterForegroundColor:"rgb(99, 206, 68)",meterBackgroundColor:"rgb(237, 237, 237)",progressForegroundColor:"rgb(138, 180, 248)",progressBackgroundColor:"rgb(237, 237, 237)"},supported:{fontFormat:["truetype","opentype"],imageFormat:["jpg","jpeg","png","gif","bmp","webp","svg","ico","cur"]},unsupported:{cascade:new Set(["SELECT","svg"]),tagName:new Set(["HEAD","TITLE","META","SCRIPT","STYLE","LINK","OPTION","INPUT:hidden","COLGROUP","MAP","AREA","SOURCE","TEMPLATE","DATALIST"]),excluded:new Set(["BR","WBR"])},precision:{standardFloat:3},deviations:{textMarginBoundarySize:8,subscriptBottomOffset:.35,superscriptTopOffset:.35,legendBottomOffset:.25}}}init(){const{resolutionDPI:t,resolutionScreenWidth:e,resolutionScreenHeight:n,supportRTL:i,targetAPI:a}=this.userSettings,o=160/t,r={width:e*o,height:n*o};this._targetAPI=a||29,this._screenDimension=r,this._defaultViewSettings={screenDimension:r,supportRTL:i,floatPrecision:this.localSettings.precision.standardFloat},super.init()}optimize(t){for(const e of t)e.applyOptimizations(),e.hasProcedure(Ie.CUSTOMIZATION)&&e.applyCustomizations(this.userSettings.customizationsOverwritePrivilege)}finalize(t){const e=this.userSettings.insertSpaces;for(const n of t){const t=n.content;n.content=we(t.replace(/{#0}/,it(t)),e)}}processUnknownParent(t){const n=t.node;if(t.some(t=>!t.pageFlow&&!t.autoPosition))t.setContainerType(e.CONSTRAINT,34);else if(t.length<=1){const i=n.item(0);if(!i)return this.processUnknownChild(t);if(n.originalRoot&&function(t,e){const n=e.dataset.target;if(n&&t){const e=document.getElementById(n);return!!e&&e!==t}return!1}(n.element,i))return n.hide(),{layout:t,next:!0};n.naturalElement&&i.plainText?(i.hide(),n.clear(),n.inlineText=!0,n.textContent=i.textContent,t.setContainerType(e.TEXT),t.add(1024)):t.parent.flexElement&&i.baselineElement&&"baseline"===n.flexbox.alignSelf?t.setContainerType(e.LINEAR,8):i.percentWidth>0?t.setContainerType(e.CONSTRAINT,64):n.autoMargin.leftRight||n.autoMargin.left?t.setContainerType(e.CONSTRAINT):i.baselineElement?t.setContainerType(tn(t),16):t.setContainerType(e.FRAME),t.add(4096)}else if(M.hasLineBreak(n,!0))t.setContainerType(tn(t),18);else if(this.checkConstraintFloat(t))t.setContainerType(e.CONSTRAINT),t.every(t=>t.floating)?t.add(512):t.linearY?t.add(16):t.some(t=>t.floating||t.rightAligned)&&t.singleRowAligned?t.add(8):(t.add(t.some(t=>t.blockStatic)?16:1024),t.add(2));else if(t.linearX||t.singleRowAligned)this.checkFrameHorizontal(t)?(t.addRender(512),t.addRender(8)):this.checkConstraintHorizontal(t)?t.setContainerType(e.CONSTRAINT):this.checkLinearHorizontal(t)?(t.setContainerType(e.LINEAR),t.floated.size&&Pe(t.children)):t.setContainerType(je(t,!1)?e.CONSTRAINT:e.RELATIVE),t.add(8);else if(t.linearY)t.setContainerType(Qe(t),16|(n.originalRoot||t.some((e,n)=>n>0&&e.inlineFlow&&t.item(n-1).inlineFlow)?2:0));else if(t.every(t=>t.inlineFlow))this.checkFrameHorizontal(t)?(t.addRender(512),t.addRender(8)):t.setContainerType(Qe(t),18);else{const n=t.children,i=this.application.clearMap;t.some((t,e)=>t.alignedVertically(e>0?n.slice(0,e):void 0,i)>0)?t.setContainerType(Qe(t),18):t.setContainerType(e.CONSTRAINT,2)}return{layout:t}}processUnknownChild(t){const n=t.node,i=n.visibleStyle.background;if(!n.inlineText||n.textEmpty&&!i)if(n.blockStatic&&0===n.naturalChildren.length&&(i||n.contentBoxHeight>0))t.setContainerType(e.FRAME);else{if(0===n.bounds.height&&n.naturalChild&&0===n.naturalElements.length&&""===n.elementId&&0===n.marginTop&&0===n.marginRight&&0===n.marginBottom&&0===n.marginLeft&&!n.originalRoot&&!i&&!n.dataset.use)return n.hide(),{layout:t,next:!0};switch(n.tagName){case"OUTPUT":t.setContainerType(e.TEXT);break;default:""!==n.textContent&&(i||n.pseudoElement&&"::after"===ye(n.element,n.sessionId))?(t.setContainerType(e.TEXT),n.inlineText=!0):t.setContainerType(e.FRAME)}}else t.setContainerType(e.TEXT);return{layout:t}}processTraverseHorizontal(t,n){const i=t.parent;if(1===t.floated.size&&t.every(t=>t.floating)){if(nn(i,e.CONSTRAINT,t.length))return i.addAlign(512),void i.removeAlign(2);t.node=this.createNodeGroup(t.node,t.children,{parent:i}),t.setContainerType(e.CONSTRAINT,512)}else this.checkFrameHorizontal(t)?(t.node=this.createNodeGroup(t.node,t.children,{parent:i}),t.addRender(512),t.addRender(8)):t.length!==n.length||i.hasAlign(16)?(t.node=this.createNodeGroup(t.node,t.children,{parent:i}),this.processLayoutHorizontal(t)):(i.hasAlign(1024)||i.addAlign(8),i.removeAlign(2));return t}processTraverseVertical(t){const n=t.parent,i=this.application.clearMap,a=t.floated.size,o=t.length,r=()=>{n.addAlign(16),n.removeAlign(2)};if(t.some((t,e)=>t.lineBreakTrailing&&e<o-1)){if(!n.hasAlign(16)){const e=Qe(t);if(nn(n,e,o))return void r();if(n.layoutConstraint&&(n.addAlign(16),!n.hasAlign(32)))return;t.node=this.createLayoutNodeGroup(t),t.setContainerType(e,18)}}else if(1===a&&t.every((t,e)=>0===e||e===o-1||i.has(t)))if(t.same(t=>t.float)){if(nn(n,e.CONSTRAINT,o))return void r();t.node=this.createLayoutNodeGroup(t),t.setContainerType(e.CONSTRAINT,512)}else if(Ke(t,i)||this.checkFrameHorizontal(t))t.node=this.createLayoutNodeGroup(t),t.addRender(512),t.addRender(8);else{const e=tn(t);if(nn(n,e,o))return void r();if(n.layoutConstraint&&(n.addAlign(16),!n.hasAlign(32)))return;t.node=this.createLayoutNodeGroup(t),t.setContainerType(e,16)}else a&&(Ke(t,i)?(t.node=this.createLayoutNodeGroup(t),t.addRender(512),t.addRender(16)):t.item(0).floating&&(t.node=this.createLayoutNodeGroup(t),t.addRender(512),t.addRender(8)));if(!n.hasAlign(16)){const e=tn(t);if(nn(n,e,o))return void r();if(n.layoutConstraint&&(n.addAlign(16),!n.hasAlign(32)))return;t.node=this.createLayoutNodeGroup(t),t.setContainerType(e,16)}return t}processLayoutHorizontal(t){return this.checkConstraintFloat(t)?t.setContainerType(e.CONSTRAINT,t.every(t=>t.floating)?512:1024):this.checkConstraintHorizontal(t)?t.setContainerType(e.CONSTRAINT,8):this.checkLinearHorizontal(t)?(t.setContainerType(e.LINEAR,8),t.floated.size&&Pe(t.children)):t.setContainerType(e.RELATIVE,8),t}sortRenderPosition(t,e){var n;if(t.layoutRelative)e.some(t=>0!==t.node.zIndex)&&e.sort(Oe);else if(t.layoutConstraint&&e.some(t=>{return 0!==(e=t.node).zIndex||!e.pageFlow&&e.documentParent!==e.actualParent;var e})){let i=[];const a=t.innerMostWrapped,o=[],r=[];for(const t of e){const e=t.node.innerMostWrapped;e.pageFlow||e.actualParent===e.documentParent||e===a?(i.push(t),o.push(e)):r.push(t)}if(i.sort(Oe),r.length){const t=new Map,e=[],a=[];for(const i of r){const r=i.node.innerMostWrapped,s=r.ascend({condition:t=>o.includes(t),error:t=>t.originalRoot})[0];s?(null===(n=t.get(s))||void 0===n?void 0:n.push(i))||t.set(s,[i]):r.zIndex<0?a.push(i):e.push(i)}for(const[n,o]of t.entries()){o.sort(Oe);const t=i.findIndex(t=>t.node.innerMostWrapped===n);if(-1!==t)i.splice(t+1,0,...o);else for(const t of o){t.node.innerMostWrapped.zIndex<0?a.push(t):e.push(t)}}a.length&&(a.sort(ke),i=a.concat(i)),e.length&&(e.sort(ke),i=i.concat(e))}return i}return e}checkFrameHorizontal(t){switch(t.floated.size){case 1:if("center"===t.node.cssAscend("textAlign",!0)&&t.some(t=>t.pageFlow))return!0;if(t.floated.has("right")){let e=0,n=!1;for(const i of t)if(i.floating){if(n)return!1}else i.multiline&&(n=!0),e++;return e>0&&!t.singleRowAligned}return t.item(0).floating&&(t.linearY||t.length>2&&!t.singleRowAligned&&!t.every(t=>t.inlineFlow)||t.every(t=>t.floating||t.block&&(t.length>0||!(t.textElement||t.inputElement||t.imageElement||t.svgElement||t.controlElement))));case 2:return!0}return!1}checkConstraintFloat(t){if(t.length>1){const e=this.application.clearMap;let n=!0,i=!0;for(const a of t)if(!e.has(a)){const t=a.inputElement||a.controlElement;if(n&&!(a.floating||a.autoMargin.horizontal||a.inlineDimension&&!t||a.imageOrSvgElement||a.marginTop<0)&&(n=!1),i&&0===a.percentWidth&&(i=!1),!n&&!i)return!1}return!0}return!1}checkConstraintHorizontal(t){if(t.length>1&&t.singleRowAligned){const e=t.floated.size;return(!e||!(2===e||Ke(t,this.application.clearMap)||t.some(t=>"left"===t.float)&&t.some(t=>!0===t.autoMargin.left)||t.some(t=>"right"===t.float)&&t.some(t=>!0===t.autoMargin.right)))&&t.some(e=>e.blockVertical||e.percentWidth>0&&!e.inputElement&&!e.controlElement||e.marginTop<0||"bottom"===e.verticalAlign&&!t.parent.hasHeight)}return!1}checkLinearHorizontal(t){const e=t.floated;if((0===e.size||1===e.size&&e.has("left"))&&0===t.node.lineHeight&&t.singleRowAligned){const{fontSize:e,lineHeight:n}=t.item(0),i=t.parent.actualBoxWidth();let a=0;for(const o of t){if(!o.naturalChild||0!==o.length||o.inputElement||o.controlElement||o.positionRelative||!o.baseline||o.blockVertical||0!==o.zIndex||o.lineHeight!==n||o.fontSize!==e)return!1;if(a+=o.linear.width,a>=i)return!1}return!0}return!1}setConstraints(){for(const t of this.cache){const e=t.renderChildren;if(e.length&&t.hasProcedure(Ie.CONSTRAINT))if(t.hasAlign(4))t.layoutConstraint&&!t.layoutElement&&this.evaluateAnchors(e);else if(t.layoutRelative)this.processRelativeHorizontal(t,e);else if(t.layoutConstraint){let n=0;const i=Array(e.length);for(const a of e)if(!a.positioned)if(a.pageFlow||a.autoPosition)i[n++]=a;else{const e=a.constraint;a.outerWrapper===t?(e.horizontal||a.anchorParent("horizontal",0),e.vertical||a.anchorParent("vertical",0)):(a.leftTopAxis&&(e.horizontal||Ve(a,t,!0),e.vertical||Ve(a,t,!1)),e.horizontal||this.addGuideline(a,t,"horizontal"),e.vertical||this.addGuideline(a,t,"vertical"),a.positioned=!0)}if(n>0){if(i.length=n,t.layoutHorizontal)this.processConstraintHorizontal(t,i);else if(n>1)this.processConstraintChain(t,i);else{const t=i[0],{horizontal:e,vertical:n}=t.constraint;e||an(t),n||(t.anchorParent("vertical"),on(t)),ee.setConstraintDimension(t,1)}this.evaluateAnchors(i)}}}}renderNodeGroup(t){const{node:n,containerType:i}=t,a=Q();let o=!1;switch(i){case e.LINEAR:Se(t.alignmentType,16)?(a.android.orientation="vertical",o=!0):(a.android.orientation="horizontal",o=!0);break;case e.GRID:{const{columnCount:e,rowCount:n}=t,i=a.android;n>0&&(i.rowCount=""+n),i.columnCount=e>0?""+e:"1",o=!0;break}case e.FRAME:case e.RELATIVE:case e.CONSTRAINT:o=!0;break;default:if(0===t.length)return this.renderNode(t)}if(o){const e=n.dataset,o=!e.use&&e.target;return n.setControlType(ee.getControlName(i,n.api),i),n.addAlign(t.alignmentType),n.render(o?this.application.resolveTarget(o):t.parent),n.apply(a),{type:1,node:n,controlName:n.controlName}}}renderNode(t){var n,i;const{containerType:o,node:r}=t,s=r.dataset;let l=ee.getControlName(o,r.api);r.setControlType(l,o),r.addAlign(t.alignmentType);let c=t.parent,d=!s.use&&s.target;switch(r.tagName){case"IMG":{const i=this.application,o=r.element,s=r.absoluteParent||r.documentParent;let l=r.toFloat("width",0),h=r.toFloat("height",0),u=r.percentWidth>0?l:-1;const p=r.percentHeight>0?h:-1;let g,f="fitXY";if(Ee(o.srcset)||"PICTURE"===(null===(n=r.actualParent)||void 0===n?void 0:n.tagName))if(g=le(o,this.localSettings.supported.imageFormat),g.length){const t=g[0],e=t.actualWidth;if(e)-1===u?[l,h]=Fe(r,e,l,h,i.resourceHandler.getImage(o.src)):(l=r.bounds.width,u=-1);else{const e=i.resourceHandler.getImage(t.src);e&&(-1===u?[l,h]=Fe(r,e.width,l,h,e):(l=r.bounds.width,u=-1))}}else g=void 0;if(-1!==u||-1!==p)u>=0&&(l*=s.box.width/100,u<100&&!c.layoutConstraint&&r.css("width",se(l))),p>=0&&(h*=s.box.height/100,!(p<100)||c.layoutConstraint&&s.hasHeight||r.css("height",se(h)));else switch(r.css("objectFit")){case"contain":f="centerInside";break;case"cover":f="centerCrop";break;case"scale-down":f="fitCenter";break;case"none":f="center"}if(r.android("scaleType",f),l>0&&c.hasPX("maxWidth",!1)&&(-1===u||100===u)){const t=c.parseWidth(c.css("maxWidth"));t<=l&&(l=t,r.css("width",se(l)))}else if(h>0&&c.hasPX("maxHeight",!1)&&(-1===p||100===p)){const t=c.parseHeight(c.css("maxHeight"));t<=h&&(h=t,r.css("maxHeight",se(h)),r.setLayoutHeight("wrap_content"))}if(r.baseline&&(r.android("baselineAlignBottom","true"),r.marginBottom>0&&c.layoutLinear&&c.layoutHorizontal&&r.mergeGravity("layout_gravity","bottom")),r.hasResource(Ne.IMAGE_SOURCE)){const t=i.resourceHandler.addImageSrc(o,"",g);""!==t&&r.android("src",`@drawable/${t}`)}if(!r.pageFlow&&c===s&&(r.left<0&&"hidden"===c.css("overflowX")||r.top<0&&"hidden"===c.css("overflowY"))){const n=i.createNode({parent:c,replace:r});n.setControlType(a.FRAME,e.FRAME),n.inherit(r,"base"),n.cssCopy(r,"position","zIndex"),n.exclude({resource:Ne.ALL,procedure:Ie.ALL}),n.autoPosition=!1,n.setLayoutWidth(l>0?l<s.box.width?se(l):"match_parent":"wrap_content"),n.setLayoutHeight(h>0?h<s.box.height?se(h):"match_parent":"wrap_content"),n.render(d?i.resolveTarget(d):c),n.saveAsInitial(),c.layoutConstraint||(r.modifyBox(2,r.top),r.modifyBox(16,r.left)),i.addLayoutTemplate(c,n,{type:1,node:n,controlName:a.FRAME}),c=n,t.parent=n,d=void 0}break}case"INPUT":{const t=r.element;switch(t.type){case"radio":case"checkbox":t.checked&&r.android("checked","true");break;case"text":r.android("inputType","text");break;case"password":r.android("inputType","textPassword");break;case"number":case"range":r.android("inputType","number"),r.android("progress",t.value),Ue(r,t);break;case"time":r.android("inputType","time"),Ue(r,t);break;case"date":r.android("inputType","date"),Ue(r,t);break;case"datetime-local":r.android("inputType","datetime"),Ue(r,t);break;case"email":r.android("inputType","textEmailAddress"),ze(r,t);break;case"tel":r.android("inputType","phone"),ze(r,t);break;case"url":r.android("inputType","textUri"),ze(r,t);break;case"week":case"month":case"search":r.android("inputType","text"),ze(r,t);break;case"image":case"color":0===r.width&&r.css("width",se(r.bounds.width))}break}case"BUTTON":for(const t of r.naturalChildren)t.pageFlow&&t.textElement||t.android("elevation","2px");break;case"TEXTAREA":{const{cols:t,maxLength:e,placeholder:n,rows:i}=r.element;switch(r.android("minLines",i>0?""+i:"2"),r.css("verticalAlign")){case"middle":r.mergeGravity("gravity","center_vertical");break;case"bottom":r.mergeGravity("gravity","bottom");break;default:r.mergeGravity("gravity","top")}e>0&&r.android("maxLength",""+e),!r.hasPX("width")&&t>0&&r.css("width",se(8*t)),r.android("hint",n),r.android("scrollbars","vertical"),r.android("inputType","textMultiLine"),r.overflowX&&r.android("scrollHorizontally","true");break}case"LEGEND":{r.hasWidth||(r.css("minWidth",se(r.actualWidth),!0),r.css("display","inline-block",!0));const t=r.actualHeight*this.localSettings.deviations.legendBottomOffset;r.modifyBox(8,t),r.linear.bottom+=t;break}case"METER":case"PROGRESS":{const{min:t,max:e,value:n}=r.element;let i,a;"METER"===r.tagName?(({meterForegroundColor:i,meterBackgroundColor:a}=this.localSettings.style),e&&(n&&r.android("progress",""+Math.round(n/e*100)),100===e&&(r.android("min",""+t),r.android("max",""+e)))):(({progressForegroundColor:i,progressBackgroundColor:a}=this.localSettings.style),n&&r.android("progress",""+n),e&&r.android("max",""+e)),r.hasWidth||r.css("width",se(r.bounds.width)),r.hasHeight||r.css("height",se(r.bounds.height)),r.android("progressTint","@color/"+M.addColor(i)),r.android("progressBackgroundTint","@color/"+M.addColor(a)),r.attr("_","style","@android:style/Widget.ProgressBar.Horizontal"),r.exclude({resource:Ne.BOX_STYLE|Ne.FONT_STYLE});break}}switch(l){case a.TEXT:{let t="";if(r.overflowX&&(t+="horizontal"),r.overflowY&&(t+=(""!==t?"|":"")+"vertical"),""!==t&&r.android("scrollbars",t),r.has("letterSpacing")&&r.android("letterSpacing",ge(r.toFloat("letterSpacing")/r.fontSize,r.localSettings.floatPrecision)),"justify"===r.css("textAlign")&&r.android("justificationMode","inter_word"),r.has("textShadow")){const t=Le.exec(r.css("textShadow"));if(t){const e=M.addColor(re(t[1]||r.css("color")));if(""!==e){const n=r.localSettings.floatPrecision,i=t[4];r.android("shadowColor",`@color/${e}`),r.android("shadowDx",ge(2*r.parseWidth(t[2],!1),n)),r.android("shadowDy",ge(2*r.parseHeight(t[3],!1),n)),r.android("shadowRadius",ge(Ee(i)?r.parseWidth(i,!1):.01,n))}}}"nowrap"===r.css("whiteSpace")&&(r.android("maxLines","1"),"ellipsis"===r.css("textOverflow")&&"hidden"===r.css("overflow")&&r.android("ellipsize","end"));break}case a.BUTTON:r.hasHeight||r.android("minHeight",se(Math.ceil(r.actualHeight))),r.mergeGravity("gravity","center_vertical"),He(r);break;case a.SELECT:case a.CHECKBOX:case a.RADIO:He(r);break;case a.EDIT:void 0===r.companion&&r.hasProcedure(Ie.ACCESSIBILITY)&&[r.previousSibling,r.nextSibling].some(t=>{if((null==t?void 0:t.visible)&&t.pageFlow){const e=r.element,n=t.element,i="LABEL"===t.documentParent.tagName&&t.documentParent;if(e.id&&e.id===n.htmlFor)return t.android("labelFor",r.documentId),!0;if(i&&t.textElement)return i.android("labelFor",r.documentId),!0}return!1}),(null===(i=r.element.list)||void 0===i?void 0:i.children.length)?(l=a.EDIT_LIST,r.controlName=l):r.api>=26&&r.android("importantForAutofill","no"),He(r);case a.RANGE:r.hasPX("width")||r.css("width",se(r.bounds.width));break;case a.LINE:r.hasHeight||r.setLayoutHeight(se(r.contentBoxHeight||1))}if(r.inlineVertical&&(!c.layoutHorizontal||c.layoutLinear))switch(r.verticalAlign){case"sub":r.modifyBox(8,-1*Math.floor(r.baselineHeight*this.localSettings.deviations.subscriptBottomOffset));break;case"super":r.modifyBox(2,-1*Math.floor(r.baselineHeight*this.localSettings.deviations.superscriptTopOffset))}return r.render(d?this.application.resolveTarget(d):c),{type:1,node:r,parent:c,controlName:l}}renderNodeStatic(t,e){const{controlName:n,width:i,height:a,content:o}=t,r=new ee(0,"0",void 0,this.afterInsertNode);return r.setControlType(n),r.setLayoutWidth(i||"wrap_content"),r.setLayoutHeight(a||"wrap_content"),e&&(r.apply(e),e.documentId=r.documentId),this.getEnclosingXmlTag(n,this.userSettings.showAttributes?r.extractAttributes(1):void 0,o)}renderSpace(t){const{android:e,app:n,column:i,columnSpan:o,row:r,rowSpan:s}=t;let{width:l,height:c}=t;l?he(l)&&(e.layout_columnWeight=ge(parseFloat(l)/100,this.localSettings.precision.standardFloat),l="0px"):l="wrap_content",c?he(c)&&(e.layout_rowWeight=ge(parseFloat(c)/100,this.localSettings.precision.standardFloat),c="0px"):c="wrap_content",void 0!==i&&(e.layout_column=""+i),o&&(e.layout_columnSpan=""+o),void 0!==r&&(e.layout_row=""+r),s&&(e.layout_rowSpan=""+s);const d={android:e,app:n},h=this.renderNodeStatic({controlName:a.SPACE,width:l,height:c},d);return t.documentId=d.documentId,h}addGuideline(t,e,n,i){let r=!1,s=!1;i&&(r=!0===i.percent,s=!0===i.opposing);let l=t.documentParent;e.nodeGroup&&!l.hasAlign(4)&&(l=e);const c=l.box,d=t.linear,h=(i,h)=>{var u,p;if(t.constraint[i]||n&&i!==n)return;let g,f;if(h?s?(g="right",f="left"):(g="left",f="right"):s?(g="bottom",f="top"):(g="top",f="bottom"),!r&&!s){if(Ae(d[g],c[g]))return void t.anchor(g,"parent",!0);if(t.autoPosition){const e=t.siblingsLeading,n=e.length;if(n&&!t.alignedVertically()){const a=e[n-1];if(a.pageFlow&&a.renderParent===t.renderParent)return t.anchor(h?"leftRight":"top",a.documentId,!0),void(t.constraint[i]=!0)}}if(!t.pageFlow&&"fixed"!==t.css("position")&&!e.hasAlign(4)){const n=t.innerMostWrapped.bounds;for(const a of e.renderChildren){if(a===t||a.plainText||a.pseudoElement||a.originalRoot)continue;const e=a.innerMostWrapped;if(e.pageFlow||a.constraint[i]){const o=e.linear,r=e.bounds;let s,l=NaN;if(Ae(n[g],r[g]))s=g;else if(Ae(d[g],o[g]))s=g,l=h?n.left-r.left:n.top-r.top,l+=Ye(t,g);else{if(!Ae(d[g],o[f]))continue;if(h){if((t.hasPX("left")||t.hasPX("right"))&&(a.inlineStatic||!a.hasPX("width",!1,!0)))continue;s="leftRight",l=n.left-r.right}else{if((t.hasPX("top")||t.hasPX("bottom"))&&(a.inlineStatic||!a.hasPX("height",!1,!0)))continue;s="topBottom",l=n.top-r.bottom}}return h?isNaN(l)||(t.setBox(16,{reset:1,adjustment:0}),0!==l&&t.translateX(l)):isNaN(l)||(t.setBox(2,{reset:1,adjustment:0}),0!==l&&t.translateY(l)),t.anchor(s,a.documentId,!0),void(t.constraint[i]=!0)}}const a=h?"top":"left";let o,r;const s=(e,n,a)=>{t.anchor(n,e,!0),t.setBox(h?16:2,{reset:1,adjustment:a}),t.constraint[i]=!0};for(const l of e.renderChildren){if(l===t||l.pageFlow||l.originalRoot||!l.constraint[i])continue;const e=l.innerMostWrapped,c=e.bounds;if(Ae(n[a],c[a])||Ae(d[a],e.linear[a])){const t=n[g]-c[f];if(t>=0)return void s(l.documentId,h?"leftRight":"topBottom",t)}else c[g]<=n[g]&&(c[a]<=n[a]?o=e:r=e)}if(void 0===o&&(o=r),o){const e=n[g]-o.bounds[g]+Ye(t,g);if(e>=0)return void s(o.documentId,g,e)}}}const m=t.absoluteParent,y=t.positionStatic?t.bounds:d;let b="layout_constraintGuide_",T=0;if(!t.leftTopAxis&&l.originalRoot){const e=t.renderParent;l.ascend({condition:t=>t===e,attr:"renderParent"}).length&&(T+=h?s?l.marginRight:l.marginLeft:s?l.marginBottom:l.marginTop)}if(r){const e=Math.abs(y[g]-c[g])/c[h?"width":"height"];T+=parseFloat(ge(s?1-e:e,t.localSettings.floatPrecision)),b+="percent"}else T+=y[g]-c[s?f:g],b+="begin";const S=e.constraint.guideline||{};if(t.pageFlow){if(t.inlineVertical){const e=Te(t.verticalAlign);e<0&&(T+=e)}}else if(l.outerWrapper&&t.parent===l.outerMostWrapper)T+=l[s?h?"paddingRight":"paddingBottom":h?"paddingLeft":"paddingTop"];else if(m===t.documentParent){let t;t=h?s?64:256:s?128:32,T=De(l,t,T)}if(!h&&t.marginTop<0&&(T-=t.marginTop,t.setBox(2,{reset:1})),t.constraint[i]=!0,T<=0)t.anchor(g,"parent",!0);else if(h&&T+y.width>=c.right&&l.hasPX("width")&&!t.hasPX("right")||!h&&T+y.height>=c.bottom&&l.hasPX("height")&&!t.hasPX("bottom"))t.anchor(f,"parent",!0);else{const n=null===(p=null===(u=S[i])||void 0===u?void 0:u[b])||void 0===p?void 0:p[g];if(n)for(const e in n)if(parseInt(n[e])===T)return t.anchor(g,e,!0),void t.anchorDelete(f);const l=Q(void 0,{android:{orientation:h?"vertical":"horizontal"},app:{[b]:r?""+T:"@dimen/"+M.insertStoredAsset("dimens",`constraint_guideline_${s?f:g}`,se(T))}});this.addAfterOutsideTemplate(t.id,this.renderNodeStatic({controlName:t.api<29?a.GUIDELINE:o.GUIDELINE},l),!1);const c=l.documentId;c&&(t.anchor(g,c,!0),t.anchorDelete(f),T>0&&(be(S,i,b,g,c,""+T),e.constraint.guideline=S))}};h("horizontal",!0),h("vertical",!1)}addBarrier(t,e){const n=[];for(const i of t){const t=i.constraint.barrier;if(void 0===t)i.constraint.barrier={};else if(t[e])continue;n.push(i)}if(n.length){const t=Q(void 0,{android:{},app:{barrierDirection:e,constraint_referenced_ids:ve(n,t=>$(t.anchorTarget.documentId)).join(",")}}),{api:i,anchorTarget:r}=n[n.length-1],s=this.renderNodeStatic({controlName:i<29?a.BARRIER:o.BARRIER},t);switch(e){case"top":case"left":this.addBeforeOutsideTemplate(r.id,s,!1);break;default:this.addAfterOutsideTemplate(r.id,s,!1)}const l=t.documentId;if(l){for(const t of n)t.constraint.barrier[e]=l;return l}}return""}evaluateAnchors(t){const e=[],n=[];for(const i of t){const{horizontal:a,vertical:o}=i.constraint;if(a&&e.push(i),o&&n.push(i),i.alignParent("top")||""!==i.alignSibling("top")){let e=i;for(;;){const n=e.alignSibling("bottomTop");if(""===n){if(e!==i&&!e.alignParent("bottom"))if(e.blockHeight)e.anchor("bottom","parent");else{const t=e.constraint.barrier,n=void 0!==t&&Ee(t.bottom)?t.bottom:this.addBarrier([e],"bottom");n&&e.anchor("bottomTop",n)}break}{const i=t.find(t=>t.documentId===n);if((null==i?void 0:i.alignSibling("topBottom"))!==e.documentId)break;if(i.alignParent("bottom"))break;e=i}}}}let i=-1;for(;++i<t.length;){const a=t[i],o=a.constraint,r=o.current;if(!o.horizontal)for(const t in r){const n=r[t];if(n.horizontal&&e.some(t=>t.documentId===n.documentId)){o.horizontal=!0,e.push(a),i=-1;break}}if(!o.vertical)for(const t in r){const e=r[t];if(!e.horizontal&&n.some(t=>t.documentId===e.documentId)){o.vertical=!0,n.push(a),i=-1;break}}}}createNodeGroup(t,e,n={}){const{parent:i,delegate:a,cascade:o}=n,r=new ne(this.cache.nextId,t,e,this.afterInsertNode);return i?(i.appendTry(t,r),r.init()):r.containerIndex=t.containerIndex,this.cache.append(r,!0===a,!0===o),r}createNodeWrapper(t,e,n,i={}){const{controlName:a,containerType:o,alignmentType:r,resource:s,procedure:l,section:c}=i,d=this.application.createNode({parent:e,children:n,append:!0,replace:t,delegate:!0,cascade:!0===i.cascade||!!n&&n.length>0&&!t.originalRoot});if(d.inherit(t,"base","alignment"),t.documentRoot&&(d.documentRoot=!0,t.documentRoot=!1),null===d.actualParent&&e.naturalElement&&(d.actualParent=e),a&&d.setControlType(a,o),r&&d.addAlign(r),d.addAlign(16384),d.exclude({resource:void 0===s?Ne.BOX_STYLE|Ne.ASSET:s,procedure:void 0===l?Ie.CUSTOMIZATION:l,section:void 0===c?Re.ALL:c}),d.saveAsInitial(),d.cssApply({marginTop:"0px",marginRight:"0px",marginBottom:"0px",marginLeft:"0px",paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px"}),!1!==i.inheritContentBox&&(d.setCacheValue("contentBoxWidth",t.contentBoxWidth),d.setCacheValue("contentBoxHeight",t.contentBoxHeight)),i.resetMargin&&t.resetBox(30,d),i.inheritDataset&&t.naturalElement){const e=d.dataset;Object.assign(e,t.dataset),delete e.use}if(t.renderParent&&t.removeTry()&&(t.rendered=!1),t.documentParent.layoutElement){const e=t.namespace("android");for(const t in e)/^layout_/.test(t)&&(d.android(t,e[t]),delete e[t])}return d}processRelativeHorizontal(t,n){const i=[],a="nowrap"!==t.css("whiteSpace");let o,r=!1,s=!1;if(t.hasAlign(16)){let t;for(const e of n)t?e.anchor("topBottom",t.documentId):e.anchor("top","true"),e.pageFlow?(i.push([e]),t=e):s=!0}else{const e=t.nodeGroup?t.documentParent:t,r=e.actualBoxWidth((()=>{const i=t.renderParent;if(i.overflowY)return i.box.width;{const e=t.actualParent;if(e){if(t.naturalElement&&t.inlineStatic&&e.blockStatic&&e===i){const{left:n,width:i}=e.box;return i-(t.linear.left-n)}if(e.floatContainer){const{containerType:i,alignmentType:a}=this.containerTypeVerticalMargin;if(t.ascend({condition:t=>t.of(i,a),including:e,attr:"renderParent"}).length){const{left:i,right:a,width:o}=t.box;let r=0,s=0;for(const o of e.naturalChildren){const e=o.linear;o.floating&&!n.includes(o)&&t.intersectY(e)&&("left"===o.float?Math.floor(e.right)>i&&(r=Math.max(r,e.right-i)):a>Math.ceil(e.left)&&(s=Math.max(s,a-e.left)))}return o-r-s}}}}return e.box.width})()),l=this.application.clearMap;let c=0;if(t.naturalElement)t.blockDimension&&(c=t.parseUnit(t.css("textIndent")));else{const e=t.actualParent;if((null==e?void 0:e.blockDimension)&&e.has("textIndent")){const t=n[0];if(!t.rightAligned){const n=e.css("textIndent");c=e.parseUnit(n),0!==c&&(c<0&&e.setCacheValue("paddingLeft",Math.max(0,e.paddingLeft+c)),t.setCacheValue("blockDimension",!0),t.css("textIndent",n),e.css("textIndent","0px"))}}}let d,h=0,u=!1;$e(n).forEach((e,n)=>{const p=e.length;if(0===p)return;const g=1===n;let f,m,y,b,T=!0;g?((!t.naturalElement&&e[0].actualParent||t).cssInitialAny("textAlign","right","end")?(f="right",T=!1,e[p-1].anchor(f,"true")):f="left",e.some(t=>t.floating)&&Pe(e),m=i):(f="right",o=[],m=o);for(let n=0;n<p;n++){const i=e[n];let o;if(g&&T?(o="leftRight",0===n&&i.inline&&Math.abs(c)>=i.actualWidth&&"right"!==i.float&&!i.positionRelative&&(u=!0,i.floating||(i.setCacheValue("float","left"),i.setCacheValue("floating",!0)))):o="rightLeft",!i.pageFlow){if(y){const t=y.documentId;i.anchor(o,t),i.anchor("top",t)}else i.anchor(f,"true"),i.anchor("top","true");s=!0;continue}let S,E=i.bounds;if(i.styleText&&!i.hasPX("width")){const t=i.textBounds;t&&(t.numberOfLines>1||Math.ceil(t.width)<i.box.width)&&(E=t)}let v=i.multiline;v&&Math.floor(E.width)<=r&&!i.hasPX("width")&&!Ze(i)&&(v=!1,i.multiline=!1);let x=!0===i.autoMargin.horizontal;if(x){const t=i.autoMargin;i.anchor(t.leftRight?"centerHorizontal":t.left?"right":"left","true")}if(y){let e=0,s=0,g=!1;const A=()=>{if(y.floating&&y.alignParent("left")&&(v||Math.floor(h+i.actualWidth)<r))return!0;if(t.floating&&n===p-1&&i.textElement&&!/\s|-/.test(i.textContent.trim())){if(t.hasPX("width",!1)){const e=t.css("width");t.parseWidth(e)>t.parseWidth(t.css("minWidth"))&&t.cssApply({width:"auto",minWidth:e})}return t.android("maxLines","1"),!0}return!1},_=()=>(s=h+i.marginLeft,d&&!b.includes(d)&&(s+=d.linear.width),void 0!==d&&i.plainText&&!v&&b.includes(d)&&!l.has(i)||(s+=E.width),i.marginRight<0&&(s+=i.marginRight),e=r,c<0?m.length<=1&&(e+=c):c>0&&1===m.length&&(e-=c),i.styleElement&&i.inlineStatic&&(s-=i.contentBoxWidth),e=Math.ceil(e),!0),w=()=>{var t;if(y.textElement){if(1===n&&i.plainText&&i.previousSibling===y&&!fe.TRAILINGSPACE.test(y.textContent)&&!fe.LEADINGSPACE.test(i.textContent))return g=!0,!1;if(a&&y.multiline&&(y.bounds.width>=r||i.plainText&&M.hasLineBreak(y,!1,!0)))return!0}if(A())return!1;if(a){if(_()&&Math.floor(s)>e)return!0;if("CODE"!==(null===(t=i.actualParent)||void 0===t?void 0:t.tagName))return v&&i.plainText||Ze(i)}return!1},R=i.textElement&&w();y.floating&&We(i,y)&&(o=""),S=i.inlineVertical&&y.inlineVertical&&i.previousSibling!==y?ue(y.element,i.element):void 0;const I=l.has(i);R||i.nodeGroup&&!i.hasAlign(128)||Math.ceil(i.bounds.top)>=y.bounds.bottom&&(i.blockStatic||i.floating&&y.float===i.float)||!i.textElement&&!A()&&_()&&Math.floor(s)>e||!i.floating&&(y.blockStatic||i.previousSiblings().some(t=>t.lineBreak||t.excluded&&t.blockStatic)||(null==S?void 0:S.some(t=>Ge(t))))||I||y.autoMargin.horizontal||M.checkPreIndent(y)?(void 0===d&&I&&i.setBox(2,{reset:1}),T?(d&&(i.bounds.bottom<=d.bounds.bottom||u)?x||i.anchor(o,d.documentId):(x||i.anchor(f,"true"),d=void 0),x=!0):(d&&i.linear.bottom>d.bounds.bottom&&(d=void 0),y.anchor(f,"true")),h=Math.min(0,R&&!y.multiline&&v&&!I?i.linear.right-t.box.right:0),b=[i],m.push(b)):(""!==o&&(T?x||(i.anchor(o,y.documentId),x=!0):y.anchor(o,i.documentId)),!v||i.hasPX("width")||y.floating||g||(i.multiline=!1),b.push(i))}else T&&(x||i.anchor(f,"true")),b=[i],m.push(b);if("left"===i.float&&g&&(d?i.linear.bottom>d.linear.bottom&&(d=i):d=i),!1===(null==S?void 0:S.some(t=>!!me(t,i.sessionId)||Ge(t)))){const t=pe(S[0]);if(!t.numberOfLines){const e=S.length>1&&pe(S.pop());e&&e.numberOfLines||(h+=e?t.left-e.right:t.width)}}h+=i.marginLeft+E.width+i.marginRight,y=i}}),1===i.length&&c<0&&t.setCacheValue("paddingLeft",Math.max(0,t.paddingLeft+c))}(i.length>1||o&&o.length>1)&&(r=!0);const l=n=>{let i=null;const a=n.length,o=1===a&&!t.hasHeight;for(let s=0;s<a;s++){const a=n[s];let l;if(a.length>1){const n=Xe(a);let c=n[0];l=Ce.baseline(n.length?a.filter(t=>!n.includes(t)):a),l&&c&&(l!==c&&l.bounds.height<c.bounds.height?l.anchor("bottom",c.documentId):(l=Ce.baseline(a),c=void 0));const d=[];let h=0===s?"true":null==l?void 0:l.documentId,u=0,p=null;for(const e of a){if(e===l||e===c)continue;if(e.controlElement){let n=e.bounds.top;i?n-=i.linear.bottom:(e.anchor("top","true"),n-=t.box.top),e.setBox(2,{reset:1,adjustment:n}),e.baselineAltered=!0;continue}let n=!1;if(e.baseline)!e.naturalElements.length||!de(e.verticalAlign)&&e.baselineElement?d.push(e):n=!0;else if(e.inlineVertical)switch(e.css("verticalAlign")){case"text-top":null===p&&(p=Ce.baseline(a,!0)),p&&e!==p&&e.anchor("top",p.documentId);break;case"super":e.baselineAltered||e.modifyBox(2,-1*Math.floor(e.baselineHeight*this.localSettings.deviations.superscriptTopOffset));case"top":h&&h!==e.documentId?e.anchor("top",h):l&&e.anchor("top",l.documentId);break;case"middle":{const t=Math.max(e.actualHeight,e.lineHeight);if(r){if(l){const n=Math.max(l.actualHeight,l.lineHeight);t<n?(e.anchor("top",l.documentId),e.setBox(2,{reset:1,adjustment:Math.round((n-t)/2)}),e.baselineAltered=!0):t>u&&(u=t)}}else e.anchor("centerVertical","true"),e.imageElement&&(u=Math.max(t,u));break}case"text-bottom":null===p&&(p=Ce.baseline(a,!0)),p!==e&&p?e.anchor("bottom",p.documentId):l&&e.anchor("bottom",l.documentId);break;case"sub":e.baselineAltered||e.modifyBox(8,-1*Math.ceil(e.baselineHeight*this.localSettings.deviations.subscriptBottomOffset));case"bottom":h&&!Ae(t.bounds.height,e.bounds.height)&&(t.hasHeight||"true"!==h||(r?l&&(h=l.documentId):t.css("height",se(t.bounds.height))),e.anchor("bottom",h));break;default:n=!e.baselineAltered}else n=!0;n&&0===s&&e.anchor("top","true")}const g=d.length;if(l){if(l.baselineActive=!0,g)Be(l,d,o,t.box.top),o&&l.is(e.BUTTON)&&(l.anchor("centerVertical","true"),l=null);else if(l.textElement)if(u>Math.max(l.actualHeight,l.lineHeight))l.anchor("centerVertical","true"),l=null;else if(l.multiline){const{left:t,height:e}=l.bounds;for(const n of a){if(n===l)break;t<n.bounds.right&&e<n.bounds.height&&l.anchor("bottom",n.documentId)}}}else if(g>0&&g<a.length&&(c=Xe(a)[0],c))for(const t of d)t.baseline&&!t.multiline&&c.bounds.height>t.bounds.height&&t.anchor("bottom",c.documentId);for(let t=a.length-1,e=!0;t>=0;t--){const n=a[t];n.textElement&&(n.setSingleLine(e&&!n.rightAligned&&!n.centerAligned),e=!1)}}else l=a[0];let c=!1;null===l&&(l=a[0],c=!0);for(const t of a)i&&""===t.alignSibling("baseline")&&t.anchor("topBottom",i.documentId),c&&t.linear.bottom>=l.linear.bottom&&(l=t);i=l}};if(l(i),o&&l(o),t.horizontalRows=o?i.concat(o):i,s){const e=t.renderChildren,n=t.renderTemplates,i=[];for(let t=0;t<e.length;t++)e[t].pageFlow||(i.push(n[t]),e.splice(t,1),n.splice(t--,1));for(const t of i)e.push(t.node),n.push(t)}}processConstraintHorizontal(t,e){const n=t.hasAlign(2048),{anchorStart:i,anchorEnd:a,chainStart:o,chainEnd:r}=en(n);let s,l,c,d=0,h=!0,u=null,p=0;const g=e=>{e.anchorParent("vertical",0),e.setBox(2,{reset:1,adjustment:Math.max(e.bounds.top-t.box.top,Math.min(-1*Te(e.verticalAlign),0))}),e.baselineAltered=!0,h=!1};if(!n)switch(t.cssAscend("textAlign",!0)){case"center":d=.5;break;case"right":case"end":d=1}if(e.some(t=>t.floating)){if(!n)switch(d){case.5:{let n;[n,e]=xe(e,t=>t.floating||!0===t.autoMargin.horizontal),n.length&&this.processConstraintChain(t,n);break}case 1:{let n;[n,e]=function(t){return xe(t,t=>"left"===t.float||!0===t.autoMargin.right)}(e),n.length&&this.processConstraintChain(t,n);break}default:{let n;[n,e]=$e(e),n.length&&this.processConstraintChain(t,n);break}}Pe(e)}!t.hasPX("width")&&e.some(t=>t.percentWidth>0)&&t.setLayoutWidth("match_parent");const f=Ce.baseline(e),m=Xe(e)[0],y=null==f?void 0:f.documentId;let b=ee.availablePercent(e,"width",t.box.width);const T=e.length;for(let t=0;t<T;t++){const n=e[t];if(c?n.pageFlow?(c.anchor(r,n.documentId),n.anchor(o,c.documentId),t===T-1&&n.anchor(a,"parent")):n.autoPosition&&n.anchor(o,c.documentId):1===T?(d=n.centerAligned?.5:n.rightAligned?1:0,n.blockStatic||.5===d?n.anchorParent("horizontal",d):(n.anchor(i,"parent"),n.anchorStyle("horizontal",0))):(n.anchor(i,"parent"),n.anchorStyle("horizontal",d,"packed")),n.pageFlow){if(n!==f){if(n.controlElement)g(n);else if(n.inlineVertical)switch((void 0===s||Je(n)>Je(s))&&(s=n),n.css("verticalAlign")){case"text-top":null===u&&(u=Ce.baseline(e,!0)),u&&n!==u?n.anchor("top",u.documentId):g(n);break;case"middle":!1===(null==f?void 0:f.textElement)||m?g(n):n.anchorParent("vertical",.5);break;case"text-bottom":if(null===u&&(u=Ce.baseline(e,!0)),u&&n!==u){n!==m?n.anchor("bottom",u.documentId):m&&g(n);break}case"bottom":if(void 0===l)for(const t of e)!t.baseline&&(void 0===l||t.linear.bottom>l.linear.bottom)&&(l=t);n===l?g(n):n.anchor("bottom","parent");break;case"baseline":null===f||n.blockVertical||!n.textElement&&Je(n)>Je(f)?g(n):(n.anchor("baseline",y||"parent"),p++);break;default:g(n)}else n.plainText?(n.anchor("baseline",y||"parent"),p++):g(n);n.anchored=!0}b=ee.setConstraintDimension(n,b),c=n}else n.autoPosition&&(y?n.anchor("top",y):(n.anchorParent("vertical",0),n.anchored=!0,h=!1))}if(f){if(s&&s!==f&&f.textElement&&Je(s)>Je(f))switch(s.verticalAlign){case"middle":f.anchorParent("vertical",.5,"",!0);break;case"baseline":f.anchor("baseline",s.documentId);break;case"bottom":case"text-bottom":f.anchor("bottom",s.documentId);break;case"sub":s.textElement||(f.anchor("bottom",s.documentId),f.modifyBox(8,-1*Math.floor(f.baselineHeight*this.localSettings.deviations.subscriptBottomOffset)));break;case"super":s.textElement||(f.anchor("bottom",s.documentId),f.modifyBox(2,-1*Math.floor(f.baselineHeight*this.localSettings.deviations.superscriptTopOffset)))}else h&&f.baselineElement&&!f.imageOrSvgElement&&t.ascend({condition:t=>t.layoutHorizontal,error:t=>t.naturalChild&&t.layoutVertical||t.layoutGrid,attr:"renderParent"}).length?(f.anchorParent("vertical"),f.anchor("baseline","parent")):g(f);f.baselineActive=p>0,f.anchored=!0}}processConstraintChain(t,e){const n=this.application.clearMap,i=t.hasAlign(512),a=e[0].actualParent||t,o=Ce.partitionRows(e,n),r=o.length;!t.hasWidth&&e.some(t=>t.percentWidth>0)&&t.setLayoutWidth("match_parent",!1);let s,l=[];for(let e=0;e<r;e++){const c=o[e],[d,h]=xe(c,t=>"right"===t.float||!0===t.autoMargin.left);let u,p,g,f=!1;const m=(o,d)=>{const h=o.length;if(0===h)return;const{anchorStart:m,anchorEnd:y,chainStart:b,chainEnd:T}=en(d),S=o[0],E=o[h-1];h>1?(S.anchor(m,"parent"),d?E.anchorStyle("horizontal",1,"packed"):S.anchorStyle("horizontal",i||"center"!==a.css("textAlign")?0:.5,"packed"),E.anchor(y,"parent")):an(S);let v=ee.availablePercent(c,"width",t.box.width);f=!((1!==e||S.floating||!0!==(null==s?void 0:s.every(t=>t.floating))||0!==n.size&&c.some(t=>qe(t,n)))&&(S.pageFlow||S.autoPosition&&1!==h)),g=void 0;for(let t=0;t<h;t++){const c=o[t];if(0===e||f?1===r?(c.anchorParent("vertical"),on(c,1===h,!0)):(c.anchor("top","parent"),c.anchorStyle("vertical",0,"packed")):e===r-1&&void 0===p&&c.anchor("bottom","parent"),c.autoMargin.leftRight)c.anchorParent("horizontal");else if(h>1){const e=o[t-1],n=o[t+1];if(e)if(!e.pageFlow&&e.autoPosition){let e;for(let n=t-2;n>=0&&(e=o[n],!e.pageFlow);n--)e=void 0;e?c.anchor(b,e.documentId):c.anchor(m,"parent")}else c.anchor(b,e.documentId);n&&c.anchor(T,n.documentId)}if(v=ee.setConstraintDimension(c,v),s&&0===t&&(n.has(c)&&!c.floating&&c.modifyBox(2,-s[s.length-1].bounds.height,!1),i)){let t=!1;for(const e of l)if(c.bounds.top<Math.floor(e.bounds.bottom)){t=!0;break}if(t){u=s[s.length-1];for(let t=l.length-2;t>=0;t--){const e=l[t];if(e.linear.bottom>u.linear.bottom){if(d&&Math.ceil(e.linear[y])-Math.floor(a.box[y])<c.linear.width)continue;c.anchorDelete(m),c.anchor(b,e.documentId,!0),d?c.modifyBox(4,e.marginLeft):c.modifyBox(16,e.marginRight),S.delete("app","layout_constraintHorizontal_chainStyle","layout_constraintHorizontal_bias"),S.anchorDelete(T),E.anchorDelete(y),void 0===p&&(p=c);break}}}}(void 0===g||c.linear.height>g.linear.height)&&(g=c)}};if(m(h,!1),m(d,!0),i&&(l=l.concat(h,d)),!f){if(s){const t=c[0],e=s.length,n=c.length;if(1===e&&1===n){const e=s[0];e.anchor("bottomTop",t.documentId),t.anchor("topBottom",e.documentId),t.app("layout_constraintVertical_bias","0")}else{if(void 0===u||void 0===p){u=s[0];for(let t=1;t<e;t++){const e=s[t];e.linear.bottom>u.linear.bottom&&(u=e)}}if(void 0===p){p=c[0];let t=p.linear.top;for(let e=1;e<n;e++){const n=c[e],i=n.linear.top;(i<t||i===t&&n.linear.height>p.linear.height)&&(p=n,t=i)}}const t=p.documentId;u.anchor("bottomTop",t),p.anchor("topBottom",u.documentId),on(p,1===e,!0);const i=p.marginTop;for(const e of c)e!==p&&(on(e,1===n),e.anchor("top",t),e.modifyBox(2,-1*i))}}s=c}}t.horizontalRows=o}createLayoutNodeGroup(t){return this.createNodeGroup(t.node,t.children,{parent:t.parent})}get containerTypeHorizontal(){return{containerType:e.RELATIVE,alignmentType:8}}get containerTypeVertical(){return{containerType:e.CONSTRAINT,alignmentType:16}}get containerTypeVerticalMargin(){return{containerType:e.FRAME,alignmentType:256}}get containerTypePercent(){return{containerType:e.CONSTRAINT,alignmentType:32768}}get afterInsertNode(){return t=>{this.userSettings.exclusionsDisabled||t.setExclusions(),t.localSettings=this._defaultViewSettings,t.api=this._targetAPI}}get userSettings(){return this.application.userSettings}get screenDimension(){return this._screenDimension}}class sn extends squared.base.ExtensionManager{}var ln={resources:{">":{color:{"@":["name"],"~":!0}}}},cn={resources:{">":{dimen:{"@":["name"],"~":!0}}}},dn={"font-family":{"@":["xmlns:android"],">":{font:{"^":"android","@":["font","fontStyle","fontWeight"]}}}},hn={resources:{">":{string:{"@":["name"],"~":!0}}}},un={resources:{">":{"string-array":{"@":["name"],">":{item:{"~":!0}}}}}},pn={resources:{">":{style:{"@":["name","parent"],">":{item:{"@":["name"],"~":!0}}}}}};const gn=squared.lib,{fromLastIndexOf:fn,objectMap:mn}=gn.util,{applyTemplate:yn,replaceTab:bn}=gn.xml,Tn=M.STORED,Sn=/^(.+)\/(.+?\.\w+)$/,En=/"(-?[\d.]+)px"/g,vn=/>(-?[\d.]+)px</g;function xn(t){const e=t.length,n=Array(e/3);for(let i=0,a=0;i<e;i+=3,a++)n[a]={pathname:t[i+1],filename:t[i+2],content:t[i]};return n}function An(t){const e=t.length,n=Array(e/3);for(let i=0,a=0;i<e;i+=3,a++)n[a]={pathname:t[i+1],filename:t[i+2].split("?")[0],content:"",uri:t[i]};return n}const _n=(t,e,n)=>({pathname:t,filename:e,content:n}),wn=(t,e)=>"dp"===e?t.replace(En,(t,...e)=>'"'+Y(e[0],!1)+'"'):t,Rn=(t,e)=>(""+t).toLowerCase()>=(""+e).toLowerCase()?1:-1;class In extends squared.base.FileUI{copyToDisk(t,e){this.copying(Object.assign(Object.assign({},e),{assets:this.getAssetsAll(null==e?void 0:e.assets),directory:t}))}appendToArchive(t,e){this.archiving(Object.assign(Object.assign({},e),{assets:this.getAssetsAll(null==e?void 0:e.assets),filename:this.userSettings.outputArchiveName,appendTo:t}))}saveToArchive(t,e){this.archiving(Object.assign(Object.assign({},e),{assets:this.getAssetsAll(null==e?void 0:e.assets),filename:t}))}resourceAllToXml(t={}){const{directory:e,filename:n}=t,i={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml(),drawableImage:this.resourceDrawableImageToXml(),anim:this.resourceAnimToXml()};for(const t in i)0===i[t].length&&delete i[t];if(e||n){let a=[];for(const t in i)a=a.concat("image"===t?An(i[t]):xn(i[t]));t.assets=a.concat(t.assets||[]),e&&this.copying(t),n&&this.archiving(t)}return i}resourceStringToXml(t={}){const e={string:[]},n=e.string;Tn.strings.has("app_name")||n.push({name:"app_name",innerText:this.userSettings.manifestLabelAppName});for(const[t,e]of Array.from(Tn.strings.entries()).sort(Rn))n.push({name:t,innerText:e});return this.checkFileAssets([bn(yn("resources",hn,[e]),this.userSettings.insertSpaces,!0),this.directory.string,"strings.xml"],t)}resourceStringArrayToXml(t={}){if(Tn.arrays.size){const e={"string-array":[]},n=e["string-array"];for(const[t,e]of Array.from(Tn.arrays.entries()).sort())n.push({name:t,item:mn(e,t=>({innerText:t}))});return this.checkFileAssets([bn(yn("resources",un,[e]),this.userSettings.insertSpaces,!0),this.directory.string,"string_arrays.xml"],t)}return[]}resourceFontToXml(t={}){var e;if(Tn.fonts.size){const n=this.resource,{insertSpaces:i,targetAPI:a}=this.userSettings,o=a<26?d.app:d.android,r=this.directory.font,s=[];for(const[t,l]of Array.from(Tn.fonts.entries()).sort()){const c={"xmlns:android":o,font:[]},d=c.font;for(const i in l){const[a,o,s]=i.split("|");let c=t;"normal"===o?c+="400"===s?"_normal":"_"+l[i]:(c+="_"+o,"400"!==s&&(c+="_"+l[i])),d.push({font:`@font/${c}`,fontStyle:o,fontWeight:s});const h=null===(e=n.getFont(a,o,s))||void 0===e?void 0:e.srcUrl;h&&this.addAsset({pathname:r,filename:c+"."+fn(h.split("?")[0],".").toLowerCase(),uri:h})}let h=bn(yn("font-family",dn,[c]),i);a<26&&(h=h.replace(/\s+android:/g," app:")),s.push(h,r,`${t}.xml`)}return this.checkFileAssets(s,t)}return[]}resourceColorToXml(t={}){if(Tn.colors.size){const e={color:[]},n=e.color;for(const[t,e]of Array.from(Tn.colors.entries()).sort())n.push({name:e,innerText:t});return this.checkFileAssets([bn(yn("resources",ln,[e]),this.userSettings.insertSpaces),this.directory.string,"colors.xml"],t)}return[]}resourceStyleToXml(t={}){const e=[];if(Tn.styles.size){const t={style:[]},n=t.style;for(const t of Array.from(Tn.styles.values()).sort((t,e)=>(""+t.name).toLowerCase()>=(""+e.name).toLowerCase()?1:-1)){const e=t.items;if(Array.isArray(e)){const i=[];for(const t of e.sort((t,e)=>t.key>=e.key?1:-1))i.push({name:t.key,innerText:t.value});n.push({name:t.name,parent:t.parent,item:i})}}e.push(bn(yn("resources",pn,[t]),this.userSettings.insertSpaces),this.directory.string,"styles.xml")}if(Tn.themes.size){const{convertPixels:t,insertSpaces:i,manifestThemeName:a}=this.userSettings,o={};for(const[r,s]of Tn.themes.entries()){const l=Sn.exec(r);if(l){const c={style:[]},d=c.style;for(const[t,e]of s.entries()){const n=[],i=e.items;for(const t in i)n.push({name:t,innerText:i[t]});o[r]&&t===a&&!c.length||d.push({name:t,parent:e.parent,item:n}),t===a&&(o[r]=!0)}e.push(bn((n=yn("resources",pn,[c]),"dp"===t?n.replace(vn,(t,...e)=>">"+Y(e[0],!1)+"<"):n),i),l[1],l[2])}}}var n;return this.checkFileAssets(e,t)}resourceDimenToXml(t={}){if(Tn.dimens.size){const e=this.userSettings.convertPixels,n={dimen:[]},i=n.dimen;for(const[t,n]of Array.from(Tn.dimens.entries()).sort())i.push({name:t,innerText:e?Y(n,!1):n});return this.checkFileAssets([bn(yn("resources",cn,[n])),this.directory.string,"dimens.xml"],t)}return[]}resourceDrawableToXml(t={}){if(Tn.drawables.size){const{convertPixels:e,insertSpaces:n}=this.userSettings,i=this.directory.image,a=[];for(const[t,o]of Tn.drawables.entries())a.push(bn(wn(o,e),n),i,`${t}.xml`);return this.checkFileAssets(a,t)}return[]}resourceDrawableImageToXml(t={}){if(Tn.images.size){const{directory:e,filename:n}=t,i=this.directory.image,a=[];for(const[t,e]of Tn.images.entries())if(Object.keys(e).length>1)for(const n in e){const o=e[n];a.push(o,`${i}-${n}`,t+"."+fn(o,"."))}else{const n=e.mdpi;n&&a.push(n,i,t+"."+fn(n,"."))}return(e||n)&&(t.assets=An(a).concat(t.assets||[]),e&&this.copying(t),n&&this.archiving(t)),a}return[]}resourceAnimToXml(t={}){if(Tn.animators.size){const e=this.userSettings.insertSpaces,n=[];for(const[t,i]of Tn.animators.entries())n.push(bn(i,e),"res/anim",`${t}.xml`);return this.checkFileAssets(n,t)}return[]}layoutAllToXml(t,e={}){const{directory:n,filename:i}=e,a=n||i,o={},r=[],s=t.length;for(let e=0;e<s;e++){const{content:n,filename:i,pathname:s}=t[e];o[i]=[n],a&&r.push(_n(s,0===e?this.userSettings.outputMainFileName:`${i}.xml`,n))}return a&&(e.assets=e.assets?r.concat(e.assets):r,n&&this.copying(e),i&&this.archiving(e)),o}getAssetsAll(t){let e=[];if(t){const n=t.length;for(let e=0,i=0;e<n;e++){const n=t[e];if(!n.uri)if(0===i)n.filename=this.userSettings.outputMainFileName,i++;else{const t=n.filename;t.endsWith(".xml")||(n.filename=`${t}.xml`)}}e=e.concat(t)}return e.concat(xn(this.resourceStringToXml()),xn(this.resourceStringArrayToXml()),xn(this.resourceFontToXml()),xn(this.resourceColorToXml()),xn(this.resourceDimenToXml()),xn(this.resourceStyleToXml()),xn(this.resourceDrawableToXml()),An(this.resourceDrawableImageToXml()),xn(this.resourceAnimToXml()))}checkFileAssets(t,e){const{directory:n,filename:i}=e;return(n||i)&&(e.assets=xn(t).concat(e.assets||[]),n&&this.copying(e),i&&this.archiving(e)),t}get userSettings(){return this.resource.userSettings}}const{NODE_PROCEDURE:Nn}=squared.base.lib.enumeration;class Cn extends squared.base.extensions.Accessibility{constructor(){super(...arguments),this.eventOnly=!0,this.options={displayLabel:!1}}beforeBaseLayout(){const t=this.cacheProcessing;for(const e of t)if(e.inputElement&&e.hasProcedure(Nn.ACCESSIBILITY)){const n=e.attributes["aria-describedby"];if(n){const i=t.find(t=>t.elementId===n);if(i){const t=i.textContent.trim();""!==t&&e.data(M.KEY_NAME,"titleString",t)}}switch(e.containerName){case"INPUT_RADIO":case"INPUT_CHECKBOX":{const t=e.elementId;[e.nextSibling,e.previousSibling].some(n=>{if((null==n?void 0:n.pageFlow)&&!n.visibleStyle.backgroundImage&&n.visible){let i=!1;if(t&&t===n.toElementString("htmlFor"))i=!0;else if(n.textElement){const t=n.actualParent;"LABEL"===t.tagName?(t.renderAs=e,i=!0):n.plainText&&(i=!0)}if(i)return n.labelFor=e,this.options.displayLabel||n.hide(),!0}return!1});break}case"INPUT_IMAGE":e.extracted=[e];break;case"BUTTON":if(e.length){const t=e.filter(t=>!t.textElement);t.length&&(e.extracted=t),e.clear()}}}}}const Ln=squared.lib,Pn=squared.base.lib,{formatPX:kn}=Ln.css,{createElement:On}=Ln.dom,{maxArray:Mn,truncate:Bn}=Ln.math,{safeNestedArray:Dn}=Ln.util,{APP_SECTION:Wn,NODE_PROCEDURE:Xn,NODE_RESOURCE:Gn}=Pn.enumeration,Hn=Pn.constant.EXT_NAME.COLUMN;class Vn extends squared.base.extensions.Column{processNode(t,n){return super.processNode(t,n),t.containerType=e.CONSTRAINT,t.addAlign(4),{complete:!0,subscribe:!0}}postBaseLayout(t){const n=t.data(Hn,"mainData");if(n){const i=this.application,{columnCount:o,columnGap:r,columnWidth:s,columnRule:l,columnSized:c,boxWidth:d,rows:h,multiline:u}=n,{borderLeftWidth:p,borderLeftColor:g,borderLeftStyle:f}=l,m=t.parseUnit(p),y="none"!==f&&m>0,b=()=>{const n=i.createNode({parent:t,append:!0});let o;return n.inherit(t,"base"),n.containerName=t.containerName+"_COLUMNRULE",n.setControlType(a.LINE,e.LINE),n.exclude({resource:Gn.ASSET,procedure:Xn.ALL}),y?(o=kn(m),n.cssApply({width:o,paddingLeft:o,borderLeftStyle:f,borderLeftWidth:p,borderLeftColor:g,lineHeight:"initial",boxSizing:"border-box",display:"inline-block"})):(o=kn(r),n.cssApply({width:o,lineHeight:"initial",display:"inline-block"})),n.saveAsInitial(),n.setLayoutWidth(o),n.setLayoutHeight("0px"),n.render(t),n.positioned=!0,n.renderExclude=!1,i.addLayoutTemplate(t,n,{type:1,node:n,controlName:n.controlName}),n};let T;const S=h.length;for(let e=0;e<S;e++){const n=h[e],i=n.length;if(1===i){const t=n[0];0===e?(t.anchor("top","parent"),t.anchorStyle("vertical",0,"packed")):(T.anchor("bottomTop",t.documentId),t.anchor("topBottom",T.documentId)),e===S-1?t.anchor("bottom","parent"):T=n[0],t.anchorParent("horizontal",t.rightAligned?1:t.centerAligned?.5:0),t.anchored=!0,t.positioned=!0}else{const a=[];let l=Math.min(i,c,o||1/0),h=0;if(l>1){const t=Math.floor(n.reduce((t,e)=>t+e.bounds.height,0)/l);let e=i>=l?Math.ceil(i/l):1,s=u||e>1&&(i%e!=0||!isNaN(o)&&e*o%i>1),c=s&&i%l!=0?i-l:1/0,p=0;for(let o=0,r=0,d=0;o<i;o++,d++){const h=n[o],u=d%e==0;r<l-1&&(u||c<=0||o>0&&(n[o-1].bounds.height>=t||a[r].length&&o<i-2&&i-o+1==l-r&&n[o-1].bounds.height>n[o+1].bounds.height))&&(o>0&&(r++,u?c--:c++),d=0,!u&&c>0&&(s=!0));const g=Dn(a,r);g.push(h),h.length&&(p+=Mn(h.map(t=>t.marginLeft+t.marginRight))),o>0&&/^H\d/.test(h.tagName)?1===g.length&&o===i-2?(l--,c=0):(d+1)%e==0&&i-o>l&&!n[o+1].multiline&&n[o+1].bounds.height<t&&(g.push(n[++o]),d=-1):s&&i-o==l-r&&c!==1/0&&(e=1)}h=l>1?Math.max((p+r*(l-1))/d/l,.01):0}else a.push(n);const p=a.length,g=Array(p);for(let e=0;e<p;e++){const n=a[e];for(const e of n)e.app("layout_constraintWidth_percent",Bn(1/l-h,t.localSettings.floatPrecision)),e.setLayoutWidth("0px"),e.setBox(4,{reset:1}),e.exclude({section:Wn.EXTENSION}),e.anchored=!0,e.positioned=!0;g[e]=n[0]}for(let t=0;t<p;t++){const e=a[t];if(t<p-1&&e.length>1){const n=e[e.length-1];if(/^H\d/.test(n.tagName)){e.pop();const i=t+1;g[i]=n,a[i].unshift(n)}}}const f=Array(p);for(let e=0;e<p;e++){const n=a[e],i=[];let o=0;const r=n.length;for(let t=0;t<r;t++){const e=n[t];if(e.naturalChild){const t=e.element.cloneNode(!0);if(e.styleElement)if(e.imageOrSvgElement)t.style.height=kn(e.bounds.height);else{const n=e.textStyle;for(const e in n)t.style[e]=n[e]}i.push(t)}else o+=e.linear.height}if(i.length){const e=On(document.body,"div",{width:kn(s||t.box.width/l),visibility:"hidden"});for(const t of i)e.appendChild(t);o+=e.getBoundingClientRect().height,document.body.removeChild(e)}f[e]=o}let m,y,E=0;for(let t=0;t<p;t++){const e=f[t];if(e>=E){const n=a[t];m=n[0],y=n[n.length-1],E=e}}for(let t=0;t<p;t++){const e=g[t];if(0===t)e.anchor("left","parent"),e.anchorStyle("horizontal",0,"spread_inside");else{e.anchor("leftRight",g[t-1].documentId),e.modifyBox(16,r)}t===p-1?e.anchor("right","parent"):e.anchor("rightLeft",g[t+1].documentId)}const v=[];for(let t=0;t<p;t++){const n=a[t],i=n.length;for(let o=0;o<i;o++){const r=n[o];if(0===o){if(t>0){const e=b();e.anchor("top",m.documentId),e.anchor("left",a[t-1][0].documentId),e.anchor("right",r.documentId),v.push(e)}0===e?r.anchor("top","parent"):r!==m?r.anchor("top",m.documentId):(T.anchor("bottomTop",r.documentId),r.anchor("topBottom",T.documentId)),r.anchorStyle("vertical",0,"packed"),r.setBox(2,{reset:1})}else{const t=n[o-1];t.anchor("bottomTop",r.documentId),r.anchor("topBottom",t.documentId),r.app("layout_constraintVertical_bias","0"),r.anchor("left",n[0].documentId)}o===i-1&&(e===S-1&&r.anchor("bottom","parent"),r.setBox(8,{reset:1}))}}const x=e<S-1?y.documentId:"parent";for(const t of v)t.anchor("bottom",x);T=y}}}}}const Fn=squared.lib,zn=squared.base,Un=zn.lib,{formatPercent:qn,formatPX:jn,isLength:Yn,isPercent:$n}=Fn.css,{maxArray:Kn,truncate:Zn}=Fn.math,{CHAR:Jn,CSS:Qn}=Fn.regex,{captureMap:ti,flatMultiArray:ei,hasValue:ni,isArray:ii}=Fn.util,{NODE_PROCEDURE:ai,NODE_RESOURCE:oi}=Un.enumeration,ri=zn.LayoutUI,si=Un.constant.EXT_NAME.CSS_GRID,li=zn.extensions.CssGrid,ci=/start|left|center|right|end/,di=/(start|left|baseline)$/,hi=/(right|end)$/,ui=/start|end|center|baseline/,pi=/(start|baseline)$/,gi=/end$/,fi=/fr$/;function mi(t,e,n,i,a){const o=n?e.column:e.row,r=o.unit,s=r.length;let l=0;if(s){const t=n?"width":"height";for(let n=0;n<s;n++){const i=r[n];if(xi(i))l+=parseFloat(i);else{let i=0;ti(e.rowData[n],t=>ii(t),e=>i=Math.min(i,...e.map(e=>e.bounds[t]))),l+=i}}}else if(l=Kn(o.unitTotal),l<=0)return 0;return l+=o.gap*(o.length-1),n?(l+=t.contentBox?t.borderLeftWidth+t.borderRightWidth:t.contentBoxWidth,(i>l?Math.min(i,t.actualWidth):t.actualWidth)-l):(l+=t.contentBox?t.borderTopWidth+t.borderBottomWidth:t.contentBoxHeight,(a>l&&t.documentBody?Math.min(a,t.actualHeight):t.actualHeight)-l)}function yi(t,e){const n=Math.floor(e/t);return[n,e-n*t]}function bi(t,e,n,i,a,o,r,s,l,c){const d=i?e.column:e.row;if(/^space/.test(n)){const h=mi(t,e,i,l,c);if(h>0){const t=function(t,e){const n=t.rowData;if(e){const e=t.column.length,i=t.row.length,a=Array(e);for(let t=0;t<e;t++){const e=Array(i);for(let a=0;a<i;a++)e[a]=n[a][t];a[t]=e}return a}return n}(e,i),l=d.length,c=new Set;switch(n){case"space-around":{const[e,n]=yi(2*l,h);for(let i=0;i<l;i++)for(const o of new Set(ei(t[i]))){const t=(i>0&&i<=n?1:0)+e;c.has(o)?o.cssPX(a,h/l,!1,!0):(o.modifyBox(r,t),o.modifyBox(s,e),c.add(o))}break}case"space-between":if(l>1){const[e,n]=yi(l-1,h);for(let o=0;o<l;o++)for(const r of new Set(ei(t[o])))if(o<l-1){const t=e+(o<n?1:0);c.has(r)?r.cssPX(a,t,!1,!0):(r.modifyBox(s,t),c.add(r))}else{if(parseInt(r.android(i?"layout_columnSpan":"layout_rowSpan"))>1){const t=e+(n>0?Math.max(n-1,1):0);r.cssPX(a,t,!1,!0),c.has(r)&&r.modifyBox(s,-t,!1)}}break}return;case"space-evenly":{const[e,n]=yi(l+1,h);for(let i=0;i<l;i++)for(const l of new Set(ei(t[i]))){let t=e+(i<n?1:0);c.has(l)?l.cssPX(a,t,!1,!0):(o?(t/=2,l.modifyBox(r,t),l.modifyBox(s,t)):(0===i&&l.modifyBox(r,e),l.modifyBox(s,t)),c.add(l))}break}}}}else if(!o){let a=mi(t,e,i,l,c);if(a>0)switch(n){case"center":a/=2,i?t.modifyBox(256,Math.floor(a)):(t.modifyBox(32,Math.floor(a)),t.modifyBox(128,Math.ceil(a)));break;case"right":if(!i)break;case"end":case"flex-end":t.modifyBox(i?256:32,a)}}}function Ti(t,e,n,i){let a,o,r,s;if(n.every(t=>xi(t))){let t=i;for(const e of n)t+=parseFloat(e);const r=jn(t);e?a=r:o=r}else if(n.every(t=>fi.test(t))){let i=0;for(const t of n)i+=parseFloat(t);const l=Zn(i,t.localSettings.floatPrecision);e?(a="0px",r=l):(o="0px",s=l)}else if(n.every(t=>$n(t))){const r=qn((n.reduce((t,e)=>t+parseFloat(e),0)+i/(e?t.actualWidth:t.actualHeight))/100);e?a=r:o=r}else e?a="wrap_content":o="wrap_content";return[a,o,r,s]}function Si(t,e){const n=t.unit,i=n.length;i&&n.every(t=>"auto"===t)&&(t.unit=Array(i).fill(e?"1fr":""))}function Ei(t,e){const{gap:n,length:i,unit:a}=t;let o=0,r=0;for(const t of a)if(xi(t))o+=parseFloat(t);else if($n(t))r+=parseFloat(t);else if(fi.test(t))return 0;const s=Math.ceil(o+(i-1)*n);return r>0?r+s/e*100:o>0&&s<e?-1:0}const vi=t=>fi.test(t),xi=t=>Qn.PX.test(t);class Ai extends squared.base.extensions.CssGrid{processNode(t,n){super.processNode(t,n);const i=t.data(si,"mainData");if(i){const{column:a,row:o}=i,r=a.unit,s=a.length,l=ri.create({parent:n,node:t,alignmentType:4,children:t.children,rowCount:o.length,columnCount:s});if(!t.originalRoot&&!t.hasWidth&&0===i.rowSpanMultiple.length&&r.length===s&&r.every(t=>fi.test(t))&&function(t){return t.ascend({condition:t=>{const e=t.actualParent;if(null==e?void 0:e.gridElement){const n=e.data(si,"mainData"),i=t.data(si,"cellData");if(n&&i){const t=n.column.unit,{columnStart:e,columnSpan:a}=i;let o=!1;for(let n=0;n<a;n++){const i=t[e+n];if(fi.test(i)||$n(i))o=!0;else if("auto"===i){o=!1;break}}return o}}else if(t.hasFlex("row")&&t.flexbox.grow>0)return!0;return!1},error:t=>t.hasWidth}).length>0}(t)){const n=i.rowData,s=n.length,c=Array(s);let d=!0;t:for(let t=0;t<s;t++){const e=[],i=n[t],a=i.length;for(let t=0;t<a;t++){const n=i[t];if(1!==(null==n?void 0:n.length)){d=!1;break t}e.push(n[0])}c[t]=e}if(d)return a.frTotal=r.reduce((t,e)=>t+parseFloat(e),0),o.frTotal=o.unit.reduce((t,e)=>t+(fi.test(e)?parseFloat(e):0),0),t.setLayoutWidth("match_parent"),t.lockAttr("android","layout_width"),t.data(si,"constraintData",c),l.setContainerType(e.CONSTRAINT),{output:this.application.renderNode(l),include:!0,complete:!0}}return Si(a,!0),Si(o,!1),l.setContainerType(e.GRID),{output:this.application.renderNode(l),include:!0,complete:!0}}}processChild(t,n){var i;const o=n.data(si,"mainData"),r=t.data(si,"cellData");let s,l;if(o&&r){const{alignContent:c,column:d,row:h}=o,u=t.has("alignSelf")?t.css("alignSelf"):o.alignItems,p=t.has("justifySelf")?t.css("justifySelf"):o.justifyItems,g=n.layoutConstraint,f=(e,i,a)=>{const[s,l,c,u]=i?[d,r.columnStart,r.columnSpan,"minWidth"]:[h,r.rowStart,r.rowSpan,"minHeight"],{unit:p,unitMin:f}=s;let m=0,y=0,b=0,T=0,S=!1,E=!1;for(let r=0,d=0;r<c;r++){const h=l+r,u=f[h];""!==u&&(b+=n.parseUnit(u,i?"width":"height"));let g=p[h];if(!ni(g)){const t=s.auto;if(!t[d])continue;g=t[d],t[d+1]&&d++}if("auto"===g||"max-content"===g){if(E=!0,c<p.length&&(!n.hasPX(a)||p.some(t=>Yn(t))||"max-content"===g)){m=t.bounds[a],y=0,T=0;break}if(i){m=0,y=0,T=-1;break}}else if("min-content"===g){if(!e.hasPX(a)){i?e.setLayoutWidth("wrap_content",!1):e.setLayoutHeight("wrap_content",!1);break}}else if(vi(g))i||n.hasHeight?(-1===T&&(T=0),T+=parseFloat(g),y=m):(T=0,y+=o.minCellHeight*parseFloat(g)),m=0;else if($n(g))-1===T&&(T=0),T+=parseFloat(g)/100,y=m,m=0;else{const t=e.parseUnit(g,i?"width":"height");0===y?m+=t:y+=t}t.textElement&&Jn.UNITZERO.test(u)&&(S=!0)}if(c>1){const t=(c-1)*s.gap;m>0&&0===y?m+=t:y>0&&(y+=t),b>0&&(b+=t)}if(b>0&&(s.autoFill&&0===m&&1===(i?h.length:d.length)?(m=Math.max(t.actualWidth,b),T=0):y=b),y>0&&!e.hasPX(u)&&e.css(u,jn(y),!0),g)if(i){if(e.hasPX("width",!1)||(e.app("layout_constraintWidth_percent",Zn(T/d.frTotal,e.localSettings.floatPrecision)),e.setLayoutWidth("0px")),0===l)e.anchor("left","parent"),e.anchorStyle("horizontal",0,"spread");else{const t=e.innerMostWrapped.previousSibling;t&&(t.anchor("rightLeft",e.documentId),e.anchor("leftRight",t.anchorTarget.documentId))}l+c===d.length&&e.anchor("right","parent"),e.positioned=!0}else e.hasPX("height",!1)||(T>0?1===h.length?e.setLayoutHeight("match_parent"):(e.app("layout_constraintHeight_percent",Zn(T/h.frTotal,e.localSettings.floatPrecision)),e.setLayoutHeight("0px")):m>0&&(e.contentBox&&(m-=e.contentBoxHeight),e.css(E?"minHeight":"height",jn(m),!0)));else{e.android(i?"layout_column":"layout_row",""+l),e.android(i?"layout_columnSpan":"layout_rowSpan",""+c);let o=i&&d.flexible;if(0!==T)e.hasPX(a)||(i?(r.columnSpan===d.length?e.setLayoutWidth("match_parent"):(e.setLayoutWidth("0px"),e.android("layout_columnWeight",-1===T?"0.01":Zn(T,t.localSettings.floatPrecision)),e.mergeGravity("layout_gravity","fill_horizontal")),o=!1):r.rowSpan===h.length?e.setLayoutHeight("match_parent"):(e.setLayoutHeight("0px"),e.android("layout_rowWeight",Zn(T,t.localSettings.floatPrecision)),e.mergeGravity("layout_gravity","fill_vertical")));else if(m>0){const t=i?"maxWidth":"maxHeight";S&&!e.hasPX(t)?(e.css(t,jn(m),!0),e.mergeGravity("layout_gravity",i?"fill_horizontal":"fill_vertical")):e.hasPX(a)||(e.contentBox&&(m-=i?e.contentBoxWidth:e.contentBoxHeight),E&&!n.hasPX(t)?(e.css(u,jn(m),!0),i?e.setLayoutWidth("wrap_content"):e.setLayoutHeight("wrap_content")):e.css(a,jn(m),!0))}else 0!==p.length||e.hasPX(a)||(i?e.setLayoutWidth("match_parent",!1):e.setLayoutHeight("wrap_content",!1));o&&e.android("layout_columnWeight","0")}return[l,c]};if(ui.test(u)||ci.test(p)||g){s=this.application.createNode({parent:n,replace:t}),s.containerName=t.containerName,s.setControlType(a.FRAME,e.FRAME),s.inherit(t,"base","initial"),s.exclude({resource:oi.BOX_STYLE|oi.ASSET,procedure:ai.CUSTOMIZATION}),s.resetBox(30),s.resetBox(480),s.render(n),t.transferBox(30,s);let i=!0;di.test(p)?t.mergeGravity("layout_gravity","left"):hi.test(p)?t.mergeGravity("layout_gravity","right"):"center"===p?t.mergeGravity("layout_gravity","center_horizontal"):i=!1,t.hasWidth||t.setLayoutWidth(i?"wrap_content":"match_parent",!1),pi.test(u)?t.mergeGravity("layout_gravity","top"):gi.test(u)?t.mergeGravity("layout_gravity","bottom"):"center"===u?t.mergeGravity("layout_gravity","center_vertical"):t.hasHeight||t.setLayoutHeight("match_parent",!1),l=this.application.renderNode(new ri(n,s,e.FRAME,4096,s.children))}else t.mergeGravity("layout_gravity","top");const m=s||t;f(m,!0,"width"),m!==t||t.hasPX("maxHeight")?m.mergeGravity("layout_gravity","fill"):m.hasPX("width")||m.mergeGravity("layout_gravity","fill_horizontal");const[y,b]=f(m,!1,"height");!("normal"!==c||n.hasPX("height")||t.hasPX("minHeight")||h.unit[y]&&"auto"!==h.unit[y])&&Math.floor(t.bounds.height)>(null===(i=t.data(si,"boundsData"))||void 0===i?void 0:i.height)&&function(t,e,n,i){if(1===n&&e.rowSpanMultiple[i]){const a=e.rowData,o=a.length;for(const e of ei(a[i]))if(e!==t){const t=e.data(si,"cellData");if(t&&t.rowSpan>n&&(0===i||t.rowSpan<o))return!0}}return!1}(t,o,b,y)?m.css("minHeight",jn(t.box.height)):m.hasPX("height")||m.hasPX("maxHeight")||1===h.length&&/^space/.test(c)||ui.test(o.alignItems)||m.mergeGravity("layout_gravity","fill_vertical")}return{parent:s,renderAs:s,outputAs:l}}postBaseLayout(t){const e=t.data(si,"mainData");if(e){const n=this.controller,{alignContent:a,children:o,column:r,emptyRows:s,justifyContent:l,row:c,rowDirection:d,rowData:u}=e,p=!0===t.data(i.DELEGATE_CSS_GRID,"unsetContentBox"),g=o[o.length-1].id;if(li.isJustified(t)){switch(bi(t,e,l,!0,"width",p,16,4,n.userSettings.resolutionScreenWidth-t.bounds.left,0),l){case"center":case"space-around":case"space-evenly":p&&t.anchorParent("horizontal",.5,"",!0);break;case"end":case"flex-end":p&&t.anchorParent("horizontal",1,"",!0);break;default:1===e.column.length&&t.setLayoutWidth("match_parent")}p&&r.unit.some(t=>vi(t))&&t.setLayoutWidth("match_parent")}else{const e=r.length;if(t.blockStatic||t.hasWidth){const i=Ei(r,t.actualWidth);0!==i&&i<100&&(i>0&&n.addAfterOutsideTemplate(g,n.renderSpace({width:qn((100-i)/100),height:"match_parent",rowSpan:c.length,android:{layout_row:"0",layout_column:""+e,layout_columnWeight:r.flexible?"0.01":""}}),!1),t.android("columnCount",""+(e+1)))}p&&(t.contentBoxWidth>0&&t.hasPX("width",!1)?t.anchorParent("horizontal",.5,"",!0):1===e?t.setLayoutWidth("match_parent"):t.setLayoutWidth("wrap_content",!1))}if(li.isAligned(t)){if(bi(t,e,a,!1,"height",p,2,8,0,this.controller.userSettings.resolutionScreenHeight),p)switch(a){case"center":case"space-around":case"space-evenly":t.anchorParent("vertical",.5,"",!0);break;case"end":case"flex-end":t.anchorParent("vertical",1,"",!0)}}else{if(t.hasHeight){const e=Ei(c,t.actualHeight);if(0!==e&&e<100){const i=c.length;e>0&&n.addAfterOutsideTemplate(g,n.renderSpace({width:"match_parent",height:qn((100-e)/100),columnSpan:r.length,android:{layout_row:""+i,layout_column:"0",layout_rowWeight:c.flexible?"0.01":""}}),!1),t.android("rowCount",""+(i+1))}}p&&(t.contentBoxHeight>0&&t.hasPX("height",!1)?t.anchorParent("vertical",.5,"",!0):t.setLayoutHeight("wrap_content",!1))}const f=t.data(si,"constraintData");if(f){const{gap:e,length:i}=r,a=f.length,o=Array(a-1);for(let t=1,e=0;t<a;t++)o[e++]=n.addBarrier(f[t],"top");for(let s=0;s<a;s++){const l=f[s],c=o[s-1],d=o[s];let h;for(let o=0;o<i;o++){const u=l[o];if(u)0===s?(u.anchor("top","parent"),u.anchor("bottomTop",d),u.anchorStyle("vertical",0,"packed")):(s===a-1?u.anchor("bottom","parent"):u.anchor("bottomTop",d),u.anchor("topBottom",c)),o===i-1?u.anchor("right","parent"):u.modifyBox(4,-e),h?(h.anchor("rightLeft",u.documentId),u.anchor("leftRight",h.documentId)):(u.anchor("left","parent"),u.anchorStyle("horizontal",0,"packed")),u.anchored=!0,u.positioned=!0,h=u;else if(h){const e={width:"0px",height:"wrap_content",android:{},app:{layout_constraintTop_toTopOf:0===s?"parent":"",layout_constraintTop_toBottomOf:c,layout_constraintBottom_toTopOf:s<i-1?d:"",layout_constraintBottom_toBottomOf:s===i-1?"parent":"",layout_constraintStart_toEndOf:h.anchorTarget.documentId,layout_constraintEnd_toEndOf:"parent",layout_constraintVertical_bias:0===s?"0":"",layout_constraintVertical_chainStyle:0===s?"packed":"",layout_constraintWidth_percent:""+r.unit.slice(o,i).reduce((t,e)=>t+parseFloat(e),0)/r.frTotal}};n.addAfterInsideTemplate(t.id,n.renderSpace(e),!1),h.anchor("rightLeft",e.documentId);break}}}}else{const{flexible:e,gap:i,unit:a}=d?r:c,o=a.length;let l=-1,p=0;const f=(i,a,o,r,s="wrap_content",c="",d=0)=>{if(-1!==l){const u=o.slice(l,l+p);let f,m,y="",b="",T="",S="",E=1,v=1;if(a?(f=""+i,m=""+l,b=s,T=e?"0.01":"",S=c,v=p):(f=""+l,m=""+i,S=e?"0.01":"",T=c,y=s,E=p),u.length===o.length)a?(y="match_parent",T=""):(b="match_parent",S=""),r=0;else{const[e,n,i,o]=Ti(t,a,u,r*(u.length-1));e&&(y=e),n&&(b=n),i&&(T=i),o&&(S=o)}n.addAfterOutsideTemplate(g,n.renderSpace({width:y,height:b,rowSpan:E,columnSpan:v,android:{[a?t.localizeString(h.MARGIN_RIGHT):"bottom"]:r>0&&l+p<o.length?"@dimen/"+M.insertStoredAsset("dimens",`${t.controlId}_cssgrid_${a?"column":"row"}_gap`,jn(r)):"",[a?"bottom":t.localizeString(h.MARGIN_RIGHT)]:d>0?"@dimen/"+M.insertStoredAsset("dimens",`${t.controlId}_cssgrid_${a?"row":"column"}_gap`,jn(d)):"",layout_row:f,layout_column:m,layout_rowWeight:S,layout_columnWeight:T,layout_gravity:"fill"}}),xi(y)||xi(b)),l=-1}p=0};let m=Math.max(u.length,1);for(let t=0;t<m;t++)if(void 0===s[t]){const e=u[t];for(let n=0;n<o;n++)e[n]?f(t,d,a,i):(-1===l&&(l=n),p++);f(t,d,a,i)}m=s.length;for(let e=0;e<m;e++){const n=s[e];if(n){const i=n.length;for(let a=0;a<i;a++){const i=n[a];if(i>0){l=a;const{unit:n,gap:o}=d?c:r,{unit:s,gap:h}=d?r:c,u=Ti(t,!d,[n[a]],0);p=i===1/0?s.length:1,f(e,d,s,h,u[d?1:0],u[d?3:2],e<m-1?o:0)}}}}}}}postOptimize(t){var e;const n=t.data(si,"mainData");if(n&&t.blockStatic&&!t.hasPX("minWidth",!1)&&!1===(null===(e=t.actualParent)||void 0===e?void 0:e.layoutElement)){const{gap:e,length:i,unit:a}=n.column;let o=e*(i-1);for(const t of a){if(!xi(t))return;o+=parseFloat(t)}o>t.width&&(t.android("minWidth",jn(o)),t.flexibleWidth||t.blockWidth||t.setLayoutWidth("wrap_content"))}}}class _i extends squared.base.ExtensionUI{constructor(){super(...arguments),this.eventOnly=!0}init(t){return this.included(t)&&this.application.rootElements.add(t),!1}}var wi=squared.base.LayoutUI;const Ri=squared.lib,Ii=squared.base,Ni=Ii.lib,{isLength:Ci}=Ri.css,{truncate:Li}=Ri.math,{capitalize:Pi,sameArray:ki,withinRange:Oi}=Ri.util,Mi=Ii.NodeUI,Bi=Ni.constant.EXT_NAME.FLEXBOX,Di={orientation:"horizontal",orientationInverse:"vertical",WHL:"width",HWL:"height",LT:"left",TL:"top",RB:"right",BR:"bottom",LRTB:"leftRight",RLBT:"rightLeft"},Wi={orientation:"vertical",orientationInverse:"horizontal",WHL:"height",HWL:"width",LT:"top",TL:"left",RB:"bottom",BR:"right",LRTB:"topBottom",RLBT:"bottomTop"};function Xi(t,e,n){const i="width"===n,a=`has${Pi(n)}`,o=e=>e.flexbox.basis=e.bounds[n]/t.box[n]*100+"%";let r=t[a]||i&&t.blockStatic&&Oi(t.parseWidth(t.css("maxWidth")),t.box.width),s=0,l=0;for(const t of e){if(r)if(i){if(t.innerMostWrapped.autoMargin.horizontal){r=!1;break}}else if(t.innerMostWrapped.autoMargin.vertical){r=!1;break}s+=t.flexbox.grow}if(e.length>1&&(i||r)){const t=[],i=[];let s,c=0,d=0,h=NaN;for(const o of e){const{alignSelf:e,basis:u,shrink:p,grow:g}=o.flexbox,f=o.bounds[n];let m=!1;if(g>0||1!==p){const e=o.parseUnit("auto"===u?o.css(n):u,n);if(e>0){let n=!1;f<e?(isNaN(h)||p<h)&&(h=p,n=!0,l=1):(isNaN(h)||g>h)&&(h=g,n=!0,l=2),n&&(s=o,c=e,d=f),t.push({item:o,basis:e,dimension:f,shrink:p,grow:g});continue}g>0&&(m=!0)}else if(Ci(u)){t.push({item:o,basis:Math.min(f,o.parseUnit(u,n)),dimension:f,shrink:p,grow:g}),o.flexbox.basis="auto";continue}"auto"===e&&(r&&!o[a]||m)&&i.push(o)}if(l){if(t.length>1)for(const e of t){const{basis:t,item:n}=e;n===s||t===c&&(1===l&&h===e.shrink||2===l&&h===e.grow)?n.flexbox.grow=1:t>0&&(n.flexbox.grow=e.dimension/t/(d/c)*t/c)}for(const t of i)o(t)}}if(i&&0===l){let n=!1;for(const i of e)if(i.find(e=>e.multiline&&0===e.ascend({condition:t=>t[a],including:t}).length,{cascade:!0})){n=!0;break}if(n)for(const t of e)o(t)}return s}function Gi(t){for(const e of t)if(e.textElement&&e.baseline)return e;return Mi.baseline(t)}function Hi(t,e,n){n?t.setLayoutHeight(e):t.setLayoutWidth(e)}function Vi(t){for(;t;){if(t.layoutFrame)return t.innerWrapped;t=t.innerWrapped}}class Fi extends squared.base.extensions.Flexbox{processNode(t,n){super.processNode(t,n);const i=t.data(Bi,"mainData"),{column:a,row:o,rowCount:r,columnCount:s}=i;if(o&&1===r||a&&1===s)return t.containerType=e.CONSTRAINT,t.addAlign(4),t.addAlign(a?16:8),i.wrap=!1,{include:!0,complete:!0};{const i=o&&t.hasHeight||a&&t.hasWidth||t.some(t=>!t.pageFlow)?e.CONSTRAINT:e.LINEAR;return{output:this.application.renderNode(wi.create({parent:n,node:t,containerType:i,alignmentType:4|(a?8:16),itemCount:t.length,rowCount:r,columnCount:s})),include:!0,complete:!0}}}processChild(t,n){if(t.hasAlign(128))return{output:this.application.renderNode(new wi(n,t,e.CONSTRAINT,4,t.children)),complete:!0,subscribe:!0};{const i=t.autoMargin;if(i.horizontal||i.vertical&&n.hasHeight){const a=n.data(Bi,"mainData");if(a){const o=a.children.findIndex(e=>e===t);if(-1!==o){const r=this.controller.createNodeWrapper(t,n);return r.cssApply({marginTop:"0px",marginRight:"0px",marginBottom:"0px",marginLeft:"0px",display:"block"},!0),r.saveAsInitial(!0),r.setCacheValue("flexbox",t.flexbox),a.children[o]=r,i.horizontal&&!t.hasWidth&&t.setLayoutWidth("wrap_content"),{parent:r,renderAs:r,outputAs:this.application.renderNode(new wi(n,r,e.FRAME,4096,r.children))}}}}}}postBaseLayout(t){const e=t.data(Bi,"mainData");if(e){const n=this.controller,{row:i,column:a,reverse:o,wrap:r,wrapReverse:s,alignContent:l,justifyContent:c,children:d}=e,h=t.hasPX("height",!1)||t.percentHeight>0?t.linear.bottom:0,u=[],p=[],g=[];let f=0;if(r){let e;t.each(t=>{if(t.hasAlign(128)){const n=t.renderChildren.filter(t=>t.pageFlow);if(n.length){if(i)t.setLayoutWidth("match_parent"),u.push(n);else{if(t.setLayoutHeight("match_parent"),e){const n=e.length;let i=e[0];for(let t=1;t<n;t++){const n=e[t];n.linear.right>i.linear.right&&(i=n)}if(s){const e=t.linear.left-i.actualRect("right");e>0&&t.modifyBox(16,e)}t.constraint.horizontal=!0}p.push(n),e=n}g.push(t)}}}),t.layoutLinear?s&&a&&t.mergeGravity("gravity","right"):g.length&&(i?p.push(g):u.push(g))}else i?(o&&d.reverse(),u[0]=d):(o&&d.reverse(),p[0]=d);const m=(e,i)=>{const d=e.length;if(0===d)return;const{orientation:u,orientationInverse:p,WHL:m,HWL:y,LT:b,TL:T,RB:S,BR:E,LRTB:v,RLBT:x}=i?Di:Wi,[A,_]=i?[t.hasHeight,t.hasWidth]:[t.hasWidth,t.hasHeight],w=`layout_constraint${Pi(u)}_weight`,R=(t,e)=>{0===t[m]&&(t.app(w,Li(e,t.localSettings.floatPrecision)),i?t.setLayoutWidth("0px"):t.setLayoutHeight("0px"))};for(let I=0;I<d;I++){const N=e[I],C=N.length,L=N[0],P=N[C-1],k=N===g,O=!k&&N.every(t=>0===t.flexbox.grow),M=O&&("space-between"===c||"space-around"===c&&C>1),B=[];let D,W=0,X=0,G=!0,H=null;if(L.anchor(b,"parent"),P.anchor(S,"parent"),k)if(D=!1,_){let t="spread",e=0;switch(l){case"left":case"right":case"flex-end":e=1;case"baseline":case"start":case"end":case"flex-start":t="packed",G=!1}L.anchorStyle(u,e,t)}else L.anchorStyle(u,0,"packed");else if(D=i||_,X=1-Xi(t,N,m),C>1){let t=0;for(const e of N){const n=(e.data(Bi,"boundsData")||e.bounds)[y];0===t?(W=n,t++):n===W?t++:n>W&&(W=n,t=1)}t===C&&(W=NaN)}for(let t=0;t<C;t++){const e=N[t],n=N[t-1],a=N[t+1];if(a&&e.anchor(x,a.documentId),n&&e.anchor(v,n.documentId),k)G&&C>1&&_&&R(e,1),e.anchor(T,"parent");else{const o=Vi(e),c=e.innerMostWrapped.autoMargin;switch(i?c.horizontal&&(o?(o.mergeGravity("layout_gravity",c.leftRight?"center_horizontal":e.localizeString(c.left?"right":"left")),X>0&&(e.flexbox.basis="0%",B.push(e))):c.leftRight||(c.left?n&&e.anchorDelete(v):a&&e.anchorDelete(x))):c.vertical&&(o?(o.mergeGravity("layout_gravity",c.topBottom?"center_vertical":e.localizeString(c.top?"bottom":"top")),X>0&&(e.flexbox.basis="0%",B.push(e))):c.topBottom||(c.top?n&&e.anchorDelete(v):a&&e.anchorDelete(x))),e.flexbox.alignSelf){case"start":case"flex-start":e.anchor(T,"parent");break;case"end":case"flex-end":e.anchor(E,"parent");break;case"baseline":i&&(null===H&&(H=Gi(N)),H&&(H!==e?e.anchor("baseline",H.documentId):e.anchorParent(p,0)));break;case"center":e.anchorParent(p,.5),!i&&e.textElement&&e.mergeGravity("gravity","center");break;default:{const n=Vi(e);switch(l){case"center":d%2==1&&I===Math.floor(d/2)?e.anchorParent(p):I<d/2?e.anchor(E,"parent"):I>=d/2&&e.anchor(T,"parent");break;case"space-evenly":case"space-around":n?n.mergeGravity("layout_gravity",i?"center_vertical":"center_horizontal"):e.anchorParent(p);break;case"space-between":M&&2===C&&e.anchorDelete(0===t?x:v),0===I?n?n.mergeGravity("layout_gravity",s?E:T):e.anchor(s?E:T,"parent"):d>2&&I<d-1?n?n.mergeGravity("layout_gravity",i?"center_vertical":"center_horizontal"):e.anchorParent(p):n?n.mergeGravity("layout_gravity",s?T:E):e.anchor(s?T:E,"parent");break;default:e.anchorParent(p),void 0!==o&&e.innerMostWrapped.autoMargin[p]||e.anchorStyle(p,s?1:0),0===e[y]&&(!i&&e.blockStatic?Hi(e,"match_parent",i):isNaN(W)?Hi(e,!i&&!r&&e.length||A&&"normal"===l?A?"0px":"match_parent":"wrap_content",i):1===C?Hi(e,i?"wrap_content":A?"0px":"match_parent",i):(e.naturalElement?(e.data(Bi,"boundsData")||e.bounds)[y]:1/0)<W?(Hi(e,e.flexElement&&e.css("flexDirection").startsWith(i?"row":"column")?"match_parent":"0px",i),o&&!o.autoMargin[u]&&Hi(o,"match_parent",i)):A?Hi(e,"0px",i):(Hi(e,"wrap_content",i),e.lockAttr("android",`layout_${y}`)))}break}}if(ee.setFlexDimension(e,m),e.innerMostWrapped.has("flexGrow")||(D=!1),h>0&&I===d-1){e.linear.bottom-h>0&&(f=Math.max(e.linear.bottom-h,f)),e.setBox(8,{reset:1})}}e.anchored=!0,e.positioned=!0}if(!k){if(D)for(const t of N)R(t,t.flexbox.grow);else if(X>0)for(const t of B){const e=t.innerMostWrapped.autoMargin;let n=1;i?e.leftRight&&(n=2):e.topBottom&&(n=2),R(t,Math.max(t.flexbox.grow,X*n/B.length))}if(f>0&&t.modifyBox(8,f),i||a){let e=!1;if(O)switch(c){case"normal":if(a){L.anchorStyle(u,o?1:0,"packed");continue}break;case"left":if(!i)break;case"start":case"flex-start":L.anchorStyle(u,o?1:0,"packed");continue;case"center":if(C>1){L.anchorStyle(u,.5,"packed");continue}e=!0;break;case"right":if(!i)break;case"end":case"flex-end":L.anchorStyle(u,1,"packed");continue;case"space-between":if(1===C){P.anchorDelete(S);continue}break;case"space-evenly":if(C>1){L.anchorStyle(u,0,"spread");continue}e=!0;break;case"space-around":if(C>1){L.constraint[u]=!1,P.constraint[u]=!1,n.addGuideline(L,t,u,{percent:!0}),n.addGuideline(P,t,u,{percent:!0,opposing:!0}),L.anchorStyle(u,0,"spread_inside");continue}e=!0}M||!r&&N.some(t=>""!==t.app(w))&&!ki(N,t=>t.app(w))?L.anchorStyle(u,0,"spread_inside",!1):e||L.anchorStyle(u,o?1:0,"packed",!1)}}}};m(u,!0),m(p,!1)}}}var zi=squared.base.LayoutUI;const Ui=squared.lib,qi=squared.base.lib,{formatPX:ji}=Ui.css,{withinRange:Yi}=Ui.util,$i=qi.constant.EXT_NAME.GRID;class Ki extends squared.base.extensions.Grid{processNode(t,n){super.processNode(t,n);const i=t.data($i,"columnCount");if(i)return{output:this.application.renderNode(zi.create({parent:n,node:t,containerType:e.GRID,alignmentType:256,children:t.children,columnCount:i})),include:!0,complete:!0}}processChild(t,e){var n;const i=t.data($i,"cellData");if(i){const a=null===(n=i.siblings)||void 0===n?void 0:n.slice(0);let o;if(a){const n=this.controller;a.unshift(t),o=n.processLayoutHorizontal(new zi(e,n.createNodeGroup(t,a,{parent:e,delegate:!0,cascade:!0}),0,0,a)),function(t,e){const n=squared.base.extensions.Grid.createDataCellAttribute();for(const t of e){const e=t.data($i,"cellData");e&&(e.cellStart&&(n.cellStart=!0),e.cellEnd&&(n.cellEnd=!0),e.rowEnd&&(n.rowEnd=!0),e.rowStart&&(n.rowStart=!0),t.data($i,"cellData",null))}t.data($i,"cellData",n)}(t=o.node,a)}if(i.rowSpan>1&&t.android("layout_rowSpan",""+i.rowSpan),i.columnSpan>1&&t.android("layout_columnSpan",""+i.columnSpan),"table-cell"===t.display&&t.mergeGravity("layout_gravity","fill"),o)return{parent:o.node,renderAs:o.node,outputAs:this.application.renderNode(o)}}}postConstraints(t){if("collapse"!==t.css("borderCollapse")){const e=t.data($i,"columnCount");if(e){let n=0,i=0,a=0,o=0;t.renderEach(r=>{const s=r.data($i,"cellData");if(s){const l=r.actualParent;if(!1===(null==l?void 0:l.visible)){const c=0===l.getBox(2)[0]?l.marginTop:0,d=0===l.getBox(8)[0]?l.marginBottom:0;if(s.cellStart&&(n=c+l.paddingTop),s.rowStart&&(o=Math.max(l.marginLeft+l.paddingLeft,o)),s.rowEnd){const n=d+l.paddingBottom+(s.cellEnd?0:c+l.paddingTop);if(n>0)if(s.cellEnd)a=n;else{const i=this.controller;i.addAfterOutsideTemplate(r.id,i.renderSpace({width:"match_parent",height:"@dimen/"+M.insertStoredAsset("dimens",`${t.controlId}_grid_space`,ji(n)),columnSpan:e,android:{}}),!1)}i=Math.max(l.marginRight+l.paddingRight,i)}}}}),t.modifyBox(32,n),t.modifyBox(64,i),t.modifyBox(128,a),t.modifyBox(256,o)}}if(!t.hasWidth){let e=-1/0;t.renderEach(t=>{!t.inlineFlow&&t.blockStatic||(e=Math.max(e,t.linear.right))}),Yi(t.box.right,e)&&t.setLayoutWidth("wrap_content")}}}var Zi=squared.base.LayoutUI;const Ji=squared.lib,Qi=squared.base.lib,{formatPX:ta,getBackgroundPosition:ea}=Ji.css,{convertInt:na}=Ji.util,{STRING_SPACE:ia}=Ji.xml,aa=Qi.constant.EXT_NAME.LIST;class oa extends squared.base.extensions.List{processNode(t,n){const i=new Zi(n,t,0,0,t.children);if(!i.unknownAligned||i.singleRowAligned){if(super.processNode(t,n),i.linearY)i.rowCount=t.length,i.columnCount=t.some(t=>"inside"===t.css("listStylePosition"))?3:2,i.setContainerType(e.GRID,16);else{if(!i.linearX&&!i.singleRowAligned)return;i.rowCount=1,i.columnCount=i.length,i.setContainerType(e.LINEAR,8)}return{output:this.application.renderNode(i),complete:!0,include:!0}}}processChild(t,n){const i=t.data(aa,"mainData");if(i){const o=this.application,r=this.controller,s=n.firstStaticChild===t,l=t.marginTop;let c,d=i.ordinal||"",h=t.marginLeft,u=0,p=0,g=!1,f=NaN;if(t.setBox(16,{reset:1}),n.layoutGrid?(p=na(n.android("columnCount"))||1,g=!0):s&&(g=!0),g&&(h+=n.paddingLeft>0?n.paddingLeft:n.marginLeft),0===t.length){const{containerType:i,alignmentType:a}=r.containerTypeVertical;c=r.createNodeWrapper(t,n,void 0,{controlName:ee.getControlName(e.LINEAR,t.api),containerType:i,alignmentType:a}),t.resetBox(10,c)}else c=t;let m=""===d?t.find(t=>"left"===t.float&&t.marginLeft<0&&Math.abs(t.marginLeft)<=t.documentParent.marginLeft):void 0;if(m){3===p&&t.android("layout_columnSpan","2"),m.hasWidth||(h+=m.marginLeft,h>0&&m.android("minWidth",ta(h))),m.parent=n,m.setControlType(a.TEXT,e.INLINE),m.setBox(16,{reset:1}),m.render(n);const i=new Zi(n,m);m.inlineText||0===m.length?i.setContainerType(e.TEXT):(i.singleRowAligned?i.setContainerType(e.RELATIVE,8):i.setContainerType(e.CONSTRAINT,2),i.retain(m.children)),o.addLayoutTemplate(n,m,o.renderNode(i))}else{let r,s="right",l=0,y=0,b=0;if(""!==i.imageSrc){const e=this.resource;i.imagePosition&&(({top:y,left:b}=ea(i.imagePosition,t.actualDimension,{fontSize:t.fontSize,imageDimension:e.getImage(i.imageSrc),screenDimension:t.localSettings.screenDimension})),t.marginLeft<0?f=t.marginLeft+(n.paddingLeft>0?n.paddingLeft:n.marginLeft):(g=!1,u=t.marginLeft),h=t.paddingLeft-b,t.setBox(256,{reset:1}),s=""),r=e.addImageSrc(i.imageSrc)}const T=Q();if(m=o.createNode({parent:n}),m.childIndex=t.childIndex,m.containerName=t.containerName+"_ORDINAL",m.inherit(t,"textStyle"),""===d||d.endsWith(".")||(m.fontSize*=.75),"right"===s&&(r?(l=Math.max(h/6,4),h-=l):""!==d&&(d+=ia.repeat(1===d.length?3:2))),3===p&&c.android("layout_columnSpan","2"),"DT"!==t.tagName||r){r?(m.setControlType(a.IMAGE,e.IMAGE),Object.assign(T.android,{src:`@drawable/${r}`,scaleType:"right"===s?"fitEnd":"fitStart",baselineAlignBottom:g?"true":""})):""!==d?(m.textContent=d,m.inlineText=!0,m.setControlType(a.TEXT,e.TEXT),"DFN"===t.tagName&&(h+=8,m.modifyBox(64,8))):(m.setControlType(a.SPACE,e.SPACE),m.renderExclude=!1,t.setBox(256,{reset:1}));const{paddingTop:i,lineHeight:c}=t;m.cssApply({minWidth:h>0?ta(h):"",marginLeft:u>0?ta(u):"",paddingTop:i>0&&0===t.getBox(32)[0]?ta(i):"",paddingRight:l>0?ta(l):"",lineHeight:c>0?ta(c):""}),m.apply(T),m.modifyBox(256,2),m.cssTry("display","block")&&(m.setBounds(),m.cssFinally("display")),m.saveAsInitial(),""!==s&&m.mergeGravity("gravity",t.localizeString(s)),0!==y&&m.modifyBox(2,y),0!==b&&m.modifyBox(16,b),m.render(n),o.addLayoutTemplate(n,m,{type:1,node:m,controlName:m.controlName})}else c.android("layout_columnSpan",""+p)}if(0!==l&&(m.modifyBox(2,l),m.companion=c,this.subscribers.add(m)),m.positioned=!0,g&&((isNaN(f)||f<=0)&&n.setBox(n.paddingLeft>0?256:16,{reset:1}),f<0&&n.modifyBox(16,f)),p>0&&(c.setLayoutWidth("0px"),c.android("layout_columnWeight","1")),t!==c)return{parent:c,renderAs:c,outputAs:o.renderNode(new Zi(n,c,e.LINEAR,18,c.children)),subscribe:!0}}}postConstraints(t){const e=!t.naturalChild&&t.companion;if(e){const[n,i]=e.getBox(2);0===n?t.modifyBox(2,i-t.getBox(2)[1],!1):t.setBox(2,{adjustment:0})}}}class ra extends squared.base.extensions.Relative{}var sa=squared.base.LayoutUI;const{formatPX:la}=squared.lib.css,ca=squared.base.lib,{APP_SECTION:da,NODE_PROCEDURE:ha,NODE_RESOURCE:ua}=ca.enumeration,pa=ca.constant.EXT_NAME.SPRITE;class ga extends squared.base.extensions.Sprite{processNode(t,n){const i=t.data(pa,"mainData");if(i){const o=this.resource.addImageSrc(t.backgroundImage);if(""!==o){const{width:r,height:s}=i.image,{top:l,left:c}=i.position,d=this.application.createNode({parent:n,replace:t});return d.inherit(t,"base","initial","styleMap"),d.setControlType(a.FRAME,e.FRAME),d.exclude({resource:ua.ASSET,procedure:ha.CUSTOMIZATION,section:da.ALL}),t.setControlType(a.IMAGE,e.IMAGE),t.resetBox(30),t.resetBox(480),t.registerBox(2,d),t.registerBox(4,d),t.registerBox(8,d),t.registerBox(16,d),t.exclude({resource:ua.FONT_STYLE|ua.BOX_STYLE|ua.BOX_SPACING}),t.cssApply({position:"static",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"inline-block",width:r>0?la(r):"auto",height:s>0?la(s):"auto",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px",backgroundPositionX:"0px",backgroundPositionY:"0px",backgroundColor:"transparent"}),t.unsetCache(),t.android("src",`@drawable/${o}`),t.android("layout_marginTop",la(l)),t.android(t.localizeString("layout_marginLeft"),la(c)),{renderAs:d,outputAs:this.application.renderNode(new sa(n,d,e.FRAME,4096,d.children)),parent:d,complete:!0}}}}}squared;class fa extends squared.base.ExtensionUI{constructor(t,e,n,a){super(t,e,n,a),this.require(i.EXTERNAL,!0)}processNode(t,n){const i=J(t.dataset,this.name),a=i.tag;if(a){t.setControlType(a,t.blockStatic?e.BLOCK:e.INLINE),t.render(n);const o=i.tagChild;if(o){const e=this.name;t.addAlign(4),t.each(t=>{if(t.styleElement){const n=t.dataset;n.use=e,n.androidSubstituteTag=o}})}return{output:{type:1,node:t,controlName:a},include:!0}}}postOptimize(t){t.apply(M.formatOptions(Q(this.options[t.elementId]),this.application.extensionManager.optionValueAsBoolean(i.RESOURCE_STRINGS,"numberResourceValue")))}}var ma=squared.base.LayoutUI;const ya=squared.lib,ba=squared.base.lib,{formatPX:Ta}=ya.css,{convertFloat:Sa,convertInt:Ea,trimEnd:va}=ya.util,xa=ba.constant.EXT_NAME.TABLE;function Aa(t){t.hasPX("height")&&t.height+t.contentBoxHeight<Math.floor(t.bounds.height)&&"top"!==t.css("verticalAlign")&&t.setLayoutHeight("wrap_content")}class _a extends squared.base.extensions.Table{processNode(t,n){super.processNode(t,n);const i=t.data(xa,"mainData");if(i){let a=!1;return i.columnCount>1?(a=i.expand,t.each(t=>{const e=t.data(xa,"cellData");if(e.flexible)t.android("layout_columnWeight",t.toElementString("colSpan","1")),t.setLayoutWidth("0px"),a=!0;else{const{downsized:n,expand:i,percent:o}=e;if(i){if(o){const e=Sa(o)/100;e>0&&(t.setLayoutWidth("0px"),t.android("layout_columnWeight",va(e.toPrecision(3),"0")),a=!0)}}else!1===i&&t.android("layout_columnWeight","0");if(n)if(e.exceed)t.setLayoutWidth("0px"),t.android("layout_columnWeight","0.01"),a=!0;else if(t.hasPX("width")){const e=t.bounds.width;t.actualWidth<e&&t.setLayoutWidth(Ta(e))}}"TD"===t.tagName&&t.setSingleLine(!0),Aa(t)})):t.each(t=>{t.has("width",{type:4})&&(t.setLayoutWidth("wrap_content"),a=!0),Aa(t)}),t.hasWidth?t.width<Math.floor(t.bounds.width)&&(i.layoutFixed?t.android("width",Ta(t.bounds.width)):(t.hasPX("minWidth")||t.android("minWidth",Ta(t.actualWidth)),t.css("width","auto"))):a&&((n.blockStatic||n.hasPX("width"))&&Math.ceil(t.bounds.width)>=n.box.width?t.setLayoutWidth("match_parent"):t.css("width",Ta(t.actualWidth))),t.hasHeight&&t.height<Math.floor(t.bounds.height)&&(t.hasPX("minHeight")||t.android("minHeight",Ta(t.actualHeight)),t.css("height","auto")),{output:this.application.renderNode(ma.create({parent:n,node:t,containerType:e.GRID,alignmentType:4,children:t.children,rowCount:i.rowCount,columnCount:i.columnCount})),include:!0,complete:!0}}}processChild(t,e){const n=t.data(xa,"cellData");if(n){const{rowSpan:i,colSpan:a,spaceSpan:o}=n;if(i>1&&t.android("layout_rowSpan",""+i),a>1&&t.android("layout_columnSpan",""+a),o){const e=this.controller;e.addAfterOutsideTemplate(t.id,e.renderSpace({width:"wrap_content",height:"wrap_content",columnSpan:o,android:{}}),!1)}t.mergeGravity("layout_gravity","fill"),"hide"===e.css("empty-cells")&&0===t.naturalChildren.length&&""===t.textContent&&t.hide({hidden:!0})}}postOptimize(t){const e=Ea(t.layoutWidth);if(e>0){const n=t.bounds.width;n>e&&t.setLayoutWidth(Ta(n)),"auto"===t.cssInitial("width")&&t.renderChildren.every(t=>t.inlineWidth)&&t.renderEach(t=>{t.setLayoutWidth("0px"),t.android("layout_columnWeight","1")})}}}var wa=squared.base.LayoutUI;squared;class Ra extends squared.base.extensions.VerticalAlign{processNode(t,n){return super.processNode(t,n),{output:this.application.renderNode(new wa(n,t,e.RELATIVE,8,t.children)),subscribe:!0}}}class Ia extends squared.base.extensions.WhiteSpace{constructor(){super(...arguments),this.eventOnly=!0}}var Na=squared.base.LayoutUI;const Ca=squared.lib,{formatPX:La}=Ca.css,{hypotenuse:Pa}=Ca.math,{withinRange:ka}=Ca.util;squared;class Oa extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={circlePosition:!1}}is(t){return this.included(t.element)}condition(t){return t.length>0}processNode(t,n){return{output:this.application.renderNode(new Na(n,t,e.CONSTRAINT,32,t.children))}}postBaseLayout(t){const e=this.controller,n=this.options.circlePosition,{left:i,top:a}=t.box;let o;if(t.each(t=>{const e=t.linear;if(ka(e.left,i)&&t.anchorParent("horizontal",0),ka(e.top,a)&&t.anchorParent("vertical",0),n)if(t.anchored)o=t;else{const{horizontal:e,vertical:n}=t.constraint;o?n&&!o.constraint.vertical&&(o=t):(n||e)&&(o=t)}t.positioned=!0}),n){void 0===o&&(o=t.item(0)),o.anchored||e.addGuideline(o,t);const{x:n,y:i}=o.center;t.each(t=>{if(t!==o){const{x:e,y:a}=t.center,r=Math.abs(e-n),s=Math.abs(a-i),l=Math.round(Pa(r,s));let c=Math.round(Math.atan(Math.min(r,s)/Math.max(r,s))*(180/Math.PI));a>i?e>n?r>s?c+=90:c=180-c:r>s?c=270-c:c+=180:a<i?n>e?r>s?c+=270:c=360-c:r>s&&(c=90-c):c=e>n?90:270,t.app("layout_constraintCircle",o.documentId),t.app("layout_constraintCircleRadius",La(l)),t.app("layout_constraintCircleAngle",""+c)}})}else t.each(n=>{n.anchored||e.addGuideline(n,t)})}}var Ma=squared.base.LayoutUI;const Ba=squared.base,{isLength:Da}=squared.lib.css,{NODE_RESOURCE:Wa}=Ba.lib.enumeration,Xa=Ba.extensions.CssGrid,Ga=Wa.BOX_SPACING|Wa.FONT_STYLE|Wa.VALUE_STRING,Ha=t=>!t.blockStatic&&!t.hasPX("width")||t.has("width",{type:6,not:"100%"})&&"100%"!==t.css("minWidth")||t.has("maxWidth",{type:6,not:"100%"}),Va=t=>"100%"===t.css("height")||"100%"===t.css("minHeight"),Fa=t=>t.marginTop>0||t.marginRight>0||t.marginBottom>0||t.marginLeft>0,za=(t,e)=>e.visibleStyle.background&&(Ha(t)||!Va(e)||!Va(t)),Ua=t=>"HTML"===t.tagName&&(t.contentBoxWidth>0||t.contentBoxHeight>0||Fa(t)),qa=(t,e,n,i,a,o,r)=>n&&i&&((!a||!o)&&(t.has("backgroundPositionX")||t.has("backgroundPositionY")||r&&(Ha(t)||!Va(e)||!Va(t)))||"fixed"===t.css("backgroundAttachment"));class ja extends squared.base.ExtensionUI{is(t){return t.documentBody}condition(t,e){const{backgroundColor:n,backgroundImage:i,backgroundRepeatX:a,backgroundRepeatY:o,borderWidth:r}=t.visibleStyle;return((t,e,n,i,a)=>(n||i)&&!za(t,e)&&(a||t.gridElement&&(Xa.isJustified(t)||Xa.isAligned(t))))(t,e,n,i,r)||qa(t,e,n,i,a,o,r)||((t,e)=>e&&Fa(t))(t,i)||Ua(e)}processNode(t,n){var i;const a=this.controller,{backgroundColor:o,backgroundImage:r,visibleStyle:s}=t,{backgroundColor:l,backgroundImage:c,backgroundRepeatX:d,backgroundRepeatY:h,borderWidth:u}=s,p=qa(t,n,l,c,d,h,u),g=t.hasHeight||!0===(null===(i=t.actualParent)||void 0===i?void 0:i.hasHeight);let f,m,y=n;const b=n=>{n.setControlType(ee.getControlName(e.CONSTRAINT,t.api),e.CONSTRAINT),n.addAlign(16),n.render(y),this.application.addLayoutTemplate(y,n,{type:1,node:n,controlName:n.controlName}),m=n,y=n},T=za(t,n),S="fixed"===t.css("backgroundAttachment");if(""!==o&&(c&&d&&h||(f=a.createNodeWrapper(t,y,void 0,{resource:Ga}),f.css("backgroundColor",o),f.setCacheValue("backgroundColor",o),T?Ha(t)||f.setLayoutWidth("match_parent"):(f.setLayoutWidth("match_parent"),f.setLayoutHeight("match_parent")),f.unsetCache("visibleStyle")),t.css("backgroundColor","transparent"),t.setCacheValue("backgroundColor",""),s.backgroundColor=!1),""!==r&&(T||p||h||n.visibleStyle.background||Fa(t))){f?(p||S)&&(b(f),f=a.createNodeWrapper(t,m,void 0,{resource:Wa.BOX_SPACING})):f=a.createNodeWrapper(t,y,void 0,{resource:Ga}),f.setLayoutWidth("match_parent");const e=n.cssInitial("height"),i=n.cssInitial("minHeight");let o=t.css("backgroundSize");if(""===e&&""===i)f.setLayoutHeight(T||!S&&(p&&g||!(h||t.has("backgroundSize")||t.css("backgroundPosition").split(" ").some(t=>Da(t)&&parseInt(t)>0)))?"wrap_content":"match_parent");else{if("100%"!==e&&"100%"!==i){const t=n.toElementInt("offsetHeight");t<window.innerHeight&&(o=`auto ${t}px`)}f.setLayoutHeight("match_parent")}f.cssApply({backgroundImage:r,backgroundSize:o,border:"0px none solid",borderRadius:"0px"}),f.cssApply(t.cssAsObject("backgroundRepeat","backgroundPositionX","backgroundPositionY","backgroundClip")),f.setCacheValue("backgroundImage",r),f.unsetCache("visibleStyle"),S&&f.android("scrollbars","vertical"),t.css("backgroundImage","none"),t.setCacheValue("backgroundImage",""),s.backgroundImage=!1,s.backgroundRepeatX=!1,s.backgroundRepeatY=!1}return Ua(n)&&(void 0===f&&(f=a.createNodeWrapper(t,y)),f.unsafe("excludeResource",Wa.FONT_STYLE|Wa.VALUE_STRING),n.resetBox(30,f),n.resetBox(480,f),f.setLayoutWidth("match_parent",!1),f.setLayoutHeight("wrap_content",!1)),f?(s.background=s.borderWidth||s.backgroundImage||s.backgroundColor,{parent:f,parentAs:m,renderAs:f,outputAs:this.application.renderNode(new Ma(m||n,f,e.CONSTRAINT,16,f.children)),remove:!0}):{remove:!0}}}var Ya=squared.base.LayoutUI;const $a=squared.base,{NODE_RESOURCE:Ka}=$a.lib.enumeration,Za=$a.extensions.CssGrid,Ja=t=>"space-between"===t?"match_parent":"wrap_content";class Qa extends squared.base.ExtensionUI{is(t){return t.gridElement}condition(t){return Za.isJustified(t)||Za.isAligned(t)}processNode(t,n){const a=this.controller.createNodeWrapper(t,n,void 0,{controlName:ee.getControlName(e.CONSTRAINT,t.api),containerType:e.CONSTRAINT,resource:Ka.ASSET});return a.inherit(t,"styleMap","boxStyle"),t.resetBox(30,a),t.resetBox(480,a),t.data(i.DELEGATE_CSS_GRID,"unsetContentBox",!0),Za.isJustified(t)?t.setLayoutWidth(Ja(t.css("justifyContent"))):t.hasPX("width",!1)?t.setLayoutWidth("match_parent"):a.setLayoutWidth(t.blockStatic?"match_parent":"wrap_content"),Za.isAligned(t)?t.setLayoutHeight(Ja(t.css("alignContent"))):t.hasPX("height",!1)?t.setLayoutHeight("match_parent"):a.setLayoutHeight("wrap_content"),{parent:a,renderAs:a,outputAs:this.application.renderNode(new Ya(n,a,e.CONSTRAINT,4096,a.children)),include:!0}}}var to=squared.base.LayoutUI;squared;class eo extends squared.base.ExtensionUI{is(t){return!t.inputElement&&!t.support.maxDimension}condition(t,e){const n=t.hasPX("maxWidth")&&!e.layoutConstraint&&!e.layoutElement&&(e.layoutVertical||e.layoutFrame||t.blockStatic||t.onlyChild&&(e.blockStatic||e.hasWidth)),a=t.hasPX("maxHeight")&&(e.hasHeight||e.gridElement||e.tableElement);return!(!n&&!a)&&(t.data(i.DELEGATE_MAXWIDTHHEIGHT,"mainData",{maxWidth:n,maxHeight:a}),!0)}processNode(t,n){const a=t.data(i.DELEGATE_MAXWIDTHHEIGHT,"mainData");if(a){const i=this.controller.createNodeWrapper(t,n,void 0,{controlName:ee.getControlName(e.CONSTRAINT,t.api),containerType:e.CONSTRAINT,resetMargin:!0});if(i.addAlign(64),a.maxWidth&&(t.setLayoutWidth("0px"),i.setLayoutWidth("match_parent"),n.layoutElement)){const e=t.autoMargin;e.horizontal=!1,e.left=!1,e.right=!1,e.leftRight=!1}if(a.maxHeight&&(t.setLayoutHeight("0px"),i.setLayoutHeight("match_parent"),n.layoutElement)){const e=t.autoMargin;e.vertical=!1,e.top=!1,e.bottom=!1,e.topBottom=!1,a.maxHeight||!t.blockStatic||t.hasWidth||t.setLayoutWidth("match_parent",!1)}return{parent:i,renderAs:i,outputAs:this.application.renderNode(new to(n,i,i.containerType,4096,i.children))}}}}var no=squared.base.LayoutUI;squared;function io(t,e){return t.pageFlow?t===e.firstStaticChild&&t.inlineFlow&&!t.centerAligned&&!t.rightAligned&&t.marginLeft<0&&Math.abs(t.marginLeft)<=e.marginLeft+e.paddingLeft&&!e.some(t=>t.multiline):t.leftTopAxis&&(t.left<0||!t.hasPX("left")&&t.right<0)}class ao extends squared.base.ExtensionUI{is(t){return t.length>0&&!t.originalRoot&&"hidden"!==t.css("overflowX")}condition(t){return t.some(e=>io(e,t))}processNode(t,n){const a=t.filter(e=>io(e,t)),o=this.controller.createNodeWrapper(t,n,a,{controlName:ee.getControlName(e.CONSTRAINT,t.api),containerType:e.CONSTRAINT});t.resetBox(10,o);let r,s=NaN,l=NaN;for(const t of a){const e=t.linear;t.pageFlow?((isNaN(s)||e.left<s)&&(s=e.left),r=t):t.hasPX("left")?t.left<0&&(isNaN(s)||e.left<s)&&(s=e.left):t.right<0&&(isNaN(l)||e.right>l)&&(l=e.right)}if(t.pageFlow)t.hasWidth&&o.setLayoutWidth("wrap_content");else{if(!isNaN(s)&&!t.has("left")){const e=t.linear.left-s;e>0&&t.modifyBox(16,e)}if(!isNaN(l)&&!t.has("right")){const e=l-t.linear.right;e>0&&t.modifyBox(4,e)}}return t.data(i.DELEGATE_NEGATIVEX,"mainData",{container:o,children:a,offsetLeft:t.marginLeft+t.paddingLeft,firstChild:r}),{parent:o,renderAs:o,outputAs:this.application.renderNode(new no(n,o,o.containerType,4104,o.children)),subscribe:!0}}postBaseLayout(t){const e=t.data(i.DELEGATE_NEGATIVEX,"mainData");if(e){let n=e.firstChild;n&&(n=n.ascend({excluding:t,attr:"outerWrapper"}).pop()||n,n.anchor("left","parent"),n.anchorStyle("horizontal",0),n.anchorParent("vertical",0),n.modifyBox(16,e.offsetLeft),ee.setConstraintDimension(n),n.positioned=!0);for(const i of e.children)i!==n&&(i.hasPX("left")?(i.translateX(i.left),i.alignSibling("left",t.documentId),i.constraint.horizontal=!0):i.hasPX("right")&&(i.translateX(-i.right),i.alignSibling("right",t.documentId),i.constraint.horizontal=!0));t.anchorParent("horizontal",0),t.anchorParent("vertical",0),ee.setConstraintDimension(t),t.positioned=!0}}beforeCascade(){for(const t of this.subscribers){const e=t.data(i.DELEGATE_NEGATIVEX,"mainData");if(e){const n=t.android("translationX"),i=t.android("translationY");if(""!==n||""!==i){const t=parseInt(n),a=parseInt(i);for(const n of e.children)isNaN(t)||n.translateX(t),isNaN(a)||n.translateY(a)}}}}}var oo=squared.base.LayoutUI;squared;const ro=(t,e)=>e.marginLeft<0&&(t.originalRoot||e.linear.left<Math.floor(t.box.left)),so=(t,e)=>e.marginTop<0&&(t.originalRoot||e.linear.top<Math.floor(t.box.top));function lo(t,e){const n=t.documentBody;if(!e&&!n)return!1;const a=t.originalRoot,o=n&&t.positionStatic,r=new Set,s=t.paddingTop+(n?t.marginTop:0),l=t.paddingRight+(n?t.marginRight:0),c=t.paddingBottom+(n?t.marginBottom:0),d=t.paddingLeft+(n?t.marginLeft:0);let h=!1,u=!1;return t.each(i=>{const p=a&&"fixed"===i.css("position");if(i.pageFlow||!e&&!p)return;const g=p&&i.autoPosition;if(i.hasPX("left")||g)if(!n||"100%"!==i.css("width")&&"100%"!==i.css("minWidth")){const e=i.left;((e>=0||a)&&e<d||e<0&&t.marginLeft>0||!i.hasPX("right")&&ro(t,i))&&r.add(i)}else r.add(i),h=!0;else if(i.hasPX("right"))if(o)r.add(i),h=!0;else{const e=i.right;((e>=0||a)&&e<l||e<0&&t.marginRight>0||((t,e)=>e.marginRight<0&&(t.originalRoot||e.linear.right>Math.ceil(t.box.right)))(t,i))&&r.add(i)}else ro(t,i)&&r.add(i);if(i.hasPX("top")||g)if(!n||"100%"!==i.css("height")&&"100%"!==i.css("minHeight")){const e=i.top;((e>=0||a)&&e<s||e<0&&t.marginTop>0||!i.hasPX("bottom")&&so(t,i))&&r.add(i)}else r.add(i),u=!0;else if(i.hasPX("bottom"))if(o)r.add(i),u=!0;else{const e=i.bottom;((e>=0||a)&&e<c||e<0&&t.marginBottom>0||((t,e)=>e.marginBottom<0&&(t.originalRoot||e.linear.bottom>Math.ceil(t.box.bottom)))(t,i))&&r.add(i)}else so(t,i)&&r.add(i)}),!!r.size&&(t.data(i.DELEGATE_POSITIVEX,"mainData",{children:Array.from(r),right:h,bottom:u}),!0)}class co extends squared.base.ExtensionUI{is(t){return t.length>0}condition(t){return lo(t,t.contentBoxWidth>0||t.contentBoxHeight>0||t.marginTop>0||t.marginRight>0||t.marginBottom>0||t.marginLeft>0)}processNode(t,n){const a=t.data(i.DELEGATE_POSITIVEX,"mainData");if(a){const i=this.controller.createNodeWrapper(t,n,a.children,{resetMargin:!t.originalRoot&&!t.pageFlow||n.layoutGrid,cascade:!0,inheritDataset:!0});return t.documentBody?(a.right&&i.setLayoutWidth("match_parent"),a.bottom&&i.setLayoutHeight("match_parent")):t.pageFlow||(!t.hasPX("width")&&t.hasPX("left")&&t.hasPX("right")&&t.setLayoutWidth("match_parent"),!t.hasPX("height")&&t.hasPX("top")&&t.hasPX("bottom")&&t.setLayoutHeight("match_parent")),{parent:i,renderAs:i,outputAs:this.application.renderNode(new oo(n,i,e.CONSTRAINT,32,i.children)),subscribe:!0}}}postBaseLayout(t){const e=t.data(i.DELEGATE_POSITIVEX,"mainData");if(e){const n=t.documentId;for(const i of e.children){const e=!i.pageFlow&&(i.absoluteParent!==i.documentParent||"fixed"===i.css("position")||t.documentBody),a=i.outerMostWrapper;i.hasPX("left")&&(e||(i.translateX(i.left),i.alignSibling("left",n),i.constraint.horizontal=!0),a.modifyBox(16,t.borderLeftWidth)),i.hasPX("right")?(e||(i.translateX(-i.right),i.alignSibling("right",n),i.constraint.horizontal=!0),a.modifyBox(4,t.borderRightWidth)):i.marginLeft<0&&ro(t,i)&&(a.alignSibling("left",n),a.translateX(i.linear.left-t.bounds.left),a.modifyBox(16,t.borderLeftWidth),a.constraint.horizontal=!0,i.setBox(16,{reset:1})),i.hasPX("top")&&(e||(i.translateY(i.top),i.alignSibling("top",n),i.constraint.vertical=!0),a.modifyBox(2,t.borderTopWidth)),i.hasPX("bottom")?(e||(i.translateY(-i.bottom),i.alignSibling("bottom",n),i.constraint.vertical=!0),a.modifyBox(8,t.borderBottomWidth)):i.marginTop<0&&so(t,i)&&(a.alignSibling("top",n),a.translateY(i.linear.top-t.bounds.top),a.modifyBox(2,t.borderTopWidth),a.constraint.vertical=!0,i.setBox(2,{reset:1}))}}}}var ho=squared.base.LayoutUI;squared;function uo(t){const e=t.percentWidth;return e>0&&e<1}function po(t){const e=t.percentHeight;return e>0&&e<1}class go extends squared.base.ExtensionUI{is(t){return t.pageFlow}condition(t,e){return(t=>!t.documentParent.layoutElement&&!/^table/.test(t.display))(t)&&(uo(t)&&!e.layoutConstraint&&("100%"!==t.cssInitial("width")||t.has("maxWidth",{type:4,not:"100%"}))&&(t.originalRoot||t.hasPX("height")||(e.layoutVertical||t.onlyChild)&&(e.blockStatic||e.hasPX("width")))||po(t)&&("100%"!==t.cssInitial("height")||t.has("maxHeight",{type:4,not:"100%"}))&&(t.originalRoot||e.hasHeight))}processNode(t,n){const i=this.controller.createNodeWrapper(t,n,void 0,{resetMargin:!0});return uo(t)?(i.setCacheValue("hasWidth",!0),i.css("display","block"),i.setLayoutWidth("match_parent"),t.setLayoutWidth("100%"!==t.cssInitial("width")||t.hasPX("maxWidth")?"0px":"match_parent")):i.setLayoutWidth("wrap_content"),po(t)?(i.setCacheValue("hasHeight",!0),i.setLayoutHeight("match_parent"),t.setLayoutHeight("100%"!==t.cssInitial("height")||t.hasPX("maxHeight")?"0px":"match_parent")):i.setLayoutHeight("wrap_content"),{parent:i,renderAs:i,outputAs:this.application.renderNode(new ho(n,i,e.CONSTRAINT,4096,i.children))}}}const fo=squared.base,{getElementAsNode:mo}=squared.lib.session,{NODE_RESOURCE:yo}=fo.lib.enumeration,bo=fo.NodeUI;function To(t,e){let n=!1;const i=t.length;for(let a=0;a<i;a++){const i=t[a];i.toElementBoolean("checked")&&i.android("checked","true"),!n&&i.baseline&&i.parent===e&&e.layoutLinear&&(0===a||e.layoutHorizontal)&&(e.android("baselineAlignedChildIndex",""+a),n=!0),i.positioned=!0}return n}const So=t=>{var e;return(null===(e=t.name)||void 0===e?void 0:e.trim())||""};class Eo extends squared.base.ExtensionUI{is(t){return t.is(e.RADIO)}condition(t){return""!==So(t.element)&&!t.positioned}processNode(t,n){var i;const o=So(t.element),r=[],s=[];let l=-1,c=-1;n.each((n,i)=>{const a=n.renderAs;let d;a&&(a!==t&&(d=n),n=a),n.is(e.RADIO)&&!n.rendered&&So(n.element)===o?(r.push(n),-1===l&&(l=i),c=i):!n.visible&&r.includes(n.labelFor)&&(c=i),d&&s.push(d)});let d=r.length;if(d>1){const{target:i,use:o}=t.dataset,d=bo.linearData(n.children.slice(l,c+1)).linearX,h=this.controller.createNodeGroup(t,r,{parent:n,delegate:!0}),u=a.RADIOGROUP;h.setControlType(u,e.LINEAR),d?(h.addAlign(136),h.android("orientation","horizontal")):(h.addAlign(16),h.android("orientation","vertical")),h.inherit(t,"alignment"),h.exclude({resource:yo.ASSET}),h.render(i&&!o?this.application.resolveTarget(i):n),To(r,h)||(h.css("verticalAlign","middle"),h.setCacheValue("baseline",!1),h.setCacheValue("verticalAlign","middle"));for(const t of s)t.hide({remove:!0});return this.subscribers.add(h),{renderAs:h,outputAs:{type:1,node:h,controlName:u},parent:h,complete:!0}}{r.length=0;const n=So(t.element),o=t.sessionId;if(document.querySelectorAll(`input[type=radio][name=${n}]`).forEach(t=>{const e=mo(t,o);e&&r.push(e)}),d=r.length,d>1&&r.includes(t)){const t=a.RADIOGROUP,n=new Map;for(const e of r){const i=e.ascend({condition:t=>t.layoutLinear,error:e=>e.controlName===t,every:!0});if(!i.length){n.clear();break}for(const t of i)n.set(t,(n.get(t)||0)+1)}for(const[a,o]of n.entries())if(o===d){a.unsafe("controlName",t),a.containerType=e.RADIO;const n=a.renderParent;if(n){const e=null===(i=n.renderTemplates)||void 0===i?void 0:i.find(t=>(null==t?void 0:t.node)===a);e&&(e.controlName=t)}return void To(r,a)}}}}postBaseLayout(t){t.renderEach(e=>{e.naturalElement&&e.toElementBoolean("checked")&&t.android("checkedButton",e.documentId)})}}const{formatPX:vo}=squared.lib.css,{NODE_RESOURCE:xo}=squared.base.lib.enumeration;class Ao extends squared.base.ExtensionUI{is(t){return t.length>0}condition(t){return t.overflowX&&t.hasPX("width")||t.overflowY&&t.hasPX("height")&&t.hasHeight||this.included(t.element)}processNode(t,n){const i=[],r=[],s=a.HORIZONTAL_SCROLL,l=t.api<29?a.VERTICAL_SCROLL:o.VERTICAL_SCROLL;if(t.overflowX&&t.overflowY)i.push(s,l);else if(t.overflowX)i.push(s);else if(t.overflowY)i.push(l);else{let e=0;t.hasPX("width")&&(e|=8,i.push(s)),(t.hasPX("height",!1)||t.hasHeight&&t.hasPX("height"))&&(e|=16,i.push(l)),t.overflow=e}if(i.includes(s)){const e=[];let n=t.actualWidth-t.contentBoxWidth,a=!0,o=0;if(t.each(t=>{if(t.textElement&&"nowrap"!==t.css("whiteSpace"))e.push(t);else{const e=t.actualWidth;if(e<=n)return;e>o&&(o=e)}a=!1}),a?i.shift():o>n&&(n=o),i.length)for(const t of e)t.textElement&&t.css("maxWidth",vo(n))}const c=i.length;if(c){for(let a=0;a<c;a++){const o=this.application.createNode({parent:n});0===a?(o.inherit(t,"base","initial","styleMap"),n.appendTry(t,o)):(o.inherit(t,"base"),o.exclude({resource:xo.BOX_STYLE})),o.setControlType(i[a],e.BLOCK),o.exclude({resource:xo.ASSET}),o.resetBox(480),o.childIndex=t.childIndex,r.push(o)}for(let e=0;e<c;e++){const i=r[e];switch(i.controlName){case l:t.setLayoutHeight("wrap_content"),i.setLayoutHeight(vo(t.actualHeight)),i.android("scrollbars","vertical"),i.cssApply({width:1===c&&t.css("width")||"auto",overflow:"scroll visible",overflowX:"visible",overflowY:"scroll"});break;case s:t.setLayoutWidth("wrap_content"),i.setLayoutWidth(vo(t.actualWidth)),i.android("scrollbars","horizontal"),i.cssApply({height:1===c&&t.css("height")||"auto",overflow:"visible scroll",overflowX:"scroll",overflowY:"visible"})}if(0===e){const e=t.dataset;i.render(e.target&&!e.use?this.application.resolveTarget(e.target):n)}else i.render(r[e-1]);i.unsetCache(),this.application.addLayoutTemplate(i.renderParent||n,i,{type:1,node:i,controlName:i.controlName})}for(let e=c-1,i=0;e>=0;e--,i++){const a=r[e];0===i?(n=a,a.innerWrapped=t):a.innerWrapped=n}return t.overflow=0,t.exclude({resource:xo.BOX_STYLE}),t.resetBox(30,r[0]),t.parent=n,{parent:n}}}}var _o={shape:{"@":["xmlns:android","android:shape"],">":{solid:{"^":"android","@":["color"]},gradient:{"^":"android","@":["type","startColor","endColor","centerColor","angle","centerX","centerY","gradientRadius","visible"]},corners:{"^":"android","@":["radius","topLeftRadius","topRightRadius","bottomRightRadius","bottomLeftRadius"]},stroke:{"^":"android","@":["width","color","dashWidth","dashGap"]}}}},wo={"layer-list":{"@":["xmlns:android"],">":{item:{"^":"android","@":["left","start","top","right","end","bottom","drawable","width","height","gravity"],">":{shape:_o.shape,bitmap:{"^":"android","@":["src","gravity","tileMode","tileModeX","tileModeY"]},rotate:{"^":"android","@":["drawable","fromDegrees","toDegrees","pivotX","pivotY","visible"]}}}}}};const Ro={path:{"^":"android","@":["name","fillColor","fillAlpha","fillType","strokeColor","strokeAlpha","strokeWidth","strokeLineCap","strokeLineJoin","strokeMiterLimit","trimPathStart","trimPathEnd","trimPathOffset","pathData"],">":{"aapt:attr":{"@":["name"],">":{gradient:{"^":"android","@":["type","startColor","endColor","centerColor","angle","startX","startY","endX","endY","centerX","centerY","gradientRadius","tileMode"],">":{item:{"^":"android","@":["offset","color"]}}}}}}}},Io={group:{"^":"android","@":["name","rotation","scaleX","scaleY","translateX","translateY","pivotX","pivotY"],">>":!0,">":{"clip-path":{"^":"android","@":["name","pathData"]},path:Ro.path},"#":"include"}};var No={vector:{"@":["xmlns:android","xmlns:aapt","android:name","android:width","android:height","android:viewportWidth","android:viewportHeight","android:alpha"],">":{path:Ro.path},"#":"include"}};const Co=squared.lib,{reduceRGBA:Lo}=Co.color,{formatPercent:Po,formatPX:ko,getBackgroundPosition:Oo}=Co.css,{truncate:Mo}=Co.math,{CHAR:Bo,CSS:Do,XML:Wo}=Co.regex,{delimitString:Xo,flatArray:Go,isEqual:Ho,objectMap:Vo,resolvePath:Fo}=Co.util,{applyTemplate:zo}=Co.xml,{NODE_RESOURCE:Uo}=squared.base.lib.enumeration,qo=squared.base.NodeUI;function jo(t,e=-1,n=!1){const{style:i,color:a}=t,o=rr(t.width),r=sr(a);switch(i){case"solid":break;case"dotted":r.dashWidth=ko(o),r.dashGap=r.dashWidth;break;case"dashed":{let t,e;switch(o){case 1:case 2:t=3*o,e=t-1;break;case 3:t=6,e=3;break;default:t=2*o,e=4}r.dashWidth=ko(t),r.dashGap=ko(e);break}case"inset":case"outset":case"groove":case"ridge":{const t=a.rgba;let r=1;if(1===o)"inset"!==i&&"outset"!==i||(r=.5);else{const a=t.r===t.g&&t.g===t.b;let o=0;if("ridge"===i?(n=!n,o+=.25):"groove"===i?o+=.25:a?"inset"===i&&(n=!n):"outset"===i&&(n=!n),n)switch(e){case 0:case 3:e=1;break;case 1:case 2:e=0}switch(e){case 0:case 3:a&&(r=.5+o);break;case 1:case 2:r=a?.75+o:-.75}}if(1!==r){const e=Lo(t,r,a.valueAsRGBA);if(e)return sr(e)}break}}return r}function Yo(t,e=-1,n=!1,i=!1){if(t){let a;if(Zo(t.style)){const o=parseFloat(t.width);a=jo(t,e,!i),a.width=ko(i?2*Math.ceil(o/2):n?Math.ceil(o/2):rr(t.width))}else a=jo(t),a.width=ko(rr(t.width));return a}}function $o(t){const[e,n,i,a]=t,o={};let r=!1;return"0px"!==e&&(o.topLeftRadius=e,r=!0),"0px"!==n&&(o.topRightRadius=n,r=!0),"0px"!==i&&(o.bottomRightRadius=i,r=!0),"0px"!==a&&(o.bottomLeftRadius=a,r=!0),r?o:void 0}function Ko(t){const e=ir(t,!1);return""!==e?{color:e}:void 0}function Zo(t,e=0){switch(t){case"groove":case"ridge":case"inset":case"outset":return 1!==e;default:return!1}}function Jo(t,e,n,i,a,o,r=0,s){const l=rr(e.width),c=Math.max(1,Math.floor(l/3)),d=r>0?ko(r):"";let h="-"+ko(c+r+1);t.push({top:n?d:h,right:i?d:h,bottom:a?d:h,left:o?d:h,shape:{"android:shape":"rectangle",stroke:Object.assign({width:ko(c)},jo(e)),corners:s}});const u=l-c+r,p=ko(u);h="-"+ko(u+1),t.push({top:n?p:h,right:i?p:h,bottom:a?p:h,left:o?p:h,shape:{"android:shape":"rectangle",stroke:Object.assign({width:ko(c)},jo(e)),corners:s}})}function Qo(t,e,n){return!t.includes(" ")&&e.includes(" ")?Bo.LOWERCASE.test(t)?("initial"===t?n:t)+" 0px":n+" "+t:"initial"===t?"0px":t}function tr(t,e=21,n){const i=t.type,a={type:i,item:!1,positioning:!0},o=e>=21;switch(i){case"conic":{const e=t.center;a.type="sweep",o?(a.centerX=""+2*e.left,a.centerY=""+2*e.top):(a.centerX=Po(e.leftAsPercent),a.centerY=Po(e.topAsPercent));break}case"radial":{const{center:e,radius:n}=t;o?(a.gradientRadius=""+n,a.centerX=""+e.left,a.centerY=""+e.top):(a.gradientRadius=ko(n),a.centerX=Po(e.leftAsPercent),a.centerY=Po(e.topAsPercent));break}case"linear":{const{angle:e,angleExtent:i,dimension:o}=t,{width:r,height:s}=o;let l=i.x,c=i.y;e<=90?(c+=s,a.startX="0",a.startY=""+s):e<=180?(a.startX="0",a.startY="0"):e<=270?(l+=r,a.startX=""+r,a.startY="0"):(l+=r,c+=s,a.startX=""+r,a.startY=""+s),a.endX=Mo(l,n),a.endY=Mo(c,n);break}}const r=t.colorStops;if(o)a.item=dr(r);else{const t=r.length;a.startColor=ir(r[0].color),a.endColor=ir(r[t-1].color),t>2&&(a.centerColor=ir(r[Math.floor(t/2)].color))}return a}function er(t,e,n=!0){const i=[],a=[{"xmlns:android":d.android,item:i}],o=!n&&Ko(t.backgroundColor);if(o&&i.push({shape:{"android:shape":"rectangle",solid:o}}),e)for(const t of e){const e=t.gradient;i.push(e?{shape:{"android:shape":"rectangle",gradient:e}}:t)}return a}function nr(t){const e=rr(t.width);return 2===e&&"double"===t.style?3:e}function ir(t,e=!0){const n=M.addColor(t,e);return""!==n?`@color/${n}`:""}function ar(t,e){for(;t.length<e;)t=t.concat(t.slice(0));return t.length=e,t}function or(t,e,n,i,a,o){const r=e[n];if(r){const e=rr(r.width);if("double"===r.style&&e>1)Jo(t.item,r,0===n,1===n,2===n,3===n,a,i);else{const s=e>1&&lr(r);if(s){const i="-"+ko(e+a+1);t.item.push({top:0===n?"":i,right:1===n?"":i,bottom:2===n?"":i,left:3===n?"":i,shape:{"android:shape":"rectangle",stroke:Yo(r,n,s,!0)}})}const l="-"+ko((s?Math.ceil(e/2):e)+a+1);t.item.push({top:0===n?o:l,right:1===n?o:l,bottom:2===n?o:l,left:3===n?o:l,shape:{"android:shape":"rectangle",corners:i,stroke:Yo(r,n,s)}})}}}const rr=t=>Math.round(parseFloat(t)),sr=t=>({color:ir(t),dashWidth:"",dashGap:""}),lr=t=>"groove"===t.style||"ridge"===t.style||"double"===t.style&&rr(t.width)>1,cr=(t,e)=>`${t}px ${e}px`;function dr(t,e){return Vo(t,t=>({color:ir(t.color),offset:Mo(t.offset,e)}))}function hr(t,e,n=0,i=0,a){return a?(n=Mo(n,a),i=Mo(i,a),t=Mo(n+t,a),e=Mo(i+e,a)):(t+=n,e+=i),`M${n},${i} ${t},${i} ${t},${e} ${n},${e} Z`}class ur extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={drawOutlineAsInsetBorder:!0},this.eventOnly=!0}beforeParseDocument(){this._resourceSvgInstance=this.controller.localSettings.svg.enabled?this.application.builtInExtensions[i.RESOURCE_SVG]:void 0}afterResources(){var t;const e=this.application.userSettings,n=this.options.drawOutlineAsInsetBorder;let i=!1;const a=(t,e,n)=>{M.addTheme({name:t,parent:e,items:{"android:windowBackground":n,"android:windowFullscreen":"true","android:fitsSystemWindows":"true"}}),i=!0},o=(t,e)=>{if(t!==e&&!e.hasResource(Uo.BOX_SPACING)&&0===t.percentWidth){const n=t.cssInitial("maxWidth");if(""===n||"auto"===n||"100%"===n){const t=e.renderChildren;1===t.length&&e.removeTry(t[0])}}},r=(t,n)=>{if(""!==n){const r="@drawable/"+M.insertStoredAsset("drawables",`${t.containerName.toLowerCase()}_${t.controlId}`,n);if(!i){if("HTML"===t.tagName)return void a(e.manifestThemeName,e.manifestParentThemeName,r);{const n=t.innerMostWrapped;if(n.documentBody&&(""!==t.backgroundColor||t.visibleStyle.backgroundRepeatY))return a(e.manifestThemeName,e.manifestParentThemeName,r),void o(n,t)}}t.android("background",r,!1)}};for(const s of this.cacheProcessing){const l=s.data(M.KEY_NAME,"boxStyle");if(l){if(s.inputElement){const e=s.companion;if("LABEL"===(null==e?void 0:e.tagName)&&!e.visible){const n=null===(t=e.data(M.KEY_NAME,"boxStyle"))||void 0===t?void 0:t.backgroundColor;n&&(l.backgroundColor=n)}}const c=this.getDrawableImages(s,l),d=l.outline;let[h,u]=this.getDrawableBorder(l,void 0,c,n&&d?nr(d):0);const p=void 0===h&&void 0===u;if(d&&(n||p)){const[t,e]=this.getDrawableBorder(l,d,p?c:void 0,void 0,!p);t?void 0===h&&(h=t):e&&(u?u[0].item=u[0].item.concat(e[0].item):u=e)}if(h)r(s,zo("shape",_o,h));else if(u)r(s,zo("layer-list",wo,u));else{const t=l.backgroundColor;if(t){const n=ir(t,!1);if(""!==n){if(!i){if("HTML"===s.tagName){a(e.manifestThemeName,e.manifestParentThemeName,n);continue}{const t=s.innerMostWrapped;if(t.documentBody){a(e.manifestThemeName,e.manifestParentThemeName,n),o(t,s);continue}}}const r=s.data(M.KEY_NAME,"fontStyle");r?r.backgroundColor=t:s.android("background",n,!1)}}}}}}getDrawableBorder(t,e,n,i=0,a=!1){const o=[,,,,],r=[,,,,],s=a?void 0:function(t){if(t){const e=t.length;if(1===e)return{radius:t[0]};if(8===e){const n=[,,,,];for(let i=0,a=0;i<e;i+=2)n[a++]=ko((parseFloat(t[i])+parseFloat(t[i+1]))/2);return $o(n)}return $o(t)}}(t.borderRadius),l=i>0?ko(i):"";let c,h,u,p,g=!0,f=!0;if(e){h=e;for(let t=0;t<4;t++)o[t]=e,r[t]=!0}else{o[0]=t.borderTop,o[1]=t.borderRight,o[2]=t.borderBottom,o[3]=t.borderLeft;for(let t=0;t<4;t++){const e=o[t];e?(g&&h&&(g=Ho(h,e),g||(f=!1)),h=e,r[t]=!0):(r[t]=!1,f=!1)}}if(f&&(c=h),c&&!Zo(c.style,rr(c.width))&&!("double"===c.style&&parseInt(c.width)>1)||void 0===h&&(s||(null==n?void 0:n.length))){const e=!!c&&Yo(c);(null==n?void 0:n.length)||i>0||a?(p=er(t,n,a),(s||e)&&p[0].item.push({top:l,right:l,left:l,bottom:l,shape:{"android:shape":"rectangle",corners:s,stroke:e}})):u=function(t,e,n){return[{"xmlns:android":d.android,"android:shape":"rectangle",stroke:t,solid:e,corners:n}]}(e,!a&&Ko(t.backgroundColor),s)}else if(h)if(p=er(t,n,a),g&&!Zo(h.style)){const t=rr(h.width);if("double"===h.style&&t>1)Jo(p[0].item,h,r[0],r[1],r[2],r[3],i,s);else{const e="-"+ko(t+i+1);p[0].item.push({top:r[0]?l:e,right:r[1]?l:e,bottom:r[2]?l:e,left:r[3]?l:e,shape:{"android:shape":"rectangle",corners:s,stroke:Yo(h)}})}}else{const t=p[0];or(t,o,0,s,i,l),or(t,o,3,s,i,l),or(t,o,2,s,i,l),or(t,o,1,s,i,l)}return[u,p]}getDrawableImages(t,n){const i=n.backgroundImage;if(i||t.extracted&&t.hasResource(Uo.IMAGE_SOURCE)){const a=this.resource,o=t.localSettings.screenDimension,{bounds:l,fontSize:c}=t,{width:h,height:u}=l,p=[],g=[],f=[],m=[],y=[],b=n.backgroundPositionX.split(Wo.SEPARATOR),T=n.backgroundPositionY.split(Wo.SEPARATOR);let S=n.backgroundRepeat.split(Wo.SEPARATOR),E=n.backgroundSize.split(Wo.SEPARATOR),v=0;if(i){const e=this._resourceSvgInstance,n=i.length;S=ar(S,n),E=ar(E,n);let r=!1;for(let s=0;s<n;s++){let n=i[s],l=!1;if("string"==typeof n){if("initial"!==n){if(e){const[i,a]=e.createSvgElement(t,n);if(i&&a){const n=e.createSvgDrawable(t,a);if(""!==n){const e=t.data(M.KEY_NAME,"svgViewBox")||{width:a.width.baseVal.value,height:a.height.baseVal.value};if(!t.svgElement){let{width:t,height:n}=e;if(t>h||n>u){const e=t/h,i=n/u;e>i?e>1?(t=h,n/=e):n=u*(i/e):i>1?(n=u,t/=i):t=h*(e/i)}e.width=t,e.height=n}g[v]=n,m[v]=e,f[v]=!0,l=!0}i.removeChild(a)}}if(!l){const t=Do.URL.exec(n);if(t){const e=t[1];if(e.startsWith("data:image/")){const t=a.getRawData(e);if(t){const{base64:e,filename:n}=t;e&&(g[v]=n.substring(0,n.lastIndexOf(".")),m[v]=t,a.writeRawImage(n,e),l=!0)}}else{n=Fo(e);const t=a.addImageSet({mdpi:n});g[v]=t,""!==t&&(m[v]=a.getImage(n),l=!0)}}}}}else if(n.colorStops.length>1){const e=tr(n,t.api);e&&(g[v]=e,m[v]=n.dimension,l=!0)}if(l){const e=b[s]||b[s-1],n=T[s]||T[s-1];y[v]=Oo(Qo(e,n,"left")+" "+Qo(n,e,"top"),t.actualDimension,{fontSize:c,imageDimension:m[v],imageSize:E[s],screenDimension:o}),v++}else S[s]=void 0,E[s]=void 0,r=!0}r&&(S=Go(S),E=Go(E))}if(t.extracted){0===v&&(S.length=0,E.length=0);const e=t.extracted.filter(t=>t.visible&&(t.imageElement||"INPUT_IMAGE"===t.containerName));for(const n of e){const e=n.element,i=a.addImageSrc(e);if(""!==i){const r=n.bounds;g[v]=i,S[v]="no-repeat",E[v]=cr(n.actualWidth,n.actualHeight);const s=Oo("INPUT_IMAGE"===n.containerName?cr(0,0):cr(r.left-l.left+t.borderLeftWidth,r.top-l.top+t.borderTopWidth),t.actualDimension,{fontSize:c,imageDimension:r,screenDimension:o}),d=a.getImage(e.src);if(!t.hasPX("width")){const e=((null==d?void 0:d.width)||0)+s.left-(t.paddingLeft+t.borderLeftWidth);e>0&&t.modifyBox(256,e)}m[v]=d,y[v]=s,v++}}}const{backgroundClip:x,backgroundOrigin:A}=n,_=t.innerMostWrapped.documentBody;for(let n=v-1,i=0;n>=0;n--){const a=g[n],c={order:1/0};if("object"==typeof a&&!a.positioning){c.gravity="fill",c.gradient=a;continue}const b=y[n],T=E[n],v=4===b.orientation.length;let w=m[n],R=NaN,I=NaN;w&&(w.width&&w.height?(R=w.width,I=w.height):w=void 0);let N=0,C=0,L=0,P=0,k=NaN,O=NaN,B=NaN,D=NaN,W=0,X=!1,G=!1,H=0,V=0,F="",z="",U="",q="",j="",Y=S[n];if(Y.includes(" ")){const[t,e]=Y.split(" ");Y="no-repeat"===t?"no-repeat"===e?"no-repeat":"repeat-y":"no-repeat"===e?"repeat-x":"repeat"}else"space"!==Y&&"round"!==Y||(Y="repeat");switch(Y){case"repeat":F="repeat",z="repeat";break;case"repeat-x":F="repeat",z="disabled";break;case"repeat-y":F="disabled",z="repeat";break;default:F="disabled",z="disabled"}switch(b.horizontal){case"left":case"0%":case"0px":U=t.localizeString("left"),v&&(D=0,X=!0);break;case"center":case"50%":U="center_horizontal";break;case"right":case"100%":U=t.localizeString("right"),O=0,v&&(X=!0);break;default:b.leftAsPercent<1?(U="left",D=0,X=!0):(U="right",O=0,X=!0);break}switch(b.vertical){case"top":case"0%":case"0px":q="top",v&&(k=0,G=!0);break;case"center":case"50%":q="center_vertical";break;case"bottom":case"100%":q="bottom",B=0,v&&(G=!0);break;default:b.topAsPercent<1?(q="top",k=0,G=!0):(q="bottom",B=0,G=!0);break}switch(T){case"auto":case"auto auto":case"initial":"string"!=typeof a&&(j="fill");break;case"100%":case"100% 100%":case"100% auto":case"auto 100%":case"contain":case"cover":case"round":if(F="",z="",j="fill",_){const e=t.visibleStyle;e.backgroundRepeat=!0,e.backgroundRepeatY=!0}break;default:""!==T&&T.split(" ").forEach((e,n)=>{"100%"===e?j=0===n?"fill_horizontal":Xo({value:j},"fill_vertical"):"auto"!==e&&(0===n?"repeat"!==F&&(H=t.parseWidth(e,!1)):"repeat"!==z&&(V=t.parseHeight(e,!1)))})}let $,K=!0!==f[n],Z=t.is(e.IMAGE)||"string"!=typeof a,J=!1,Q=!1,tt=!1,et=!1,nt=!0;if(w){let e=h,n=u;if("contain"!==T&&!t.hasWidth){const i=window.innerWidth,a=o.width,r=()=>u*(e/h);h===i?i>=a?(e=a,n=r()):({width:e,height:n}=qo.refitScreen(t,l)):i>=a&&(e=t.actualBoxWidth(h),n=r())}const i=R/e,a=I/n,r=()=>R*V/I,s=()=>I*H/R,c=()=>e*(i/a),d=()=>n*(a/i),p=(t,e)=>{F="",z="",j="",t&&(U="",q=""),e&&(k=NaN,O=NaN,B=NaN,D=NaN,X=!1,G=!1),nt=!1};switch(T){case"100%":case"100% 100%":case"100% auto":case"auto 100%":if(I>=u){tt=!0,et=!0,V=u,Z=!0;break}case"cover":{const o="cover"===T;if(p(o,!o),i<a)if(H=e,V=d(),V>u){const e=b.topAsPercent;0!==e&&(N=Math.round((u-V)*e)),t.hasPX("height")||t.css("height",ko(u-t.contentBoxHeight)),X||(j="center_horizontal|fill_horizontal")}else V<u&&(H=e*u/V,V=u),X||(j="center_horizontal|fill");else if(i>a){if(H=c(),V=n,H>h){if(t.hasWidth){const t=b.leftAsPercent;0!==t&&(P=Math.round((h-H)*t))}G||(j="center_vertical|fill_vertical")}else H<h&&(H=h,V=n*h/H),G||(j="center_vertical|fill");X=!1}else j="fill";G=!1;break}case"contain":p(!0,!0),i>a?(V=d(),H=R<h?r():h,q="center_vertical",j="fill_horizontal"):i<a?(H=c(),V=I<u?s():u,U="center_horizontal",j="fill_vertical"):j="fill";break;default:0===H&&V>0&&(H=r()),0===V&&H>0&&(V=s())}}if(x){const{top:e,right:n,left:i,bottom:a}=x;0===H?H=h:H+=t.contentBoxWidth,0===V?V=u:V+=t.contentBoxHeight,H-=i+n,V-=e+a,isNaN(O)?P+=i:C+=n,isNaN(B)?N+=e:L+=a,U="",q=""}else if(nt&&(A&&("repeat"!==F&&(isNaN(O)?P+=A.left:C+=A.right),"repeat"!==z&&(isNaN(B)?N+=A.top:L+=A.bottom)),!Z&&!_)){if(R>h){H=h-(X?Math.min(b.left,0):0);let e=!0;if("repeat"===z&&""!==U){switch(U){case"start":case"left":if(C+=h-R,X){const t=b.left;t<0&&(W=t),H=0,C-=t,e=!1,U="right",z=""}else U="";D=NaN,O=0;break;case"center_horizontal":U+="|fill_vertical",z="";break;case"right":if(P+=h-R,X){const n=b.right;n<0&&(W=n),H=0,P-=n,e=!1,U=t.localizeString("left"),z=""}else U="";D=0,O=NaN}X=!1,q=""}e&&(j=Xo({value:j,not:["fill"]},"fill_horizontal")),"disabled"!==F&&(F=""),J=!0}if(I>u){V=u;let t=!0;if("repeat"===F&&""!==q){switch(q){case"top":if(G){L+=u-I;const e=b.top;e<0&&(W=e),V=0,L-=e,t=!1,q="bottom",F="",k=NaN,B=0}break;case"center_vertical":q+="|fill_horizontal",F="";break;case"bottom":if(N+=u-I,G){const e=b.bottom;e<0&&(W=e),V=0,N-=e,t=!1,q="top"}else q="";F="",k=0,B=NaN}U="",G=!1}t&&(j=Xo({value:j,not:["fill"]},"fill_vertical")),"disabled"!==z&&(z=""),Q=!0}}switch(t.controlName){case r.TOOLBAR:case s.TOOLBAR:U="",q="",j="fill"}if(Z)0===H&&0===V&&"fill"===j&&(K=!1);else{0===H&&R<h&&"disabled"===F&&(H=R,tt=!0),0===V&&I<u&&"disabled"===z&&(V=I,et=!0);const e=U;if("repeat"===F){switch(q){case"top":isNaN(k)||(F=""),q="";break;case"bottom":H>0&&!tt?F="":et&&(H=R,j=Xo({value:j,not:["fill"]},"fill_horizontal"),I>=R&&(F=""))}U=""}if("repeat"===z){switch(e){case"start":case"left":isNaN(D)||(z=""),U="";break;case"center_horizontal":t.renderChildren.length&&(z="");break;case"right":case"end":V>0&&!et?z="":tt&&(V=I,j=Xo({value:j,not:["fill"]},"fill_vertical"),R>=I&&(z=""))}q=""}""===U||J||(j=Xo({value:j},U),U=""),""===q||Q||(j=Xo({value:j},q),q="")}if("string"==typeof a)$=`@drawable/${a}`;else if(a.item){0===H&&(H=(w||qo.refitScreen(t,t.actualDimension)).width),0===V&&(V=(w||qo.refitScreen(t,t.actualDimension)).height);const e=M.insertStoredAsset("drawables",`${t.controlId}_gradient_${n+1}`,zo("vector",No,[{"xmlns:android":d.android,"xmlns:aapt":d.aapt,"android:width":ko(H),"android:height":ko(V),"android:viewportWidth":""+H,"android:viewportHeight":""+V,path:{pathData:hr(H,V),"aapt:attr":{name:"android:fillColor",gradient:a}}}]));""!==e&&($=`@drawable/${e}`,c.order=i++),"left"!==U&&"start"!==U||(U=""),"top"===q&&(q=""),"fill"!==j&&("repeat"===F&&"repeat"===z?j="fill":"repeat"===F?j="fill_vertical"===j?"fill":"fill_horizontal":"repeat"===z&&(j="fill_horizontal"===j?"fill":"fill_vertical"))}const it="center_horizontal"===U&&"center_vertical"===q?"center":Xo({value:U},q);if($){if(K&&(!Z&&(""!==j&&""!==it||"repeat"===F||"repeat"===z||_)||tt||et)){let t="";"disabled"===F&&"disabled"===z?(t="disabled",F="",z=""):"repeat"===F&&"repeat"===z&&(t="repeat",F="",z=""),c.gravity=j,c.bitmap=[{src:$,gravity:it,tileMode:t,tileModeX:F,tileModeY:z}]}else c.gravity=Xo({value:it},j),c.drawable=$;(c.drawable||c.bitmap||c.gradient)&&(isNaN(B)?(G&&(N+=b.top),isNaN(k)||(N+=k),0!==N&&(c.top=ko(N)),W<0&&(c.bottom=ko(W))):(G&&(L+=b.bottom),L+=B,0!==L&&(c.bottom=ko(L)),W<0&&(c.top=ko(W))),isNaN(O)?(X&&(P+=b.left),isNaN(D)||(P+=D),0!==P&&(c[t.localizeString("left")]=ko(P)),W<0&&(c[t.localizeString("right")]=ko(W))):(X&&(C+=b.right),C+=O,0!==C&&(c[t.localizeString("right")]=ko(C)),W<0&&(c[t.localizeString("left")]=ko(W))),H>0&&(c.width=ko(H)),V>0&&(c.height=ko(V)),p.push(c))}}return p.sort((t,e)=>{const n=t.order,i=e.order;return n===i?0:n<i?-1:1})}}}const pr=squared.lib,{XML:gr}=pr.regex,{convertUnderscore:fr,fromLastIndexOf:mr,safeNestedArray:yr,safeNestedMap:br}=pr.util,Tr=M.STORED,Sr=/\dpx$/,Er=/:(\w+)="(-?[\d.]+px)"/;function vr(t,e,n){for(const[i,a]of t.entries())if(i.startsWith(e)&&n===a)return i;const i=t.get(e);return i&&i!==n?M.generateId("dimen",e):e}function xr(t,e,n){const i=e.namespace(t);for(const a in i)if("text"!==a){const o=i[a];Sr.test(o)&&yr(n,`${t},${a},${o}`).push(e)}}const Ar=t=>mr(t,".");class _r extends squared.base.ExtensionUI{constructor(){super(...arguments),this.eventOnly=!0}beforeCascade(){const t=Tr.dimens,e={};for(const t of this.cache)if(t.visible){const n=t.containerName.toLowerCase(),i=br(e,n);xr("android",t,i),xr("app",t,i)}for(const n in e){const i=e[n];for(const e in i){const[a,o,r]=e.split(gr.SEPARATOR),s=vr(t,Ar(n)+"_"+fr(o),r),l=i[e];for(const t of l)t[a](o,`@dimen/${s}`);t.set(s,r)}}}afterFinalize(){if(this.controller.hasAppendProcessing()){const t=Tr.dimens;for(const e of this.application.layouts){let n,i=e.content;for(;null!==(n=Er.exec(i));){const[e,a,o]=n;if("text"!==a){const n=vr(t,"custom_"+fr(a),o);i=i.replace(e,e.replace(o,`@dimen/${n}`)),t.set(n,o)}}e.content=i}}}}const wr=squared.lib,{XML:Rr}=wr.regex,{capitalize:Ir,convertInt:Nr,convertWord:Cr,safeNestedArray:Lr,safeNestedMap:Pr,objectMap:kr,spliceArray:Or,trimBoth:Mr}=wr.util,{NODE_RESOURCE:Br}=squared.base.lib.enumeration,Dr=M.STORED,Wr=/^(\w*?)(?:_(\d+))?$/,Xr=/"/g,Gr={"sans-serif":14,"sans-serif-thin":16,"sans-serif-light":16,"sans-serif-condensed":16,"sans-serif-condensed-light":16,"sans-serif-medium":21,"sans-serif-black":21,"sans-serif-smallcaps":21,"serif-monospace":21,serif:21,casual:21,cursive:21,monospace:21,"sans-serif-condensed-medium":26},Hr={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},Vr={"arial black":"sans-serif","ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif","-webkit-standard":"sans-serif"},Fr={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},zr={fontFamily:'android:fontFamily="',fontStyle:'android:textStyle="',fontWeight:'android:fontWeight="',fontSize:'android:textSize="',color:'android:textColor="@color/',backgroundColor:'android:background="@color/'};function Ur(t,e,n){const i=t.length;for(const a of e.split(";"))for(let e=0;e<i;e++){let o=-1,r="",s=t[e];for(const t in s)if(t===a){o=e,r=t,e=i;break}if(-1!==o){s=t[o],s[r]=s[r].filter(t=>!n.includes(t)),0===s[r].length&&delete s[r];break}}}class qr extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={systemDefaultFont:"sans-serif",disableFontAlias:!1},this.eventOnly=!0}afterParseDocument(){const t=this.resource,e=this.options.disableFontAlias,n="dp"===t.userSettings.convertPixels,{fonts:i,styles:a}=Dr,o=Object.keys(zr),r={},s={};let l=[];for(const t of this.cache)t.data(M.KEY_NAME,"fontStyle")&&t.hasResource(Br.FONT_STYLE)&&Lr(r,t.containerName).push(t);for(const a in r){const c=[],d=r[a];l=l.concat(d);for(let a of d){const{id:r,companion:s}=a,l=a.api,d=a.data(M.KEY_NAME,"fontStyle");let{fontFamily:h,fontStyle:u,fontWeight:p}=d;"LABEL"!==(null==s?void 0:s.tagName)||s.visible||(a=s),h.replace(Xr,"").split(Rr.SEPARATOR).some((n,o,r)=>{let s=n=Mr(n,"'").toLowerCase(),c="";if(!e&&Vr[s]&&(s=this.options.systemDefaultFont),l>=Gr[s]||!e&&l>=Gr[Hr[s]])h=s;else{if(!u||!p)return!1;{let e=!1;if(t.getFont(n,u,p))e=!0;else{const i=t.getFont(n,u);if(i)c=p,p=""+i.fontWeight,e=!0;else{if(o<r.length-1)return!1;h=this.options.systemDefaultFont}}if(e){s=Cr(s);const t=i.get(s)||{};t[n+"|"+u+"|"+p]=Fr[p]||p,i.set(s,t),h=`@font/${s}`}}}return"normal"===u&&(u=""),""!==c?p=c:("400"===p||a.api<26)&&(p=""),parseInt(p)>500&&(u+=(u?"|":"")+"bold"),!0});const g={fontFamily:h,fontStyle:u,fontWeight:p,fontSize:d.fontSize,color:M.addColor(d.color),backgroundColor:M.addColor(d.backgroundColor)};for(let t=0;t<6;t++){const e=o[t];let i=g[e];i&&(3===t&&n&&(i=Y(i,!0)),Lr(Pr(c,t),zr[e]+i+'"').push(r))}}s[a]=c}const c={};for(const t in s){const e={};c[t]=e;const n=s[t].filter(t=>!!t).sort((t,e)=>{let n=0,i=0,a=0,o=0;for(const e in t){const i=t[e].length;n=Math.max(i,n),a+=i}for(const t in e){const n=e[t];if(n){const t=n.length;i=Math.max(t,i),o+=t}}return n!==i?n>i?-1:1:a!==o?a>o?-1:1:0});do{if(1===n.length){const t=n[0];for(const n in t){const i=t[n];i.length&&(e[n]=i)}n.length=0}else{const i={};for(let a=0;a<n.length;a++){const o={},s=n[a];for(const e in s){const l=s[e];if(0===l.length)continue;if(l.length===r[t].length){i[e]=l,n[a]={};break}const c={};let d=!1;for(let t=0;t<n.length;t++)if(a!==t){const e=n[t];for(const t in e){const n=e[t];if(n.length)for(const e of l)n.includes(e)&&Lr(c,t).push(e)}}for(const t in c){const n=c[t];n.length>1&&(o[e<t?e+";"+t:t+";"+e]=n,d=!0)}d||(o[e]=l)}if(Object.keys(o).length){const t={},i=new Set,a={};for(const t in o)a[t]=o[t].join(",");for(const e in o)for(const n in o){const o=a[e];if(e!==n&&o===a[n]){let a=t[o];void 0===a&&(a=new Set(e.split(";")),t[o]=a);for(const t of n.split(";"))a.add(t);i.add(e).add(n)}}for(const t of i)delete o[t];for(const t in o)Ur(n,t,o[t]),e[t]=o[t];for(const i in t){const a=Array.from(t[i]).sort().join(";"),o=kr(i.split(Rr.SEPARATOR),t=>parseInt(t));Ur(n,a,o),e[a]=o}}}const a=Object.keys(i);a.length&&(e[a.join(";")]=i[a[0]]),Or(n,t=>{for(const e in t)if(t[e].length)return!1;return!0})}}while(n.length)}const d={},h={},u=new Set;for(const t in c){const e=c[t],n=[];for(const t in e){const i=[];for(const e of t.split(";")){const t=Rr.ATTRIBUTE.exec(e);t&&i.push({key:t[1],value:t[2]})}n.push({name:"",parent:"",items:i,ids:e[t]})}n.sort((t,e)=>{let n=t.ids.length,i=e.ids.length;if(n===i){n=t.items.length,i=e.items.length,n===i&&(n=t.name,i=e.name)}return n<=i?1:-1});const i=n.length;for(let e=0;e<i;e++)n[e].name=Ir(t)+(e>0?"_"+e:"");d[t]=n}for(const t in d)for(const e of d[t]){const t=e.ids;if(t)for(const n of t)Lr(h,n).push(e.name)}for(const t of l){const e=h[t.id];e&&(e.length>1?(u.add(e.join(".")),e.shift()):u.add(e[0]),t.attr("_","style",`@style/${e.join(".")}`))}for(const t of u){const e=[];let n,i="";if(t.split(".").forEach((t,o,r)=>{const s=Wr.exec(t);if(s){const l=d[s[1].toUpperCase()][Nr(s[2])];if(l)if(0===o)i=t,1===r.length?n=l.items:a.has(t)||a.set(t,{name:t,parent:"",items:l.items});else{if(n)for(const t of l.items){const e=t.key,i=n.findIndex(t=>t.key===e);-1!==i?n[i]=t:n.push(t)}else n=l.items.slice(0);e.push(t)}}}),n)if(0===e.length)a.set(i,{name:i,parent:"",items:n});else{const t=e.join(".");a.set(t,{name:t,parent:i,items:n})}}}}squared;class jr extends squared.base.ExtensionUI{constructor(){super(...arguments),this.eventOnly=!0}beforeCascade(){for(const t of this.cache){const e=t.renderTemplates;if(e){let n,i;if(t.renderEach((t,e)=>{const a=t.dataset,o=a.androidInclude,r="true"===a.androidIncludeEnd;if(o||r){const s={item:t,name:o,index:e,include:"false"===a.androidIncludeMerge};o&&(void 0===n&&(n=[]),n.push(s)),r&&(void 0===i&&(i=[]),i.push(s))}}),n&&i){const t=this.application,a=this.controller;n.length=Math.min(n.length,i.length);for(let t=n.length;t<i.length;t++)i.shift();for(let o=n.length-1;o>=0;o--){const r=n[o];for(let n=0;n<i.length;n++){const o=i[n].index;if(o>=r.index){const s=[];for(let t=r.index;t<=o;t++)s.push(e[t]);const l=s.length,c=!r.include||l>1,d=c?1:0;e.splice(r.index,l,{type:2,node:s[0].node,content:a.renderNodeStatic({controlName:"include",width:"match_parent"},{layout:`@layout/${r.name}`,android:{}}),indent:!0});let h=a.cascadeDocument(s,d);c?h=a.getEnclosingXmlTag("merge",it(h),h):r.item.documentRoot=!0,t.saveDocument(r.name,h,"",1/0),i.splice(n,1);break}}}}}}}}const Yr=squared.lib,{formatPX:$r}=Yr.css,{measureTextWidth:Kr}=Yr.dom,{capitalizeString:Zr,lowerCaseString:Jr,isNumber:Qr,isString:ts}=Yr.util,{STRING_SPACE:es,replaceCharacterData:ns}=Yr.xml,{NODE_RESOURCE:is}=squared.base.lib.enumeration;class as extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={numberResourceValue:!1,fontVariantSmallCapsReduction:.7},this.eventOnly=!0}afterResources(){const t=this.options.numberResourceValue,e=(e,n,i,a)=>{""!==(i=M.addString(a,i,t))&&e.android(n,t||!Qr(i)?`@string/${i}`:i,!1)};for(const t of this.cacheProcessing)if(t.hasResource(is.VALUE_STRING)){switch(t.tagName){case"SELECT":{const e=this.createOptionArray(t.element,t.controlId);""!==e&&t.android("entries",`@array/${e}`);break}case"IFRAME":{const e=t.data(M.KEY_NAME,"valueString");e&&M.addString(ns(e.value),e.key);break}default:if(!t.layoutFrame){const n=t.data(M.KEY_NAME,"valueString");if(n){const i=n.key||n.value;let a=n.value;if(t.naturalChild&&t.alignParent("left")&&t.pageFlow&&!(!t.plainText&&t.preserveWhiteSpace||t.plainText&&t.actualParent.preserveWhiteSpace)){let e=0;const n=t.textContent,i=n.length;for(let t=0;t<i;t++)switch(n.charCodeAt(t)){case 160:e++;case 32:continue}0===e&&(a=a.replace(/^(\s|&#160;)+/,""))}if("small-caps"===t.css("fontVariant"))if(t.api>=21)t.android("fontFeatureSettings","smcp");else{t.android("textAllCaps","true");const e=t.data(M.KEY_NAME,"fontStyle");e&&(e.fontSize*=this.options.fontVariantSmallCapsReduction)}switch(t.css("textTransform")){case"uppercase":t.android("textAllCaps","true");break;case"lowercase":a=Jr(a);break;case"capitalize":a=Zr(a)}const o=t.tagName;a=ns(a,t.preserveWhiteSpace||"CODE"===o);const r=t.css("textDecorationLine");if("none"!==r)for(const t of r.split(" "))switch(t){case"underline":a=`<u>${a}</u>`;break;case"line-through":a=`<strike>${a}</strike>`}"INS"!==o||r.includes("line-through")||(a=`<strike>${a}</strike>`);let s=0;if(t.blockDimension||"table-cell"===t.display){const e=t.css("textIndent");s=t.parseUnit(e),("100%"===e||s+t.bounds.width<0)&&(a="",t.delete("android","ellipsize","maxLines"))}if(""!==a){if(0===s){const e=t.actualParent;(null==e?void 0:e.firstChild)!==t||!e.blockDimension&&"table-cell"!==e.display||(s=e.parseUnit(e.css("textIndent")))}if(s>0){const e=Kr(" ",t.css("fontFamily"),t.fontSize)||t.fontSize/2;a=es.repeat(Math.max(Math.floor(s/e),1))+a}e(t,"text",i,a)}}if(t.inputElement){if(t.controlName===a.EDIT_LIST){const e=t.element.list;e&&(this.createOptionArray(e,t.controlId),t.hasPX("width")||t.css("width",$r(t.actualWidth)))}const n=t.data(M.KEY_NAME,"hintString");ts(n)&&e(t,"hint","",n)}}}if(t.styleElement){const n=t.data(M.KEY_NAME,"titleString")||t.toElementString("title");""!==n&&e(t,"tooltipText",`${t.controlId.toLowerCase()}_title`,n)}}}createOptionArray(t,e){const[n,i]=M.getOptionArray(t),a=this.options.numberResourceValue;let o;if(!a&&i)o=i;else{const t=n||i;if(t){o=[];for(let e of t)e=M.addString(ns(e),"",a),""!==e&&o.push(`@string/${e}`)}}return(null==o?void 0:o.length)?M.insertStoredAsset("arrays",`${e}_array`,o):""}}const os=squared.lib,{XML:rs}=os.regex,{capitalize:ss,trimString:ls}=os.util,cs=M.STORED,ds=/(\w+):(\w+)="([^"]+)"/;class hs extends squared.base.ExtensionUI{constructor(){super(...arguments),this.eventOnly=!0}beforeCascade(){const t={},e={};for(const n of this.cache)if(n.controlId&&n.visible){const i=n.renderChildren,a=i.length;if(a>1){const o=new Map;let r=!0,s="";for(let t=0;t<a;t++){const e=i[t];let n=!1;for(const i of e.combine("_","android"))if(!n&&/^style=/.test(i)){if(0===t)s=i;else if(""===s||i!==s){r=!1;break}n=!0}else o.set(i,(o.get(i)||0)+1);if(!r||!n&&""!==s){r=!1;break}}if(r){for(const[t,e]of o.entries())e!==a&&o.delete(t);if(o.size>1){""!==s&&(s=ls(s.substring(s.indexOf("/")+1),'"'));const a=[];for(const t of o.keys()){const e=ds.exec(t);if(e){for(const t of i)t.delete(e[1],e[2]);a.push(e[0])}}a.sort();const r=a.join(";");let l="";for(const t in e)if(e[t]===r){l=t;break}""!==s&&l.startsWith(s+".")||(l=(""!==s?s+".":"")+ss(n.controlId),t[l]=a,e[l]=r);for(const t of i)t.attr("_","style",`@style/${l}`)}}}}for(const e in t){const n=[];for(const i of t[e]){const t=rs.ATTRIBUTE.exec(i);t&&n.push({key:t[1],value:t[2]})}cs.styles.set(e,Object.assign(Object.assign({},tt()),{name:e,items:n}))}}}var us={"animated-vector":{"@":["xmlns:android","android:drawable"],">":{target:{"^":"android","@":["name","animation"]}}}};const ps={objectAnimator:{"^":"android","@":["propertyName","startOffset","duration","repeatCount","interpolator","valueType","valueFrom","valueTo"],">":{propertyValuesHolder:{"^":"android","@":["propertyName"],">":{keyframe:{"^":"android","@":["interpolator","fraction","value"]}}}}}};var gs={set:{"@":["xmlns:android","android:ordering"],">":{set:{"^":"android","@":["ordering"],">":{set:{"^":"android","@":["ordering"],">":{objectAnimator:ps.objectAnimator}},objectAnimator:ps.objectAnimator}},objectAnimator:ps.objectAnimator}}};void 0===squared.svg&&Object.assign(squared,{svg:{lib:{constant:{},util:{}}}});var fs=squared.svg.Svg,ms=squared.svg.SvgAnimate,ys=squared.svg.SvgAnimateTransform,bs=squared.svg.SvgBuild,Ts=squared.svg.SvgG,Ss=squared.svg.SvgPath,Es=squared.svg.SvgShape;const vs=squared.lib,xs=squared.svg.lib,{formatPX:As,isPercent:_s}=vs.css,{truncate:ws}=vs.math,{CHAR:Rs,CSS:Is,FILE:Ns}=vs.regex,{convertCamelCase:Cs,convertInt:Ls,convertWord:Ps,formatString:ks,isArray:Os,isNumber:Ms,isString:Bs,objectMap:Ds,partitionArray:Ws,replaceMap:Xs}=vs.util,{applyTemplate:Gs}=vs.xml,{KEYSPLINE_NAME:Hs}=xs.constant,{MATRIX:Vs,SVG:Fs,TRANSFORM:zs}=xs.util,Us=squared.base.NodeUI,qs=M.STORED,js={accelerate_decelerate:"@android:anim/accelerate_decelerate_interpolator",accelerate:"@android:anim/accelerate_interpolator",anticipate:"@android:anim/anticipate_interpolator",anticipate_overshoot:"@android:anim/anticipate_overshoot_interpolator",bounce:"@android:anim/bounce_interpolator",cycle:"@android:anim/cycle_interpolator",decelerate:"@android:anim/decelerate_interpolator",linear:"@android:anim/linear_interpolator",overshoot:"@android:anim/overshoot_interpolator"},Ys=["name","value","fill","stroke","fillPattern","fillRule","strokeWidth","fillOpacity","strokeOpacity","strokeLinecap","strokeLinejoin","strokeLineJoin","strokeMiterlimit"];Hs&&Object.assign(js,{[Hs["ease-in"]]:js.accelerate,[Hs["ease-out"]]:js.decelerate,[Hs["ease-in-out"]]:js.accelerate_decelerate,[Hs.linear]:js.linear});const $s={stroke:["strokeColor"],fill:["fillColor"],opacity:["alpha"],"stroke-opacity":["strokeAlpha"],"fill-opacity":["fillAlpha"],"stroke-width":["strokeWidth"],"stroke-dasharray":["trimPathStart","trimPathEnd"],"stroke-dashoffset":["trimPathOffset"],d:["pathData"],"clip-path":["pathData"]};function Ks(t,e){const n=null==t?void 0:t[e];return n?js[n]||Js(n):""}function Zs(t){for(const e in $s)if($s[e].includes(t))return Cs(e);return""}function Js(t){const e=js[t];if(e)return e;{const e="path_interpolator_"+Ps(t);return qs.animators.has(e)||qs.animators.set(e,ks('<?xml version="1.0" encoding="utf-8"?>\n<pathInterpolator xmlns:android="http://schemas.android.com/apk/res/android"\n\tandroid:controlX1="{0}"\n\tandroid:controlY1="{1}"\n\tandroid:controlX2="{2}"\n    android:controlY2="{3}" />\n',...t.split(Rs.SPACE))),`@anim/${e}`}}function Qs(t){const e={};for(const n of t){const{matrix:t,origin:i,type:a}=n;switch(a){case SVGTransform.SVG_TRANSFORM_SCALE:e.scaleX=""+t.a,e.scaleY=""+t.d,i&&(e.pivotX=""+i.x,e.pivotY=""+i.y);break;case SVGTransform.SVG_TRANSFORM_ROTATE:e.rotation=""+n.angle,i?(e.pivotX=""+i.x,e.pivotY=""+i.y):(e.pivotX="0",e.pivotY="0");break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:e.translateX=""+t.e,e.translateY=""+t.f}}return e}function tl(t,e){let n=0,i=0;for(const a of function(t){const e=[];let n=t.parentElement;for(;n&&(e.push(n),n=n.parentElement,!(n instanceof HTMLElement)););return e}(t))(Fs.svg(a)||Fs.use(a))&&a!==e&&(n+=a.x.baseVal.value,i+=a.y.baseVal.value);return{x:n,y:i}}function el(t,e,n=1,i=1){const a=e.length;return a&&(Fs.circle(t)||Fs.ellipse(t))&&e.some(t=>t.type===SVGTransform.SVG_TRANSFORM_ROTATE)&&(n!==i||a>1&&e.some(t=>t.type===SVGTransform.SVG_TRANSFORM_SCALE&&t.matrix.a!==t.matrix.d))?nl(t,e):[[],e]}function nl(t,e,n=!1){if(e.length){const i=[],a=[],o=e[0].fromCSS?[]:zs.rotateOrigin(t).reverse(),r=e.slice(0).reverse(),s=[],l=()=>{i.push(s.slice(0)),s.length=0};for(let t=1;t<r.length;t++){const e=r[t],n=r[t-1];if(e.type===n.type){let i;switch(e.type){case SVGTransform.SVG_TRANSFORM_TRANSLATE:i=Vs.clone(e.matrix),i.e+=n.matrix.e,i.f+=n.matrix.f;break;case SVGTransform.SVG_TRANSFORM_SCALE:i=Vs.clone(e.matrix),i.a*=n.matrix.a,i.d*=n.matrix.d}i&&(e.matrix=i,r.splice(--t,1))}}for(const t of r)switch(t.type){case SVGTransform.SVG_TRANSFORM_MATRIX:case SVGTransform.SVG_TRANSFORM_SKEWX:case SVGTransform.SVG_TRANSFORM_SKEWY:a.push(t);break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:n||0!==i.length||0!==s.length?(s.push(t),l()):a.push(t);break;case SVGTransform.SVG_TRANSFORM_ROTATE:for(;o.length;){const e=o.shift();if(e.angle===t.angle){0===e.x&&0===e.y||(t.origin=e);break}}if(void 0===t.origin&&1===s.length&&s[0].type===SVGTransform.SVG_TRANSFORM_SCALE){s.push(t);continue}case SVGTransform.SVG_TRANSFORM_SCALE:s.length&&l(),s.push(t)}return s.length&&i.push(s),[i.reverse(),a]}return[[],e]}function il(t,e,n,i=!1,a){const o=t[e];let r;return o?r=Array.isArray(o)?""+o[n]:o:i||0!==e||(r=a),r||""}function al(t){switch(t){case"fill":case"stroke":return"";case"opacity":case"stroke-opacity":case"stroke-dasharray":case"stroke-dashoffset":case"fill-opacity":case"transform":return"floatType";case"stroke-width":return"intType";case"d":case"x":case"x1":case"x2":case"cx":case"y":case"y1":case"y2":case"cy":case"r":case"rx":case"ry":case"width":case"height":case"points":return"pathType";default:return cl(t)?"floatType":void 0}}function ol(t,e,n,i){const a=new ms;return a.attributeName=t,a.delay=e,a.duration=1,a.from=i||n,a.to=n,a.fillForwards=!0,a.convertToValues(),a}function rl(t,e=!0){let n=$s[t];return void 0===n&&e&&cl(t)&&(n=[t]),n}function sl(t){switch(t){case SVGTransform.SVG_TRANSFORM_TRANSLATE:return["translateX","translateY"];case SVGTransform.SVG_TRANSFORM_SCALE:return["scaleX","scaleY","pivotX","pivotY"];case SVGTransform.SVG_TRANSFORM_ROTATE:return["rotation","pivotX","pivotY"]}}function ll(t){switch(t.type){case SVGTransform.SVG_TRANSFORM_ROTATE:return ys.toRotateList(t.values);case SVGTransform.SVG_TRANSFORM_SCALE:return ys.toScaleList(t.values);case SVGTransform.SVG_TRANSFORM_TRANSLATE:return ys.toTranslateList(t.values)}}function cl(t){switch(t){case"rotation":case"pivotX":case"pivotY":case"translateX":case"translateY":return"0";case"scaleX":case"scaleY":return"1"}}function dl(t,e=!1){const n="@color/"+M.addColor(t);return e?[n]:n}function hl(t,e){return yl(t.attributeName)?dl(e):e.trim()||void 0}function ul(t){switch(t){case SVGGradientElement.SVG_SPREADMETHOD_PAD:return"clamp";case SVGGradientElement.SVG_SPREADMETHOD_REFLECT:return"mirror";case SVGGradientElement.SVG_SPREADMETHOD_REPEAT:return"repeat"}return""}function pl(t,e,n){const{colorStops:i,type:a}=t,o={type:a,item:dr(i,n),positioning:!1};switch(a){case"radial":{const{cxAsString:n,cyAsString:i,rAsString:a,spreadMethod:r}=t,s=e.element;let l,c,d,h,u=[];switch(s.tagName){case"path":for(const t of bs.getPathCommands(e.value))u=u.concat(t.value);case"polygon":if(Fs.polygon(s)&&(u=u.concat(bs.clonePoints(s.points))),!u.length)return;[l,c,d,h]=bs.minMaxPoints(u),d-=l,h-=c;break;default:if(Fs.rect(s))l=s.x.baseVal.value,c=s.y.baseVal.value,d=s.width.baseVal.value,h=s.height.baseVal.value;else if(Fs.circle(s))l=s.cx.baseVal.value-s.r.baseVal.value,c=s.cy.baseVal.value-s.r.baseVal.value,d=2*s.r.baseVal.value,h=d;else{if(!Fs.ellipse(s))return;l=s.cx.baseVal.value-s.rx.baseVal.value,c=s.cy.baseVal.value-s.ry.baseVal.value,d=2*s.rx.baseVal.value,h=2*s.ry.baseVal.value}}o.centerX=""+(l+d*Tl(n)),o.centerY=""+(c+h*Tl(i)),o.gradientRadius=""+(d+h)/2*(_s(a)?parseFloat(a)/100:1),r&&(o.tileMode=ul(r));break}case"linear":{const{x1:e,y1:n,x2:i,y2:a,spreadMethod:r}=t;o.startX=""+e,o.startY=""+n,o.endX=""+i,o.endY=""+a,r&&(o.tileMode=ul(r))}}return o}function gl(t,e){const n=t.synchronized,i=e.synchronized;return n&&i?n.key>=i.key?1:-1:0}function fl(t,e,n,i,a){const o=n.set,r=o.length;if(r){let s=!1;if(r>1&&o.every(t=>""===t.ordering)){const t={set:[],objectAnimator:[]};for(const e of o)t.set=t.set.concat(e.set),t.objectAnimator=t.objectAnimator.concat(e.objectAnimator);n=t}for(;1===n.set.length;){const t=n.set[0];if(s&&""!==t.ordering||0!==t.objectAnimator.length)break;n=t,s=!0}n["xmlns:android"]=d.android,s&&(n["android:ordering"]=n.ordering,n.ordering=void 0);const l={name:e,animation:M.insertStoredAsset("animators",ml(i,a,"anim",e),Gs("set",gs,[n]))};""!==l.animation&&(l.animation=`@anim/${l.animation}`,t[0].target.push(l))}}const ml=(t,e,n,i)=>t+(n?"_"+n:"")+(e?"_vector":"")+(i?"_"+i.toLowerCase():""),yl=t=>"fill"===t||"stroke"===t,bl=(t,e,n=-1)=>t.name+"_"+e+(-1!==n?"_"+(n+1):""),Tl=t=>_s(t)?parseFloat(t)/100:.5,Sl=t=>`@drawable/${t}`,El=(t="")=>({ordering:t,objectAnimator:[]});class vl extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={transformExclude:{path:[],line:[],rect:[],ellipse:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],circle:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],polyline:[],polygon:[],image:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY]},floatPrecisionKeyTime:5,floatPrecisionValue:3,animateInterpolator:""},this.eventOnly=!0,this._vectorData=new Map,this._animateData=new Map,this._animateTarget=new Map,this._imageData=[],this._synchronizeMode=0,this._namespaceAapt=!1}beforeParseDocument(){bs&&(bs.setName(),this.controller.localSettings.svg.enabled=!0)}afterResources(){if(bs){let t,e;for(const n of this.cacheProcessing)if(n.imageElement?[t,e]=this.createSvgElement(n,n.src):n.svgElement&&(e=n.element),e){const i=this.createSvgDrawable(n,e);""!==i&&(n.api>=21?n.android("src",Sl(i)):n.app("srcCompat",Sl(i))),n.hasWidth||n.setLayoutWidth("wrap_content"),n.hasHeight||n.setLayoutHeight("wrap_content"),n.baseline&&n.android("baselineAlignBottom","true"),t&&(t.removeChild(e),t=void 0),e=void 0}}}afterFinalize(){this.controller.localSettings.svg.enabled=!1}createSvgElement(t,e){const n=Is.URL.exec(e);if(n&&(e=n[1]),Ns.SVG.test(e)||e.startsWith("data:image/svg+xml")){const n=this.resource.getRawData(e);if(n){const e=(t.actualParent||t.documentParent).element;e.insertAdjacentHTML("beforeend",n.content);const i=e.lastElementChild;if(i instanceof SVGSVGElement){const n=i;return 0===n.width.baseVal.value&&n.setAttribute("width",""+t.actualWidth),0===n.height.baseVal.value&&n.setAttribute("height",""+t.actualHeight),[e,n]}}}return[]}createSvgDrawable(t,e){const{floatPrecisionValue:n,floatPrecisionKeyTime:i,transformExclude:a}=this.options,o=new fs(e),r=t.api>=23,s=2|(r?32:64),l=this._animateData,c=this._imageData;this._svgInstance=o,this._vectorData.clear(),l.clear(),this._animateTarget.clear(),c.length=0,this._namespaceAapt=!1,this._synchronizeMode=s;const h=`${t.tagName}_${Ps(t.controlId,!0)}_viewbox`.toLowerCase();o.build({exclude:a,residual:el,precision:n}),o.synchronize({keyTimeMode:s,framesPerSecond:this.controller.userSettings.framesPerSecond,precision:n}),this.queueAnimations(o,o.name,t=>"opacity"===t.attributeName);const u=this.parseVectorData(o),p=o.viewBox,g=c.length;let f,m;{const{width:e,height:n}=Us.refitScreen(t,{width:o.width,height:o.height});m=M.insertStoredAsset("drawables",ml(h,g),Gs("vector",No,[{"xmlns:android":d.android,"xmlns:aapt":this._namespaceAapt?d.aapt:"","android:name":o.name,"android:width":As(e),"android:height":As(n),"android:viewportWidth":""+(p.width||e),"android:viewportHeight":""+(p.height||n),"android:alpha":parseFloat(o.opacity)<1?""+o.opacity:"",include:u}]))}if(l.size){const t=[{"xmlns:android":d.android,"android:drawable":Sl(m),target:[]}];for(const[e,a]of l.entries()){const o=new Map,s=new Map,l=[],c=[],d=[],u=[],p=[],[f,m]=Ws(a.animate,t=>"companion"in t),y={set:[],objectAnimator:[]},b=m.length;for(let t=0;t<b;t++){const e=m[t];if(e.setterType)$s[e.attributeName]&&Bs(e.to)&&(e.fillReplace&&e.duration>0?c.push(e):l.push(e));else if(bs.isAnimate(e)){const n=f.filter(t=>t.companion.value===e);if(n.length){n.sort((t,e)=>t.companion.key>=e.companion.key?1:0);const i=[],a=[],r=n.length;for(let t=0;t<r;t++){const o=n[t];o.companion.key<=0?(i.push(o),0===t&&(o.delay+=e.delay,e.delay=0)):a.push(o)}i.push(e),o.set(`sequentially_companion_${t}`,i.concat(a))}else{const t=e.synchronized;if(t){const n=t.value;if(bs.isAnimateTransform(e)){const t=s.get(n);t?t.push(e):s.set(n,[e])}else{const t=o.get(n);t?t.push(e):o.set(n,[e])}}else bs.isAnimateTransform(e)&&e.expandToValues(),-1===e.iterationCount?c.push(e):!(!e.fromToType||bs.isAnimateTransform(e)&&e.transformOrigin)||r&&"pathType"!==al(e.attributeName)?e.fillReplace?c.push(e):l.push(e):d.push([e])}}}l.length&&d.push(l);for(const[t,e]of o.entries())d.push(/^sequentially_companion/.test(t)?e:e.sort(gl));for(const t of s.values())p.push(t.sort(gl));for(const t of c)u.push([[t]]);[d,p,...u].forEach((t,e)=>{if(0===t.length)return;const o={ordering:0===e||1===t.length?"":"sequentially",set:[],objectAnimator:[]};for(const s of t){let t="",l=!1,c=!1,d=!0;e<=1&&s.some(t=>!!t.synchronized&&""!==t.synchronized.value)?(bs.isAnimateTransform(s[0])||(t="sequentially"),l=!0,d=!1):e<=1&&s.some(t=>!!t.synchronized&&""===t.synchronized.value)?(t="sequentially",l=!0,c=!0):e<=1&&s.some(t=>"companion"in t)?t="sequentially":(e>0&&(t="sequentially"),e>1&&bs.isAnimateTransform(s[0])&&(c=!0));const h=El(),u=El(),p=El(),g=El(),f=u.objectAnimator,m=p.objectAnimator;let y=h.objectAnimator,b=g.objectAnimator,T=[];(l?Ws(s,t=>-1!==t.iterationCount):[s]).forEach((s,h)=>{var u;1===h&&s.length>1&&(p.ordering="sequentially");const g=new Map;for(const p of s){const S=al(p.attributeName);if(void 0===S)continue;const E=p.delay>0;let v,x=!1;const A=(t,e)=>{Bs(e)&&-1===y.findIndex(e=>e.propertyName===t)&&y.push(this.createPropertyValue(t,e,"0",S))},_=(t,e,n)=>{if(!l&&p.fillReplace){let i,a=p.replaceValue;if(!a){if(x)a=cl(t);else{const e=p.parent;if(e&&bs.isShape(e)){const n=e.path;n&&(a="pathData"===t?n.value:n[Zs(t)])}}a||(a=p.baseValue)}if(null==e?void 0:e.length){const t=e[e.length-1];if(Os(t.propertyValuesHolder)){const e=t.propertyValuesHolder[t.propertyValuesHolder.length-1];i=e.keyframe[e.keyframe.length-1].value}else i=t.valueTo}if(Bs(a)&&a!==i&&(a=hl(p,a),a)){switch(t){case"trimPathStart":case"trimPathEnd":a=a.split(" ")["trimPathStart"===t?0:1]}b.push(this.createPropertyValue(t,a,"1",S,"pathType"===S?i:"",n?""+n:""))}v&&(/X$/.test(t)?b.push(this.createPropertyValue("translateX","0","1",S)):/Y$/.test(t)&&b.push(this.createPropertyValue("translateY","0","1",S)))}};if(p.setterType){const t=rl(p.attributeName);if(t){const n=yl(p.attributeName)?dl(p.to,!0):p.to.trim().split(" "),i=t.length;if(n.length===i&&!n.some(t=>""===t)){let a,o;for(let r=0;r<i;r++){let i;if("pathType"===S)i=n[r];else if(E){const t=p.baseValue;t&&(i=hl(p,t.trim().split(" ")[r]))}const s=this.createPropertyValue(t[r],n[r],"1",S,i,p.delay>0?""+p.delay:"");if(e>1)m.push(s),_(t[r],void 0,e>1?p.duration:0);else{const t=p.companion;t?t.key<=0?(void 0===a&&(a=[]),a.push(s)):t.key>0&&(void 0===o&&(o=[]),o.push(s)):T.push(s)}}a&&(y=y.concat(a)),o&&(b=b.concat(o))}}}else if(bs.isAnimate(p)){let y,b=c;y=1===h?s.length>1?"0":"-1":-1!==p.iterationCount?""+Math.ceil(p.iterationCount-1):"-1";const T=this.createPropertyValue("","",""+p.duration,S,"",p.delay>0?""+p.delay:"",y);let w,R,I;if(l||"pathType"!==S)if(bs.asAnimateTransform(p))R=sl(p.type),I=ll(p),R&&I&&(c&&0===p.keyTimes[0]&&(b=!1),(b||E)&&(w=Ds(R,t=>cl(t)||"0")),v=p.transformOrigin),x=!0;else if(bs.asAnimateMotion(p)){if(R=sl(p.type),I=ll(p),R&&I){const t=p.rotateValues,e=I.length;if((null==t?void 0:t.length)===e){R.push("rotation");for(let n=0;n<e;n++)I[n].push(t[n])}}x=!0}else switch(R=rl(p.attributeName),S){case"intType":if(I=Ds(p.values,t=>""+Ls(t)),E){const t=p.baseValue;t&&(w=Xs(bs.parseCoordinates(t),t=>""+Math.trunc(t)))}break;case"floatType":if(I="stroke-dasharray"===p.attributeName?Ds(p.values,t=>Xs(t.split(" "),t=>parseFloat(t))):p.values,E){const t=p.baseValue;t&&(w=Xs(bs.parseCoordinates(t),t=>""+t))}break;default:if(I=p.values.slice(0),yl(p.attributeName)){if(E){const t=p.baseValue;t&&(w=dl(t,!0))}const t=I.length;for(let e=0;e<t;e++)""!==I[e]&&(I[e]=dl(I[e]))}}else if(a.pathData){const t=p.parent;let e,i;t&&bs.isShape(t)&&(i=t,e=null===(u=t.path)||void 0===u?void 0:u.transformed),R=["pathData"],I=Ss.extrapolate(p.attributeName,a.pathData,p.values,e,i,n)}if(void 0===p.keySplines){const t=p.timingFunction;T.interpolator=Bs(t)?Js(t):this.options.animateInterpolator}if(I&&R){const{keyTimes:s,synchronized:u}=p,y=R.length,x=s.length,N=u?u.key+u.value:0!==e||y>1?JSON.stringify(T):"";for(let e=0;e<y;e++){const u=R[e];if(b&&w&&A(u,w[e]),d&&x>1)if(r&&"pathType"!==S){!b&&E&&w&&A(u,w[e]);const t=g.get(N)||[],a=[];for(let t=0;t<x;t++){let o=il(I,t,e,!0);o&&"floatType"===S&&(o=ws(o,n)),a.push({interpolator:t>0&&""!==o&&"pivotX"!==u&&"pivotY"!==u?Ks(p.keySplines,t-1):"",fraction:0===s[t]&&""===o?"":ws(s[t],i),value:o})}t.push({propertyName:u,keyframe:a}),g.has(N)||(""!==N&&g.set(N,t),(0===h?f:m).push(Object.assign(Object.assign({},T),{propertyValuesHolder:t}))),v=void 0}else{t="sequentially";const i=El("sequentially");for(let t=0;t<x;t++){const o=s[t],r=Object.assign(Object.assign({},T),{propertyName:u,startOffset:0===t?""+(p.delay+(o>0?Math.floor(o*p.duration):0)):"",propertyValuesHolder:!1});let l=il(I,t,e,!1,"pathType"===S?a.pathData:p.baseValue);if(l){let d;0===t?(r.valueFrom=!c&&E&&w?w[e]:"pathType"===S?a.pathData||""+I[0]:p.baseValue||p.replaceValue||"",d=0):(r.valueFrom=""+il(I,t-1,e),d=Math.floor((o-s[t-1])*p.duration)),"floatType"===S&&(l=ws(l,n));const h=null==v?void 0:v[t];if(h){let t,e=0;if(/X$/.test(u)?(t="translateX",e=h.x):/Y$/.test(u)&&(t="translateY",e=h.y),t){const a=this.createPropertyValue(t,ws(e,n),""+d,"floatType");a.interpolator=Js(Hs["step-start"]),i.objectAnimator.push(a)}}t>0&&(r.interpolator=Ks(p.keySplines,t-1)),r.duration=""+d,r.valueTo=l,f.push(r)}}i.objectAnimator.length&&o.set.push(i)}else{const t=Object.assign(Object.assign({},T),{propertyName:u,interpolator:p.duration>1?Ks(p.keySplines,0):"",propertyValuesHolder:!1}),i=I.length;if(Array.isArray(I[0])){const n=I[i-1][e];if(i>1){const i=I[0][e];i!==n&&(t.valueFrom=""+i)}t.valueTo=""+n}else{let n;i>1?(n=""+I[0],t.valueTo=""+I[i-1]):(n=p.from||(!c&&E&&w?w[e]:""),t.valueTo=p.to),"pathType"===S?t.valueFrom=n||a.pathData||t.valueTo:n!==t.valueTo&&n&&(t.valueFrom=hl(p,n))}const o=t.valueTo;o&&("floatType"===S&&(t.valueTo=ws(o,n)),(0===h?f:m).push(t))}0!==h||l||-1===p.iterationCount||_(u,f)}E&&(null==v?void 0:v.length)&&(A("translateX","0"),A("translateY","0"))}}}});const S=f.length>0||m.length>0;"sequentially"===t&&(S&&1===y.length&&(f.unshift(y[0]),y.length=0),1===m.length&&(f.push(m[0]),m.length=0),S&&1===b.length&&(f.push(b[0]),b.length=0)),0===y.length&&0===m.length&&0===b.length&&("sequentially"===t&&1===f.length&&(t=""),"sequentially"!==o.ordering&&"sequentially"!==t&&(T=T.concat(f),f.length=0)),(f.length||m.length)&&(y.length&&(o.ordering="sequentially",o.set.push(h)),f.length&&(u.ordering=t,o.set.push(u)),m.length&&(o.ordering="sequentially",o.set.push(p)),b.length&&(o.ordering="sequentially",o.set.push(g))),T.length&&(o.objectAnimator=o.objectAnimator.concat(T))}(o.set.length||o.objectAnimator.length)&&y.set.push(o)}),fl(t,e,y,h,g)}for(const[e,n]of this._animateTarget.entries()){let i;const a=(t,e,n,a,o)=>{void 0===i&&(i=[]),i.push(this.createPropertyValue(t,e,"0",n,a,o))};for(const t of n.animate)if(bs.asAnimateMotion(t)){const e=t.parent;if(e&&bs.isShape(e)){const n=e.path;if(n){const{value:e,baseValue:i}=n;e!==i&&(a("pathData",i,"pathType",e),-1===t.iterationCount||t.setterType||a("pathData",e,"pathType",i,""+t.getTotalDuration()))}}}i&&fl(t,e,{set:[{set:void 0,objectAnimator:i}],objectAnimator:void 0},h,g)}t[0].target&&(m=M.insertStoredAsset("drawables",ml(h,g,"anim"),Gs("animated-vector",us,t)))}if(g){const t=this.resource,e=[],n=[{"xmlns:android":d.android,item:e}];""!==m&&e.push({drawable:Sl(m)});for(const n of c){const i=o.viewBox,a=o.width/i.width,r=o.height/i.height;let s=n.getBaseValue("x",0)*a,l=n.getBaseValue("y",0)*r,c=n.getBaseValue("width",0),d=n.getBaseValue("height",0);const h=tl(n.element,o.element);s+=h.x,l+=h.y,c*=a,d*=r;const u={width:As(c),height:As(d),left:0!==s?As(s):"",top:0!==l?As(l):""},p=Sl(t.addImageSet({mdpi:n.href}));n.rotateAngle?u.rotate={drawable:p,fromDegrees:""+n.rotateAngle,visible:n.visible?"true":"false"}:u.drawable=p,e.push(u)}f=M.insertStoredAsset("drawables",h,Gs("layer-list",wo,n))}else f=m;return t.data(M.KEY_NAME,"svgViewBox",p),f}parseVectorData(t,e=0){const n=this.options.floatPrecisionValue,i=this.createGroup(t),a=i.length,o=e+a;let r="";for(const e of t)if(e.visible)if(bs.isShape(e)){const t=e.path;if(null==t?void 0:t.value){const[i,a]=this.createPath(e,t),s=[];if(t.strokeWidth&&(t.strokeDasharray||t.strokeDashoffset)){const o=this._animateData.get(e.name);if(void 0===o||o.animate.every(t=>/^stroke-dash/.test(t.attributeName))){const[r,l,c,d]=t.extractStrokeDash(null==o?void 0:o.animate,n);if(l){o&&(this._animateData.delete(e.name),r&&(o.animate=r));const t=bl(e,"stroke"),h={name:t};""!==c&&(i.pathData=c),""!==d&&(h["clip-path"]=[{pathData:d}]);const u=l.length;for(let e=0;e<u;e++){const a=0===e?i:Object.assign({},i),r=l[e];a.name=`${t}_${e}`,o&&this._animateData.set(a.name,{element:o.element,animate:o.animate.filter(t=>void 0===t.id||t.id===e)}),a.trimPathStart=ws(r.start,n),a.trimPathEnd=ws(r.end,n),s.push(a)}a.unshift(h)}}}if(0===s.length&&s.push(i),a.length){a[a.length-1].path=s,r+=Gs("group",Io,a,o+1)}else r+=Gs("path",Ro,s,o+1)}}else bs.isContainer(e)?e.length&&(r+=this.parseVectorData(e,o)):bs.asImage(e)&&(bs.asPattern(t)||(e.extract(this.options.transformExclude.image),this._imageData.push(e)));return a?(i[a-1].include=r,Gs("group",Io,i,e+1)):r}createGroup(t){const e=[],n=[],i={"clip-path":e},a={"clip-path":n},o=[],r={};if(!(t!==this._svgInstance&&bs.asSvg(t)||bs.asUseSymbol(t)||bs.asUsePattern(t))||0===t.x&&0===t.y||(r.name=bl(t,"main"),r.translateX=""+t.x,r.translateY=""+t.y),""!==t.clipRegion&&this.createClipPath(t,e,t.clipRegion),(e.length||Object.keys(r).length)&&(Object.assign(i,r),o.push(i)),t!==this._svgInstance){const e={},[i]=nl(t.element,t.transforms,!0),r=bl(t,"animate");if((bs.asG(t)||bs.asUseSymbol(t))&&Bs(t.clipPath)&&this.createClipPath(t,n,t.clipPath)&&(e.name=r),this.queueAnimations(t,r,t=>bs.asAnimateTransform(t))&&(e.name=r),Object.keys(e).length&&(Object.assign(a,e),o.push(a)),i.length){let e=[];for(const t of i)o.push(Qs(t)),e=e.concat(t);t.transformed=e.reverse()}}return o}createPath(t,e){const n=this.options.floatPrecisionValue,i={name:t.name},a=[],o=[],r={},s=bl(t,"group"),l=function(t){let e=parseFloat(t.opacity),n=t.parent;for(;n;){const t=parseFloat(n.opacity||"1");!isNaN(t)&&t<1&&(e*=t),n=n.parent}return e}(t),c=bs.asUse(t);if(bs.asUse(t)&&Bs(t.clipPath)&&this.createClipPath(t,o,t.clipPath),Bs(e.clipPath)){const t=new Es(e.element);t.build({exclude:this.options.transformExclude,residual:el,precision:n}),t.synchronize({keyTimeMode:this._synchronizeMode,precision:n}),this.createClipPath(t,o,e.clipPath)}if(this.queueAnimations(t,s,t=>bs.isAnimateTransform(t),"",t.name)?r.name=s:o.length&&(r.name=""),!bs.asUse(t)||0===t.x&&0===t.y||(r.translateX=""+t.x,r.translateY=""+t.y),o.length&&(r["clip-path"]=o),Object.keys(r).length&&a.push(r),e.transformResidual)for(const t of e.transformResidual)a.push(Qs(t));for(let a of Ys){let o=c&&t[a]||e[a];if(o){switch(a){case"name":break;case"value":a="pathData";break;case"fill":if(a="fillColor","none"===o||void 0!==i["aapt:attr"])continue;{const t=M.addColor(o);""!==t&&(o=`@color/${t}`)}break;case"stroke":if(a="strokeColor","none"===o)continue;{const t=M.addColor(o);""!==t&&(o=`@color/${t}`)}break;case"fillPattern":{const t=this._svgInstance.definitions.gradient.get(o);let r=!1;if(t)switch(e.element.tagName){case"path":if(!/[zZ]\s*$/.test(e.value))break;case"rect":case"polygon":case"polyline":case"circle":case"ellipse":{const i=pl(t,e,n);i&&(o={name:"android:fillColor",gradient:i},r=!0);break}}if(!r)continue;a="aapt:attr",i.fillColor="",this._namespaceAapt=!0;break}case"fillRule":if("evenodd"!==o)continue;a="fillType",o="evenOdd";break;case"strokeWidth":if("0"===o)continue;break;case"fillOpacity":case"strokeOpacity":if(o=""+(Ms(o)?parseFloat(o):1)*l,"1"===o)continue;a="fillOpacity"===a?"fillAlpha":"strokeAlpha";break;case"strokeLinecap":if("butt"===o)continue;a="strokeLineCap";break;case"strokeLinejoin":if("miter"===o)continue;a="strokeLineJoin";break;case"strokeMiterlimit":if("4"===o)continue;a="strokeMiterLimit";break;default:continue}i[a]=o}}i.strokeWidth?i.strokeColor||(i.strokeWidth=""):i.strokeColor="";const d=new Map,h=[],u=[],p=e.value;let g=p,f=0;for(const e of t.animations)if(bs.asAnimateTransform(e)&&!e.additiveSum&&e.transformFrom){let t=Math.max(0,e.delay-1);d.set(t,{index:f,time:t,to:e.transformFrom,reset:!1,animate:e}),-1!==e.iterationCount&&e.fillReplace&&(t=e.delay+e.iterationCount*e.duration,d.has(t)||d.set(t,{index:f,time:t,to:p,reset:!0})),f++}const m=Array.from(d.values()).sort((t,e)=>t.time<e.time?-1:1),y=m.length;for(let t=0;t<y;t++){const e=m[t];if(!e.reset||e.to!==g){let n=!0;if(e.reset)t:for(let i=0;i<t;i++){const a=m[i];if(!a.reset)for(let i=t+1;i<y;i++)switch(m[i].index){case a.index:n=!1;case e.index:break t}}else{const n=[],i=new Set;for(let e=0;e<t;e++){const t=m[e];n[t.index]=n[t.index]?2:1}const a=n.length;for(let t=0;t<a;t++)if(1===n[t]){const e=m.find(e=>e.index===t&&"animate"in e);if(e){const t=e.animate;t&&i.add(t.type)}}for(const t of i){const n=sl(t);if(n){const i=zs.typeAsValue(t).split(" "),a=i.length;for(let t=0;t<a;t++)h.push(ol(n[t],e.time,i[t],""))}}}n&&(u.push(ol("d",e.time,e.to)),g=e.to)}}this.queueAnimations(t,i.name,t=>(bs.asAnimate(t)||bs.asSet(t))&&"clip-path"!==t.attributeName,p)||0!==u.length||r.name===s||(i.name="");const b=this._animateData;if(h.length){const t=b.get(s);t&&(t.animate=t.animate.concat(h))}if(u.length){const e=b.get(i.name);e?e.animate=e.animate.concat(u):b.set(i.name,{element:t.element,animate:u,pathData:p})}return[i,a]}createClipPath(t,e,n){const{transformExclude:i,floatPrecisionValue:a}=this.options,o=this._svgInstance.definitions,r=this._synchronizeMode;let s=0;return n.split(";").forEach((n,l,c)=>{if("#"===n.charAt(0)){const t=o.clipPath.get(n);if(t){const n=new Ts(t);n.build({exclude:i,residual:el,precision:a}),n.synchronize({keyTimeMode:r,precision:a}),n.each(t=>{const n=t.path;if(n){const i=n.value;if(i){let n=bl(t,"clip_path",c.length>1?l+1:-1);this.queueAnimations(t,n,t=>bs.asAnimate(t)||bs.asSet(t),i)||(n=""),e.push({name:n,pathData:i})}}})}s++}else{let i=bl(t,"clip_path",c.length>1?l+1:-1);this.queueAnimations(t,i,t=>(bs.asAnimate(t)||bs.asSet(t))&&"clip-path"===t.attributeName,n)||(i=""),e.push({name:i,pathData:n}),s++}}),s>0}queueAnimations(t,e,n,i="",a){if(t.animations.length){const o=t.animations.filter((t,e,i)=>!t.paused&&(t.duration>=0||t.setterType)&&n(t,e,i));if(o.length){const n=t.element;return this._animateData.set(e,{element:n,animate:o,pathData:i}),a&&this._animateTarget.set(a,{element:n,animate:o,pathData:i}),!0}}return!1}createPropertyValue(t,e,n,i,a="",o="",r="0"){const s=this.options.floatPrecisionValue;return{propertyName:t,startOffset:o,duration:n,repeatCount:r,valueType:i,valueFrom:Ms(a)?ws(a,s):a,valueTo:Ms(e)?ws(e,s):e,propertyValuesHolder:!1}}}const xl={builtInExtensions:["android.delegate.background","android.delegate.negative-x","android.delegate.positive-x","android.delegate.max-width-height","android.delegate.percent","android.delegate.css-grid","android.delegate.scrollbar","android.delegate.radiogroup","squared.accessibility","squared.relative","squared.css-grid","squared.flexbox","squared.table","squared.column","squared.list","squared.verticalalign","squared.grid","squared.sprite","squared.whitespace","android.resource.svg","android.resource.background","android.resource.strings","android.resource.fonts","android.resource.dimens","android.resource.styles","android.resource.includes"],targetAPI:29,resolutionDPI:160,resolutionScreenWidth:1280,resolutionScreenHeight:900,framesPerSecond:60,supportRTL:!0,preloadImages:!0,supportNegativeLeftTop:!0,exclusionsDisabled:!1,customizationsOverwritePrivilege:!0,showAttributes:!0,createQuerySelectorMap:!1,convertPixels:"dp",insertSpaces:4,handleExtensionsAsync:!0,autoCloseOnWrite:!0,showErrorMessages:!0,manifestLabelAppName:"android",manifestThemeName:"AppTheme",manifestParentThemeName:"Theme.AppCompat.Light.NoActionBar",outputMainFileName:"activity_main.xml",outputDirectory:"app/src/main",outputEmptyCopyDirectory:!1,outputArchiveName:"android-xml",outputArchiveFormat:"zip",outputArchiveTimeout:30},Al=squared.base.lib;let _l,wl,Rl,Il=!1;function Nl(t,e,n){return Object.assign(Object.assign({},t),{directory:e,filename:n})}const Cl=t=>Il&&(t.closed||!(!Il||_l.initializing||_l.closed||!_l.userSettings.autoCloseOnWrite)&&(_l.finalize(),!0)),Ll={base:{Controller:rn,File:In,Resource:M,View:ee},extensions:{Accessibility:Cn,Column:Vn,CssGrid:Ai,External:_i,Flexbox:Fi,Grid:Ki,List:oa,Relative:ra,Sprite:ga,Substitute:fa,Table:_a,VerticalAlign:Ra,WhiteSpace:Ia,constraint:{Guideline:Oa},delegate:{Background:ja,CssGrid:Qa,MaxWidthHeight:eo,NegativeX:ao,PositiveX:co,Percent:go,RadioGroup:Eo,ScrollBar:Ao},resource:{Background:ur,Dimens:_r,Fonts:qr,Includes:jr,Strings:as,Styles:hs,Svg:vl}},lib:{constant:g,customization:G,enumeration:n,util:at},system:{customize(t,e,n){if(W[t]){const i=W[t].assign;return i[e]?Object.assign(i[e],n):i[e]=n,i[e]}},addXmlNs(t,e){d[t]=e},copyLayoutAllXml(t,e){Cl(_l)&&wl.layoutAllToXml(_l.layouts,Nl(e,t))},copyResourceAllXml(t,e){Cl(_l)&&wl.resourceAllToXml(Nl(e,t))},copyResourceStringXml(t,e){Cl(_l)&&wl.resourceStringToXml(Nl(e,t))},copyResourceArrayXml(t,e){Cl(_l)&&wl.resourceStringArrayToXml(Nl(e,t))},copyResourceFontXml(t,e){Cl(_l)&&wl.resourceFontToXml(Nl(e,t))},copyResourceColorXml(t,e){Cl(_l)&&wl.resourceColorToXml(Nl(e,t))},copyResourceStyleXml(t,e){Cl(_l)&&wl.resourceStyleToXml(Nl(e,t))},copyResourceDimenXml(t,e){Cl(_l)&&wl.resourceDimenToXml(Nl(e,t))},copyResourceDrawableXml(t,e){Cl(_l)&&wl.resourceDrawableToXml(Nl(e,t))},copyResourceDrawableImageXml(t,e){Cl(_l)&&wl.resourceDrawableImageToXml(Nl(e,t))},copyResourceAnimXml(t,e){Cl(_l)&&wl.resourceAnimToXml(Nl(e,t))},saveLayoutAllXml(t,e){Cl(_l)&&wl.layoutAllToXml(_l.layouts,Nl(e,void 0,t||Rl.outputArchiveName+"-layouts"))},saveResourceAllXml(t,e){Cl(_l)&&wl.resourceAllToXml(Nl(e,void 0,t||Rl.outputArchiveName+"-resources"))},saveResourceStringXml(t,e){Cl(_l)&&wl.resourceStringToXml(Nl(e,void 0,t||Rl.outputArchiveName+"-string"))},saveResourceArrayXml(t,e){Cl(_l)&&wl.resourceStringArrayToXml(Nl(e,void 0,t||Rl.outputArchiveName+"-array"))},saveResourceFontXml(t,e){Cl(_l)&&wl.resourceFontToXml(Nl(e,void 0,t||Rl.outputArchiveName+"-font"))},saveResourceColorXml(t,e){Cl(_l)&&wl.resourceColorToXml(Nl(e,void 0,t||Rl.outputArchiveName+"-color"))},saveResourceStyleXml(t,e){Cl(_l)&&wl.resourceStyleToXml(Nl(e,void 0,t||Rl.outputArchiveName+"-style"))},saveResourceDimenXml(t,e){Cl(_l)&&wl.resourceDimenToXml(Nl(e,void 0,t||Rl.outputArchiveName+"-dimen"))},saveResourceDrawableXml(t,e){Cl(_l)&&wl.resourceDrawableToXml(Nl(e,void 0,t||Rl.outputArchiveName+"-drawable"))},saveResourceDrawableImageXml(t,e){Cl(_l)&&wl.resourceDrawableImageToXml(Nl(e,void 0,t||Rl.outputArchiveName+"-drawable-image"))},saveResourceAnimXml(t,e){Cl(_l)&&wl.resourceAnimToXml(Nl(e,void 0,t||Rl.outputArchiveName+"-anim"))},writeLayoutAllXml:t=>Cl(_l)?wl.layoutAllToXml(_l.layouts,t):{},writeResourceAllXml:t=>Cl(_l)?wl.resourceAllToXml(t):{},writeResourceStringXml:t=>Cl(_l)?wl.resourceStringToXml(t):[],writeResourceArrayXml:t=>Cl(_l)?wl.resourceStringArrayToXml(t):[],writeResourceFontXml:t=>Cl(_l)?wl.resourceFontToXml(t):[],writeResourceColorXml:t=>Cl(_l)?wl.resourceColorToXml(t):[],writeResourceStyleXml:t=>Cl(_l)?wl.resourceStyleToXml(t):[],writeResourceDimenXml:t=>Cl(_l)?wl.resourceDimenToXml(t):[],writeResourceDrawableXml:t=>Cl(_l)?wl.resourceDrawableToXml(t):[],writeResourceDrawableImageXml:t=>Cl(_l)?wl.resourceDrawableImageToXml(t):[],writeResourceAnimXml:t=>Cl(_l)?wl.resourceAnimToXml(t):[]},create(){const e=Al.constant.EXT_NAME,n=i;return _l=new t(2,ee,rn,M,sn),wl=new In,_l.resourceHandler.setFileHandler(wl),Rl=Object.assign({},xl),Object.assign(_l.builtInExtensions,{[e.TABLE]:new _a(e.TABLE,2,void 0,["TABLE"]),[e.LIST]:new oa(e.LIST,2,void 0,["DIV","UL","OL","DL"]),[e.GRID]:new Ki(e.GRID,2,void 0,["DIV","FORM","UL","OL","DL","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET"]),[e.CSS_GRID]:new Ai(e.CSS_GRID,2),[e.FLEXBOX]:new Fi(e.FLEXBOX,2),[e.COLUMN]:new Vn(e.COLUMN,2),[e.SPRITE]:new ga(e.SPRITE,2),[e.ACCESSIBILITY]:new Cn(e.ACCESSIBILITY,2),[e.RELATIVE]:new ra(e.RELATIVE,2),[e.VERTICAL_ALIGN]:new Ra(e.VERTICAL_ALIGN,2),[e.WHITESPACE]:new Ia(e.WHITESPACE,2),[n.EXTERNAL]:new _i(n.EXTERNAL,2),[n.SUBSTITUTE]:new fa(n.SUBSTITUTE,2),[n.DELEGATE_BACKGROUND]:new ja(n.DELEGATE_BACKGROUND,2),[n.DELEGATE_CSS_GRID]:new Qa(n.DELEGATE_CSS_GRID,2),[n.DELEGATE_MAXWIDTHHEIGHT]:new eo(n.DELEGATE_MAXWIDTHHEIGHT,2),[n.DELEGATE_NEGATIVEX]:new ao(n.DELEGATE_NEGATIVEX,2),[n.DELEGATE_PERCENT]:new go(n.DELEGATE_PERCENT,2),[n.DELEGATE_POSITIVEX]:new co(n.DELEGATE_POSITIVEX,2),[n.DELEGATE_RADIOGROUP]:new Eo(n.DELEGATE_RADIOGROUP,2),[n.DELEGATE_SCROLLBAR]:new Ao(n.DELEGATE_SCROLLBAR,2),[n.RESOURCE_BACKGROUND]:new ur(n.RESOURCE_BACKGROUND,2),[n.RESOURCE_DIMENS]:new _r(n.RESOURCE_DIMENS,2),[n.RESOURCE_FONTS]:new qr(n.RESOURCE_FONTS,2),[n.RESOURCE_INCLUDES]:new jr(n.RESOURCE_INCLUDES,2),[n.RESOURCE_STRINGS]:new as(n.RESOURCE_STRINGS,2),[n.RESOURCE_STYLES]:new hs(n.RESOURCE_STYLES,2),[n.RESOURCE_SVG]:new vl(n.RESOURCE_SVG,2),[n.CONSTRAINT_GUIDELINE]:new Oa(n.CONSTRAINT_GUIDELINE,2)}),Il=!0,{application:_l,framework:2,userSettings:Rl}},cached:()=>Il?{application:_l,framework:2,userSettings:Rl}:Ll.create()};return Ll}();
