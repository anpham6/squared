var android=function(){"use strict";class t extends squared.base.ApplicationUI{}var e;!function(t){t[t.EDIT=1]="EDIT",t[t.RANGE=2]="RANGE",t[t.RADIO=3]="RADIO",t[t.CHECKBOX=4]="CHECKBOX",t[t.SELECT=5]="SELECT",t[t.TEXT=6]="TEXT",t[t.SVG=7]="SVG",t[t.IMAGE=8]="IMAGE",t[t.BUTTON=9]="BUTTON",t[t.PROGRESS=10]="PROGRESS",t[t.INLINE=11]="INLINE",t[t.LINE=12]="LINE",t[t.SPACE=13]="SPACE",t[t.BLOCK=14]="BLOCK",t[t.FRAME=15]="FRAME",t[t.LINEAR=16]="LINEAR",t[t.GRID=17]="GRID",t[t.RELATIVE=18]="RELATIVE",t[t.CONSTRAINT=19]="CONSTRAINT",t[t.WEBVIEW=20]="WEBVIEW",t[t.UNKNOWN=21]="UNKNOWN"}(e||(e={}));var i=Object.freeze({__proto__:null,get CONTAINER_NODE(){return e}});const o={EXTERNAL:"android.external",SUBSTITUTE:"android.substitute",DELEGATE_BACKGROUND:"android.delegate.background",DELEGATE_FIXED:"android.delegate.fixed",DELEGATE_MAXWIDTHHEIGHT:"android.delegate.max-width-height",DELEGATE_NEGATIVEVIEWPORT:"android.delegate.negative-viewport",DELEGATE_NEGATIVEX:"android.delegate.negative-x",DELEGATE_PERCENT:"android.delegate.percent",DELEGATE_RADIOGROUP:"android.delegate.radiogroup",DELEGATE_SCROLLBAR:"android.delegate.scrollbar",DELEGATE_VERTICALALIGN:"android.delegate.verticalalign",CONSTRAINT_GUIDELINE:"android.constraint.guideline",RESOURCE_INCLUDES:"android.resource.includes",RESOURCE_BACKGROUND:"android.resource.background",RESOURCE_SVG:"android.resource.svg",RESOURCE_STRINGS:"android.resource.strings",RESOURCE_FONTS:"android.resource.fonts",RESOURCE_DIMENS:"android.resource.dimens",RESOURCE_STYLES:"android.resource.styles"},n={CHECKBOX:"CheckBox",RADIO:"RadioButton",EDIT:"EditText",EDIT_LIST:"AutoCompleteTextView",SELECT:"Spinner",RANGE:"SeekBar",SVG:"ImageView",TEXT:"TextView",IMAGE:"ImageView",BUTTON:"Button",METER:"ProgressBar",PROGRESS:"ProgressBar",LINE:"View",SPACE:"Space",FRAME:"FrameLayout",LINEAR:"LinearLayout",GRID:"GridLayout",RELATIVE:"RelativeLayout",WEBVIEW:"WebView",RADIOGROUP:"RadioGroup",HORIZONTAL_SCROLL:"HorizontalScrollView",VERTICAL_SCROLL:"android.support.v4.widget.NestedScrollView",CONSTRAINT:"android.support.constraint.ConstraintLayout",GUIDELINE:"android.support.constraint.Guideline",BARRIER:"android.support.constraint.Barrier"},a={VERTICAL_SCROLL:"androidx.core.widget.NestedScrollView",CONSTRAINT:"androidx.constraintlayout.widget.ConstraintLayout",GUIDELINE:"androidx.constraintlayout.widget.Guideline",BARRIER:"androidx.constraintlayout.widget.Barrier"},r={PLAINTEXT:e.TEXT,HR:e.LINE,SVG:e.SVG,IMG:e.IMAGE,BUTTON:e.BUTTON,SELECT:e.SELECT,TEXTAREA:e.EDIT,METER:e.PROGRESS,PROGRESS:e.PROGRESS,IFRAME:e.WEBVIEW,INPUT_RANGE:e.RANGE,INPUT_TEXT:e.EDIT,INPUT_PASSWORD:e.EDIT,INPUT_NUMBER:e.EDIT,INPUT_EMAIL:e.EDIT,INPUT_SEARCH:e.EDIT,INPUT_URL:e.EDIT,INPUT_DATE:e.EDIT,INPUT_TEL:e.EDIT,INPUT_TIME:e.EDIT,INPUT_WEEK:e.EDIT,INPUT_MONTH:e.EDIT,INPUT_BUTTON:e.BUTTON,INPUT_FILE:e.BUTTON,INPUT_IMAGE:e.BUTTON,INPUT_SUBMIT:e.BUTTON,INPUT_RESET:e.BUTTON,INPUT_CHECKBOX:e.CHECKBOX,INPUT_RADIO:e.RADIO,"INPUT_DATETIME-LOCAL":e.EDIT},s={relativeParent:{left:"layout_alignParentLeft",top:"layout_alignParentTop",right:"layout_alignParentRight",bottom:"layout_alignParentBottom",centerHorizontal:"layout_centerHorizontal",centerVertical:"layout_centerVertical"},relative:{left:"layout_alignLeft",top:"layout_alignTop",right:"layout_alignRight",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",leftRight:"layout_toRightOf",rightLeft:"layout_toLeftOf",topBottom:"layout_below",bottomTop:"layout_above"},constraint:{left:"layout_constraintLeft_toLeftOf",top:"layout_constraintTop_toTopOf",right:"layout_constraintRight_toRightOf",bottom:"layout_constraintBottom_toBottomOf",leftRight:"layout_constraintLeft_toRightOf",rightLeft:"layout_constraintRight_toLeftOf",baseline:"layout_constraintBaseline_toBaselineOf",topBottom:"layout_constraintTop_toBottomOf",bottomTop:"layout_constraintBottom_toTopOf"}},l={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",aapt:"http://schemas.android.com/aapt",tools:"http://schemas.android.com/tools"},c={HORIZONTAL:"horizontal",VERTICAL:"vertical",MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft",CENTER_HORIZONTAL:"center_horizontal",CENTER_VERTICAL:"center_vertical"},d={left:"start",right:"end",layout_marginLeft:"layout_marginStart",layout_marginRight:"layout_marginEnd",paddingLeft:"paddingStart",paddingRight:"paddingEnd",layout_alignParentLeft:"layout_alignParentStart",layout_alignParentRight:"layout_alignParentEnd",layout_alignLeft:"layout_alignStart",layout_alignRight:"layout_alignEnd",layout_toRightOf:"layout_toEndOf",layout_toLeftOf:"layout_toStartOf",layout_constraintLeft_toLeftOf:"layout_constraintStart_toStartOf",layout_constraintRight_toRightOf:"layout_constraintEnd_toEndOf",layout_constraintLeft_toRightOf:"layout_constraintStart_toEndOf",layout_constraintRight_toLeftOf:"layout_constraintEnd_toStartOf"},h=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"];var u=Object.freeze({__proto__:null,EXT_ANDROID:o,CONTAINER_ANDROID:n,CONTAINER_ANDROID_X:a,SUPPORT_ANDROID:{DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},SUPPORT_ANDROID_X:{DRAWER:"androidx.drawerlayout.widget.DrawerLayout",NAVIGATION_VIEW:"com.google.android.material.navigation.NavigationView",COORDINATOR:"androidx.coordinatorlayout.widget.CoordinatorLayout",APPBAR:"com.google.android.material.appbar.AppBarLayout",COLLAPSING_TOOLBAR:"com.google.android.material.appbar.CollapsingToolbarLayout",TOOLBAR:"androidx.appcompat.widget.Toolbar",FLOATING_ACTION_BUTTON:"com.google.android.material.floatingactionbutton.FloatingActionButton",BOTTOM_NAVIGATION:"com.google.android.material.bottomnavigation.BottomNavigationView"},ELEMENT_ANDROID:r,LAYOUT_ANDROID:s,XMLNS_ANDROID:l,STRING_ANDROID:c,LOCALIZE_ANDROID:d,RESERVED_JAVA:h});const p=squared.lib,{findColorShade:g,parseColor:m}=p.color,{getSrcSet:f}=p.css,{CHAR:y,COMPONENT:b,CSS:T,XML:A}=p.regex,{fromLastIndexOf:E,isNumber:S,isPlainObject:v,isString:x,resolvePath:R,trimString:I}=p.util,w=squared.base.ResourceUI.STORED,_=/[^\w+]/g;let N,C={};function L(t,e=!1){var i;if(t)for(const o in t)if(v(t[o]))L(t,e);else{let n=null===(i=t[o])||void 0===i?void 0:""+i;if(n){switch(o){case"text":n.startsWith("@string/")||(n=O.addString(n,"",e),""!==n&&(t[o]="@string/"+n));continue;case"src":case"srcCompat":b.PROTOCOL.test(n)&&(n=O.addImage({mdpi:n}),""!==n&&(t[o]="@drawable/"+n));continue}const i=m(n);if(i){const e=O.addColor(i);""!==e&&(t[o]="@color/"+e)}}}}class O extends squared.base.ResourceUI{constructor(t,e){super(),this.application=t,this.cache=e,w.styles=new Map,w.themes=new Map,w.dimens=new Map,w.drawables=new Map,w.animators=new Map,this.controllerSettings=t.controllerHandler.localSettings,N=this.controllerSettings.supported.imageFormat}static formatOptions(t,e=!1){for(const i in t){const o=t[i];v(o)&&L(o,e)}return t}static formatName(t){return y.LEADINGNUMBER.test(t)&&(t="__"+t),t.replace(_,"_")}static addTheme(...t){const e=w.themes;for(const i of t){const{items:t,output:o}=i;let n="res/values",a="themes.xml";o&&(x(o.path)&&(n=o.path.trim()),x(o.file)&&(a=o.file.trim()));const r=I(n,"/")+"/"+I(a,"/"),s=e.get(r)||new Map;let l=i.name,c="";if(""===l||"."===l.charAt(0)){t:for(const t of e.values())for(const e of t.values())if(e.name){c=e.name;break t}if(""===c)continue}else c=l;l=c+("."===l.charAt(0)?l:""),i.name=l,O.formatOptions(t);const d=s.get(l);if(d){const e=d.items;for(const i in t)e[i]=t[i]}else s.set(l,i);e.set(r,s)}}static addString(t,e="",i=!1){if(""!==t){""===e&&(e=t.trim());const o=S(t);if(!o||i){const i=w.strings;for(const[e,o]of i.entries())if(o===t)return e;const n=I(e.replace(A.NONWORD_G,"_"),"_").split(/_+/);n.length>1?(n.length>4&&(n.length=4),e=n.join("_")):e=n[0],e=e.toLowerCase(),o||y.LEADINGNUMBER.test(e)||h.includes(e)?e="__"+e:""===e&&(e="__symbol"+Math.ceil(1e5*Math.random())),i.has(e)&&(e=O.generateId("string",e)),i.set(e,t)}return e}return""}static addImage(t,e=""){const i=t.mdpi;if(i){if(C[i]&&1===Object.keys(t).length)return C[i];const o=E(i,"/"),n=E(o,".").toLowerCase();if(N.includes(n)&&"svg"!==n)return C[i]=O.insertStoredAsset("images",O.formatName(e+o.substring(0,o.length-n.length-1)),t),C[i]}return""}static addColor(t,e=!1){if("string"==typeof t&&(t=m(t,1,e)),t&&(!t.transparent||e)){const e=t.opacity<1?t.valueAsARGB:t.value;let i=w.colors.get(e);if(i)return i;const o=g(t.value);if(o)return i=e===o.value?o.key:O.generateId("color",o.key),w.colors.set(e,i),i}return""}reset(){super.reset(),C={}}addImageSrc(t,e="",i){var o;const n={};if("string"==typeof t){const i=T.URL.exec(t);if(i){if(!i[1].startsWith("data:image"))return O.addImage({mdpi:R(i[1])},e);n.mdpi=i[1]}}else{if(t.srcset){void 0===i&&(i=f(t,N));for(const t of i){const e=t.pixelRatio;if(e>0){const i=t.src;e<1?n.ldpi=i:1===e?(void 0===n.mdpi||t.actualWidth)&&(n.mdpi=i):e<=1.5?n.hdpi=i:e<=2?n.xhdpi=i:e<=3?n.xxhdpi=i:n.xxxhdpi=i}}}void 0===n.mdpi&&(n.mdpi=t.src)}const a=n.mdpi;if(a){const t=this.application.resourceHandler,i=t.getRawData(a);if(null===(o=i)||void 0===o?void 0:o.base64){if(i.filename.toLowerCase().endsWith(".svg"))return"";const o=e+i.filename;return t.writeRawImage(o,i.base64),o.substring(0,o.lastIndexOf("."))}}return O.addImage(n,e)}get userSettings(){return this.application.userSettings}}const{optionalAsString:P,isString:k}=squared.lib.util;function D(t,e,i,o=0){return(!i||i>=o)&&(t.attr=e,!0)}const M={29:{android:{},assign:{}},28:{android:{allowAudioPlaybackCapture:!1,enforceNavigationBarContrast:!1,enforceStatusBarContrast:!1,forceDarkAllowed:!1,forceUriPermissions:!1,foregroundServiceType:!1,hasFragileUserData:!1,identifier:!1,inheritShowWhenLocked:!1,interactiveUiTimeout:!1,isLightTheme:!1,isSplitRequired:!1,minAspectRatio:!1,nonInteractiveUiTimeout:!1,opticalInsetBottom:!1,opticalInsetLeft:!1,opticalInsetRight:!1,opticalInsetTop:!1,packageType:!1,requestLegacyExternalStorage:!1,secureElementName:!1,selectionDividerHeight:!1,settingsSliceUri:!1,shell:!1,supportsMultipleDisplays:!1,textLocale:!1,useAppZygote:!1,useEmbeddedDex:!1,zygotePreloadName:!1},assign:{}},27:{android:{accessibilityHeading:!1,accessibilityPaneTitle:!1,appComponentFactory:!1,buttonCornerRadius:!1,cantSaveState:!1,dialogCornerRadius:!1,fallbackLineSpacing:!1,firstBaselineToTopHeight:!1,fontVariationSettings:!1,lastBaselineToBottomHeight:!1,lineHeight:!1,maxLongVersionCode:!1,outlineAmbientShadowColor:!1,outlineSpotShadowColor:!1,screenReaderFocusable:!1,textFontWeight:!1,ttcIndex:!1,versionCodeMajor:!1,versionMajor:!1,widgetFeatures:!1,windowLayoutInDisplayCutoutMode:!1},assign:{}},26:{android:{classLoader:!1,navigationBarDividerColor:!1,showWhenLocked:!1,turnScreenOn:!1,windowLightNavigationBar:!1},assign:{}},25:{android:{fontWeight:!1,justificationMode:!1,layout_marginHorizontal:!1,layout_marginVertical:!1,paddingHorizontal:!1,paddingVertical:!1,tooltipText:!1},assign:{}},24:{android:{colorSecondary:!1,contextDescription:!1,contextUri:!1,roundIcon:!1,shortcutDisabledMessage:!1,shortcutId:!1,shortcutLongLabel:!1,shortcutShortLabel:!1,showMetadataInPreview:!1},assign:{}},23:{android:{backupInForeground:!1,bitmap:!1,buttonGravity:!1,canControlMagnification:!1,canPerformGestures:!1,canRecord:!1,collapseIcon:!1,contentInsetEndWithActions:!1,contentInsetStartWithNavigation:!1,contextPopupMenuStyle:!1,countDown:!1,defaultHeight:!1,defaultToDeviceProtectedStorage:!1,defaultWidth:!1,directBootAware:!1,enableVrMode:!1,endX:!1,endY:!1,externalService:!1,fillType:!1,forceHasOverlappingRendering:!1,hotSpotX:!1,hotSpotY:!1,languageTag:!1,level:!1,listMenuViewStyle:!1,maxButtonHeight:!1,networkSecurityConfig:!1,numberPickerStyle:!1,offset:!1,pointerIcon:!1,popupEnterTransition:!1,popupExitTransition:!1,preferenceFragmentStyle:!1,resizeableActivity:!1,startX:!1,startY:!1,subMenuArrow:!1,supportsLocalInteraction:!1,supportsPictureInPicture:!1,textAppearancePopupMenuHeader:!1,tickMark:!1,tickMarkTint:!1,tickMarkTintMode:!1,titleMargin:!1,titleMarginBottom:!1,titleMarginEnd:!1,titleMarginStart:!1,titleMarginTop:!1,tunerCount:!1,use32bitAbi:!1,version:!1,windowBackgroundFallback:!1},assign:{}},22:{android:{allowUndo:!1,autoVerify:!1,breakStrategy:!1,colorBackgroundFloating:!1,contextClickable:!1,drawableTint:!1,drawableTintMode:!1,end:t=>D(t,"right"),extractNativeLibs:!1,fingerprintAuthDrawable:!1,fraction:!1,fullBackupContent:!1,hyphenationFrequency:!1,lockTaskMode:!1,logoDescription:!1,numbersInnerTextColor:!1,scrollIndicators:!1,showForAllUsers:!1,start:t=>D(t,"left"),subtitleTextColor:!1,supportsAssist:!1,supportsLaunchVoiceAssistFromKeyguard:!1,thumbPosition:!1,titleTextColor:!1,trackTint:!1,trackTintMode:!1,usesCleartextTraffic:!1,windowLightStatusBar:!1},assign:{}},21:{android:{accessibilityTraversalAfter:!1,accessibilityTraversalBefore:!1,collapseContentDescription:!1,dialogPreferredPadding:!1,resizeClip:!1,revisionCode:!1,searchHintIcon:!1},assign:{}},20:{android:{actionBarPopupTheme:!1,actionBarTheme:!1,actionModeFindDrawable:!1,actionModeShareDrawable:!1,actionModeWebSearchDrawable:!1,actionOverflowMenuStyle:!1,amPmBackgroundColor:!1,amPmTextColor:!1,ambientShadowAlpha:!1,autoRemoveFromRecents:!1,backgroundTint:!1,backgroundTintMode:!1,banner:!1,buttonBarNegativeButtonStyle:!1,buttonBarNeutralButtonStyle:!1,buttonBarPositiveButtonStyle:!1,buttonTint:!1,buttonTintMode:!1,calendarTextColor:!1,checkMarkTint:!1,checkMarkTintMode:!1,closeIcon:!1,colorAccent:!1,colorButtonNormal:!1,colorControlActivated:!1,colorControlHighlight:!1,colorControlNormal:!1,colorEdgeEffect:!1,colorPrimary:!1,colorPrimaryDark:!1,commitIcon:!1,contentAgeHint:!1,contentInsetEnd:!1,contentInsetLeft:!1,contentInsetRight:!1,contentInsetStart:!1,controlX1:!1,controlX2:!1,controlY1:!1,controlY2:!1,country:!1,datePickerDialogTheme:!1,datePickerMode:!1,dayOfWeekBackground:!1,dayOfWeekTextAppearance:!1,documentLaunchMode:!1,elegantTextHeight:!1,elevation:!1,excludeClass:!1,excludeId:!1,excludeName:!1,fastScrollStyle:!1,fillAlpha:!1,fillColor:!1,fontFeatureSettings:!1,foregroundTint:!1,foregroundTintMode:!1,fragmentAllowEnterTransitionOverlap:!1,fragmentAllowReturnTransitionOverlap:!1,fragmentEnterTransition:!1,fragmentExitTransition:!1,fragmentReenterTransition:!1,fragmentReturnTransition:!1,fragmentSharedElementEnterTransition:!1,fragmentSharedElementReturnTransition:!1,fromId:!1,fullBackupOnly:!1,goIcon:!1,headerAmPmTextAppearance:!1,headerDayOfMonthTextAppearance:!1,headerMonthTextAppearance:!1,headerTimeTextAppearance:!1,headerYearTextAppearance:!1,hideOnContentScroll:!1,indeterminateTint:!1,indeterminateTintMode:!1,inset:!1,isGame:!1,launchTaskBehindSourceAnimation:!1,launchTaskBehindTargetAnimation:!1,layout_columnWeight:!1,layout_rowWeight:!1,letterSpacing:!1,matchOrder:!1,maxRecentsv:!1,maximumAngle:!1,minimumHorizontalAngle:!1,minimumVerticalAngle:!1,multiArch:!1,navigationBarColor:!1,navigationContentDescription:!1,navigationIcon:!1,nestedScrollingEnabled:!1,numbersBackgroundColor:!1,numbersSelectorColor:!1,numbersTextColor:!1,outlineProvider:!1,overlapAnchor:!1,paddingMode:!1,pathData:!1,patternPathData:!1,persistableMode:!1,popupElevation:!1,popupTheme:!1,progressBackgroundTint:!1,progressBackgroundTintMode:!1,progressTint:!1,progressTintMode:!1,propertyXName:!1,propertyYName:!1,queryBackground:!1,recognitionService:!1,relinquishTaskIdentity:!1,reparent:!1,reparentWithOverlay:!1,restrictionType:!1,resumeWhilePausing:!1,reversible:!1,searchIcon:!1,searchViewStyle:!1,secondaryProgressTint:!1,secondaryProgressTintMode:!1,selectableItemBackgroundBorderless:!1,sessionService:!1,setupActivity:!1,showText:!1,slideEdge:!1,splitTrack:!1,spotShadowAlpha:!1,src:(t,e,i)=>(i.svgElement&&(t.obj="app",t.attr="srcCompat"),!0),stackViewStyle:!1,stateListAnimator:!1,statusBarColor:!1,strokeAlpha:!1,strokeColor:!1,strokeLineCap:!1,strokeLineJoin:!1,strokeMiterLimit:!1,strokeWidth:!1,submitBackground:!1,subtitleTextAppearance:!1,suggestionRowLayout:!1,switchStyle:!1,targetName:!1,textAppearanceListItemSecondary:!1,thumbTint:!1,thumbTintMode:!1,tileModeX:!1,tileModeY:!1,timePickerDialogTheme:!1,timePickerMode:!1,timePickerStyle:!1,tintMode:!1,titleTextAppearance:!1,toId:!1,toolbarStyle:!1,touchscreenBlocksFocus:!1,transitionGroup:!1,transitionName:!1,transitionVisibilityMode:!1,translateX:!1,translateY:!1,translationZ:!1,trimPathEnd:!1,trimPathOffset:!1,trimPathStart:!1,viewportHeight:!1,viewportWidth:!1,voiceIcon:!1,windowActivityTransitions:!1,windowAllowEnterTransitionOverlap:!1,windowAllowReturnTransitionOverlap:!1,windowClipToOutline:!1,windowContentTransitionManager:!1,windowContentTransitions:!1,windowDrawsSystemBarBackgrounds:!1,windowElevation:!1,windowEnterTransition:!1,windowExitTransition:!1,windowReenterTransition:!1,windowReturnTransition:!1,windowSharedElementEnterTransition:!1,windowSharedElementExitTransition:!1,windowSharedElementReenterTransition:!1,windowSharedElementReturnTransition:!1,windowSharedElementsUseOverlay:!1,windowTransitionBackgroundFadeDuration:!1,yearListItemTextAppearance:!1,yearListSelectorColor:!1},assign:{}},19:{android:{allowEmbedded:!1,windowSwipeToDismiss:!1},assign:{}},18:{android:{accessibilityLiveRegion:!1,addPrintersActivity:!1,advancedPrintOptionsActivity:!1,apduServiceBanner:!1,autoMirrored:!1,category:!1,fadingMode:!1,fromScene:!1,isAsciiCapable:!1,keySet:!1,requireDeviceUnlock:!1,ssp:!1,sspPattern:!1,sspPrefix:!1,startDelay:!1,supportsSwitchingToNextInputMethod:!1,targetId:!1,toScene:!1,transition:!1,transitionOrdering:!1,vendor:!1,windowTranslucentNavigation:!1,windowTranslucentStatus:!1},assign:{}},17:{android:{canRequestEnhancedWebAccessibility:(t,e)=>e<26,canRequestFilterKeyEvents:!1,canRequestTouchExplorationMode:!1,childIndicatorEnd:!1,childIndicatorStart:!1,indicatorEnd:!1,indicatorStart:!1,layoutMode:!1,mipMap:!1,mirrorForRtl:!1,requiredAccountType:!1,requiredForAllUsers:!1,restrictedAccountType:!1,windowOverscan:!1},assign:{}},16:{android:{checkedTextViewStyle:!1,format12Hour:!1,format24Hour:!1,initialKeyguardLayout:!1,labelFor:!1,layoutDirection:!1,layout_alignEnd:t=>D(t,"layout_alignRight"),layout_alignParentEnd:t=>D(t,"layout_alignParentRight"),layout_alignParentStart:t=>D(t,"layout_alignParentLeft"),layout_alignStart:t=>D(t,"layout_alignLeft"),layout_marginEnd:t=>D(t,"layout_marginRight"),layout_marginStart:t=>D(t,"layout_marginLeft"),layout_toEndOf:t=>D(t,"layout_toRightOf"),layout_toStartOf:t=>D(t,"layout_toLeftOf"),listPreferredItemPaddingEnd:t=>D(t,"listPreferredItemPaddingRight"),listPreferredItemPaddingStart:t=>D(t,"listPreferredItemPaddingLeft"),paddingEnd:t=>D(t,c.PADDING_RIGHT),paddingStart:t=>D(t,c.PADDING_LEFT),permissionFlags:!1,permissionGroupFlags:!1,presentationTheme:!1,showOnLockScreen:!1,singleUser:!1,subtypeId:!1,supportsRtl:!1,textAlignment:!1,textDirection:!1,timeZone:!1,widgetCategory:!1},assign:{}},15:{android:{fontFamily:!1,importantForAccessibility:!1,isolatedProcess:!1,keyboardLayout:!1,mediaRouteButtonStyle:!1,mediaRouteTypes:!1,parentActivityName:!1},assign:{}},14:{android:{},assign:{}},0:{android:{},assign:{Button:{android:{textAllCaps:"false"}}}}},B={android:{amPmBackgroundColor:(t,e)=>D(t,"headerBackground",e,23),amPmTextColor:(t,e)=>D(t,"headerTextColor",e,23),animationResolution:(t,e)=>e<16,canRequestEnhancedWebAccessibility:(t,e)=>e<26,dayOfWeekBackground:(t,e)=>e<23,dayOfWeekTextAppearance:(t,e)=>e<23,directionDescriptions:(t,e)=>e<23,headerAmPmTextAppearance:(t,e)=>D(t,"headerTextColor",e,23),headerDayOfMonthTextAppearance:(t,e)=>D(t,"headerTextColor",e,23),headerMonthTextAppearance:(t,e)=>D(t,"headerTextColor",e,23),headerTimeTextAppearance:(t,e)=>D(t,"headerTextColor",e,23),headerYearTextAppearance:(t,e)=>D(t,"headerTextColor",e,23),showOnLockScreen:(t,e)=>D(t,"showForAllUsers",e,23),targetDescriptions:(t,e)=>e<23,yearListItemTextAppearance:(t,e)=>D(t,"yearListTextColor",e,23),yearListSelectorColor:(t,e)=>e<23}};var W=Object.freeze({__proto__:null,API_ANDROID:M,DEPRECATED_ANDROID:B,getValue:function(t,e,i,o){for(const n of[M[t],M[0]]){const t=P(n,`assign.${e}.${i}.${o}`);if(k(t))return t}return""}});const H=squared.lib,{truncate:X}=H.math,{isPlainObject:G}=H.util,V=/^@\+?id\//;function F(t,e,i=4){return 0===t?0:0===e?1:parseFloat(Math.max(t/(t+e),0).toPrecision(i))}function z(t,e=160,i=!1,o=3){let n=parseFloat(t);return isNaN(n)?"0dp":160!==e?(n/=e/160,(0!==n&&n>-1&&n<1?n.toPrecision(o):X(n,o-1))+(i?"sp":"dp")):Math.round(n)+(i?"sp":"dp")}function U(t){return t.replace(V,"")}function q(t,e={},i={}){const o={android:e,app:i};if(t){const{android:e,app:i}=t;e&&Object.assign(o.android,e),i&&Object.assign(o.app,i)}return o}function j(t){const e={output:{path:"res/values",file:""},name:"",parent:"",items:{}};if(G(t))for(const i in e)typeof t[i]==typeof e[i]&&(e[i]=t[i]);return e}function Y(t,e,i){return e&&i>=17&&d[t]||t}function Z(t){return l[t]?`xmlns:${t}="${l[t]}"`:""}function K(t){let e="";for(const i in l)-1!==t.indexOf(i+":")&&(e+="\n\t"+Z(i));return e}var $=Object.freeze({__proto__:null,convertLength:z,getDocumentId:U,getHorizontalBias:function(t){const e=t.documentParent.box;return F(Math.max(0,t.actualRect("left","bounds")-e.left),Math.max(0,e.right-t.actualRect("right","bounds")),t.localSettings.floatPrecision)},getVerticalBias:function(t){const e=t.documentParent.box;return F(Math.max(0,t.actualRect("top","bounds")-e.top),Math.max(0,e.bottom-t.actualRect("bottom","bounds")),t.localSettings.floatPrecision)},createViewAttribute:q,createStyleAttribute:j,localizeString:Y,getXmlNs:Z,getRootNs:K});const J=squared.lib,{isUserAgent:Q}=J.client,{BOX_MARGIN:tt,BOX_PADDING:et,formatPX:it,getDataSet:ot,isLength:nt,isPercent:at}=J.css,{getNamedItem:rt}=J.dom,{clampRange:st,truncate:lt}=J.math,{aboveRange:ct,capitalize:dt,convertWord:ht,fromLastIndexOf:ut,isPlainObject:pt,isString:gt,replaceMap:mt}=J.util,{NODE_PROCEDURE:ft}=squared.base.lib.enumeration,yt=/^attr[A-Z]/,bt=/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/,Tt=/[^\w$\-_.]/g;function At(t,e){switch(t){case"left":case"start":return e?"":t;case"center":return c.CENTER_HORIZONTAL;case"justify":case"initial":case"inherit":return""}return t}function Et(t,e){var i;return e.horizontal&&(!t.blockWidth||t.hasWidth||t.hasPX("maxWidth")||(null===(i=t.innerWrapped)||void 0===i?void 0:i.has("width",4,{not:"100%"})))&&t.mergeGravity(!t.blockWidth&&t.pageFlow||void 0!==t.outerWrapper?"layout_gravity":"gravity",e.leftRight?c.CENTER_HORIZONTAL:e.left?"right":"left"),!1}function St(t,e,i,o){if(t.localSettings.targetAPI>=28)t.android("lineHeight",it(e),i);else{const o=(e-t.actualHeight)/2;o>0&&t.android("lineSpacingExtra",it(o),i)}if(o&&t.styleElement&&!t.hasPX("height")&&t.cssTry("line-height","normal")){if(t.cssTry("white-space","nowrap")){const i=(e-t.boundingClientRect.height)/2,o=Math.round(i);o>0&&(t.modifyBox(32,o),t.blockStatic||t.modifyBox(128,Math.floor(i))),t.cssFinally("white-space")}t.cssFinally("line-height")}}function vt(t,e,i,o,n){if(!(t.baselineAltered&&!t.multiline||t.imageOrSvgElement||0===t.actualHeight||"initial"===t.cssInitial("lineHeight")))if(t.multiline)St(t,e,!1,!0);else if(0!==t.renderChildren.length&&!t.inline||!t.pageFlow&&!t.textContent.length)i&&(!t.hasHeight||e>t.height)&&(t.layoutHorizontal&&void 0===t.horizontalRows||t.hasAlign(4096))&&xt(t,e);else if(i&&!t.inline&&t.inlineText)xt(t,e),St(t,e,!1,!1);else{let a=0,r=!0;if(!i&&t.styleElement&&!t.hasPX("height")&&t.cssTry("line-height","normal"))t.cssTry("white-space","nowrap")&&(a=(e-t.boundingClientRect.height)/2,r=!1,t.cssFinally("white-space")),t.cssFinally("line-height");else{const{height:i,numberOfLines:o}=t.bounds;if(t.plainText&&o>1)return t.android("minHeight",it(i/o)),void t.mergeGravity("gravity",c.CENTER_VERTICAL);a=(e-i)/2}const s=Math.round(a);if(s>0){const e=r&&t.textElement&&!t.plainText&&!i;o&&t.modifyBox(e?32:2,s),n&&t.modifyBox(e?128:8,Math.floor(a))}}}function xt(t,e){t.inlineText&&(e+=t.contentBoxHeight,(!t.hasPX("height")||e>=Math.floor(t.height))&&t.mergeGravity("gravity",c.CENTER_VERTICAL,!1)),e>t.height&&t.android("minHeight",it(e))}function Rt(t,i){if("0px"===i){const i=t.renderParent;if(i)return i.layoutConstraint||i.is(e.GRID)}return!1}const It=s.relativeParent,wt=s.relative,_t=s.constraint,Nt=B.android;var Ct=t=>(class i extends t{constructor(t=0,e="0",i,o){super(t,e,i),this.renderChildren=[],this.constraint={horizontal:!1,vertical:!1,current:{}},this._namespaces=["android","app"],this._cached={},this._controlName="",this._api=29,this._localization=!1,this._containerType=0,this.__android={},this.__app={},this.init(),o&&(o(this),this._localization=this.hasProcedure(ft.LOCALIZATION)&&this.localSettings.supportRTL)}static getControlName(t,i=29){const o=e[t];if(i>=29){const t=a[o];if(t)return t}return n[o]}android(t,e,i=!0){return e&&""!==(e=this.attr("android",t,e,i))?e:this.__android[t]||""}app(t,e,i=!0){return e&&""!==(e=this.attr("app",t,e,i))?e:this.__app[t]||""}apply(t){for(const e in t){const i=t[e];if(pt(i))for(const t in i)this.attr(e,t,i[t]);else i&&this.attr("_",e,""+i)}}formatted(t,e=!0){const i=bt.exec(t);i&&this.attr(i[1]||"_",i[2],i[3],e)}anchor(t,e="",i){const o=this.anchorTarget,n=o.renderParent;if(n&&o.documentId!==e)if(n.layoutConstraint){if(""===e||void 0===o.constraint.current[t]||i){const n="parent"===e;void 0===i&&""!==e&&(i=n);const a=_t[t];if(a){let r=!1;switch(o.app(this.localizeString(a),e,i),t){case"left":case"right":n&&(o.constraint.horizontal=!0);case"leftRight":case"rightLeft":r=!0;break;case"top":case"bottom":case"baseline":n&&(o.constraint.vertical=!0)}return o.constraint.current[t]={documentId:e,horizontal:r},!0}}}else if(n.layoutRelative){const n="true"===e;void 0===i&&""!==e&&(i=n);const a=(n?It:wt)[t];if(a)return o.android(this.localizeString(a),e,i),!0}return!1}anchorParent(t,e,i,o){const n=this.anchorTarget,a=n.renderParent;if(a){const r=t===c.HORIZONTAL;if(a.layoutConstraint){if(o||!this.constraint[t])return n.anchor(r?"left":"top","parent",o),n.anchor(r?"right":"bottom","parent",o),n.constraint[t]=!0,e&&n.anchorStyle(t,e,i,o),!0}else if(a.layoutRelative)return n.anchor(r?"centerHorizontal":"centerVertical","true",o),!0}return!1}anchorStyle(t,e="packed",i=0,o=!0){const n=this.anchorTarget;t===c.HORIZONTAL?(n.app("layout_constraintHorizontal_chainStyle",e,o),n.app("layout_constraintHorizontal_bias",""+i,o)):(n.app("layout_constraintVertical_chainStyle",e,o),n.app("layout_constraintVertical_bias",""+i,o))}anchorDelete(...t){const e=this.anchorTarget,i=e.renderParent;if(i)if(i.layoutConstraint)e.delete("app",...mt(t,t=>this.localizeString(_t[t])));else if(i.layoutRelative)for(const i of t)if(""!==e.alignSibling(i)){wt[i]&&e.delete("android",wt[i],this.localizeString(wt[i]))}else{const t=It[i];t&&e.delete("android",this.localizeString(t))}}anchorClear(){const t=this.anchorTarget,e=t.renderParent;e&&(e.layoutConstraint?t.anchorDelete(...Object.keys(_t)):e.layoutRelative&&(t.anchorDelete(...Object.keys(It)),t.anchorDelete(...Object.keys(wt))))}alignParent(t){const e=this.anchorTarget,i=e.renderParent;if(i)if(i.layoutConstraint){const i=_t[t];if(i)return"parent"===e.app(this.localizeString(i))||"parent"===e.app(i)}else if(i.layoutRelative){const i=It[t];if(i)return"true"===e.android(this.localizeString(i))||"true"===e.android(i)}else if(i.layoutLinear){const o=i.renderChildren;if(i.layoutVertical)switch(t){case"top":return e===o[0];case"bottom":return e===o[o.length-1]}else switch(t){case"left":case"start":return e===o[0];case"right":case"end":return e===o[o.length-1]}}return!1}alignSibling(t,e){const i=this.anchorTarget,o=i.renderParent;if(o)if(e){if(o.layoutConstraint){const o=_t[t];o&&i.app(this.localizeString(o),e)}else if(o.layoutRelative){const o=wt[t];o&&i.android(this.localizeString(o),e)}}else if(o.layoutConstraint){const e=_t[t];if(e){const t=i.app(this.localizeString(e))||i.app(e);return"parent"!==t&&t!==o.documentId?t:""}}else if(o.layoutRelative){const e=wt[t];if(e)return i.android(this.localizeString(e))||i.android(e)}return""}supported(t,e={}){var i;if("function"==typeof Nt[t]){const i=Nt[t](e,this._api,this);if(!i||Object.keys(e).length)return i}for(let o=this._api;o<=29;o++){const n=null===(i=M[o])||void 0===i?void 0:i.android[t];if(void 0!==n)return"function"==typeof n?n(e,this._api,this):n}return!0}combine(...t){const e=this._namespaces,i=0===t.length,o=[];let n=!1,a="";for(const r of e)if(i||t.includes(r)){const t=this["__"+r];if(t){const e=r+":";switch(r){case"android":if(this._api<29)for(let i in t)if("id"===i)a=t[i];else{const n={};let a=t[i];if(!this.supported(i,n))continue;Object.keys(n).length&&(gt(n.attr)&&(i=n.attr),gt(n.value)&&(a=n.value)),o.push(e+`${i}="${a}"`)}else for(const i in t)"id"===i?a=t[i]:o.push(e+`${i}="${t[i]}"`);n=!0;break;case"_":for(const e in t)o.push(`${e}="${t[e]}"`);break;default:for(const i in t)o.push(e+`${i}="${t[i]}"`)}}}return o.sort((t,e)=>t>e?1:-1),n&&o.unshift(`android:id="${""!==a?a:"@+id/"+this.controlId}"`),o}localizeString(t){return Y(t,this._localization,this._api)}hide(t){t?this.android("visibility","invisible"):super.hide()}clone(t,e=!1,o=!1){const n=new i(t||this.id,this.sessionId,this.element||void 0);if(n.localSettings=Object.assign({},this.localSettings),void 0!==t?n.setControlType(this.controlName,this.containerType):(n.controlId=this.controlId,n.controlName=this.controlName,n.containerType=this.containerType),this.cloneBase(n),e){Object.assign(n.unsafe("boxReset"),this._boxReset),Object.assign(n.unsafe("boxAdjustment"),this._boxAdjustment);for(const t of this._namespaces){const e=this["__"+t];if(e)for(const i in e)n.attr(t,i,"id"===i&&"android"===t?n.documentId:e[i])}}if(o){const t=this.documentId;n.anchor("left",t)&&(n.modifyBox(16),Object.assign(n.unsafe("boxAdjustment"),{marginLeft:0})),n.anchor("top",t)&&(n.modifyBox(2),Object.assign(n.unsafe("boxAdjustment"),{marginTop:0})),n.anchorClear()}return n.saveAsInitial(),n}setControlType(t,i){if(this.controlName=t,i?this.containerType=i:0===this.containerType&&(this.containerType=e.UNKNOWN),""===this.controlId){let t;if(this.styleElement){const e=this.elementId,i=""!==e?e.trim():rt(this.element,"name");""!==i&&(t=i.replace(Tt,"_").toLowerCase(),("parent"===t||h.includes(t))&&(t="_"+t))}this.controlId=ht(squared.base.ResourceUI.generateId("android",t||ut(this.controlName,".").toLowerCase(),t?0:1))}}setLayout(){switch(this.css("visibility")){case"hidden":case"collapse":this.hide(!0)}if(this.plainText)return this.setLayoutWidth("wrap_content",!1),void this.setLayoutHeight("wrap_content",!1);const t=this.documentParent,i=this.renderParent,o=this.support.maxDimension;let n=!1;if(this.documentBody&&(("100%"===this.css("width")||"100%"===this.css("minWidth")||!this.hasWidth&&(this.layoutConstraint||this.layoutRelative)&&this.renderChildren.some(t=>t.alignParent("right")))&&this.setLayoutWidth("match_parent",!1),("100%"===this.css("height")||"100%"===this.css("minHeight")||!this.hasHeight&&this.layoutConstraint&&this.renderChildren.some(t=>t.alignParent("bottom")))&&this.setLayoutHeight("match_parent",!1)),""===this.layoutWidth){let a="";if(!this.hasPX("width")||this.inlineStatic&&""!==this.cssInitial("width"))if(this.length)switch(this.cssInitial("width")){case"max-content":case"fit-content":for(const t of this.renderChildren)t.hasPX("width")||t.setLayoutWidth("wrap_content");a="wrap_content";break;case"min-content":const t=[];let e=0;for(const i of this.renderChildren)if(!i.textElement||i.hasPX("width")){const t=i.actualWidth;t>e&&(e=t)}else{const o=i.parseUnit(i.css("minWidth"));o>e&&(e=o),t.push(i)}if(t.length){const i=it(e);for(const e of t)e.css("maxWidth",i)}a="wrap_content"}else this.imageElement&&this.hasPX("height")&&(a="wrap_content",n=!0);else{const r=this.css("width");let s=-1;if(nt(r))s=this.actualWidth;else if(at(r))if(this.inputElement)s=this.bounds.width;else if(i.layoutConstraint&&!i.hasPX("width",!1))"100%"===r?a="match_parent":(this.app("layout_constraintWidth_percent",lt(parseFloat(r)/100,this.localSettings.floatPrecision)),a="0px"),n=!0;else if(i.is(e.GRID))a="0px",this.android("layout_columnWeight",lt(parseFloat(r)/100,this.localSettings.floatPrecision)),n=!0;else if(this.imageElement)"100%"!==r||i.inlineWidth?(s=this.bounds.width,n=!0):a="match_parent";else if("100%"===r){if(!o){const e=this.css("maxWidth"),o=this.parseUnit(e),n=this.absoluteParent||t;"100%"===e?!i.inlineWidth&&ct(o,n.box.width)?a="match_parent":s=Math.min(this.actualWidth,o):o>0&&(this.blockDimension?s=Math.min(this.actualWidth,o):a=Math.ceil(o)<Math.floor(n.width)?"wrap_content":"match_parent")}""!==a||!this.documentRoot&&i.inlineWidth||(a="match_parent")}else s=this.actualWidth;s>0&&(a=it(s))}if(""===a)if(this.textElement&&this.textEmpty&&!this.visibleStyle.backgroundImage)a=it(this.actualWidth);else{const o=()=>{let t=i,e=!0;do{if(!t.blockWidth)return e=!1,void(t.inlineWidth?this.styleElement&&this.cssTry("display","inline-block")&&(this.boundingClientRect.width<this.bounds.width&&(a="match_parent"),this.cssFinally("display")):a="match_parent");if(t.documentBody)break;t=t.renderParent}while(t);e&&(i.layoutVertical||i.layoutFrame||this.onlyChild||(i.layoutRelative||i.layoutConstraint)&&""===this.alignSibling("leftRight")&&""===this.alignSibling("rightLeft"))&&(a="match_parent")};!this.blockStatic||this.inputElement||i.is(e.GRID)||("flex"===this.display?i.layoutConstraint&&this.css("flexDirection").startsWith("column")?a="0px":t.layoutElement||(a="match_parent"):t.layoutElement||o()),""!==a||this.floating||(this.layoutVertical&&!i.inlineWidth&&(i.layoutFrame&&this.rightAligned||this.layoutLinear&&this.naturalElements.some(t=>t.lineBreak)||this.renderChildren.some(t=>t.layoutConstraint&&t.blockStatic))&&!this.documentRoot||!this.pageFlow&&this.absoluteParent===t&&this.hasPX("left")&&this.hasPX("right")||this.is(e.GRID)&&this.some(t=>parseFloat(t.android("layout_columnWeight"))>0)||t.flexElement&&this.flexbox.grow>0&&i.flexibleWidth&&t.css("flexDirection").startsWith("row")?a="match_parent":this.naturalElement&&!this.inlineHorizontal&&this.some(t=>t.naturalElement&&t.blockStatic&&t.textElement)&&!t.layoutElement&&o())}this.setLayoutWidth(a||"wrap_content")}let a=this.layoutHeight;if(""===this.layoutHeight){if(!this.hasPX("height")||this.inlineStatic&&""!==this.cssInitial("height"))this.imageElement&&this.hasPX("width")&&(a="wrap_content",n=!0);else{const r=this.css("height");let s=-1;if(nt(r))s=this.actualHeight;else if(at(r)){if(this.inputElement)s=this.bounds.height;else if(this.imageElement)"100%"!==r||i.inlineHeight?(s=this.bounds.height,n=!0):a="match_parent";else if("100%"===r){if(!o){const e=this.css("maxHeight"),o=this.parseUnit(e),n=this.absoluteParent||t;"100%"===e?!i.inlineHeight&&ct(o,n.box.height)?a="match_parent":s=Math.min(this.actualHeight,o):o>0&&(this.blockDimension?s=Math.min(this.actualHeight,o):a=Math.ceil(o)<Math.floor(n.box.height)?"wrap_content":"match_parent")}""===a&&(this.documentRoot||this.onlyChild&&!i.inlineHeight)&&(a="match_parent")}""===a&&this.hasHeight&&(s=this.actualHeight)}s>0&&(this.is(e.LINE)&&"HR"!==this.tagName&&this.hasPX("height",!0,!0)&&(s+=this.borderTopWidth+this.borderBottomWidth),a=it(s))}""===a&&(this.textElement&&this.textEmpty&&!this.visibleStyle.backgroundImage?i.layoutConstraint&&!this.floating&&this.alignParent("top")&&this.actualHeight>=(this.absoluteParent||t).box.height?(a="0px",this.anchor("bottom","parent")):a=it(this.actualHeight):("table-cell"===this.display||!this.pageFlow&&this.leftTopAxis&&this.hasPX("top")&&this.hasPX("bottom")||this.onlyChild&&i.flexElement&&!i.inlineHeight&&i.css("flexDirection").startsWith("row")&&void 0===this.outerWrapper)&&(a="match_parent")),this.setLayoutHeight(a||"wrap_content")}else"0px"===a&&i.inlineHeight&&""===i.android("minHeight")&&!t.layoutElement&&this.setLayoutHeight("wrap_content");const r=e=>!(t.flexElement&&t.css("flexDirection").startsWith(e)&&this.flexbox.grow>0);if(this.hasPX("minWidth")&&r("column")&&this.android("minWidth",this.convertPX(this.css("minWidth")),!1),this.hasPX("minHeight")&&r("row")&&"table-cell"!==this.display&&this.android("minHeight",this.convertPX(this.css("minHeight"),"height"),!1),o){const e=this.css("maxWidth"),o=this.css("maxHeight");let a=-1;if(nt(e,!0)?"100%"===e?this.svgElement?a=this.bounds.width:this.imageElement?(a=this.toElementInt("naturalWidth"),a>t.actualWidth&&(a=-1,this.setLayoutWidth("match_parent"),n=!0)):i.inlineWidth||(this.setLayoutWidth("match_parent"),n=!0):a=this.parseUnit(e):!this.pageFlow&&this.multiline&&this.inlineWidth&&!this.preserveWhiteSpace&&(this.ascend(t=>t.hasPX("width")).length>0||!/\n/.test(this.textContent))&&(a=Math.ceil(this.bounds.width)),a>=0&&(this.android("maxWidth",it(a),!1),this.textElement?this.android("ellipsize","end"):this.imageElement&&(n=!0)),nt(o,!0)){let t=-1;"100%"!==o||this.svgElement?t=this.parseUnit(o,"height"):i.inlineHeight?t=this.imageElement?this.toElementInt("naturalHeight"):this.parseUnit(o,"height"):(this.setLayoutHeight("match_parent"),n=!0),t>=0&&(this.android("maxHeight",it(t)),this.imageElement&&(n=!0))}}this.imageElement&&(n||this.blockWidth||this.blockHeight)&&this.android("adjustViewBounds","true")}setAlignment(){const t=this.outerWrapper||this,i=this.renderParent,o=t.renderParent||i,{autoMargin:n,rightAligned:a}=this;let r=At(this.cssInitial("textAlign",!0),!1),s=At(this.cssAscend("textAlign"),!0);if(this.nodeGroup&&""===r&&!this.hasAlign(512)){const t=this.actualParent;t&&(r=At(t.cssInitial("textAlign",!0),!1))}if(this.pageFlow){let l="";if(this.inlineVertical&&(o.layoutHorizontal&&!o.support.container.positionRelative||o.is(e.GRID)||"table-cell"===this.display)){const e="table-cell"===this.display?"gravity":"layout_gravity";switch(this.cssInitial("verticalAlign",!0)){case"top":t.mergeGravity(e,"top");break;case"middle":t.mergeGravity(e,c.CENTER_VERTICAL);break;case"bottom":t.mergeGravity(e,"bottom")}}if(this.blockWidth?a&&t.nodeGroup&&t.layoutVertical&&t.renderEach(t=>{t.rightAligned&&t.mergeGravity("layout_gravity","right")}):((o.layoutVertical||this.documentRoot&&(this.layoutVertical||this.layoutFrame))&&(this.floating?t.mergeGravity("layout_gravity",this.float):Et(t,n)||""===r||!this.hasWidth||this.blockStatic||"table"===this.display||t.mergeGravity("layout_gravity",r,!1)),a?l="right":this.nodeGroup&&(this.renderChildren.every(t=>t.rightAligned)?l="right":this.hasAlign(512)&&!this.renderChildren.some(t=>t.rightAligned)&&(l="left"))),i.layoutFrame&&void 0===this.innerWrapped){if(Et(this,n)||(this.floating&&(l=this.float),""!==l&&!i.naturalElement&&(i.inlineWidth||!i.documentRoot&&this.onlyChild)&&(i.mergeGravity("layout_gravity",l),l=""),this.centerAligned&&this.mergeGravity("layout_gravity",At("center",!1))),this.onlyChild&&"table-cell"===i.display){let t;switch(i.css("verticalAlign")){case"top":t="top";break;case"bottom":t="bottom";break;default:t=c.CENTER_VERTICAL}this.mergeGravity("layout_gravity",t)}}else a&&o.layoutFrame&&i.blockWidth&&this.mergeGravity("layout_gravity","right");""!==l?this.blockWidth?""!==r&&"right"!==l||(r=l):(t.blockWidth&&this!==t?this:t).mergeGravity("layout_gravity",l):Et(t.inlineWidth?t:this,n)&&""!==r&&(s="")}""===s||!this.blockStatic||this.centerAligned||a||t.mergeGravity("layout_gravity","left",!1),this.layoutConstraint||this.layoutFrame||this.is(e.GRID)||this.layoutElement||(""!==r?this.imageOrSvgElement||this.mergeGravity("gravity",r):""===s||this.inputElement||(this.imageOrSvgElement?this.pageFlow&&this.mergeGravity("layout_gravity",s):this.nodeGroup&&this.hasAlign(512)||this.mergeGravity("gravity",s))),n.vertical&&(i.layoutFrame||i.layoutLinear&&i.layoutVertical)&&t.mergeGravity("layout_gravity",n.topBottom?c.CENTER_VERTICAL:n.top?"bottom":"top")}mergeGravity(t,i,o=!0){if("layout_gravity"===t){const t=this.renderParent;if(t){if(function(t){switch(t){case"left":case"start":case"right":case"end":case c.CENTER_HORIZONTAL:return!0}return!1}(i)&&(this.blockWidth||t.inlineWidth&&this.onlyChild||!o&&this.outerWrapper&&this.hasPX("maxWidth")))return;if(t.layoutRelative){if(i===c.CENTER_HORIZONTAL&&""===this.alignSibling("leftRight")&&""===this.alignSibling("rightLeft"))return this.anchorDelete("left","right"),void this.anchor("centerHorizontal","true")}else if(t.layoutConstraint){if(!t.layoutHorizontal&&!this.positioned)switch(i){case"top":this.anchor("top","parent",!1);break;case"right":case"end":""===this.alignSibling("rightLeft")&&this.anchor("right","parent",!1);break;case"bottom":this.anchor("bottom","parent",!1);break;case"left":case"start":""===this.alignSibling("leftRight")&&this.anchor("left","parent",!1);break;case c.CENTER_HORIZONTAL:""===this.alignSibling("leftRight")&&""===this.alignSibling("rightLeft")&&this.anchorParent(c.HORIZONTAL,void 0,void 0,!0)}return}}}else if(this.is(e.TEXT)&&this.textEmpty)return;const n=new Set,a=this.android(t);if(""!==a)for(const t of a.split("|"))n.add(t);n.add(this.localizeString(i));let r="";switch(n.size){case 0:break;case 1:r=At(n.values().next().value,!1);default:function s(t){const e=t+"_horizontal",i=t+"_vertical";(n.has(t)||n.has(e)&&n.has(i))&&(n.delete(e),n.delete(i),n.add(t))}s("center"),s("fill");let t="",e="",i="";for(const a of n.values())switch(a){case"left":case"start":case"right":case"end":case c.CENTER_HORIZONTAL:(""===t||o)&&(t=a);break;case"top":case"bottom":case c.CENTER_VERTICAL:(""===e||o)&&(e=a);break;default:i+=(""!==i?"|":"")+a}r=""!==t&&""!==e?t+"|"+e:t||e,""!==i&&(r+=(""!==r?"|":"")+i)}""!==r&&this.android(t,r)}applyOptimizations(){const t=this.renderParent;if(t){!(this.tableElement?"content-box"===this.css("boxSizing")||Q(8):this.styleElement)||!this.visibleStyle.borderWidth||this.is(e.LINE)||0!==this.renderChildren.length&&this.naturalChildren.every(t=>!t.pageFlow&&t.absoluteParent===this)||(this.modifyBox(256,this.borderLeftWidth),this.modifyBox(64,this.borderRightWidth),this.modifyBox(32,this.borderTopWidth),this.modifyBox(128,this.borderBottomWidth)),this.alignLayout(t),this.setLineHeight(t),this.inlineWidth&&this.renderChildren.some(t=>t.blockWidth&&t.some(t=>t.flexibleWidth))&&this.setLayoutWidth(this.documentRoot||t.inlineWidth?it(this.actualWidth):"match_parent")}}applyCustomizations(t=!0){const e=e=>{if(e)for(const i in e){const o=e[i];for(const e in o)this.attr(i,e,o[e],t)}},{tagName:i,controlName:o}=this;let n=M[0].assign;e(n[i]),e(n[o]);const a=M[this._api];a&&(n=a.assign,e(n[i]),e(n[o]))}setBoxSpacing(){var t;const i=this._boxReset,o=this._boxAdjustment,n=(t,e,n)=>{let a=0,r=0,s=0,l=0;for(let e=0;e<4;e++){const n=t[e];let c=void 0===i||0===i[n]?this[n]:0;if(0!==c)switch(n){case"marginRight":if(c<0)"right"===this.float&&ct(this.linear.right,this.documentParent.box.right)&&(c=0);else if(this.inline){const t=this.documentParent.box.right,e=this.bounds.right;if(Math.floor(e)>t){this.onlyChild||this.alignParent("left")||this.setSingleLine(!0);continue}e+c>t&&(c=st(t-e,0,c))}break;case"marginBottom":c<0&&this.pageFlow&&!this.blockStatic&&(c=0);break;case"paddingTop":case"paddingBottom":c=this.actualPadding(n,c)}switch(o&&(c+=o[n]),e){case 0:a=c;break;case 1:r=c;break;case 2:s=c;break;case 3:l=c}}if(0!==a||0!==l||0!==s||0!==r){let t=0,i=0,o=0;if(e&&this.positionStatic&&!this.blockWidth&&(l<0||r<0))switch(this.cssAscend("textAlign")){case"center":l<r?(r+=Math.abs(l),r/=2,l=0):(l+=Math.abs(r),l/=2,r=0);break;case"right":case"end":l<0&&(l=0)}!n&&this._api>=26&&(a===r&&r===s&&s===l?t=a:(l===r&&(i=l),a===s&&(o=a))),0!==t?this.android(e?c.MARGIN:c.PADDING,it(t)):(0!==i?this.android(e?c.MARGIN_HORIZONTAL:c.PADDING_HORIZONTAL,it(i)):(0!==l&&this.android(this.localizeString(e?c.MARGIN_LEFT:c.PADDING_LEFT),it(l)),0!==r&&this.android(this.localizeString(e?c.MARGIN_RIGHT:c.PADDING_RIGHT),it(r))),0!==o?this.android(e?c.MARGIN_VERTICAL:c.PADDING_VERTICAL,it(o)):(0!==a&&this.android(e?c.MARGIN_TOP:c.PADDING_TOP,it(a)),0!==s&&this.android(e?c.MARGIN_BOTTOM:c.PADDING_BOTTOM,it(s))))}};n(tt,!0,!0===(null===(t=this.renderParent)||void 0===t?void 0:t.is(e.GRID))),n(et,!1,!1)}setSingleLine(t=!1){if(this.textElement&&this.naturalChild){const e=this.actualParent;e.preserveWhiteSpace||"CODE"===e.tagName||this.multiline&&"nowrap"!==e.css("whiteSpace")||this.android("maxLines","1"),t&&this.textContent.trim().length>1&&this.android("ellipsize","end")}}extractAttributes(t){if("rtl"!==this.dir||this.imageOrSvgElement||(this.textElement?this.android("textDirection","rtl"):this.renderChildren.length&&this.android("layoutDirection","rtl")),this.styleElement){const t=ot(this.element,"android");for(const e in t){const i="attr"===e?"android":yt.test(e)?dt(e.substring(4),!1):"";if(""!==i)for(const o of t[e].split(";")){const[t,e]=o.split("::");t&&this.attr(i,t,e)}}if(this.naturalElement){const t=this.css("opacity");"1"!==t&&this.android("alpha",t)}}const e="\n"+"\t".repeat(t);let i="";for(const t of this.combine())i+=e+t;return i}setLayoutWidth(t,e=!0){this.android("layout_width",t,e)}setLayoutHeight(t,e=!0){this.android("layout_height",t,e)}alignLayout(t){if(this.layoutLinear)if(this.layoutVertical){if(!(t.layoutVertical||t.layoutFrame||this.documentRoot||this.hasAlign(1024))){let t,e=this.renderChildren;do{if(t=e[0],t&&t.naturalChild)break;e=t.renderChildren}while(e.length);t.baseline&&(t.textElement||t.inputElement)&&this.android("baselineAlignedChildIndex","0")}}else{const t=this.renderChildren;if(t.some(t=>t.floating)&&!t.some(t=>t.imageElement&&t.baseline))this.android("baselineAligned","false");else{const e=squared.base.NodeUI.baseline(t,!0);e&&(e.textElement||e.inputElement)&&this.android("baselineAlignedChildIndex",""+t.indexOf(e))}const e=t.length;for(let i=1;i<e;i++)t[i].setSingleLine(i===e-1)}}setLineHeight(t){var e;let i=this.lineHeight;if(i>0){const o=this.has("lineHeight");if(this.multiline)St(this,i,o,!0);else{const n=this.renderChildren.length>0;if(o||n||0===t.lineHeight)if(n)if(this.inline)this.renderEach(t=>{t.lineHeight>i&&(i=t.lineHeight),t.setCacheValue("lineHeight",0)}),vt(this,i,o,!0,!0);else{const t=this.horizontalRows||[this.renderChildren];let o=!1;const n=t.length;for(let a=0;a<n;a++){const r=t[a],s=t[a+1];let l=s&&(1===s.length&&s[0].multiline||s[0].lineBreakLeading);!l&&a<n-1&&(null===(e=t[a+1].find(t=>t.baselineActive))||void 0===e?void 0:e.has("lineHeight"))&&(l=!0);const c=r.find(t=>t.baselineActive),d=1===r.length&&!r[0].multiline,h=d||!o&&(a>0||1===n)||r[0].lineBreakLeading,u=d||!l&&(a<n-1||1===n);if(c){if(c.has("lineHeight")){o=!0;continue}vt(c,i,!1,h,u)}else for(const t of r)0!==t.length||t.has("lineHeight")||t.multiline||vt(t,i,!1,h,u);o=1===r.length&&r[0].multiline}}else vt(this,i,o,!0,!0)}}}get documentId(){const t=this.controlId;return t?"@id/"+t:""}get anchorTarget(){const t=this.outerWrapper;if(void 0===t)return this;const e=this.renderParent;return e&&(e.layoutConstraint||e.layoutRelative)?this:t}set anchored(t){const e=this.constraint;e.horizontal=t,e.vertical=t}get anchored(){const t=this.constraint;return t.horizontal&&t.vertical}set containerType(t){this._containerType=t}get containerType(){if(0===this._containerType){const t=r[this.containerName];t&&(this._containerType=t)}return this._containerType}get imageOrSvgElement(){return this.imageElement||this.svgElement}get layoutFrame(){return this.is(e.FRAME)}get layoutLinear(){return this.is(e.LINEAR)}get layoutRelative(){return this.is(e.RELATIVE)}get layoutConstraint(){return this.is(e.CONSTRAINT)}set renderExclude(t){this._cached.renderExclude=t}get renderExclude(){let t=this._cached.renderExclude;if(void 0===t){if(this.styleElement&&0===this.length&&!this.imageElement){const e=this.renderParent;t=this.blockStatic||e&&(e.layoutVertical||e.layoutFrame)?0===this.contentBoxHeight&&((0===this.bounds.height||this.textEmpty&&this.pseudoElement&&this.pageFlow)&&this.marginTop<=0&&this.marginBottom<=0||"hidden"===this.css("overflow")&&J.regex.CHAR.UNITZERO.test(this.css("height")))&&""===this.alignSibling("topBottom")&&""===this.alignSibling("bottomTop"):this.textEmpty&&(0===this.bounds.width&&0===this.contentBoxWidth&&this.marginLeft<=0&&this.marginRight<=0&&!this.visibleStyle.background||0===this.bounds.height&&0===this.contentBoxHeight&&this.marginTop<=0&&this.marginBottom<=0)&&""===this.alignSibling("leftRight")&&""===this.alignSibling("rightLeft")&&""===this.alignSibling("topBottom")&&""===this.alignSibling("bottomTop")}else t=!1;this._cached.renderExclude=t}return t}get baselineHeight(){let t=this._cached.baselineHeight;if(void 0===t){if(t=0,this.plainText){const e=this.bounds;t=e.height/(e.numberOfLines||1)}else if(this.multiline&&this.cssTry("white-space","nowrap")?(t=this.boundingClientRect.height,this.cssFinally("white-space")):t=this.hasHeight?this.actualHeight:this.bounds.height,this.naturalElement&&this.lineHeight>t)t=this.lineHeight;else if(this.inputElement)switch(this.controlName){case n.BUTTON:t+=2;break;case n.RADIO:case n.CHECKBOX:t+=8;break;case n.SELECT:t+=4,t/=this.toElementInt("size")||1}else this.is(e.PROGRESS)&&(t+=4);this._cached.baselineHeight=t}return t}get leftTopAxis(){let t=this._cached.leftTopAxis;if(void 0===t){switch(t=!1,this.cssInitial("position")){case"absolute":const{absoluteParent:e,documentParent:i}=this;e===i?t=!0:e&&e.box.right===i.linear.right&&this.has("right")&&!this.has("left")&&(this.css("top",it(this.linear.top-i.box.top),!0),t=!0);break;case"fixed":t=!0}this._cached.leftTopAxis=t}return t}get support(){let t=this._cached.support;return void 0===t&&(t={container:{positionRelative:this.layoutRelative||this.layoutConstraint},maxDimension:this.textElement||this.imageOrSvgElement},0!==this.containerType&&(this._cached.support=t)),t}get layoutWidth(){return this.android("layout_width")}get layoutHeight(){return this.android("layout_height")}get inlineWidth(){return"wrap_content"===this.layoutWidth}get inlineHeight(){return"wrap_content"===this.layoutHeight}get blockWidth(){return"match_parent"===this.layoutWidth}get blockHeight(){return"match_parent"===this.layoutHeight}get flexibleWidth(){return Rt(this,this.layoutWidth)}get flexibleHeight(){return Rt(this,this.layoutHeight)}set localSettings(t){this._localSettings?Object.assign(this._localSettings,t):this._localSettings=Object.assign({},t);const e=t.targetAPI;e&&(this._api=e)}get localSettings(){return this._localSettings}});class Lt extends(Ct(squared.base.NodeUI)){}class Ot extends(Ct(squared.base.NodeGroupUI)){constructor(t,e,i,o){super(t,e.sessionId,void 0,o),this.depth=e.depth,this.containerName=e.containerName+"_GROUP",this.actualParent=e.actualParent,this.documentParent=e.documentParent,this.retain(i)}}const Pt=squared.lib,{isPlatform:kt,isUserAgent:Dt}=Pt.client,{parseColor:Mt}=Pt.color,{formatPX:Bt,getSrcSet:Wt,isLength:Ht,isPercent:Xt,parseUnit:Gt}=Pt.css,{createElement:Vt,getElementsBetweenSiblings:Ft,getRangeClientRect:zt}=Pt.dom,{maxArray:Ut,truncate:qt}=Pt.math,{CHAR:jt}=Pt.regex,{getElementAsNode:Yt}=Pt.session,{aboveRange:Zt,assignEmptyValue:Kt,convertFloat:$t,filterArray:Jt,hasBit:Qt,isString:te,objectMap:ee,optionalAsObject:ie,partitionArray:oe,withinRange:ne}=Pt.util,{STRING_XMLENCODING:ae,replaceTab:re}=Pt.xml,se=squared.base,{NodeUI:le}=se,{APP_SECTION:ce,NODE_PROCEDURE:de,NODE_RESOURCE:he}=se.lib.enumeration,ue=[c.HORIZONTAL,c.VERTICAL];let pe;function ge(t){t.some(t=>t.floating)&&t.sort((t,e)=>{const i=t.floating,o=e.floating;if(i&&o){const i=t.float,o=e.float;if(i!==o)return"left"===i?-1:1;if("right"===i&&"right"===o)return 1}else{if(i)return"left"===t.float?-1:1;if(o)return"left"===e.float?1:-1}return 0})}function me(t){return t.length>1&&t.sort((t,e)=>{const i=t.node,o=e.node,n=i.innerWrapped||i,a=o.innerWrapped||o;if(n.absoluteParent===a.absoluteParent)return n.zIndex===a.zIndex?n.childIndex<a.childIndex?-1:1:n.zIndex<a.zIndex?-1:1;{const t=a.bounds;if(n.intersectX(t,"bounds")&&n.intersectY(t,"bounds"))return n.depth===a.depth?0:n.id<a.id?-1:1}return 0}),t}function fe(t,e){let i,o=0;for(const n of e)if(n!==t&&!n.baselineAltered){let e=n.bounds.height;if(e>0||n.textElement){if(n.blockVertical&&t.blockVertical){n.anchor("bottom",t.documentId);continue}if(!n.textElement&&!n.inputElement){for(const t of n.renderChildren.filter(t=>t.imageOrSvgElement&&t.baseline))t.bounds.height>e&&(e=t.bounds.height);if(e>t.bounds.height){void 0===i||e>=o?(i&&i.anchor(n.imageOrSvgElement?"baseline":"bottom",n.documentId),i=n,o=e):n.anchor(i.imageOrSvgElement?"baseline":"bottom",i.documentId);continue}if(ne(n.linear.top,n.documentParent.box.top)){n.anchor("top","true");continue}}(n.naturalChild&&0===n.length||ye(n))&&n.anchor("baseline",t.documentId)}else n.imageOrSvgElement&&n.baseline&&(i=n)}i&&t.anchor(i.imageOrSvgElement?"baseline":"bottom",i.documentId)}function ye(t){if(t.layoutHorizontal){const e=t.renderChildren;return e.length>0&&e.every(t=>t.baseline&&!t.baselineAltered&&(!t.positionRelative||t.positionRelative&&0===t.top&&0===t.bottom))}if(t.layoutVertical){const e=t.renderChildren,i=e[0];return!!i&&i.baseline&&(1===e.length||i.textElement)}return!1}function be(t,e,i){if(i>0){if(t.documentBody)switch(e){case 32:i-=t.marginTop;break;case 64:i-=t.marginRight;break;case 128:i-=t.marginBottom;break;case 256:i-=t.marginLeft}if(1!==t.getBox(e)[0])switch(e){case 32:i+=t.borderTopWidth-t.paddingTop;break;case 64:i+=t.borderRightWidth-t.paddingRight;break;case 128:i+=t.borderBottomWidth-t.paddingBottom;break;case 256:i+=t.borderLeftWidth-t.paddingLeft}return Math.max(i,0)}return i}function Te(t,e){if("left"===e.float){if(e.marginRight<0){return t.modifyBox(16,e.actualWidth+(e.hasWidth?e.paddingLeft+e.borderLeftWidth:0)-Math.abs(e.marginRight)),t.anchor("left",e.documentId),e.modifyBox(4),!0}}else if("right"===t.float&&e.marginLeft<0){const i=Math.abs(e.marginLeft),o=e.actualWidth;return i<o&&t.modifyBox(4,o-i),t.anchor("right",e.documentId),e.modifyBox(16),!0}return!1}function Ae(t,e,i){var o,n;if(!t.inputElement&&!t.imageOrSvgElement){const r=t.documentParent,s=t.renderParent;function a(){s.nodeGroup&&(s.addAlign(64),s.unsetCache("blockStatic"))}if(!t.blockWidth&&!r.flexElement){const o=t.cssInitial(i?"minWidth":"minHeight",!0);if(Ht(o,!0)&&"0px"!==o){let n=!1;i?t.ascend(t=>t.hasPX("width")||t.blockStatic).length&&(t.setLayoutWidth("0px",!1),n=t.flexibleWidth,a()):(t.absoluteParent||r).hasHeight&&!t.hasPX("height")&&(t.setLayoutHeight("0px",!1),n=t.flexibleHeight),n&&(t.app(i?"layout_constraintWidth_min":"layout_constraintHeight_min",Bt(t.parseUnit(o,e.toLowerCase()))),t.css(i?"minWidth":"minHeight","auto"))}}const l=t.cssInitial(i?"maxWidth":"maxHeight",!0);let c=0;if(Ht(l,!0)){let d=!1;if(i?(t.outerWrapper||t.ascend(t=>t.hasPX("width")||t.blockStatic).length)&&(t.setLayoutWidth(s.flexibleWidth?"match_parent":"0px",!!(null===(o=t.innerWrapped)||void 0===o?void 0:o.naturalChild)),d=t.flexibleWidth,a(),d&&!Xt(l)&&(c+=t.contentBoxWidth)):(t.absoluteParent||r).hasHeight&&!t.hasPX("height")&&(t.setLayoutHeight(s.flexibleHeight?"match_parent":"0px",!!(null===(n=t.innerWrapped)||void 0===n?void 0:n.naturalChild)),d=t.flexibleHeight,d&&!Xt(l)&&(c+=t.contentBoxHeight)),d){const o=t.parseUnit(l,e.toLowerCase());t.app(i?"layout_constraintWidth_max":"layout_constraintHeight_max",Bt(o+c)),i&&t.layoutVertical&&t.each(t=>{t.textElement&&!t.hasPX("maxWidth")&&t.css("maxWidth",Bt(o))})}}}}function Ee(t,e,i,o){const n=t.cssInitial(e,!0);let a;if(o){if(Ht(n,!0)&&(a=Bt(t.bounds[e]),t.imageElement)){const{naturalWidth:o,naturalHeight:n}=t.element;if(o>0&&n>0){const a=Bt(t.bounds[e]/(i?o:n)*(i?n:o));i?t.setLayoutHeight(a,!1):t.setLayoutWidth(a,!1)}}}else if(Xt(n)&&"100%"!==n){t.app(i?"layout_constraintWidth_percent":"layout_constraintHeight_percent",qt(parseFloat(n)/100,t.localSettings.floatPrecision)),a="0px"}return!!a&&(i?t.setLayoutWidth(a,!1):t.setLayoutHeight(a,!1),!0)}function Se(t,e){if(e||t.documentParent.layoutElement||!t.documentParent.hasPX("width",!1))Ee(t,"width",!0,e);else{const e=t.cssInitial("width",!0);Xt(e)&&"100%"!==e&&t.setLayoutWidth(Bt(t.bounds.width))}}function ve(t,e){if(t.documentParent.hasPX("height",!1))if(e||t.documentParent.layoutElement)Ee(t,"height",!1,e);else{const e=t.cssInitial("height",!0);Xt(e)&&"100%"!==e&&t.setLayoutHeight(Bt(t.bounds.height))}else{const e=t.cssInitial("height");"100%"===e&&t.alignParent("top")&&t.alignParent("bottom")?t.setLayoutHeight("0px",!1):Ht(e,!0)&&t.setLayoutHeight(Bt(t.bounds.height),!1)}}function xe(t){return Jt(t,t=>(t.baseline||Ht(t.verticalAlign,!0))&&("TEXTAREA"===t.tagName||"SELECT"===t.tagName&&t.toElementInt("size")>1)||"text-bottom"===t.verticalAlign&&"INPUT_IMAGE"!==t.containerName).sort((t,e)=>t.baselineHeight===e.baselineHeight?"SELECT"===t.tagName?1:0:t.baselineHeight>e.baselineHeight?-1:1)}function Re(t){return t?["right","left","rightLeft","leftRight"]:["left","right","leftRight","rightLeft"]}function Ie(t,e){if("BR"===t.tagName)return!0;{const i=Yt(t,e);if(i)return!i.excluded&&i.blockStatic}return!1}function we(t){const e=t.length;for(let i=0;i<e;i++){const o=t[i];i>0&&o.anchor("leftRight",t[i-1].documentId),i<e-1&&o.anchor("rightLeft",t[i+1].documentId),o.anchored=!0}const i=t[0],o=t[e-1];i.anchor("left","parent"),o.anchor("right","parent"),i.anchorStyle(c.HORIZONTAL,"spread_inside")}function _e(t,e,i){const o=t[0][0],n=t.length;for(let a=0;a<n;a++){const n=t[a],r=n.length;for(let s=0;s<r;s++){const l=n[s];if(0===s?0===a?i?(i.anchor("bottomTop",l.documentId),l.anchor("topBottom","string"==typeof i?i:i.documentId)):(l.anchor("top","parent"),l.anchorStyle(c.VERTICAL)):(l.anchor("top",o.documentId),l.anchorStyle(c.VERTICAL),l.modifyBox(2)):(n[s-1].anchor("bottomTop",l.documentId),l.anchor("topBottom",n[s-1].documentId)),s>0&&l.anchor("left",n[0].documentId),s===r-1){if(e)l.anchor("bottom","parent");else if(a>0&&!l.multiline){const e=t[a-1][s];e&&!e.multiline&&ne(l.bounds.top,e.bounds.top)&&(l.anchor("top",e.documentId),l.modifyBox(2,-e.marginTop))}l.modifyBox(8)}l.anchored=!0,l.positioned=!0}}}const Ne=t=>t.plainText&&O.hasLineBreak(t,!1,!0)||t.preserveWhiteSpace&&jt.LEADINGNEWLINE.test(t.textContent),Ce=t=>t.some(t=>t.positionRelative||!t.pageFlow&&t.positionAuto)?e.RELATIVE:e.LINEAR,Le=t=>Math.max(t.actualHeight,t.lineHeight);class Oe extends squared.base.ControllerUI{constructor(t,e){super(),this.application=t,this.cache=e,this.localSettings={layout:{pathName:"res/layout",fileExtension:"xml",baseTemplate:ae},directory:{string:"res/values",font:"res/font",image:"res/drawable"},svg:{enabled:!1},style:{inputBorderColor:"rgb(0, 0, 0)",inputBackgroundColor:kt(4)?"rgb(255, 255, 255)":"rgb(221, 221, 221)",meterForegroundColor:"rgb(99, 206, 68)",meterBackgroundColor:"rgb(237, 237, 237)",progressForegroundColor:"rgb(153, 153, 158)",progressBackgroundColor:"rgb(237, 237, 237)"},supported:{fontFormat:["truetype","opentype"],imageFormat:["jpg","jpeg","png","gif","bmp","webp","svg","ico","cur"]},unsupported:{cascade:new Set(["SELECT","svg"]),tagName:new Set(["HEAD","TITLE","META","SCRIPT","STYLE","LINK","OPTION","INPUT:hidden","COLGROUP","MAP","AREA","SOURCE","TEMPLATE","DATALIST"]),excluded:new Set(["BR","WBR"])},precision:{standardFloat:4},deviations:{textMarginBoundarySize:8,subscriptBottomOffset:.25,superscriptTopOffset:.25,legendBottomOffset:.25}}}static setConstraintDimension(t){Se(t,!1),ve(t,!1),Ae(t,"Width",!0),Ae(t,"Height",!1)}static setFlexDimension(t,e){const i="width"===e,o=t.flexbox,{grow:n,basis:a}=o;function r(e){i?t.setLayoutWidth("0px"):t.setLayoutHeight("0px"),n>0?(t.app(i?"layout_constraintHorizontal_weight":"layout_constraintVertical_weight",qt(n,t.localSettings.floatPrecision)),""!==e&&t.css(i?"minWidth":"minHeight",e,!0)):""!==e&&(o.shrink<1?(t.app(i?"layout_constraintWidth_min":"layout_constraintHeight_min",Bt((1-o.shrink)*parseFloat(e))),t.app(i?"layout_constraintWidth_max":"layout_constraintHeight_max",e)):t.app(i?"layout_constraintWidth_min":"layout_constraintHeight_min",e))}if(Ht(a))r(t.convertPX(a));else if("0%"!==a&&Xt(a))t.app(i?"layout_constraintWidth_percent":"layout_constraintHeight_percent",(parseFloat(a)/100).toPrecision(t.localSettings.floatPrecision)),r("");else{const o=t.documentParent;n>0&&(i&&o.css("flexDirection").startsWith("row")||!i&&o.css("flexDirection").startsWith("column")&&(o.hasHeight||o.blockHeight||o.flexibleHeight))?r(t.hasPX(e,!1)?Bt(i?t.actualWidth:t.actualHeight):""):i?Se(t,!1):ve(t,!1)}o.shrink>1&&t.app(i?"layout_constrainedWidth":"layout_constrainedHeight","true"),Ae(t,"Width",!0),i?ve(t,!0):Se(t,!0),Ae(t,"Height",!1)}init(){const t=this.userSettings;pe={targetAPI:t.targetAPI||29,supportRTL:!!t.supportRTL,floatPrecision:this.localSettings.precision.standardFloat},super.init()}optimize(t){for(const e of t)e.applyOptimizations(),e.hasProcedure(de.CUSTOMIZATION)&&e.applyCustomizations(this.userSettings.customizationsOverwritePrivilege)}finalize(t){const e=this.userSettings.insertSpaces;for(const i of t)i.content=re(i.content.replace(/{#0}/,K(i.content)),e)}processUnknownParent(t){const i=t.node;if(i.has("columnCount")||i.hasPX("columnWidth"))t.setContainerType(e.CONSTRAINT,260);else if(t.some(t=>!t.pageFlow&&!t.positionAuto))t.setContainerType(e.CONSTRAINT,34);else if(t.visible.length<=1){const o=i.find(t=>t.visible);if(!o)return this.processUnknownChild(t);if(i.documentRoot&&function(t,e){if(e.dataset.target&&t.element){const i=document.getElementById(e.dataset.target);return null!==i&&i!==t.element}return!1}(i,o))return i.hide(),{layout:t,next:!0};i.naturalElement&&o.plainText?(i.clear(),i.inlineText=!0,i.textContent=o.textContent,o.hide(),t.setContainerType(e.TEXT)):i.autoMargin.horizontal||t.parent.layoutConstraint&&t.parent.flexElement&&"baseline"===i.flexbox.alignSelf&&o.textElement?t.setContainerType(e.LINEAR,4104):o.percentWidth?(i.hasPX("width")||i.setLayoutWidth("match_parent"),t.setContainerType(e.CONSTRAINT,4160)):o.baseline&&(o.textElement||o.inputElement)?t.setContainerType(e.LINEAR,16):t.setContainerType(e.FRAME,4096)}else O.hasLineBreak(i,!0)?t.setContainerType(t.some(t=>t.positionRelative)?e.RELATIVE:e.LINEAR,18):this.checkConstraintFloat(t)?t.setContainerType(e.CONSTRAINT,512):t.linearX?(this.checkFrameHorizontal(t)?t.renderType|=520:this.checkConstraintHorizontal(t)?t.setContainerType(e.CONSTRAINT):this.checkLinearHorizontal(t)?(t.setContainerType(e.LINEAR),t.floated.size&&ge(t.children)):t.setContainerType(e.RELATIVE),t.add(8)):t.linearY?t.setContainerType(Ce(t),16|(i.documentRoot?2:0)):t.every(t=>t.inlineFlow)?this.checkFrameHorizontal(t)?t.renderType|=520:t.setContainerType(Ce(t),18):t.some(e=>e.alignedVertically(e.childIndex>0?t.children.slice(0,e.childIndex):void 0,t.cleared)>0)?t.setContainerType(Ce(t),18):t.setContainerType(e.CONSTRAINT,2);return{layout:t}}processUnknownChild(t){const i=t.node,o=i.visibleStyle;if(!i.inlineText||i.textEmpty&&!o.borderWidth)if(i.blockStatic&&(o.borderWidth||o.backgroundImage||i.paddingTop+i.paddingBottom>0)&&0===i.naturalElements.length)t.setContainerType(e.FRAME);else{if(i.naturalElement&&!i.documentRoot&&""===i.elementId&&0===i.bounds.height&&0===i.marginTop&&0===i.marginRight&&0===i.marginBottom&&0===i.marginLeft&&!o.background&&!i.dataset.use)return i.hide(),{layout:t,next:!0};o.background?(t.setContainerType(e.TEXT),i.inlineText=!0):t.setContainerType(e.FRAME)}else t.setContainerType(e.TEXT);return{layout:t}}processTraverseHorizontal(t,i){const o=t.parent;return 1===t.floated.size&&t.same((t,e)=>t.floating&&(t.positiveAxis||t.renderExclude)?-1:e)?(t.node=this.createNodeGroup(t.node,t.children,o),t.setContainerType(e.CONSTRAINT,512)):this.checkFrameHorizontal(t)?(t.node=this.createNodeGroup(t.node,t.children,o),t.renderType|=520):t.length!==i.length||o.hasAlign(16)?(t.node=this.createNodeGroup(t.node,t.children,o),this.processLayoutHorizontal(t)):o.addAlign(8),t}processTraverseVertical(t){const{floated:i,cleared:o}=t;return t.some((e,i)=>e.lineBreakTrailing&&i<t.length-1)?t.parent.hasAlign(16)||(t.node=this.createLayoutNodeGroup(t),t.setContainerType(Ce(t),18)):1===i.size&&t.every((e,i)=>0===i||i===t.length-1||o.has(e))?(t.node=this.createLayoutNodeGroup(t),t.same(t=>t.float)?t.setContainerType(e.CONSTRAINT,512):o.size?t.renderType|=520:t.setContainerType(t.some(t=>t.positionRelative)?e.RELATIVE:e.LINEAR,16)):i.size&&o.size?(t.node=this.createLayoutNodeGroup(t),t.renderType|=528):i.size&&t.children[0].floating?(t.node=this.createLayoutNodeGroup(t),t.renderType|=520):t.parent.hasAlign(16)||(t.node=this.createLayoutNodeGroup(t),t.setContainerType(t.some(t=>t.positionRelative)?e.RELATIVE:e.LINEAR,16)),t}processLayoutHorizontal(t){return this.checkConstraintFloat(t,!0)?t.setContainerType(e.CONSTRAINT,512):this.checkConstraintHorizontal(t)?t.setContainerType(e.CONSTRAINT,8):this.checkLinearHorizontal(t)?(t.setContainerType(e.LINEAR,8),t.floated.size&&ge(t.children)):t.setContainerType(e.RELATIVE,8),t}sortRenderPosition(t,e){if(t.layoutRelative&&e.some(t=>0!==t.node.zIndex))e.sort((t,e)=>{const i=t.node.zIndex,o=e.node.zIndex;return i===o?0:i>o?1:-1});else if(t.layoutConstraint&&e.some(t=>!t.node.pageFlow||0!==t.node.zIndex)){const t=[],i=[],o=[];for(const n of e){const e=n.node;e.pageFlow?i.push(n):e.zIndex>=0?o.push(n):t.push(n)}return me(t),me(o),t.concat(i,o)}return e}checkFrameHorizontal(t){const e=t.floated;if(2===e.size||(e.has("right")||1===e.size&&"center"===t.node.cssAscend("textAlign",!0))&&t.some(t=>t.pageFlow))return!0;if(e.has("left")&&!t.linearX){const e=t.item(0);return e.pageFlow&&e.floating}return!1}checkConstraintFloat(t,e=!1){if(t.length>1){let i=0,o=0;for(const n of t){const a=t.cleared.has(n)||n.renderExclude;if(-1!==i&&(n.positiveAxis&&(!n.positionRelative||n.positionAuto)&&(n.floating||n.autoMargin.horizontal)||a)?i++:i=-1,-1!==o&&(n.percentWidth||a)?o++:e||(o=-1),i<=0&&o<=0)return!1}return!0}return!1}checkConstraintHorizontal(t){const e=t.floated;let i=!1;switch(t.node.cssInitial("textAlign")){case"center":i=0===e.size;break;case"end":case"right":i=0===e.size||e.has("right")&&1===e.size&&0===t.cleared.size}return!(!i&&!t.some(e=>e.blockVertical||e.percentWidth||("middle"===e.verticalAlign||"bottom"===e.verticalAlign)&&!t.parent.hasHeight))&&(t.singleRowAligned&&t.every(t=>t.positiveAxis||t.renderExclude))}checkLinearHorizontal(t){const e=t.floated;if((0===e.size||1===e.size&&e.has("left"))&&0===t.node.lineHeight&&t.singleRowAligned){const{fontSize:e,lineHeight:i}=t.children[0];for(const o of t)if(!o.naturalChild||!o.baseline||0!==o.length||o.inputElement||o.positionRelative||o.blockVertical||o.positionAuto||0!==o.zIndex||0!==i&&(o.lineHeight!==i||o.fontSize!==e)||"WBR"===o.tagName)return!1;return!0}return!1}setConstraints(){for(const t of this.cache)if(t.layoutRelative)this.processRelativeHorizontal(t,t.renderChildren);else if(t.layoutConstraint&&t.hasProcedure(de.CONSTRAINT)){const e=t.renderFilter(t=>!t.positioned);if(e.length){const[i,o]=oe(e,t=>t.pageFlow||t.positionAuto);if(o.length)for(const e of o)if(e.leftTopAxis){const i=e.autoMargin;e.hasWidth&&i.horizontal?e.hasPX("left")&&i.right?(e.anchor("left","parent"),e.modifyBox(16,e.left)):e.hasPX("right")&&i.left?(e.anchor("right","parent"),e.modifyBox(4,e.right)):(e.anchorParent(c.HORIZONTAL),e.modifyBox(16,e.left),e.modifyBox(4,e.right)):(e.hasPX("left")&&(e.anchor("left","parent"),e.hasPX("right")||"100%"!==e.css("width")||e.anchor("right","parent"),e.modifyBox(16,be(t,256,e.left))),!e.hasPX("right")||e.hasPX("width")&&"100%"!==e.css("width")&&e.hasPX("left")||(e.anchor("right","parent"),e.modifyBox(4,be(t,64,e.right)))),e.hasHeight&&i.vertical?e.hasPX("top")&&i.bottom?(e.anchor("top","parent"),e.modifyBox(2,e.top)):e.hasPX("bottom")&&i.top?(e.anchor("bottom","parent"),e.modifyBox(8,e.bottom)):(e.anchorParent(c.VERTICAL),e.modifyBox(2,e.top),e.modifyBox(8,e.bottom)):(e.hasPX("top")&&(e.anchor("top","parent"),e.hasPX("bottom")||"100%"!==e.css("height")||e.anchor("bottom","parent"),e.modifyBox(2,be(t,32,e.top))),!e.hasPX("bottom")||e.hasPX("height")&&"100%"!==e.css("height")&&e.hasPX("top")||(e.anchor("bottom","parent"),e.modifyBox(8,be(t,128,e.bottom)))),e.positioned=!0}if(i.length){if(t.layoutHorizontal)this.processConstraintHorizontal(t,i);else if(t.hasAlign(256))this.processConstraintColumn(t,i);else if(i.length>1)this.processConstraintChain(t,i);else{const t=i[0];t.anchorParent(c.HORIZONTAL),t.anchorParent(c.VERTICAL),t.rightAligned?t.anchorStyle(c.HORIZONTAL,"packed",1):t.centerAligned||t.anchorStyle(c.HORIZONTAL),t.autoMargin.topBottom||t.anchorStyle(c.VERTICAL),Oe.setConstraintDimension(t)}this.evaluateAnchors(i)}for(const i of e)if(!i.anchored)if(i.outerWrapper){const{horizontal:t,vertical:e}=i.constraint;t&&i.anchorParent(c.HORIZONTAL),e&&i.anchorParent(c.VERTICAL)}else this.addGuideline(i,t)}}}renderNodeGroup(t){const{node:i,containerType:o,alignmentType:n}=t,a=q();let r=!1;switch(o){case e.LINEAR:Qt(n,16)?(a.android.orientation=c.VERTICAL,r=!0):Qt(n,8)&&(a.android.orientation=c.HORIZONTAL,r=!0);break;case e.GRID:const{columnCount:i,rowCount:o}=t,s=a.android;o>0&&(s.rowCount=""+o),s.columnCount=i>0?""+i:"2",r=!0;break;case e.FRAME:case e.RELATIVE:case e.CONSTRAINT:r=!0;break;default:if(0===t.length)return this.renderNode(t)}if(r){const e=i.dataset;return i.setControlType(Lt.getControlName(o,i.localSettings.targetAPI),o),i.addAlign(n),i.render(!e.use&&e.target?this.application.resolveTarget(e.target):t.parent),i.apply(a),{type:1,node:i,controlName:i.controlName}}}renderNode(t){const{containerType:i,node:o}=t;let a=Lt.getControlName(i,o.localSettings.targetAPI);o.setControlType(a,i),o.addAlign(t.alignmentType);let r=t.parent,s=o.dataset.use?void 0:o.dataset.target;switch(o.tagName){case"IMG":{const i=o.element,a=o.absoluteParent||o.documentParent;let l=o.toFloat("width"),c=o.toFloat("height"),d=o.percentWidth?l:-1;const h=o.percentHeight?c:-1;let u,p="fitXY";if(i.srcset)if(u=Wt(i,this.localSettings.supported.imageFormat),u.length){const t=u[0].actualWidth;if(t){if(-1===d){l=t,o.css("width",Bt(l),!0);const e=this.application.resourceHandler.getImage(i.src);e&&e.width>0&&e.height>0?(c=e.height*(l/e.width),o.css("height",Bt(c),!0)):o.android("adjustViewBounds","true")}else l=r.box.width,o.android("adjustViewBounds","true");d=-1}}else u=void 0;if(o.hasResource(he.IMAGE_SOURCE)){const t=this.application.resourceHandler.addImageSrc(i,"",u);""!==t&&o.android("src","@drawable/"+t)}if(-1!==d||-1!==h)d>=0&&(l*=a.box.width/100,d<100&&!r.layoutConstraint&&(o.css("width",Bt(l)),o.android("adjustViewBounds","true"))),h>=0&&(c*=a.box.height/100,!(h<100)||r.layoutConstraint&&a.hasHeight||(o.css("height",Bt(c)),o.android("adjustViewBounds","true")));else{switch(o.css("objectFit")){case"contain":p="centerInside";break;case"cover":p="centerCrop";break;case"scale-down":p="fitCenter";break;case"none":p="center"}(0===l&&c>0||0===c&&l>0)&&o.android("adjustViewBounds","true")}if(o.android("scaleType",p),o.baseline&&(o.android("baselineAlignBottom","true"),o.marginBottom>0&&r.layoutLinear&&r.layoutHorizontal&&o.mergeGravity("layout_gravity","bottom")),!o.pageFlow&&r===o.absoluteParent&&(o.left<0&&"hidden"===r.css("overflowX")||o.top<0&&"hidden"===r.css("overflowY"))){const i=this.application,d=i.createNode();d.setControlType(n.FRAME,e.FRAME),d.inherit(o,"base"),d.positionAuto=!1,d.exclude(he.ALL,de.ALL),d.cssApply({position:o.css("position"),zIndex:""+o.zIndex}),r.appendTry(o,d),o.parent=d,d.setLayoutWidth(l>0?l<a.box.width?Bt(l):"match_parent":"wrap_content"),d.setLayoutHeight(c>0?c<a.box.height?Bt(c):"match_parent":"wrap_content"),d.render(s?i.resolveTarget(s):r),d.saveAsInitial(),d.innerWrapped=o,o.outerWrapper=d,r.layoutConstraint||(o.modifyBox(2,o.top),o.modifyBox(16,o.left)),i.addLayoutTemplate(r,d,{type:1,node:d,controlName:n.FRAME}),r=d,t.parent=d,s=void 0}break}case"INPUT":{const t=o.element,e=t.type;switch(e){case"checkbox":t.checked&&o.android("checked","true");break;case"text":o.android("inputType","text");break;case"password":o.android("inputType","textPassword");break;case"range":case"time":case"number":case"date":case"datetime-local":switch(e){case"number":case"range":o.android("inputType","number");break;case"date":o.android("inputType","date");break;case"time":o.android("inputType","time");break;case"datetime-local":o.android("inputType","datetime")}te(t.min)&&o.android("min",t.min),te(t.max)&&o.android("max",t.max);break;case"email":case"tel":case"url":case"week":case"month":case"search":switch(e){case"email":o.android("inputType","textEmailAddress");break;case"tel":o.android("inputType","phone");break;case"url":o.android("inputType","textUri");break;default:o.android("inputType","text")}-1!==t.minLength&&o.android("minLength",""+t.minLength),t.maxLength>0&&o.android("maxLength",""+t.maxLength)}break}case"TEXTAREA":{const t=o.element;switch(o.android("minLines",t.rows>0?""+t.rows:"2"),o.css("verticalAlign")){case"middle":o.mergeGravity("gravity",c.CENTER_VERTICAL);break;case"bottom":o.mergeGravity("gravity","bottom");break;default:o.mergeGravity("gravity","top")}t.maxLength>0&&o.android("maxLength",""+t.maxLength),!o.hasPX("width")&&t.cols>0&&o.css("width",Bt(8*t.cols),!0),o.android("hint",t.placeholder),o.android("scrollbars",c.VERTICAL),o.android("inputType","textMultiLine"),o.overflowX&&o.android("scrollHorizontally","true");break}case"LEGEND":{o.hasWidth||(o.css("minWidth",Bt(o.actualWidth),!0),o.css("display","inline-block",!0));const t=o.actualHeight*this.localSettings.deviations.legendBottomOffset;o.modifyBox(8,t),o.linear.bottom+=t;break}case"METER":case"PROGRESS":{let t,e;if("METER"===o.tagName){({meterForegroundColor:t,meterBackgroundColor:e}=this.localSettings.style);const i=o.element,{value:n,max:a}=i;a&&(n&&o.android("progress",""+Math.round(n/a*100)),100===a&&(o.android("min",""+i.min),o.android("max",""+a)))}else{({progressForegroundColor:t,progressBackgroundColor:e}=this.localSettings.style);const i=o.element,{value:n,max:a}=i;n&&o.android("progress",""+n),a&&o.android("max",""+a)}o.hasWidth||o.css("width",Bt(o.bounds.width),!0),o.hasHeight||o.css("height",Bt(o.bounds.height),!0),o.android("progressTint","@color/"+O.addColor(t)),o.android("progressBackgroundTint","@color/"+O.addColor(e)),o.inlineText=!1;break}}switch(a){case n.TEXT:let t="";if(o.overflowX&&(t+=c.HORIZONTAL),o.overflowY&&(t+=(""!==t?"|":"")+c.VERTICAL),""!==t&&o.android("scrollbars",t),o.has("letterSpacing")&&o.android("letterSpacing",qt(o.toFloat("letterSpacing")/o.fontSize,this.localSettings.precision.standardFloat)),"justify"===o.css("textAlign")&&o.android("justificationMode","inter_word"),o.has("textShadow")){const t=/^(rgba?\([^)]+\)|[a-z]+) (-?[\d.]+[a-z]+) (-?[\d.]+[a-z]+)\s*(-?[\d.]+[a-z]+)?.*$/.exec(o.css("textShadow"));if(t){const e=O.addColor(Mt(t[1]));""!==e&&(o.android("shadowColor","@color/"+e),o.android("shadowDx",qt(2*Gt(t[2],o.fontSize))),o.android("shadowDy",qt(2*Gt(t[3],o.fontSize))),o.android("shadowRadius",t[4]?qt(Math.max(Gt(t[4],o.fontSize),1)):"1"))}}"nowrap"===o.css("whiteSpace")&&(o.android("maxLines","1"),o.android("ellipsize","end"));break;case n.BUTTON:o.hasHeight||o.android("minHeight",Bt(Math.ceil(o.actualHeight))),o.mergeGravity("gravity",c.CENTER_VERTICAL);break;case n.EDIT:{const t=o.element.list;t&&t.children.length&&(a=n.EDIT_LIST,o.controlName=a)}case n.RANGE:o.hasPX("width")||o.css("width",Bt(o.bounds.width),!0);break;case n.LINE:o.hasHeight||o.setLayoutHeight(Bt(o.contentBoxHeight||1))}if(o.inlineVertical&&(!r.layoutHorizontal||r.layoutLinear))switch(o.verticalAlign){case"sub":o.modifyBox(8,-1*Math.ceil(o.fontSize*this.localSettings.deviations.subscriptBottomOffset));break;case"super":o.modifyBox(2,-1*Math.ceil(o.fontSize*this.localSettings.deviations.superscriptTopOffset))}return o.render(s?this.application.resolveTarget(s):r),{type:1,node:o,parent:r,controlName:a}}renderNodeStatic(t,e,i,o,n){const a=new Lt(0,"0",void 0,this.afterInsertNode);return a.setControlType(t),""!==i&&a.setLayoutWidth(i||"wrap_content"),""!==o&&a.setLayoutHeight(o||"wrap_content"),e&&(a.apply(e),e.documentId=a.documentId),this.getEnclosingXmlTag(t,this.userSettings.showAttributes?a.extractAttributes(1):void 0,n)}renderSpace(t,e,i,o,a){void 0===a&&(a=q());const r=a.android;return Xt(t)&&(r.layout_columnWeight=qt(parseFloat(t)/100,this.localSettings.precision.standardFloat),t="0px"),e&&Xt(e)&&(r.layout_rowWeight=qt(parseFloat(e)/100,this.localSettings.precision.standardFloat),e="0px"),i&&(r.layout_columnSpan=""+i),o&&(r.layout_rowSpan=""+o),this.renderNodeStatic(n.SPACE,a,t,e||void 0)}addGuideline(t,e,i,o=!1,r=!1){const s=t.absoluteParent,l=t.linear,d=e.nodeGroup&&!t.documentParent.hasAlign(4)?e:t.documentParent;ue.forEach(h=>{var u;if(!(t.constraint[h]||i&&h!==i)){const i=h===c.HORIZONTAL,p=d.box;let g,m,f,y;if(i?r?(g="right",m="left",f="rightLeft",y="leftRight"):(g="left",m="right",f="leftRight",y="rightLeft"):r?(g="bottom",m="top",f="bottomTop",y="topBottom"):(g="top",m="bottom",f="topBottom",y="bottomTop"),ne(l[g],p[g]))return void t.anchor(g,"parent",!0);const b=t.positionStatic?t.bounds:l;let T,A="layout_constraintGuide_";if(!o&&!e.hasAlign(4)){if(e.renderChildren.some(e=>{if(e!==t&&e.constraint[h]){let o=!1;if(t.pageFlow&&e.pageFlow&&(ne(l[g],e.linear[m])?(t.anchor(f,e.documentId,!0),o=!0):ne(l[m],e.linear[g])&&(t.anchor(y,e.documentId,!0),o=!0)),o||(ne(t.bounds[g],e.bounds[g])?(!i&&t.textElement&&t.baseline&&e.textElement&&e.baseline?t.anchor("baseline",e.documentId,!0):(t.anchor(g,e.documentId,!0),i?t.modifyBox(16,-e.marginLeft,!1):t.modifyBox(2,-e.marginTop,!1)),o=!0):ne(t.bounds[m],e.bounds[m])?(t.anchor(m,e.documentId,!0),t.modifyBox(i?4:8),o=!0):!t.pageFlow&&e.pageFlow&&ne(t.bounds[g]+t[g],e.bounds[g])&&(t.anchor(g,e.documentId,!0),t.modifyBox(i?16:2,t[g]),o=!0)),o)return e.constraint[h]=!0,!0}return!1}))return}if(t.positionAuto){const e=t.siblingsLeading;if(e.length&&!t.alignedVertically()){const o=e[0];if(o.renderParent===t.renderParent)return t.anchor(i?"rightLeft":"top",o.documentId,!0),void(t.constraint[h]=o.constraint[h])}}if(o){const t=Math.abs(b[g]-p[g])/p[i?"width":"height"];T=parseFloat(qt(r?1-t:t,this.localSettings.precision.standardFloat)),A+="percent"}else T=b[g]-p[r?m:g],i||d.nodeGroup||d===s||1!==s.getBox(2)[0]||(T-=s.marginTop),A+="begin";const E=e.constraint.guideline||{};if(t.pageFlow){if(t.inlineVertical){const e=$t(t.verticalAlign);e<0&&(T+=e)}}else if(t.parent===d.outerWrapper)T+=d[r?i?"paddingRight":"paddingBottom":i?"paddingLeft":"paddingTop"];else if(s===t.documentParent){let t;t=i?r?64:256:r?128:32,T=be(d,t,T)}if(!i&&t.marginTop<0&&(T-=t.marginTop,t.modifyBox(2)),t.constraint[h]=!0,T<=0){if(t.anchor(g,"parent",!0),T<0){const e=t.innerWrapped;if(!1===(null===(u=e)||void 0===u?void 0:u.pageFlow)){let t=0;switch(g){case"top":t=2;break;case"left":t=16;break;case"bottom":t=8;break;case"right":t=4}e.modifyBox(t,T)}}}else if(i&&T+b.width>=p.right&&d.hasPX("width")&&!t.hasPX("right")||!i&&T+b.height>=p.bottom&&d.hasPX("height")&&!t.hasPX("bottom"))t.anchor(m,"parent",!0);else{const s=ie(E,`${h}.${A}.${g}`);if(s)for(const e in s)if(parseInt(s[e])===T)return t.anchor(g,e,!0),void t.anchorDelete(m);let l;l=o?""+T:"@dimen/"+O.insertStoredAsset("dimens","constraint_guideline_"+(r?m:g),Bt(T));const d=q(void 0,{orientation:i?c.VERTICAL:c.HORIZONTAL},{[A]:l});this.addAfterOutsideTemplate(t.id,this.renderNodeStatic(t.localSettings.targetAPI<29?n.GUIDELINE:a.GUIDELINE,d),!1);const u=d.documentId;u&&(t.anchor(g,u,!0),t.anchorDelete(m),T>0&&(Kt(E,h,A,g,u,""+T),e.constraint.guideline=E))}}})}addBarrier(t,e){const i=[];for(const o of t){const t=o.constraint.barrier;if(void 0===t)o.constraint.barrier={};else if(t[e])continue;i.push(o)}if(i.length){const t=q(void 0,void 0,{barrierDirection:e,constraint_referenced_ids:ee(i,t=>U(t.documentId)).join(",")}),o=i[i.length-1];this.addAfterOutsideTemplate(o.id,this.renderNodeStatic(o.localSettings.targetAPI<29?n.BARRIER:a.BARRIER,t),!1);for(const o of i)o.constraint.barrier[e]=t.documentId;return t.documentId}return""}evaluateAnchors(t){var e;const i=[],o=[];for(const n of t)if(n.constraint.horizontal&&i.push(n),n.constraint.vertical&&o.push(n),n.alignParent("top")){let i=n;for(;;){const o=i.alignSibling("bottomTop");if(""===o){if(i!==n){const t=i.constraint.barrier;let e;e=void 0!==t&&t.bottom?t.bottom:this.addBarrier([i],"bottom"),e&&i.anchor("bottomTop",e)}break}{const a=t.find(t=>t.documentId===o);if((null===(e=a)||void 0===e?void 0:e.alignSibling("topBottom"))!==i.documentId)break;if(a.alignParent("bottom")){n.anchorStyle(c.VERTICAL,"packed",0,!1);break}i=a}}}let n=-1;for(;++n<t.length;){const e=t[n],a=e.constraint,r=a.current;if(!a.horizontal)for(const t in r){const o=r[t];if(o.horizontal&&i.some(t=>t.documentId===o.documentId)){a.horizontal=!0,i.push(e),n=-1;break}}if(!a.vertical)for(const t in r){const i=r[t];if(!i.horizontal&&o.some(t=>t.documentId===i.documentId)){a.vertical=!0,o.push(e),n=-1;break}}}}createNodeGroup(t,e,i,o=!1){const n=new Ot(this.cache.nextId,t,e,this.afterInsertNode);return i?(i.appendTry(t,n),n.init()):n.containerIndex=t.containerIndex,this.cache.append(n,o),n}createNodeWrapper(t,e,i,o,n){var a;const r=this.application.createNode(void 0,!0,e,i);r.addAlign(16384),t.documentRoot&&(r.documentRoot=!0,t.documentRoot=!1),r.inherit(t,"base","alignment"),o&&r.setControlType(o,n),r.exclude(he.BOX_STYLE|he.ASSET,de.CUSTOMIZATION,ce.ALL),e.appendTry(t,r),t.parent=r;const s=t.outerWrapper;s&&(r.outerWrapper=s,s.innerWrapped=r);const l=t.renderParent;if(l){const e=l.renderTemplates;if(e){const i=e.length;for(let o=0;o<i;o++)if((null===(a=e[o])||void 0===a?void 0:a.node)===t){t.renderChildren.splice(o,1),e.splice(o,1);break}}t.rendered=!1,t.renderParent=void 0}if(r.saveAsInitial(),r.cssApply({marginTop:"0px",marginRight:"0px",marginBottom:"0px",marginLeft:"0px",paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px"}),t.documentParent.layoutElement){const e=t.namespace("android");for(const t in e)t.startsWith("layout_")&&(r.android(t,e[t]),delete e[t]);t.transferBox(30,r)}return r.innerWrapped=t,t.outerWrapper=r,r}processRelativeHorizontal(t,e){var i;const o=[],n="nowrap"!==t.css("whiteSpace");let a,r=!1,s=!1;if(t.hasAlign(16)){let t;for(const i of e)t?i.anchor("topBottom",t.documentId):i.anchor("top","true"),i.pageFlow?(o.push([i]),t=i):s=!0}else{const r=(()=>{const i=t.renderParent;if(i.overflowY)return i.box.width;{const o=t.actualParent;if(o){if(o===i&&o.blockStatic&&t.naturalElement&&t.inlineStatic){const e=o.box;return e.width-(t.linear.left-e.left)}if(o.floatContainer){const{containerType:i,alignmentType:n}=this.containerTypeVerticalMargin;if(t.ascend(t=>t.of(i,n),o,"renderParent").length){const i=t.box;let n=0,a=0;for(const r of o.naturalElements){const o=r.linear;r.floating&&!e.includes(r)&&t.intersectY(o)&&("left"===r.float?Math.floor(o.right)>i.left&&(n=Math.max(n,o.right-i.left)):"right"===r.float&&i.right>Math.ceil(o.left)&&(a=Math.max(a,i.right-o.left)))}return i.width-n-a}}}}return t.box.width})(),l=le.linearData(e,!0).cleared,c="center"===t.cssInitial("textAlign");let d=0;if(t.naturalElement)t.blockDimension&&(d=t.parseUnit(t.css("textIndent")));else{const e=t.parent;if((null===(i=e)||void 0===i?void 0:i.blockDimension)&&e.children[0]===t){const i=e.css("textIndent");d=t.parseUnit(i),0!==d&&(d<0&&e.setCacheValue("paddingLeft",Math.max(0,e.paddingLeft+d)),t.setCacheValue("blockDimension",!0),t.css("textIndent",i),e.css("textIndent","0px"))}}let h,u=0,p=!1;oe(e,t=>"right"!==t.float).forEach((e,i)=>{var g,m;const f=e.length;if(0===f)return;const y=0===i;let b,T,A,E=!0;y?((null===(g=e[0].actualParent)||void 0===g?void 0:g.cssInitialAny("textAlign","right","end"))?(b="right",E=!1,e[f-1].anchor(b,"true")):b="left",ge(e),T=o):(b="right",a=[],T=a);for(let i=0;i<f;i++){const o=e[i];let a;if(y&&E?(a="leftRight",0===i&&o.inline&&Math.abs(d)>o.actualWidth&&"right"!==o.float&&!o.positionRelative&&(p=!0,o.floating||(o.setCacheValue("float","left"),o.setCacheValue("floating",!0)))):a="rightLeft",!o.pageFlow){if(A){const t=A.documentId;o.anchor(a,t),o.anchor("top",t)}else o.anchor(b,"true"),o.anchor("top","true");s=!0;continue}let g,v=o.bounds;if(o.styleText&&!o.hasPX("width")){const t=o.textBounds;t&&(t.numberOfLines>1||Math.ceil(t.width)<o.box.width)&&(v=t)}let x=o.multiline;x&&Math.floor(v.width)<=r&&!o.hasPX("width")&&!Ne(o)&&(x=!1,o.multiline=!1);let R=o.autoMargin.horizontal;if(R){const t=o.autoMargin;o.anchor(t.leftRight?"centerHorizontal":t.left?"right":"left","true")}if(A){const e=T[T.length-1];let s=0,y=0;function S(){if(A.floating&&A.alignParent("left")&&(x||Math.floor(u+o.actualWidth)<r))return!0;if(t.floating&&i===f-1&&o.textElement&&!/\s|-/.test(o.textContent.trim())){if(t.hasPX("width")){const e=t.css("width");t.parseUnit(e)>t.parseUnit(t.css("minWidth"))&&t.cssApply({width:"auto",minWidth:e},!0)}return t.android("maxLines","1"),!0}return!1}const I=()=>(y=u+o.marginLeft,h&&!e.includes(h)&&(y+=h.linear.width),void 0!==h&&o.plainText&&!x&&e.includes(h)&&!l.has(o)||(y+=v.width),o.marginRight<0&&(y+=o.marginRight),s=r,d<0?T.length<=1&&(s+=d):d>0&&1===T.length&&(s-=d),o.styleElement&&o.inlineStatic&&(y-=o.contentBoxWidth),!0);A.floating&&Te(o,A)&&(a="");const w=o.nodeGroup&&!o.hasAlign(128);let _=!1;g=o.inlineVertical&&A.inlineVertical&&o.previousSibling!==A?Ft(A.element,o.element):void 0;const N=()=>{var t;if(A.textElement){if(1===i&&o.plainText&&o.previousSibling===A&&!jt.TRAILINGSPACE.test(A.textContent)&&!jt.LEADINGSPACE.test(o.textContent))return _=!0,!1;if(n&&A.multiline&&(A.bounds.width>=r||o.plainText&&O.hasLineBreak(A,!1,!0)))return!0}if(S())return!1;if(n){if(I()&&y>s)return!0;if("CODE"!==(null===(t=o.actualParent)||void 0===t?void 0:t.tagName))return x&&o.plainText||Ne(o)}return!1},C=o.textElement&&N();C||w||Zt(o.linear.top,A.linear.bottom)&&(o.blockStatic||o.floating&&A.float===o.float)||!o.textElement&&!S()&&I()&&Math.floor(y)>s||!o.floating&&(A.blockStatic||o.previousSiblings().some(t=>t.lineBreak||t.excluded&&t.blockStatic)||(null===(m=g)||void 0===m?void 0:m.some(e=>Ie(e,t.sessionId))))||A.autoMargin.horizontal||l.has(o)?(E?(h&&(o.linear.bottom<=h.bounds.bottom||p)?R||o.anchor(a,h.documentId):(R||o.anchor(b,"true"),h=void 0),R=!0):(h&&o.linear.bottom>h.bounds.bottom&&(h=void 0),A.anchor(b,"true")),1===e.length&&(A.centerAligned||c&&!A.blockStatic)&&(A.anchorDelete(b),A.anchor("centerHorizontal","true")),u=Math.min(0,C&&!A.multiline&&x&&!l.has(o)?o.linear.right-t.box.right:0),T.push([o])):(""!==a&&(E?R||(o.anchor(a,A.documentId),R=!0):A.anchor(a,o.documentId)),!x||o.hasPX("width")||A.floating||_||(o.multiline=!1),e.push(o))}else E&&(R||o.anchor(b,"true")),T.push([o]);if("left"===o.float&&y&&(h?Zt(o.linear.bottom,h.linear.bottom)&&(h=o):h=o),g&&!g.some(t=>!!Yt(t,o.sessionId)||Ie(t,o.sessionId))){const t=zt(g[0]);if(!t.numberOfLines){const e=g.length>1?zt(g[g.length-1]):void 0;void 0!==e&&e.numberOfLines||(u+=e?t.left-e.right:t.width)}}u+=o.marginLeft+v.width+o.marginRight,A=o}}),1===o.length&&d<0&&t.setCacheValue("paddingLeft",Math.max(0,t.paddingLeft+d))}(o.length>1||a&&a.length>1)&&(r=!0);const l=e=>{let i=null;const o=e.length;for(let n=0;n<o;n++){const o=e[n];let a;if(o.length>1){const e=xe(o);let i=e[0];a=le.baseline(e.length?o.filter(t=>!e.includes(t)):o),a&&i&&(a!==i&&i.bounds.height>a.bounds.height?a.anchor("bottom",i.documentId):(a=le.baseline(o),i=void 0));const s=[];let l=0===n?"true":a?a.documentId:"",c=0,d=null;for(const e of o)if(e!==a&&e!==i)if(e.baseline)s.push(e);else if(e.inlineVertical)switch(e.verticalAlign){case"text-top":if(null===d&&(d=le.baseline(o,!0)),d&&e!==d){e.anchor("top",d.documentId);break}break;case"super":e.baselineAltered||e.modifyBox(2,-1*Math.ceil(e.fontSize*this.localSettings.deviations.superscriptTopOffset));case"top":""!==l&&l!==e.documentId?e.anchor("top",l):a&&e.anchor("top",a.documentId);break;case"middle":const i=Math.max(e.actualHeight,e.lineHeight);if(r){if(a){const t=Math.max(a.actualHeight,a.lineHeight);i<t?(e.anchor("top",a.documentId),e.modifyBox(2),e.modifyBox(2,Math.round((t-i)/2))):i>c&&(c=i)}}else e.anchor("centerVertical","true"),e.imageElement&&(c=Math.max(i,c));break;case"text-bottom":null===d&&(d=le.baseline(o,!0)),d!==e&&d?e.anchor("bottom",d.documentId):a&&e.anchor("bottom",a.documentId);break;case"sub":e.baselineAltered||e.modifyBox(8,-1*Math.ceil(e.fontSize*this.localSettings.deviations.subscriptBottomOffset));case"bottom":""===l||ne(t.bounds.height,e.bounds.height)||(t.hasHeight||"true"!==l||(r?a&&(l=a.documentId):t.css("height",Bt(t.bounds.height),!0)),e.anchor("bottom",l));break;default:e.baselineAltered||s.push(e)}else ye(e)&&s.push(e);const h=s.length;if(a)a.baselineActive=!0,h?fe(a,s):a.textElement&&c>a.actualHeight&&(a.anchor("centerVertical","true"),a=null);else if(h<o.length&&h>0&&(i=xe(o)[0],i))for(const t of s)t.baseline&&!t.multiline&&i.bounds.height>t.bounds.height&&t.anchor("bottom",i.documentId);for(let t=o.length-1,e=!0;t>0;t--){const i=o[t];i.textElement&&(i.setSingleLine(e&&!i.rightAligned&&!i.centerAligned),e=!1)}}else a=o[0],a.baselineActive=!0;if(n>0){if(null===i){const t=e[n-1];i=t.find(t=>!t.floating)||t[0];let o=!1;for(const e of t)e===i?o=!0:o&&e.linear.bottom>=i.linear.bottom&&(!e.floating||i.floating)&&(i=e)}for(const t of o)""===t.alignSibling("baseline")&&t.anchor("topBottom",i.documentId)}i=a}};if(l(o),a&&l(a),r&&(t.horizontalRows=a?o.concat(a):o),s){const e=t.renderChildren,i=t.renderTemplates,o=[];for(let t=0;t<e.length;t++)e[t].pageFlow||(o.push(i[t]),e.splice(t,1),i.splice(t--,1));for(const t of o)e.push(t.node),i.push(t)}}processConstraintHorizontal(t,e){var i;const o=le.baseline(e),n=le.baseline(e,!0),a=t.hasAlign(2048),r=xe(e)[0],s=o?o.documentId:"",[l,d,h,u]=Re(a);let p,g,m,f=0;switch(t.cssAscend("textAlign",!0)){case"center":f=.5;break;case"right":case"end":a||(f=1)}ge(e),!t.hasPX("width")&&e.some(t=>t.percentWidth)&&t.setLayoutWidth("match_parent");const y=e.length;for(let a=0;a<y;a++){const b=e[a];if(m?b.pageFlow?(m.anchor(u,b.documentId),b.anchor(h,m.documentId),a===y-1&&b.anchor(d,"parent")):b.positionAuto&&b.anchor(h,m.documentId):(b.anchor(l,"parent"),b.anchorStyle(c.HORIZONTAL,"packed",f)),b.pageFlow){if(b!==o){if(b.inlineVertical){let a=!1;switch((void 0===p||Le(b)>Le(p))&&(p=b),b.verticalAlign){case"text-top":n&&b!==n?b.anchor("top",n.documentId):a=!0;break;case"middle":!1===(null===(i=o)||void 0===i?void 0:i.textElement)||r?a=!0:b.anchorParent(c.VERTICAL);break;case"text-bottom":if(n&&b!==n){b!==r?b.anchor("bottom",n.documentId):r&&(a=!0);break}case"bottom":if(void 0===g)for(const t of e)!t.baseline&&(void 0===g||t.linear.bottom>g.linear.bottom)&&(g=t);b===g?a=!0:b.anchor("bottom","parent");break;case"baseline":null===o||b.blockVertical||!b.textElement&&Le(b)>Le(o)?a=!0:b.anchor("baseline",s);break;default:a=!0}a&&(b.anchorParent(c.VERTICAL,"packed"),b.modifyBox(2,b.linear.top-t.box.top),b.baselineAltered=!0)}else b.plainText&&o?b.anchor("baseline",s):b.anchorParent(c.VERTICAL,"packed");b.anchored=!0}else o.baselineActive=!0;Oe.setConstraintDimension(b),m=b}else b.positionAuto&&(b.anchorParent(c.VERTICAL,"packed"),b.anchored=!0)}if(o){if(p!==o&&p&&o.textElement&&Le(p)>Le(o))switch(p.verticalAlign){case"middle":o.anchorParent(c.VERTICAL,void 0,void 0,!0);break;case"baseline":o.anchor("baseline",p.documentId);break;case"bottom":case"text-bottom":o.anchor("bottom",p.documentId);break;case"sub":p.textElement||(o.anchor("bottom",p.documentId),o.modifyBox(8,-1*Math.ceil(o.fontSize*this.localSettings.deviations.subscriptBottomOffset)));break;case"super":p.textElement||(o.anchor("bottom",p.documentId),o.modifyBox(2,-1*Math.ceil(o.fontSize*this.localSettings.deviations.superscriptTopOffset)))}else o.anchorParent(c.VERTICAL,"packed"),o.modifyBox(2,Math.floor(o.linear.top-t.box.top));o.anchored=!0}}processConstraintColumn(t,e){let i=[];const o=[i];for(const t of e)"all"===t.css("columnSpan")?(i.length?o.push([t]):i.push(t),i=[],o.push(i)):i.push(t);0===i.length&&o.pop();const n=t.parseUnit(t.css("columnGap"))||t.fontSize,a=t.parseUnit(t.css("columnWidth"),"width"),r=t.toInt("columnCount");let s,l=0;if(a>0){let e;for(e=Dt(4)?Math.min(t.width>0?t.width-t.contentBoxWidth:1/0,t.box.width*(r||1),t.documentParent.box.width-t.contentBoxWidth):t.box.width;e-a>=0;)l++,e-=a+n}else l=1/0;const d=o.length;for(let e=0;e<d;e++){const i=o[e],h=i[0];if(1===i.length)0===e?(h.anchor("top","parent"),h.anchorStyle(c.VERTICAL)):s&&(s.anchor("bottomTop",h.documentId),h.anchor("topBottom","string"==typeof s?s:s.documentId)),h.rightAligned?h.anchorParent(c.HORIZONTAL,"packed",1):h.centerAligned?h.anchorParent(c.HORIZONTAL):h.anchorParent(c.HORIZONTAL,"packed"),e===d-1?h.anchor("bottom","parent"):s=i[0];else{const o=[],c=i.length;let h=Math.min(c,l,r||1/0),u=0;if(h>1){let e=c>=h?Math.ceil(c/h):1;const a=Math.floor(i.reduce((t,e)=>t+e.bounds.height,0)/h);let r=e>1&&c%h!=0?c-h:1/0,s=0;for(let t=0,n=0,l=0;t<c;t++,l++){const c=i[t],d=l%e==0;n<h-1&&(d||r<=0||t>0&&(i[t-1].bounds.height>=a||o[n].length&&i.length-t+1==h-n&&i[t-1].bounds.height>i[t+1].bounds.height))&&(t>0&&(n++,d?r--:r++),void 0===o[n]&&(o[n]=[]),l=0),o[n].push(c),c.length&&(s+=Ut(ee(c.children,t=>t.marginLeft+t.marginRight))),t>0&&/H\d/.test(c.tagName)?1===o[n].length&&t===i.length-2?(h--,r=0):(l+1)%e==0&&i.length-t>h&&!i[t+1].multiline&&i[t+1].bounds.height<a&&(o[n].push(i[++t]),l=-1):i.length-t==h-n&&r!==1/0&&(e=1)}u=h>1?Math.max((s+n*(h-1))/t.box.width/h,.01):0}else o.push(i);const p=[],g=o.length;for(let t=0;t<g;t++){const e=o[t];for(const t of e)t.setLayoutWidth("0px"),t.app("layout_constraintWidth_percent",qt(1/h-u,this.localSettings.precision.standardFloat));p.push(e[0])}const m=Array(g).fill(0),f=[];for(let e=0;e<g;e++){const i=o[e];if(e<g-1&&i.length>1){const t=i[i.length-1];/H\d/.test(t.tagName)&&(i.pop(),p[e+1]=t,o[e+1].unshift(t))}const n=[],r=i.length;for(let t=0;t<r;t++){const o=i[t];o.naturalChild?n.push(o.element.cloneNode(!0)):m[e]+=o.linear.height}if(n.length){const i=Vt(document.body,"div",{width:Bt(a||t.box.width/h),visibility:"hidden"});for(const t of n)i.appendChild(t);m[e]+=i.getBoundingClientRect().height,document.body.removeChild(i)}}const y=p.length;for(let t=1;t<y;t++)p[t].modifyBox(16,n);if(we(p),_e(o,e===d-1,s),s=void 0,o.every(t=>1===t.length)){for(const t of o)f.push(t[t.length-1]);s=this.addBarrier(f,"bottom")}if(!s){let t=0;const e=m.length;for(let i=0;i<e;i++)m[i]>=t&&(s=o[i].pop(),t=m[i])}}}}processConstraintChain(t,e){const i=e[0].actualParent||t,o=le.partitionRows(e),n=t.hasAlign(512),a=o.length;a>1&&(t.horizontalRows=o),!t.hasWidth&&e.some(t=>t.percentWidth)&&t.setLayoutWidth("match_parent");let r=[],s=!1;for(let t=0;t<a;t++){const e=o[t],l=o[t-1],[d,h]=oe(e,t=>"right"===t.float||!0===t.autoMargin.left);let u,p;if([h,d].forEach(e=>{const o=e.length;if(0===o)return;const h=e===d,[g,m,f,y]=Re(h),b=e[0],T=e[o-1];b.anchor(g,"parent"),n||"center"!==i.css("textAlign")?o>1&&(h?T.anchorStyle(c.HORIZONTAL,"packed",1):b.anchorStyle(c.HORIZONTAL)):b.anchorStyle(c.HORIZONTAL,"spread"),(o>1||T.autoMargin.leftRight)&&T.anchor(m,"parent");for(let d=0;d<o;d++){const o=e[d],A=e[d-1],E=e[d+1];if(0===t?1===a?(o.anchorParent(c.VERTICAL),o.autoMargin.topBottom||o.anchorStyle(c.VERTICAL,"packed",o.autoMargin.top?1:0)):o.anchor("top","parent"):s||t!==a-1||o.anchor("bottom","parent"),o.autoMargin.leftRight)o.anchorParent(c.HORIZONTAL);else{if(A)if(!A.pageFlow&&A.positionAuto){let t;for(let i=d-2;i>=0&&(t=e[i],!t.pageFlow);i--)t=void 0;t?o.anchor(f,t.documentId):o.anchor(g,"parent")}else o.anchor(f,A.documentId);E&&o.anchor(y,E.documentId)}if(Oe.setConstraintDimension(o),n&&t>0&&0===d){let t=!1;for(const e of r)if(Math.ceil(o.linear.top)<Math.floor(e.linear.bottom)){t=!0;break}if(t){u=l[l.length-1];for(let t=r.length-2;t>=0;t--){const e=r[t];if(e.linear.bottom>u.linear.bottom){if(h&&Math.ceil(e.linear[m])-Math.floor(i.box[m])<o.linear.width)continue;const n=r[t+1];o.anchor(g,n.documentId,!0),h?o.modifyBox(4,-n.marginRight,!1):o.modifyBox(16,-n.marginLeft,!1),b.anchorDelete(y),T.anchorDelete(m),b.delete("app","layout_constraintHorizontal_chainStyle","layout_constraintHorizontal_bias"),void 0===p&&(p=o,s=!0);break}}}}}}),n&&(r=r.concat(h,d)),t>0){if(void 0===u){u=l[0];const t=l.length;for(let e=1;e<t;e++)l[e].linear.bottom>=u.linear.bottom&&(u=l[e])}if(void 0===p){p=e[0];const t=e.length;for(let i=1;i<t;i++){const t=e[i];t.linear.bottom>=p.linear.bottom&&(p=t)}s=!1}p.anchor("topBottom",u.documentId),u.anchor("bottomTop",p.documentId);for(const t of e)if(t!==p){const e=t.autoMargin;e.topBottom||t.anchorStyle(c.VERTICAL,"packed",e.top?1:0),t.anchor("top",p.documentId),t.modifyBox(2,-1*p.marginTop)}}}}createLayoutNodeGroup(t){return this.createNodeGroup(t.node,t.children,t.parent)}get containerTypeHorizontal(){return{containerType:e.LINEAR,alignmentType:8,renderType:0}}get containerTypeVertical(){return{containerType:e.LINEAR,alignmentType:16,renderType:0}}get containerTypeVerticalMargin(){return{containerType:e.FRAME,alignmentType:256,renderType:0}}get containerTypePercent(){return{containerType:e.CONSTRAINT,alignmentType:8,renderType:0}}get afterInsertNode(){return t=>{this.userSettings.exclusionsDisabled||t.setExclusions(),t.localSettings=pe}}get userSettings(){return this.application.userSettings}}class Pe extends squared.base.ExtensionManager{}var ke={resources:{">":{color:{"@":["name"],"~":!0}}}},De={resources:{">":{dimen:{"@":["name"],"~":!0}}}},Me={"font-family":{"@":["xmlns:android"],">":{font:{"^":"android","@":["font","fontStyle","fontWeight"]}}}},Be={resources:{">":{string:{"@":["name"],"~":!0}}}},We={resources:{">":{"string-array":{"@":["name"],">":{item:{"~":!0}}}}}},He={resources:{">":{style:{"@":["name","parent"],">":{item:{"@":["name"],"~":!0}}}}}};const Xe=squared.lib,{fromLastIndexOf:Ge,objectMap:Ve}=Xe.util,{applyTemplate:Fe,replaceTab:ze}=Xe.xml,Ue=O.STORED,qe=/^(.+)\/(.+?\.\w+)$/,je=/"(-?[\d.]+)px"/g,Ye=/>(-?[\d.]+)px</g;function Ze(t){const e=t.length,i=Array(e/3);for(let o=0,n=0;o<e;o+=3,n++)i[n]={pathname:t[o+1],filename:t[o+2],content:t[o]};return i}function Ke(t){const e=t.length,i=Array(e/3);for(let o=0,n=0;o<e;o+=3,n++)i[n]={pathname:t[o+1],filename:t[o+2],content:"",uri:t[o]};return i}const $e=(t,e,i)=>({pathname:t,filename:e,content:i}),Je=(t,e,i)=>"dp"===i?t.replace(je,(t,...i)=>'"'+z(i[0],e,!1)+'"'):t,Qe=(t,e,i)=>"dp"===i?t.replace(Ye,(t,...i)=>">"+z(i[0],e,!1)+"<"):t,ti=(t,e)=>(""+t).toLowerCase()>=(""+e).toLowerCase()?1:-1;class ei extends squared.base.FileUI{copyToDisk(t,e,i){this.copying(t,this.getAssetsAll(e),i)}appendToArchive(t,e){this.archiving(this.userSettings.outputArchiveName,this.getAssetsAll(e),t)}saveToArchive(t,e){this.archiving(t,this.getAssetsAll(e))}resourceAllToXml({copyTo:t,archiveTo:e,callback:i}={}){const o={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml(),drawableImage:this.resourceDrawableImageToXml(),anim:this.resourceAnimToXml()};for(const t in o)0===o[t].length&&delete o[t];if(t||e){let n=[];for(const t in o)n=n.concat("image"===t?Ke(o[t]):Ze(o[t]));t&&this.copying(t,n,i),e&&this.archiving(e,n)}return o}resourceStringToXml(t={}){const e={string:[]},i=e.string;Ue.strings.has("app_name")||i.push({name:"app_name",innerText:this.userSettings.manifestLabelAppName});for(const[t,e]of Array.from(Ue.strings.entries()).sort(ti))i.push({name:t,innerText:e});return this.checkFileAssets([ze(Fe("resources",Be,[e]),this.userSettings.insertSpaces,!0),this.directory.string,"strings.xml"],t)}resourceStringArrayToXml(t={}){if(Ue.arrays.size){const e={"string-array":[]},i=e["string-array"];for(const[t,e]of Array.from(Ue.arrays.entries()).sort())i.push({name:t,item:Ve(e,t=>({innerText:t}))});return this.checkFileAssets([ze(Fe("resources",We,[e]),this.userSettings.insertSpaces,!0),this.directory.string,"string_arrays.xml"],t)}return[]}resourceFontToXml(t={}){var e;if(Ue.fonts.size){const i=this.resource,{insertSpaces:o,targetAPI:n}=this.userSettings,a=n<26?l.app:l.android,r=this.directory.font,s=[];for(const[t,l]of Array.from(Ue.fonts.entries()).sort()){const c={"xmlns:android":a,font:[]},d=c.font;for(const o in l){const[n,a,s]=o.split("|");let c=t;"normal"===a?c+="400"===s?"_normal":"_"+l[o]:(c+="_"+a,"400"!==s&&(c+="_"+l[o])),d.push({font:"@font/"+c,fontStyle:a,fontWeight:s});const h=null===(e=i.getFont(n,a,s))||void 0===e?void 0:e.srcUrl;h&&this.addAsset({pathname:r,filename:c+"."+Ge(h,".").toLowerCase(),uri:h})}let h=ze(Fe("font-family",Me,[c]),o);n<26&&(h=h.replace(/\s+android:/g," app:")),s.push(h,r,t+".xml")}return this.checkFileAssets(s,t),s}return[]}resourceColorToXml(t={}){if(Ue.colors.size){const e={color:[]},i=e.color;for(const[t,e]of Array.from(Ue.colors.entries()).sort())i.push({name:e,innerText:t});return this.checkFileAssets([ze(Fe("resources",ke,[e]),this.userSettings.insertSpaces),this.directory.string,"colors.xml"],t)}return[]}resourceStyleToXml(t={}){const e=[];if(Ue.styles.size){const t={style:[]},i=t.style;for(const t of Array.from(Ue.styles.values()).sort((t,e)=>(""+t.name).toLowerCase()>=(""+e.name).toLowerCase()?1:-1)){const e=t.items;if(Array.isArray(e)){const o=[];for(const t of e.sort((t,e)=>t.key>=e.key?1:-1))o.push({name:t.key,innerText:t.value});i.push({name:t.name,parent:t.parent,item:o})}}e.push(ze(Fe("resources",He,[t]),this.userSettings.insertSpaces),this.directory.string,"styles.xml")}if(Ue.themes.size){const{convertPixels:t,insertSpaces:i,manifestThemeName:o,resolutionDPI:n}=this.userSettings,a={};for(const[r,s]of Ue.themes.entries()){const l=qe.exec(r);if(l){const c={style:[]},d=c.style;for(const[t,e]of s.entries()){const i=[],n=e.items;for(const t in n)i.push({name:t,innerText:n[t]});a[r]&&t===o&&!c.length||d.push({name:t,parent:e.parent,item:i}),t===o&&(a[r]=!0)}e.push(ze(Qe(Fe("resources",He,[c]),n,t),i),l[1],l[2])}}}return this.checkFileAssets(e,t)}resourceDimenToXml(t={}){if(Ue.dimens.size){const{convertPixels:e,resolutionDPI:i}=this.userSettings,o={dimen:[]},n=o.dimen;for(const[t,o]of Array.from(Ue.dimens.entries()).sort())n.push({name:t,innerText:e?z(o,i,!1):o});return this.checkFileAssets([ze(Fe("resources",De,[o])),this.directory.string,"dimens.xml"],t)}return[]}resourceDrawableToXml(t={}){if(Ue.drawables.size){const{convertPixels:e,insertSpaces:i,resolutionDPI:o}=this.userSettings,n=this.directory.image,a=[];for(const[t,r]of Ue.drawables.entries())a.push(ze(Je(r,o,e),i),n,t+".xml");return this.checkFileAssets(a,t)}return[]}resourceDrawableImageToXml({copyTo:t,archiveTo:e,callback:i}={}){if(Ue.images.size){const o=this.directory.image,n=[];for(const[t,e]of Ue.images.entries())if(Object.keys(e).length>1)for(const i in e){const a=e[i];n.push(a,o+"-"+i,t+"."+Ge(a,"."))}else{const i=e.mdpi;i&&n.push(i,o,t+"."+Ge(i,"."))}if(t||e){const o=Ke(n);t&&this.copying(t,o,i),e&&this.archiving(e,o)}return n}return[]}resourceAnimToXml(t={}){if(Ue.animators.size){const e=this.userSettings.insertSpaces,i=[];for(const[t,o]of Ue.animators.entries())i.push(ze(o,e),"res/anim",t+".xml");return this.checkFileAssets(i,t)}return[]}layoutAllToXml(t={}){const{assets:e,copyTo:i,archiveTo:o,callback:n}=t,a={};if(e){const t=[],r=e.length;for(let i=0;i<r;i++){const{content:n,filename:r,pathname:s}=e[i];a[r]=[n],o&&t.push($e(s,0===i?this.userSettings.outputMainFileName:r+".xml",n))}i&&this.copying(i,t,n),o&&this.archiving(o,t)}return a}getAssetsAll(t){const e=[],i=t.length;for(let o=0;o<i;o++){const i=t[o];e.push($e(i.pathname,0===o?this.userSettings.outputMainFileName:i.filename+".xml",i.content))}return e.concat(Ze(this.resourceStringToXml()),Ze(this.resourceStringArrayToXml()),Ze(this.resourceFontToXml()),Ze(this.resourceColorToXml()),Ze(this.resourceDimenToXml()),Ze(this.resourceStyleToXml()),Ze(this.resourceDrawableToXml()),Ke(this.resourceDrawableImageToXml()),Ze(this.resourceAnimToXml()))}checkFileAssets(t,{copyTo:e,archiveTo:i,callback:o}={}){if(e||i){const n=Ze(t);e&&this.copying(e,n,o),i&&this.archiving(i,n)}return t}get userSettings(){return this.resource.userSettings}}const{NODE_PROCEDURE:ii}=squared.base.lib.enumeration;class oi extends squared.base.extensions.Accessibility{constructor(){super(...arguments),this.eventOnly=!0}afterBaseLayout(){for(const t of this.application.processing.cache)if(t.inputElement&&t.visible&&t.hasProcedure(ii.ACCESSIBILITY))switch(t.controlName){case n.EDIT:t.companion||[t.previousSibling,t.nextSibling].some(e=>{var i;if((null===(i=e)||void 0===i?void 0:i.visible)&&e.pageFlow){const i=t.element,o=e.element,n="LABEL"===e.documentParent.tagName&&e.documentParent;if(i.id&&i.id===o.htmlFor)return e.android("labelFor",t.documentId),!0;if(n&&e.textElement)return n.android("labelFor",t.documentId),!0}return!1});case n.SELECT:case n.CHECKBOX:case n.RADIO:case n.BUTTON:{const e=t.element;e.readOnly&&t.android("focusable","false"),e.disabled&&t.android("enabled","false");break}}}}var ni=squared.base.LayoutUI;const ai=squared.lib,{formatPercent:ri,formatPX:si,isLength:li,isPercent:ci}=ai.css,{maxArray:di,truncate:hi}=ai.math,{CHAR:ui}=ai.regex,{captureMap:pi,convertInt:gi,flatMultiArray:mi,objectMap:fi}=ai.util,yi=squared.base.lib,{NODE_PROCEDURE:bi,NODE_RESOURCE:Ti}=yi.enumeration,{CSS_GRID:Ai}=yi.constant.EXT_NAME,Ei=/(start|end|center|baseline)/,Si=/(start|left|center|right|end)/;function vi(t,e,i){const o=i?e.column:e.row,n=o.unit,a=n.length;let r=0;if(a>0){const t=i?"width":"height";for(let i=0;i<a;i++){const o=n[i];if(o.endsWith("px"))r+=parseFloat(o);else{let o=0;pi(e.rowData[i],t=>!!t&&t.length>0,e=>o=Math.min(o,...fi(e,e=>e.bounds[t]))),r+=o}}}else if(r=di(o.unitTotal),r<=0)return 0;return r+=o.gap*(o.length-1),i?(r+=t.contentBox?t.borderLeftWidth+t.borderRightWidth:t.contentBoxWidth,t.actualWidth-r):(r+=t.contentBox?t.borderTopWidth+t.borderBottomWidth:t.contentBoxHeight,t.actualHeight-r)}function xi(t,e,i,o,n,a,r){const s=o?e.column:e.row;if(i.startsWith("space")){const c=vi(t,e,o);if(c>0){const t=function(t,e){const i=t.rowData;if(e){const e=t.column.length,o=t.row.length,n=Array(e);for(let t=0;t<e;t++){const e=Array(o);for(let n=0;n<o;n++)e[n]=i[n][t];n[t]=e}return n}return i}(e,o),d=s.length,h=new Set;function l(t){const e=Math.floor(c/t);return[e,c-e*t]}switch(i){case"space-around":{const[e,i]=l(2*d);for(let o=0;o<d;o++)for(const s of new Set(mi(t[o]))){const t=(o>0&&o<=i?1:0)+e;h.has(s)?s.cssPX(n,c/d):(s.modifyBox(a,t),s.modifyBox(r,e),h.add(s))}s.normal=!1;break}case"space-between":if(d>1){const[e,i]=l(d-1);for(let a=0;a<d;a++)for(const s of new Set(mi(t[a]))){const t=e+(a<i?1:0);a<d-1?h.has(s)?s.cssPX(n,t):(s.modifyBox(r,t),h.add(s)):gi(s.android(o?"layout_columnSpan":"layout_rowSpan"))>1&&(s.cssPX(n,t),h.has(s)&&s.modifyBox(r,-t))}}s.normal=!1;break;case"space-evenly":{const[e,i]=l(d+1);for(let o=0;o<d;o++)for(const s of new Set(mi(t[o]))){const t=e+(o<i?1:0);h.has(s)?s.cssPX(n,t):(0===o&&s.modifyBox(a,e),s.modifyBox(r,t),h.add(s))}s.normal=!1;break}}}}else{const n=vi(t,e,o);if(n>0){const e=o?256:32;switch(i){case"center":t.modifyBox(e,Math.floor(n/2)),s.normal=!1;break;case"right":if(!o)break;case"end":case"flex-end":t.modifyBox(e,n),s.normal=!1}}}}class Ri extends squared.base.extensions.CssGrid{processNode(t,i){super.processNode(t,i);const o=t.data(Ai,"mainData");if(o){const n=new ni(i,t,e.GRID,4,t.children);n.rowCount=o.row.length,n.columnCount=o.column.length;for(const e of t.cascade(t=>t.imageElement)){const t=this.resource.getImage(e.src);if(t){const i=e.bounds;!e.hasPX("width",!1)&&t.width>i.width?(e.css("width",si(i.width),!0),e.android("adjustViewBounds","true")):!e.hasPX("height",!1)&&t.height>i.height&&(e.css("height",si(i.height),!0),e.android("adjustViewBounds","true"))}}return{output:this.application.renderNode(n),complete:!0}}}processChild(t,i){const o=i.data(Ai,"mainData"),a=t.data(Ai,"cellData");let r,s;if(o&&a){function l(e,n,r){let s,l,d;n?(s=o.column,l=a.columnStart,d=a.columnSpan):(s=o.row,l=a.rowStart,d=a.rowSpan);const h=s.unitMin,u=n?c.HORIZONTAL:c.VERTICAL;let p=s.unit,g=0,m=0,f=!1,y=0,b=0;p.length&&p.every(t=>"auto"===t)&&(n?(p=Array(p.length).fill("1fr"),s.unit=p):p.length=0);for(let o=0,a=0;o<d;o++){const c=l+o,T=h[c];""!==T&&(y+=i.parseUnit(T));let A=p[c];if(!A){const t=s.auto;if(!t[a])continue;A=t[a],t[a+1]&&a++}if("auto"===A||"max-content"===A){if(d<p.length&&(!i.hasPX(r)||p.some(t=>li(t))||"max-content"===A)){g=t.bounds[r],m=0,b=0;break}if(n){g=0,m=0,b=.01;break}}else if("min-content"===A){if(!e.hasPX(r)){n?e.setLayoutWidth("wrap_content",!1):e.setLayoutHeight("wrap_content",!1);break}}else if(A.endsWith("fr"))n||t.hasHeight?(b+=parseFloat(A),m=g):(b=0,m=t.bounds[r]),g=0;else if(ci(A))b+=parseFloat(A)/100,m=g,g=0;else{const t=e.parseUnit(A,u);0===m?g+=t:m+=t}t.textElement&&ui.UNITZERO.test(T)&&(f=!0)}if(d>1){const t=(d-1)*s.gap;g>0&&0===m?g+=t:m>0&&(m+=t),y>0&&(y+=t)}if(y>0&&(s.autoFill&&0===g&&1===(n?o.row.length:o.column.length)?(g=Math.max(t.actualWidth,y),b=0):m=y),e.android(n?"layout_column":"layout_row",""+l),d>1&&e.android(n?"layout_columnSpan":"layout_rowSpan",""+d),m>0&&!e.hasPX(n?"minWidth":"minHeight")&&e.css(n?"minWidth":"minHeight",si(m),!0),b>0){if(!e.hasPX(r)){const i=hi(b,t.localSettings.floatPrecision);n?(e.setLayoutWidth("0px"),e.android("layout_columnWeight",i),e.mergeGravity("layout_gravity","fill_horizontal")):(e.setLayoutHeight("0px"),e.android("layout_rowWeight",i),e.mergeGravity("layout_gravity","fill_vertical"))}}else g>0&&(e.contentBox&&(g-=n?e.contentBoxWidth:e.contentBoxHeight),f&&!e.hasPX(n?"maxWidth":"maxHeight")?(e.css(n?"maxWidth":"maxHeight",si(g),!0),e.mergeGravity("layout_gravity",n?"fill_horizontal":"fill_vertical")):e.hasPX(r)||e.css(r,si(g),!0));return[l,d]}const{alignSelf:h,justifySelf:u}=t.flexbox;if(Ei.test(h)||Si.test(u)){r=this.application.createNode(),r.containerName=t.containerName,r.setControlType(n.FRAME,e.FRAME),r.inherit(t,"base","initial"),r.resetBox(510),r.exclude(Ti.BOX_STYLE|Ti.ASSET,bi.CUSTOMIZATION),i.appendTry(t,r),r.render(i),t.transferBox(30,r),l(r,!0,"width"),l(r,!1,"height");let o=!1;u.endsWith("start")||u.endsWith("left")||u.endsWith("baseline")?(t.mergeGravity("layout_gravity","left"),o=!0):u.endsWith("end")||u.endsWith("right")?(t.mergeGravity("layout_gravity","right"),o=!0):u.endsWith("center")&&(t.mergeGravity("layout_gravity",c.CENTER_HORIZONTAL),o=!0),t.hasWidth||t.setLayoutWidth(o?"wrap_content":"match_parent",!1),h.endsWith("start")||h.endsWith("baseline")?t.mergeGravity("layout_gravity","top"):h.endsWith("end")?t.mergeGravity("layout_gravity","bottom"):h.endsWith("center")?t.mergeGravity("layout_gravity",c.CENTER_VERTICAL):t.hasHeight||t.setLayoutHeight("match_parent",!1),r.innerWrapped=t,t.outerWrapper=r,t.parent=r,s=this.application.renderNode(new ni(i,r,e.FRAME,4096,r.children))}const p=r||t,g=o.row;l(p,!0,"width"),p.hasPX("width")||p.mergeGravity("layout_gravity","fill_horizontal");const[m,f]=l(p,!1,"height");function d(){if(1===f&&!0===o.rowSpanMultiple[m]){const e=o.rowData.length;for(const i of mi(o.rowData[m]))if(i!==t){const t=i.data(Ai,"cellData");if(t&&(0===m||t.rowSpan<e)&&t.rowSpan>f)return!0}}return!1}"normal"===o.alignContent&&!i.hasPX("height")&&(!g.unit[m]||"auto"===g.unit[m])&&t.bounds.height>t.initial.bounds.height&&d()?p.css("minHeight",si(t.actualHeight),!0):p.hasPX("height")||1===g.length&&"space-between"===o.alignContent||(Ei.test(o.alignItems)||p.mergeGravity("layout_gravity","fill_vertical"),"normal"===o.alignContent&&i.hasHeight&&0===o.rowSpanMultiple.length&&p.mergeGravity("layout_rowWeight","1"))}return{parent:r,renderAs:r,outputAs:s}}postBaseLayout(t){const e=t.data(Ai,"mainData");if(e){if(t.hasWidth&&"normal"!==e.justifyContent&&xi(t,e,e.justifyContent,!0,"width",16,4),t.hasHeight&&"normal"!==e.alignContent){xi(t,e,e.alignContent,!1,"height",2,8);const i=e.rowWeight;if(i.length>1){const t=this.controller.localSettings.precision.standardFloat;for(let o=0;o<e.row.length;o++)if(i[o]>0){const n=e.rowData[o],a=n.length;for(let e=0;e<a;e++){const a=n[e];if(a)for(let e of a)e.outerWrapper&&(e=e.outerWrapper),e.android("layout_rowWeight",""+hi(i[o],t)),e.setLayoutHeight("0px")}}}}const i=e.column;if(i.normal&&!i.unit.includes("auto")){const e=i.gap*(i.length-1);e>0&&(t.renderParent.hasAlign(4)||(t.cssPX("minWidth",e),t.cssPX("width",e,!1,!0)),!t.hasPX("width")&&t.hasPX("maxWidth")&&t.css("width",si(t.actualWidth+e),!0))}}}postOptimize(t){const e=t.data(Ai,"mainData");if(e){const i=this.controller,{children:o,column:n}=e,a=n.unit,r=o[o.length-1];if(a.length&&a.every(t=>ci(t))){const o=n.length,s=a.reduce((t,e)=>t+parseFloat(e),0)+n.gap*o*100/t.actualWidth;if(s<100){const a="@dimen/"+O.insertStoredAsset("dimens",t.controlId+"_cssgrid_column_gap",si(n.gap)),l=e.row.length;for(let e=0;e<l;e++)i.addAfterOutsideTemplate(r.id,i.renderSpace(ri((100-s)/100),"wrap_content",0,0,q(void 0,{[t.localizeString(c.MARGIN_LEFT)]:a,layout_row:""+e,layout_column:""+o})),!1);t.android("columnCount",""+(o+1))}}const s=e.emptyRows,l=s.length;for(let o=0;o<l;o++){const n=s[o];if(n){const a="@dimen/"+O.insertStoredAsset("dimens",t.controlId+"_cssgrid_row_gap",si(e.row.gap)),s=n.length;for(let t=0;t<s;t++)if(1===n[t]){i.addAfterOutsideTemplate(r.id,i.renderSpace("wrap_content",a,0,0,q(void 0,{layout_row:""+o,layout_column:""+t})),!1);break}}}}}}class Ii extends squared.base.ExtensionUI{constructor(){super(...arguments),this.eventOnly=!0}init(t){return this.included(t)&&this.application.rootElements.add(t),!1}}var wi=squared.base.LayoutUI;const _i=squared.lib,{truncate:Ni}=_i.math,{capitalize:Ci,sameArray:Li,withinRange:Oi}=_i.util,Pi=squared.base,{NodeUI:ki}=Pi,Di=Pi.lib,{FLEXBOX:Mi}=Di.constant.EXT_NAME,Bi=["left","top"],Wi=["right","bottom"],Hi=["rightLeft","bottomTop"],Xi=["leftRight","topBottom"],Gi=["Width","Height"],Vi=[c.HORIZONTAL,c.VERTICAL];function Fi(t,e,i){var o;const n="width"===i,a="has"+Ci(i),r=e.reduce((t,e)=>t+e.flexbox.grow,0),s=e=>e.flexbox.basis=e.bounds[i]/t.box[i]*100+"%";let l=t[a]||t.blockStatic&&Oi(t.parseUnit(t.css(n?"maxWidth":"maxHeight")),t.box.width),c=0;if(l)for(const t of e){const e=(null===(o=t.innerWrapped)||void 0===o?void 0:o.autoMargin)||t.autoMargin;if(n){if(e.horizontal){l=!1;break}}else if(e.vertical){l=!1;break}}if(e.length>1&&(n||l)){const t=[],o=[];let n,r=0,d=0,h=NaN;for(const s of e){const e=s.bounds[i],u=s.flexbox;let p=!1;if(u.grow>0||1!==u.shrink){const o=s.parseUnit("auto"===u.basis?s.css(i):u.basis,i);if(o>0){const{shrink:i,grow:a}=u;let l=!1;e<o?(isNaN(h)||i<h)&&(h=i,l=!0,c=1):(isNaN(h)||a>h)&&(h=a,l=!0,c=2),l&&(n=s,r=o,d=e),t.push({item:s,basis:o,dimension:e,shrink:i,grow:a});continue}u.grow>0&&e>s[i]&&(p=!0)}"auto"===u.alignSelf&&(l&&!s[a]||p)&&o.push(s)}if(0!==c){if(t.length>1)for(const e of t){const t=e.item;t.flexbox.grow=t===n||e.basis===r&&(1===c&&h===e.shrink||2===c&&h===e.grow)?1:e.dimension/e.basis/(d/r)*e.basis/r}for(const t of o)s(t)}}if(n&&0===c)for(const i of e)i.cascadeSome(e=>e.multiline&&0===e.ascend(t=>t[a],t).length)&&s(i);return r}const zi=t=>{var e;return(null===(e=t.innerWrapped)||void 0===e?void 0:e.autoMargin)||t.autoMargin};class Ui extends squared.base.extensions.Flexbox{processNode(t,i){super.processNode(t,i);const o=t.data(Mi,"mainData");if(o.directionRow&&1===o.rowCount||o.directionColumn&&1===o.columnCount)return t.containerType=e.CONSTRAINT,t.addAlign(4),o.wrap=!1,{include:!0};{const n=new wi(i,t,0,4);return n.itemCount=t.length,n.rowCount=o.rowCount,n.columnCount=o.columnCount,o.directionRow&&t.hasHeight||o.directionColumn&&t.hasWidth||t.some(t=>!t.pageFlow)?n.containerType=e.CONSTRAINT:n.setContainerType(e.LINEAR,o.directionColumn?8:16),{output:this.application.renderNode(n),complete:!0}}}processChild(t,i){if(t.hasAlign(128))return{output:this.application.renderNode(new wi(i,t,e.CONSTRAINT,4,t.children)),complete:!0};{const o=t.autoMargin;if(o.horizontal||o.vertical&&t.hasHeight){const n=i.data(Mi,"mainData");if(n){const a=n.children.findIndex(e=>e===t);if(-1!==a){const r=this.controller.createNodeWrapper(t,i);return r.cssApply({marginTop:"0px",marginRight:"0px",marginBottom:"0px",marginLeft:"0px",display:"block"},!0),r.saveAsInitial(!0),r.flexbox=Object.assign({},t.flexbox),n.children[a]=r,o.horizontal&&!t.hasWidth&&t.setLayoutWidth("wrap_content"),{parent:r,renderAs:r,outputAs:this.application.renderNode(new wi(i,r,e.FRAME,4096,r.children))}}}}}}postBaseLayout(t){const e=t.data(Mi,"mainData");if(e){const{alignContent:i,children:o,directionColumn:n,directionReverse:a,directionRow:r,justifyContent:s,wrap:l,wrapReverse:d}=e,h=[],u=[],p=[];if(l){let e;t.each(t=>{if(t.hasAlign(128)){const i=t.renderFilter(t=>t.pageFlow);if(i.length){if(r)t.setLayoutWidth("match_parent"),h.push(i);else{if(t.setLayoutHeight("match_parent"),e){const i=e.length;let o=e[0];for(let t=1;t<i;t++)e[t].linear.right>o.linear.right&&(o=e[t]);if(d){const e=t.linear.left-o.actualRect("right");e>0&&t.modifyBox(16,e)}t.constraint.horizontal=!0}u.push(i),e=i}p.push(t)}}}),t.layoutLinear?d&&n&&t.mergeGravity("gravity","right"):p.length&&(r?u.push(p):h.push(p))}else r?(a&&o.reverse(),h[0]=o):(a&&o.reverse(),u[0]=o);[h,u].forEach((e,o)=>{var r;const h=0===o,u=h?1:0,g=Vi[o],m=Vi[u],f=Gi[o],y=Gi[u],b=Bi[o],T=Bi[u],A=Wi[o],E=Wi[u],S=Xi[o],v=Hi[o],x=f.toLowerCase(),R=y.toLowerCase(),I=t["has"+y],w=t["has"+f],_=`layout_constraint${Ci(g)}_weight`;function N(t,e){0===t[x]&&(t.app(_,Ni(e,t.localSettings.floatPrecision)),h?t.setLayoutWidth("0px"):t.setLayoutHeight("0px"))}const C=e.length;for(let o=0;o<C;o++){const u=e[o],f=u.length,y=u[0],O=u[f-1],P=u===p,k=!P&&u.every(t=>0===t.flexbox.grow),D=k&&("space-between"===s||"space-around"===s&&f>1),M=[];let B,W=0,H=0,X=!0,G=null;if(P)if(B=!1,w){let t="spread",e=0;switch(i){case"left":case"right":case"flex-end":e=1;case"baseline":case"start":case"end":case"flex-start":t="packed",X=!1}y.anchorStyle(g,t,e)}else y.anchorStyle(g);else if(B=h||w,H=1-Fi(t,u,x),f>1){let t=0;for(const e of u){const i=e.initial.bounds;if(i){const e=i[R];0===t?(W=e,t++):e===W?t++:e>W&&(W=e,t=1)}}t===f&&(W=NaN)}for(let t=0;t<f;t++){const e=u[t],n=u[t-1],a=u[t+1];if(a&&e.anchor(v,(a.outerWrapper||a).documentId),n&&e.anchor(S,(n.outerWrapper||n).documentId),P)X&&f>1&&w&&N(e,1),e.anchor(T,"parent");else{const s=zi(e),p=e.innerWrapped;if(h){if(s.horizontal)if(p){const t=s.leftRight?c.CENTER_HORIZONTAL:e.localizeString(s.left?"right":"left");p.mergeGravity("layout_gravity",t),H>0&&(e.flexbox.basis="0%",M.push(e))}else s.leftRight||(s.left?n&&e.anchorDelete(S):a&&e.anchorDelete(v))}else if(s.vertical)if(p){const t=s.topBottom?c.CENTER_VERTICAL:e.localizeString(s.top?"bottom":"top");p.mergeGravity("layout_gravity",t),H>0&&(e.flexbox.basis="0%",M.push(e))}else s.topBottom||(s.top?n&&e.anchorDelete(S):a&&e.anchorDelete(v));switch(e.flexbox.alignSelf){case"start":case"flex-start":e.anchor(T,"parent");break;case"end":case"flex-end":e.anchor(E,"parent");break;case"baseline":h&&(null===G&&(G=ki.baseline(u)),G&&e!==G&&e.anchor("baseline",G.documentId));break;case"center":e.anchorParent(m,"packed",.5),e.textElement&&e.mergeGravity("gravity","center");break;default:const n=e.layoutFrame&&e.innerWrapped;switch(i){case"center":C%2==1&&o===Math.floor(C/2)?e.anchorParent(m):o<C/2?e.anchor(E,"parent"):o>=C/2&&e.anchor(T,"parent");break;case"space-evenly":case"space-around":n?n.mergeGravity("layout_gravity",h?c.CENTER_VERTICAL:c.CENTER_HORIZONTAL):e.anchorParent(m);break;case"space-between":D&&2===f&&e.anchorDelete(0===t?v:S),0===o?n?n.mergeGravity("layout_gravity",d?E:T):e.anchor(d?E:T,"parent"):C>2&&o<C-1?n?n.mergeGravity("layout_gravity",h?c.CENTER_VERTICAL:c.CENTER_HORIZONTAL):e.anchorParent(m):n?n.mergeGravity("layout_gravity",d?T:E):e.anchor(d?T:E,"parent");break;default:if(e.anchorParent(m),void 0!==e.innerWrapped&&e.innerWrapped.autoMargin[m]||e.anchorStyle(m,"packed",d?1:0),0===e[R]){function L(t,e){h?t.setLayoutHeight(e):t.setLayoutWidth(e)}!h&&e.blockStatic?L(e,"match_parent"):isNaN(W)?L(e,!h&&!l&&e.length||I&&"normal"===i?I?"0px":"match_parent":"wrap_content"):1===f?L(e,h?"wrap_content":I?"0px":"match_parent"):(e.naturalElement?e.initial.bounds[R]:1/0)<W?(L(e,e.flexElement&&e.css("flexDirection").startsWith(h?"row":"column")?"match_parent":"0px"),!1===(null===(r=p)||void 0===r?void 0:r.autoMargin[g])&&L(p,"match_parent")):(e.lockAttr("android","layout_"+R),L(e,"wrap_content"))}}}Oe.setFlexDimension(e,x),(p||e).has("flexGrow")||(B=!1)}e.anchored=!0,e.positioned=!0}if(B)for(const t of u)N(t,(t.innerWrapped||t).flexbox.grow);else if(H>0)for(const t of M){const e=zi(t);let i=1;h?e.leftRight&&(i=2):e.topBottom&&(i=2),N(t,Math.max(t.flexbox.grow,H*i/M.length))}if(y.anchor(b,"parent"),O.anchor(A,"parent"),!P&&(h||n)){let r=!1;if(k)switch(s){case"normal":n&&y.anchorStyle(g,"packed",a?1:0);break;case"left":if(!h)break;case"start":case"flex-start":y.anchorStyle(g,"packed",a?1:0);break;case"center":f>1&&y.anchorStyle(g,"packed",.5),r=!0;break;case"right":if(!h)break;case"end":case"flex-end":y.anchorStyle(g,"packed",1);break;case"space-between":1===f&&O.anchorDelete(A);break;case"space-evenly":if(f>1){if(y.anchorStyle(g,"spread"),!i.startsWith("space"))for(const t of u)N(t,t.flexbox.grow||1)}else r=!0;break;case"space-around":if(f>1){const e=this.controller;y.constraint[g]=!1,O.constraint[g]=!1,e.addGuideline(y,t,g,!0,!1),e.addGuideline(O,t,g,!0,!0)}else r=!0}D||!l&&e[o].some(t=>""!==t.app(_))&&!Li(e[o],t=>t.app(_))?y.anchorStyle(g,"spread_inside",0,!1):r||y.anchorStyle(g,"packed",a?1:0,!1)}}})}}}var qi=squared.base.LayoutUI;const ji=squared.lib,{formatPX:Yi}=ji.css,{captureMap:Zi,withinRange:Ki}=ji.util,$i=squared.base.lib,{GRID:Ji}=$i.constant.EXT_NAME;class Qi extends squared.base.extensions.Grid{processNode(t,i){super.processNode(t,i);const o=t.data(Ji,"columnCount");if(o){const n=new qi(i,t,e.GRID,4,t.children);return n.columnCount=o,{output:this.application.renderNode(n),complete:!0}}}processChild(t,e){var i;const o=t.data(Ji,"cellData");if(o){const n=null===(i=o.siblings)||void 0===i?void 0:i.slice(0);let a;if(n){const i=this.controller;if(n.unshift(t),a=i.processLayoutHorizontal(new qi(e,i.createNodeGroup(t,n,e,!0),0,o.block?64:0,n)),t=a.node,o.block)t.css("display","block");else for(const t of n)t.percentWidth&&t.css("width",Yi(t.bounds.width),!0);!function(t,e){const i=squared.base.extensions.Grid.createDataCellAttribute();for(const t of e){const e=t.data(Ji,"cellData");e&&(e.cellStart&&(i.cellStart=!0),e.cellEnd&&(i.cellEnd=!0),e.rowEnd&&(i.rowEnd=!0),e.rowStart&&(i.rowStart=!0),t.data(Ji,"cellData",null))}t.data(Ji,"cellData",i)}(t,n)}if(o.rowSpan>1&&t.android("layout_rowSpan",""+o.rowSpan),o.columnSpan>1&&t.android("layout_columnSpan",""+o.columnSpan),"table-cell"===t.display&&t.mergeGravity("layout_gravity","fill"),a)return{parent:a.node,renderAs:a.node,outputAs:this.application.renderNode(a),complete:!0}}}postConstraints(t){if("collapse"!==t.css("borderCollapse")){const e=t.data(Ji,"columnCount");if(e){let i=0,o=0,n=0,a=0;t.renderEach(r=>{const s=r.data(Ji,"cellData");if(s){const l=r.actualParent;if(!l.visible){const c=1!==l.getBox(2)[0]?l.marginTop:0,d=1!==l.getBox(8)[0]?l.marginBottom:0;if(s.cellStart&&(i=c+l.paddingTop),s.rowStart&&(a=Math.max(l.marginLeft+l.paddingLeft,a)),s.rowEnd){const i=d+l.paddingBottom+(s.cellEnd?0:c+l.paddingTop);if(i>0)if(s.cellEnd)n=i;else{const o=this.controller;o.addAfterOutsideTemplate(r.id,o.renderSpace("match_parent","@dimen/"+O.insertStoredAsset("dimens",t.controlId+"_grid_space",Yi(i)),e),!1)}o=Math.max(l.marginRight+l.paddingRight,o)}}}}),t.modifyBox(32,i),t.modifyBox(64,o),t.modifyBox(128,n),t.modifyBox(256,a)}}if(!t.hasWidth){let e=-1/0;Zi(t.renderChildren,t=>t.inlineFlow||!t.blockStatic,t=>e=Math.max(e,t.linear.right)),Ki(t.box.right,e)&&t.setLayoutWidth("wrap_content")}}}var to=squared.base.LayoutUI;const eo=squared.lib,{formatPX:io,getBackgroundPosition:oo}=eo.css,{convertInt:no}=eo.util,ao=squared.base,{NodeUI:ro}=ao,so=ao.lib,{LIST:lo}=so.constant.EXT_NAME,co=24,ho=8;class uo extends squared.base.extensions.List{processNode(t,i){const o=new to(i,t,0,0,t.children);if((!o.unknownAligned||o.singleRowAligned)&&(super.processNode(t,i),o.linearY?(o.rowCount=t.length,o.columnCount=t.some(t=>"inside"===t.css("listStylePosition"))?3:2,o.setContainerType(e.GRID,4)):(o.linearX||o.singleRowAligned)&&(o.rowCount=1,o.columnCount=o.length,o.setContainerType(e.LINEAR,8)),0!==o.containerType))return{output:this.application.renderNode(o),complete:!0}}processChild(t,i){const o=t.data(lo,"mainData");if(o){const{application:a,controller:r}=this,s=i.firstStaticChild===t,l=o.ordinal||"";let c=t.marginLeft,d=0,h=!1,u=NaN,p=!1;t.modifyBox(16),i.is(e.GRID)?(d=no(i.android("columnCount")),h=!0):s&&(h=!0),h&&(c+=i.paddingLeft>0?i.paddingLeft:i.marginLeft);const g=0===t.length?r.createNodeGroup(t,[t],i):t;let m;if(""===l&&(m=t.find(t=>"left"===t.float&&t.marginLeft<0&&Math.abs(t.marginLeft)<=t.documentParent.marginLeft)),m){const o=new to(i,m);m.inlineText||0===m.length?o.containerType=e.TEXT:(o.singleRowAligned?o.setContainerType(e.RELATIVE,8):o.setContainerType(e.CONSTRAINT,2),o.retain(m.children)),m.parent=i,m.render(i),3===d&&t.android("layout_columnSpan","2"),c+=m.marginLeft,c>0&&!m.hasWidth&&m.android("minWidth",io(c)),m.modifyBox(16),a.addLayoutTemplate(i,m,a.renderNode(o))}else{const s="inside"===t.css("listStylePosition");let f,y="right",b=0,T=0,A=0,E=0;if(""!==o.imageSrc){const e=this.resource;o.imagePosition&&(({top:A,left:E}=oo(o.imagePosition,t.actualDimension,t.fontSize,e.getImage(o.imageSrc))),y="left",t.marginLeft<0?(u=t.marginLeft,u+=i.paddingLeft>0?i.paddingLeft:i.marginLeft):(h=!1,T=t.marginLeft),c=0),f=e.addImageSrc(o.imageSrc)}if("left"===y)c+=t.paddingLeft-E,t.modifyBox(256);else{const t=l.length||1;b=Math.max(c/(f?6:4*t),4)}const S=q();m=a.createNode(),m.containerName=t.containerName+"_ORDINAL",s?(r.addBeforeOutsideTemplate(m.id,r.renderNodeStatic(n.SPACE,q(void 0,{minWidth:"@dimen/"+O.insertStoredAsset("dimens",t.tagName.toLowerCase()+"_space_indent",io(c))})),!1),c=co):3===d&&g.android("layout_columnSpan","2"),"DT"!==t.tagName||f?(f?(m.setControlType(n.IMAGE,e.IMAGE),Object.assign(S.android,{src:"@drawable/"+f,scaleType:s||"right"!==y?"fitStart":"fitEnd",baselineAlignBottom:h?"true":""})):l?(m.textContent=l,m.inlineText=!0,m.setControlType(n.TEXT,e.TEXT),"DFN"===t.tagName&&(c+=ho,m.modifyBox(64,ho))):(m.setControlType(n.SPACE,e.SPACE),m.renderExclude=!1,t.modifyBox(256)),m.depth=t.depth,m.inherit(t,"textStyle"),l&&!l.endsWith(".")&&(m.fontSize*=.75),m.cssApply({minWidth:c>0?io(c):"",marginTop:0!==t.marginTop?io(t.marginTop):"",marginLeft:T>0?io(T):"",paddingTop:t.paddingTop>0&&0===t.getBox(32)[0]?io(t.paddingTop):"",paddingRight:b>0&&"right"===y?io(b):"",paddingLeft:b>0&&"left"===y&&(!f||o.imagePosition)?io(b):"",lineHeight:t.lineHeight>0?io(t.lineHeight):""}),m.apply(S),m.cssTry("display","block")&&(m.setBounds(),m.cssFinally("display")),m.saveAsInitial(),s||m.mergeGravity("gravity",t.localizeString(y)),0!==A&&m.modifyBox(2,A),0!==E&&m.modifyBox(16,E),m.render(i),a.addLayoutTemplate(i,m,{type:1,node:m,controlName:m.controlName}),p=!0):g.android("layout_columnSpan",""+d)}if(m.positioned=!0,h&&((isNaN(u)||u<=0)&&i.modifyBox(i.paddingLeft>0?256:16),u<0&&i.modifyBox(16,u)),d>0&&(g.setLayoutWidth("0px"),g.android("layout_columnWeight","1"),g!==t?t.baseline&&g.android("baselineAlignedChildIndex","0"):t.filter(t=>t.visible).length>1&&ro.linearData(t.children).linearY&&t.addAlign(1024)),t!==g)return 0!==t.marginTop&&(g.modifyBox(2,t.marginTop),t.modifyBox(2),t.outerWrapper=g,g.innerWrapped=t,p&&g.registerBox(2,m)),{parent:g,renderAs:g,outputAs:a.renderNode(new to(i,g,e.LINEAR,18,g.children))};p&&t.registerBox(2,m)}}}const{convertFloat:po}=squared.lib.util;class go extends squared.base.extensions.Relative{postOptimize(t){super.postOptimize(t),t.imageOrSvgElement&&t.alignSibling("baseline")&&0!==po(t.verticalAlign)&&"invisible"===t.android("visibility")&&t.android("baselineAlignBottom","true")}}var mo=squared.base.LayoutUI;const{formatPX:fo}=squared.lib.css,yo=squared.base.lib,{NODE_PROCEDURE:bo,NODE_RESOURCE:To}=yo.enumeration,{SPRITE:Ao}=yo.constant.EXT_NAME;class Eo extends squared.base.extensions.Sprite{processNode(t,i){const o=t.data(Ao,"mainData");if(o){const a=this.resource.addImageSrc(t.backgroundImage);if(""!==a){const{width:r,height:s}=o.image,{top:l,left:c}=o.position,d=this.application.createNode();return d.inherit(t,"base","initial","styleMap"),d.setControlType(n.FRAME,e.FRAME),d.exclude(To.IMAGE_SOURCE,bo.CUSTOMIZATION),i.appendTry(t,d),t.setControlType(n.IMAGE,e.IMAGE),t.exclude(To.FONT_STYLE|To.BOX_STYLE),t.cssApply({position:"static",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"inline-block",width:r>0?fo(r):"auto",height:s>0?fo(s):"auto",marginTop:fo(l),marginRight:"0px",marginBottom:"0px",marginLeft:fo(c),paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px",backgroundPositionX:"0px",backgroundPositionY:"0px",backgroundColor:"rgba(0, 0, 0, 0)"}),t.unsetCache(),t.android("src","@drawable/"+a),d.innerWrapped=t,t.outerWrapper=d,t.parent=d,{renderAs:d,outputAs:this.application.renderNode(new mo(i,d,e.FRAME,4096,d.children)),parent:d,complete:!0}}}}}const{getDataSet:So}=squared.lib.css;squared;let vo;class xo extends squared.base.ExtensionUI{constructor(t,e,i,n){super(t,e,i,n),this.require(o.EXTERNAL,!0),vo=t}processNode(t,i){const o=So(t.element,vo),n=o.tag;if(n){t.containerType=t.blockStatic?e.BLOCK:e.INLINE,t.setControlType(n),t.render(i);const a=o.tagChild;return a&&(t.addAlign(4),t.each(t=>{if(t.styleElement){const e=t.dataset;e.use=vo,e.androidSubstituteTag=a}})),{output:{type:1,node:t,controlName:n}}}}postOptimize(t){t.apply(O.formatOptions(q(this.options[t.elementId]),this.application.extensionManager.optionValueAsBoolean(o.RESOURCE_STRINGS,"numberResourceValue")))}}var Ro=squared.base.LayoutUI;const Io=squared.lib,{formatPX:wo}=Io.css,{aboveRange:_o,convertFloat:No,convertInt:Co,trimEnd:Lo}=Io.util,{UNITZERO:Oo}=Io.regex.CHAR,Po=squared.base.lib,{TABLE:ko}=Po.constant.EXT_NAME;function Do(t){t.hasPX("height")&&t.height+t.contentBoxHeight<Math.floor(t.bounds.height)&&"top"!==t.css("verticalAlign")&&t.setLayoutHeight("wrap_content")}class Mo extends squared.base.extensions.Table{processNode(t,i){super.processNode(t,i);const o=t.data(ko,"mainData");if(o){let n=!1;o.columnCount>1?(n=o.expand,t.each(t=>{const e=t.data(ko,"cellData");if(Oo.test(t.css("width")))t.setLayoutWidth("0px"),t.android("layout_columnWeight",t.toElementString("colSpan","1"));else{const i=e.expand;if(i){const i=No(e.percent)/100;i>0&&(t.setLayoutWidth("0px"),t.android("layout_columnWeight",Lo(i.toPrecision(3),"0")),n||(n=!t.hasWidth))}else!1===i&&t.android("layout_columnWeight","0");if(e.downsized)if(e.exceed)t.setLayoutWidth("0px"),t.android("layout_columnWeight","0.01");else if(t.hasPX("width")){const e=t.bounds.width;t.actualWidth<e&&t.setLayoutWidth(wo(e))}}"TD"===t.tagName&&t.setSingleLine(!0),Do(t)})):t.each(t=>{t.has("width",4)&&(t.setLayoutWidth("wrap_content"),n=!0),Do(t)}),n?i.hasPX("width")&&_o(t.actualWidth,i.actualWidth)?t.setLayoutWidth("match_parent"):t.css("width",wo(t.actualWidth),!0):t.hasPX("width")&&t.actualWidth<Math.floor(t.bounds.width)&&(o.layoutFixed?t.android("width",wo(t.bounds.width),!0):(t.hasPX("minWidth")||t.android("minWidth",wo(t.actualWidth)),t.css("width","auto",!0))),t.hasPX("height")&&t.actualHeight<Math.floor(t.bounds.height)&&(t.hasPX("minHeight")||t.android("minHeight",wo(t.actualHeight)),t.css("height","auto",!0));const a=new Ro(i,t,e.GRID,4,t.children);return a.rowCount=o.rowCount,a.columnCount=o.columnCount,{output:this.application.renderNode(a),complete:!0}}}processChild(t,e){const i=t.data(ko,"cellData");if(i){const{rowSpan:o,colSpan:n,spaceSpan:a}=i;if(o>1&&t.android("layout_rowSpan",""+o),n>1&&t.android("layout_columnSpan",""+n),a){const e=this.controller;e.addAfterOutsideTemplate(t.id,e.renderSpace("wrap_content","wrap_content",a),!1)}t.mergeGravity("layout_gravity","fill"),"hide"===e.css("empty-cells")&&0===t.naturalChildren.length&&""===t.textContent&&t.hide(!0)}}postOptimize(t){const e=Co(t.layoutWidth);if(e>0){const i=t.bounds.width;i>e&&t.setLayoutWidth(wo(i)),e>0&&"auto"===t.cssInitial("width")&&t.renderChildren.every(t=>t.inlineWidth)&&t.renderEach(t=>{t.setLayoutWidth("0px"),t.android("layout_columnWeight","1")})}}}var Bo=squared.base.LayoutUI;squared;class Wo extends squared.base.extensions.VerticalAlign{processNode(t,i){return super.processNode(t,i),{output:this.application.renderNode(new Bo(i,t,e.RELATIVE,8,t.children))}}}class Ho extends squared.base.extensions.WhiteSpace{constructor(){super(...arguments),this.eventOnly=!0}}var Xo=squared.base.LayoutUI;const Go=squared.lib,{formatPX:Vo}=Go.css,{withinRange:Fo}=Go.util,{NODE_PROCEDURE:zo}=squared.base.lib.enumeration;class Uo extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={circlePosition:!1}}is(){return!0}condition(t){return this.included(t.element)&&t.length>0}processNode(t,i){return t.exclude(0,zo.CONSTRAINT),{output:this.application.renderNode(new Xo(i,t,e.CONSTRAINT,32,t.children))}}postBaseLayout(t){const e=this.controller,i=this.options.circlePosition,{left:o,top:n}=t.box;let a;if(t.each(t=>{const e=t.linear;if(Fo(e.left,o)&&(t.anchor("left","parent"),t.anchorStyle(c.HORIZONTAL)),Fo(e.top,n)&&(t.anchor("top","parent"),t.anchorStyle(c.VERTICAL)),i)if(t.anchored)a=t;else{const e=t.constraint;a?!a.constraint.vertical&&e.vertical&&(a=t):e.vertical?a=t:e.horizontal&&(a=t)}}),i){void 0===a&&(a=t.item(0)),a.anchored||e.addGuideline(a,t);const{x:i,y:o}=a.center;t.each(t=>{if(t!==a){const{x:e,y:n}=t.center,r=Math.abs(e-i),s=Math.abs(n-o),l=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(s,2)));let c=Math.round(Math.atan(Math.min(r,s)/Math.max(r,s))*(180/Math.PI));n>o?e>i?r>s?c+=90:c=180-c:r>s?c=270-c:c+=180:n<o?i>e?r>s?c+=270:c=360-c:r>s&&(c=90-c):c=e>i?90:270,t.app("layout_constraintCircle",a.documentId),t.app("layout_constraintCircleRadius",Vo(l)),t.app("layout_constraintCircleAngle",""+c)}})}else t.each(i=>{i.anchored||e.addGuideline(i,t)})}}var qo=squared.base.LayoutUI;const{NODE_RESOURCE:jo}=squared.base.lib.enumeration,Yo=(t,e)=>e.backgroundImage&&(t.marginTop>0||t.marginRight>0||t.marginBottom>0||t.marginLeft>0),Zo=(t,e)=>e.borderWidth&&!t.inline&&!t.hasPX("width")&&(""!==t.backgroundColor||t.toElementInt("scrollHeight")<window.innerHeight)&&"100%"!==t.css("height")&&"100%"!==t.css("minHeight"),Ko=(t,e)=>t.actualParent.height>0&&e.backgroundImage&&-1!==t.css("backgroundPositionY").indexOf("bottom");class $o extends squared.base.ExtensionUI{constructor(){super(...arguments),this.removeIs=!0}is(t){return t.documentBody}condition(t){const e=t.visibleStyle;return Yo(t,e)||Zo(t,e)||Ko(t,e)}processNode(t,i){const o=this.controller,{backgroundColor:a,visibleStyle:r}=t;let s,l;""!==a&&(s=o.createNodeWrapper(t,i),s.setLayoutWidth("match_parent"),s.unsafe("excludeResource",jo.BOX_SPACING),s.css("backgroundColor",a),s.setCacheValue("backgroundColor",a),s.setLayoutHeight("match_parent"),s.unsetCache("visibleStyle"),t.css("backgroundColor","transparent"),t.setCacheValue("backgroundColor",""),r.backgroundColor=!1);const c=Zo(t,r);if(c||Yo(t,r)||Ko(t,r)){const a=t.backgroundImage;if(""!==a){s?(l=s,l.setControlType(n.FRAME,e.FRAME),l.addAlign(4096),l.render(i),this.application.addLayoutTemplate(i,s,{type:1,node:s,controlName:s.controlName}),s=o.createNodeWrapper(t,l),s.documentRoot=!1,l.documentRoot=!0):s=o.createNodeWrapper(t,i),s.setLayoutWidth("match_parent"),s.unsafe("excludeResource",jo.BOX_SPACING);const d=i.cssInitial("height"),h=i.cssInitial("minHeight");let u;if(""===d&&""===h)s.setLayoutHeight(c?"match_parent":"wrap_content");else{if("100%"!==d&&"100%"!==h){const t=i.toElementInt("offsetHeight");t<window.innerHeight&&(u=`auto ${t}px`)}s.setLayoutHeight("match_parent")}s.cssApply({backgroundImage:a,backgroundSize:u||t.css("backgroundSize"),backgroundRepeat:t.css("backgroundRepeat"),backgroundPositionX:t.css("backgroundPositionX"),backgroundPositionY:t.css("backgroundPositionY"),backgroundClip:t.css("backgroundClip"),border:"0px none solid",borderRadius:"0px"}),s.setCacheValue("backgroundImage",a),s.unsetCache("visibleStyle"),t.css("backgroundImage","none"),t.setCacheValue("backgroundImage",""),r.backgroundImage=!1}}if(r.background=r.borderWidth||r.backgroundImage||r.backgroundColor,s)return{parent:s,parentAs:l,renderAs:s,outputAs:this.application.renderNode(new qo(l||i,s,e.FRAME,4096,s.children))}}}var Jo=squared.base.LayoutUI;const{aboveRange:Qo,belowRange:tn}=squared.lib.util;squared;class en extends squared.base.ExtensionUI{is(t){return t.naturalElement&&(t.documentBody||t.contentBoxWidth>0||t.contentBoxHeight>0)}condition(t){const e=t.filter(t=>!t.pageFlow&&t.leftTopAxis&&t.left>=0&&t.right>=0);if(e.length){const i=t.paddingTop+(t.documentBody?t.marginTop:0),n=t.paddingRight+(t.documentBody?t.marginRight:0),a=t.paddingBottom+(t.documentBody?t.marginBottom:0),r=t.paddingLeft+(t.documentBody?t.marginLeft:0),s=new Set;let l=!1,c=!1;for(const o of e){const e="fixed"===o.css("position");if(o.hasPX("left")){const t=o.left;t>=0&&t<r&&s.add(o)}else if(o.hasPX("right")){const i=o.right;i>=0&&(e||i<n||t.documentBody&&t.hasPX("width"))&&(s.add(o),l=!0)}else o.rightAligned?o.marginRight<0&&(t.documentRoot||Qo(o.linear.right,t.bounds.right))&&s.add(o):o.marginLeft<0&&(t.documentRoot||tn(o.linear.left,t.bounds.left))&&s.add(o);if(o.hasPX("top")){const t=o.top;t>=0&&t<i&&s.add(o)}else if(o.hasPX("bottom")){const i=o.bottom;i>=0&&(e||i<a||t.documentBody&&t.hasPX("height"))&&(s.add(o),c=!0)}}if(s.size)return t.data(o.DELEGATE_FIXED,"mainData",{children:Array.from(s),right:l,bottom:c}),!0}return!1}processNode(t,i){const n=t.data(o.DELEGATE_FIXED,"mainData");if(n){const a=this.controller.createNodeWrapper(t,i,n.children);if(t.documentBody){let t=!1;n.right&&(a.setLayoutWidth("match_parent"),t=!0),n.bottom&&(a.setLayoutHeight("match_parent"),t=!0),t&&a.cssApply({width:"auto",height:"auto",display:"block",float:"none"})}else t.pageFlow||t.resetBox(30,a);for(const e of n.children){const i=e.autoMargin;let o=!1,n=!1;e.hasPX("top")&&(e.modifyBox(2,t.borderTopWidth),o=!0),e.hasPX("bottom")&&(!o||i.top||i.topBottom)&&e.modifyBox(8,t.borderBottomWidth),e.hasPX("left")&&(e.modifyBox(16,t.borderLeftWidth),n=!0),e.hasPX("right")&&(!n||i.left||i.leftRight)&&e.modifyBox(4,t.borderRightWidth)}const r=t.data(o.DELEGATE_MAXWIDTHHEIGHT,"mainData");if(r){r.container&&(r.width&&(a.css("maxWidth",t.css("maxWidth")),a.setLayoutWidth("0px"),a.contentBoxWidth=t.contentBoxWidth,t.setLayoutWidth("wrap_content")),r.height&&(a.css("maxHeight",t.css("maxHeight")),a.setLayoutHeight("0px"),a.contentBoxHeight=t.contentBoxHeight,t.setLayoutHeight("wrap_content")))}return this.subscribers.add(a),{parent:a,renderAs:a,outputAs:this.application.renderNode(new Jo(i,a,e.CONSTRAINT,32,a.children))}}}postConstraints(t){t.each(t=>{const e=t.constraint;e.horizontal||t.anchor("left","parent"),e.vertical||t.anchor("top","parent")})}}var on=squared.base.LayoutUI;squared;class nn extends squared.base.ExtensionUI{is(t){return!t.inputElement}condition(t,e){if(!t.support.maxDimension){const i=!isNaN(t.width)&&t.hasPX("maxWidth")&&!e.hasAlign(256),n=!isNaN(t.height)&&t.hasPX("maxHeight")&&e.hasHeight;if(i||n)return t.data(o.DELEGATE_MAXWIDTHHEIGHT,"mainData",{width:i,height:n}),!0}return!1}processNode(t,i){const n=t.data(o.DELEGATE_MAXWIDTHHEIGHT,"mainData");if(n){const o=i.layoutConstraint?i:this.controller.createNodeWrapper(t,i,void 0,Lt.getControlName(e.CONSTRAINT,t.localSettings.targetAPI),e.CONSTRAINT);if(n.width&&(t.setLayoutWidth("0px"),o.setLayoutWidth("match_parent"),i.layoutElement)){const e=t.autoMargin;e.horizontal=!1,e.left=!1,e.right=!1,e.leftRight=!1}if(n.height&&(t.setLayoutHeight("0px"),o.setLayoutHeight("match_parent"),i.layoutElement)){const e=t.autoMargin;e.vertical=!1,e.top=!1,e.bottom=!1,e.topBottom=!1}if(n.container=o,i!==o)return{parent:o,renderAs:o,outputAs:this.application.renderNode(new on(i,o,o.containerType,4096,o.children))}}}}var an=squared.base.LayoutUI;squared;class rn extends squared.base.ExtensionUI{is(t){return!t.pageFlow}condition(t,e){if(e.documentRoot){const i=e.box,o=t.linear;return Math.ceil(o.left)<Math.floor(i.left)&&(t.left<0||t.marginLeft<0||!t.hasPX("left")&&t.right>0)||Math.floor(o.right)>Math.ceil(i.right)&&(t.left>0||t.marginLeft>0||!t.hasPX("left")&&t.right<0)||Math.ceil(o.top)<Math.floor(i.top)&&(t.top<0||t.marginTop<0||!t.hasPX("top")&&t.bottom>0)||Math.floor(o.bottom)>Math.ceil(i.bottom)&&(t.top>0||t.marginTop>0||!t.hasPX("top")&&t.bottom<0)&&e.hasPX("height")}return!1}processNode(t,i){const o=this.controller.createNodeWrapper(t,i);return{parent:o,renderAs:o,outputAs:this.application.renderNode(new an(i,o,e.FRAME,4096,o.children)),include:!0}}}var sn=squared.base.LayoutUI;const{formatPX:ln}=squared.lib.css;squared;function cn(t,e){return t.pageFlow?t===e.firstChild&&t.inlineFlow&&!t.centerAligned&&!t.rightAligned&&t.marginLeft<0&&Math.abs(t.marginLeft)<=e.marginLeft+e.paddingLeft&&!e.some(t=>t.multiline):t.absoluteParent===e&&(t.left<0||!t.hasPX("left")&&t.right<0)}class dn extends squared.base.ExtensionUI{is(t){return!t.documentRoot&&"hidden"!==t.css("overflowX")}condition(t){return t.some(e=>cn(e,t))}processNode(t,i){const n=t.filter(e=>cn(e,t)),a=this.controller.createNodeWrapper(t,i,n,Lt.getControlName(e.CONSTRAINT,t.localSettings.targetAPI),e.CONSTRAINT),{marginTop:r,marginBottom:s}=t;r>0&&(a.modifyBox(2,r),t.modifyBox(2)),s>0&&(a.modifyBox(8,s),t.modifyBox(8));let l,c=NaN,d=NaN;for(const t of n){const e=t.linear;t.pageFlow?((isNaN(c)||e.left<c)&&(c=e.left),l=t):t.hasPX("left")?t.left<0&&(isNaN(c)||e.left<c)&&(c=e.left):t.right<0&&(isNaN(d)||e.right>d)&&(d=e.right)}if(a.inherit(t,"styleMap"),!isNaN(c)){let e=t.linear.left-c;if(e>0){t.modifyBox(16,e);for(const t of n)!t.pageFlow&&t.left<0&&t.css("left",ln(t.left+e),!0)}else{for(const e of n)!e.pageFlow&&e.left<0&&e.css("left",ln(t.marginLeft+e.left),!0);e=Math.abs(e)}t.hasPX("width",!1)?a.cssPX("width",(t.marginLeft>0?t.marginLeft:0)+e,!1,!0):t.hasPX("width")&&a.css("width","auto",!0)}if(!isNaN(d)){const e=t.linear.right,i=t.marginRight;let o=d-e;o>i?(o-=i,t.modifyBox(4,o)):o=0;const r=e+o;i>0&&(o+=i),o>0&&(t.hasPX("width",!1)||!t.blockStatic&&!t.hasPX("width"))&&a.css(a.hasPX("width")?"width":"minWidth",ln(t.actualWidth+o),!0);for(const t of n)t.right<0&&t.css("right",ln(r-t.linear.right),!0)}return this.subscribers.add(a),a.data(o.DELEGATE_NEGATIVEX,"mainData",{offsetLeft:t.marginLeft+t.paddingLeft,firstChild:l,nextSibling:t}),{parent:a,renderAs:a,outputAs:this.application.renderNode(new sn(i,a,a.containerType,4104,a.children))}}postBaseLayout(t){const e=t.data(o.DELEGATE_NEGATIVEX,"mainData");if(e){let i=e.firstChild;i&&(i=i.ascend(e=>e!==t,t,"outerWrapper").pop()||i,i.anchorParent(c.HORIZONTAL,"packed"),i.anchorParent(c.VERTICAL,"packed"),i.modifyBox(16,e.offsetLeft),Oe.setConstraintDimension(i),i.positioned=!0);const o=e.nextSibling.ascend(e=>e!==t,t,"outerWrapper").pop()||e.nextSibling;o.anchorParent(c.HORIZONTAL,"packed"),o.anchorParent(c.VERTICAL,"packed"),Oe.setConstraintDimension(o),o.positioned=!0}}}var hn=squared.base.LayoutUI;squared;const un=t=>!t.documentParent.layoutElement&&!t.display.startsWith("table");class pn extends squared.base.ExtensionUI{is(t){return t.pageFlow}condition(t,e){return t.has("width",4,{not:"100%"})&&!e.layoutConstraint&&(t.documentRoot||t.hasPX("height")||(e.layoutVertical||t.onlyChild)&&(e.blockStatic||e.hasPX("width")))?un(t):!(!t.has("height",4,{not:"100%"})||!(t.documentRoot||e.hasHeight&&t.onlyChild))&&un(t)}processNode(t,i){const o=this.controller.createNodeWrapper(t,i);return t.percentWidth?(o.css("display","block"),o.setLayoutWidth("match_parent"),t.setLayoutWidth("0px")):o.setLayoutWidth("wrap_content"),t.percentHeight?(o.setLayoutHeight("match_parent"),t.setLayoutHeight("0px")):o.setLayoutHeight("wrap_content"),{parent:o,renderAs:o,outputAs:this.application.renderNode(new hn(i,o,e.CONSTRAINT,4096,o.children)),include:!0}}postConstraints(t){const e=t.outerWrapper;e&&t.resetBox(30,e)}}const gn=squared.base,{NodeUI:mn}=gn,{NODE_RESOURCE:fn}=gn.lib.enumeration,yn=t=>t.name?t.name.trim():"";class bn extends squared.base.ExtensionUI{is(t){return t.is(e.RADIO)}condition(t){return""!==yn(t.element)&&!t.positioned}processNode(t,i){const o=yn(t.element),a=[],r=[],s=[];i.each(i=>{const n=i.renderAs;let l;if(n&&(n!==t&&(l=i),i=n),i.is(e.RADIO)&&!i.rendered&&yn(i.element)===o)a.push(i),s.push(i);else{if(!a.length||i.visible||i.is(e.RADIO))return;a.push(i)}l&&r.push(l)});for(let t=a.length-1;t>=0;t--)if(s.includes(a[t])){a.splice(t+1);break}if(a.length>1){const o=this.controller.createNodeGroup(t,a,i,!0),s=n.RADIOGROUP;mn.linearData(a).linearX?(o.addAlign(136),o.android("orientation",c.HORIZONTAL)):(o.addAlign(16),o.android("orientation",c.VERTICAL)),o.setControlType(s,e.LINEAR),o.inherit(t,"alignment"),o.baseline&&(o.css("verticalAlign","middle"),o.baseline=!1),o.exclude(fn.ASSET);const l=t.dataset;o.render(!l.use&&l.target?this.application.resolveTarget(l.target):i);for(const t of r)t.hide();return this.subscribers.add(o),{renderAs:o,outputAs:{type:1,node:o,controlName:s},parent:o,complete:!0}}}postBaseLayout(t){t.renderEach(e=>{e.naturalElement&&e.toElementBoolean("checked")&&t.android("checkedButton",e.documentId)})}}const{formatPX:Tn}=squared.lib.css,{NODE_RESOURCE:An}=squared.base.lib.enumeration;class En extends squared.base.ExtensionUI{is(t){return t.length>0}condition(t){return t.overflowX&&t.hasPX("width")||t.overflowY&&t.hasHeight&&t.hasPX("height")||this.included(t.element)}processNode(t,i){const o=[],r=[],s=n.HORIZONTAL_SCROLL,l=t.localSettings.targetAPI<29?n.VERTICAL_SCROLL:a.VERTICAL_SCROLL;if(t.overflowX&&t.overflowY)o.push(s,l);else if(t.overflowX)o.push(s);else if(t.overflowY)o.push(l);else{let e=0;t.hasPX("width")&&(e|=8,o.push(s)),t.hasHeight&&t.hasPX("height")&&(e|=16,o.push(l)),t.overflow=e}if(o.includes(s)){const e=[];let i=t.actualWidth-t.contentBoxWidth,n=!0,a=0;if(t.each(t=>{if(t.textElement&&"nowrap"!==t.css("whiteSpace"))e.push(t);else{const e=t.actualWidth;if(e<=i)return;e>a&&(a=e)}n=!1}),n?o.shift():a>i&&(i=a),o.length)for(const t of e)t.css("maxWidth",Tn(i),!0)}const d=o.length;if(d>0){for(let n=0;n<d;n++){let a;0===n?(a=this.application.createNode(t.element),a.inherit(t,"base","initial","styleMap"),i.appendTry(t,a)):(a=this.application.createNode(),a.inherit(t,"base"),a.exclude(An.BOX_STYLE),r[0].innerWrapped=a,a.outerWrapper=r[0]),a.setControlType(o[n],e.BLOCK),a.exclude(An.ASSET),a.resetBox(480),r.push(a)}for(let e=0;e<d;e++){const o=r[e];switch(o.controlName){case l:t.setLayoutHeight("wrap_content"),o.setLayoutHeight(Tn(t.actualHeight)),o.android("scrollbars",c.VERTICAL),o.cssApply({width:1===d&&t.css("width")||"auto",overflow:"scroll visible",overflowX:"visible",overflowY:"scroll"});break;case s:t.setLayoutWidth("wrap_content"),o.setLayoutWidth(Tn(t.actualWidth)),o.android("scrollbars",c.HORIZONTAL),o.cssApply({height:1===d&&t.css("height")||"auto",overflow:"visible scroll",overflowX:"scroll",overflowY:"visible"})}if(0===e){const e=t.dataset;o.render(!e.use&&e.target?this.application.resolveTarget(e.target):i)}else o.render(r[e-1]);o.unsetCache(),this.application.addLayoutTemplate(o.renderParent||i,o,{type:1,node:o,controlName:o.controlName})}return t.overflow=0,t.exclude(An.BOX_STYLE),t.resetBox(30,r[0]),(i=r.pop()).innerWrapped=t,t.parent=i,t.outerWrapper=i,{parent:i}}}}var Sn={shape:{"@":["xmlns:android","android:shape"],">":{solid:{"^":"android","@":["color"]},gradient:{"^":"android","@":["type","startColor","endColor","centerColor","angle","centerX","centerY","gradientRadius","visible"]},corners:{"^":"android","@":["radius","topLeftRadius","topRightRadius","bottomRightRadius","bottomLeftRadius"]},stroke:{"^":"android","@":["width","color","dashWidth","dashGap"]}}}},vn={"layer-list":{"@":["xmlns:android"],">":{item:{"^":"android","@":["left","top","right","bottom","drawable","width","height","gravity"],">":{shape:Sn.shape,bitmap:{"^":"android","@":["src","gravity","tileMode","tileModeX","tileModeY"]},rotate:{"^":"android","@":["drawable","fromDegrees","toDegrees","pivotX","pivotY","visible"]}}}}}};const xn={path:{"^":"android","@":["name","fillColor","fillAlpha","fillType","strokeColor","strokeAlpha","strokeWidth","strokeLineCap","strokeLineJoin","strokeMiterLimit","trimPathStart","trimPathEnd","trimPathOffset","pathData"],">":{"aapt:attr":{"@":["name"],">":{gradient:{"^":"android","@":["type","startColor","endColor","centerColor","angle","startX","startY","endX","endY","centerX","centerY","gradientRadius","tileMode"],">":{item:{"^":"android","@":["offset","color"]}}}}}}}},Rn={group:{"^":"android","@":["name","rotation","scaleX","scaleY","translateX","translateY","pivotX","pivotY"],">>":!0,">":{"clip-path":{"^":"android","@":["name","pathData"]},path:xn.path},"#":"include"}};var In={vector:{"@":["xmlns:android","xmlns:aapt","android:name","android:width","android:height","android:viewportWidth","android:viewportHeight","android:alpha"],">":{path:xn.path},"#":"include"}};const wn=squared.lib,{reduceRGBA:_n}=wn.color,{formatPercent:Nn,formatPX:Cn,getBackgroundPosition:Ln,isLength:On,isPercent:Pn}=wn.css,{truncate:kn}=wn.math,{CHAR:Dn,CSS:Mn,XML:Bn}=wn.regex,{flatArray:Wn,isEqual:Hn,resolvePath:Xn}=wn.util,{applyTemplate:Gn}=wn.xml,{NODE_RESOURCE:Vn}=squared.base.lib.enumeration;function Fn(t,e=-1,i=!1){const{style:o,color:n}=t,a=ea(t.width),r=ia(n);switch(o){case"solid":break;case"dotted":r.dashWidth=Cn(a),r.dashGap=r.dashWidth;break;case"dashed":{let t,e;switch(a){case 1:case 2:t=3*a,e=t-1;break;case 3:t=6,e=3;break;default:t=2*a,e=4}r.dashWidth=Cn(t),r.dashGap=Cn(e);break}case"inset":case"outset":case"groove":case"ridge":const t=n.rgba;let s=1;if(1===a)"inset"!==o&&"outset"!==o||(s=.5);else{const n=t.r===t.g&&t.g===t.b;let a=0;if("ridge"===o?(i=!i,a+=.25):"groove"===o?a+=.25:n?"inset"===o&&(i=!i):"outset"===o&&(i=!i),i)switch(e){case 0:case 3:e=1;break;case 1:case 2:e=0}switch(e){case 0:case 3:n&&(s=.5+a);break;case 1:case 2:s=n?.75+a:-.75}}if(1!==s){const e=_n(t,s,n.valueAsRGBA);if(e)return ia(e)}}return r}function zn(t,e=-1,i=!1,o=!1){if(t){let n;if(qn(t.style)){const a=parseFloat(t.width);n=Fn(t,e,!o),n.width=Cn(o?2*Math.ceil(a/2):i?Math.ceil(a/2):ea(t.width))}else n=Fn(t),n.width=Cn(ea(t.width));return n}}function Un(t){const e=ta(t,!1);return""!==e?{color:e}:void 0}function qn(t,e=0){switch(t){case"groove":case"ridge":case"inset":case"outset":return 1!==e;default:return!1}}function jn(t,e,i,o,n,a,r=0,s){const l=ea(e.width),c=Math.max(1,Math.floor(l/3)),d=r>0?Cn(r):"";let h="-"+Cn(c+r+1);t.push({top:i?d:h,right:o?d:h,bottom:n?d:h,left:a?d:h,shape:{"android:shape":"rectangle",stroke:Object.assign({width:Cn(c)},Fn(e)),corners:s}});const u=l-c+r,p=Cn(u);h="-"+Cn(u+1),t.push({top:i?p:h,right:o?p:h,bottom:n?p:h,left:a?p:h,shape:{"android:shape":"rectangle",stroke:Object.assign({width:Cn(c)},Fn(e)),corners:s}})}function Yn(t,e,i){return-1===t.indexOf(" ")&&-1!==e.indexOf(" ")?Dn.LOWERCASE.test(t)?("initial"===t?i:t)+" 0px":i+" "+t:"initial"===t?"0px":t}function Zn(t,e=21,i){const o=t.type,n={type:o,item:!1},a=e>=21;switch(o){case"conic":{const e=t.center;n.type="sweep",a?(n.centerX=""+2*e.left,n.centerY=""+2*e.top):(n.centerX=Nn(e.leftAsPercent),n.centerY=Nn(e.topAsPercent));break}case"radial":{const{center:e,radius:i}=t;a?(n.gradientRadius=""+i,n.centerX=""+e.left,n.centerY=""+e.top):(n.gradientRadius=Cn(i),n.centerX=Nn(e.leftAsPercent),n.centerY=Nn(e.topAsPercent));break}case"linear":{const{angle:e,angleExtent:o,dimension:a}=t;let r=o.x,s=o.y;if(e<=90){const t=a.height;s+=t,n.startX="0",n.startY=""+t}else if(e<=180)n.startX="0",n.startY="0";else if(e<=270){const t=a.width;r+=t,n.startX=""+t,n.startY="0"}else{const{width:t,height:e}=a;r+=t,s+=e,n.startX=""+t,n.startY=""+e}n.endX=kn(r,i),n.endY=kn(s,i);break}}const r=t.colorStops;if(a)n.item=aa(r);else{const t=r.length;n.startColor=ta(r[0].color),n.endColor=ta(r[t-1].color),t>2&&(n.centerColor=ta(r[Math.floor(t/2)].color))}return n}function Kn(t,e,i,o){if(o){const n=e.orientation;if("left"===t||"right"===t){if(Pn(4===n.length?n[1]:n[0]))return("left"===t?e.leftAsPercent:e.rightAsPercent)*(i.width-o.width)}else{if(Pn(4===n.length?n[3]:n[1]))return("top"===t?e.topAsPercent:e.bottomAsPercent)*(i.height-o.height)}}return e[t]}function $n(t,e,i=!0){const o=[{"xmlns:android":l.android,item:[]}],n=!i&&Un(t.backgroundColor);if(n&&o[0].item.push({shape:{"android:shape":"rectangle",solid:n}}),e)for(const t of e)o[0].item.push(t.gradient?{shape:{"android:shape":"rectangle",gradient:t.gradient}}:t);return o}function Jn(t,e,i){O.addTheme({name:t,parent:e,items:{"android:windowBackground":i,"android:windowFullscreen":"true","android:fitsSystemWindows":"true"}})}function Qn(t){const e=ea(t.width);return 2===e&&"double"===t.style?3:e}function ta(t,e=!0){const i=O.addColor(t,e);return""!==i?"@color/"+i:""}const ea=t=>Math.round(parseFloat(t)),ia=t=>({color:ta(t),dashWidth:"",dashGap:""}),oa=t=>"groove"===t.style||"ridge"===t.style||"double"===t.style&&ea(t.width)>1,na=(t,e)=>`${t}px ${e}px`;function aa(t,e){const i=[];for(const o of t)i.push({color:ta(o.color),offset:kn(o.offset,e)});return i}function ra(t,e,i=0,o=0,n){return n?(i=kn(i,n),o=kn(o,n),t=kn(i+t,n),e=kn(o+e,n)):(t+=i,e+=o),`M${i},${o} ${t},${o} ${t},${e} ${i},${e} Z`}class sa extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={drawOutlineAsInsetBorder:!0},this.eventOnly=!0}afterResources(){var t,e;const i=this.application,n=i.userSettings;function a(t,e){if(""!==e){const i="@drawable/"+O.insertStoredAsset("drawables",t.containerName.toLowerCase()+"_"+t.controlId,e);!t.documentBody||r(t)||""===t.backgroundColor&&!t.visibleStyle.backgroundRepeatY?t.android("background",i,!1):Jn(n.manifestThemeName,n.manifestParentThemeName,i)}}function r(t){const e=t.actualParent;if(!e.visible){const t=e.android("background");if(""!==t)return Jn(n.manifestThemeName,n.manifestParentThemeName,t),!0}return!1}this._resourceSvgInstance=this.controller.localSettings.svg.enabled?i.builtInExtensions[o.RESOURCE_SVG]:void 0;const s=this.options.drawOutlineAsInsetBorder;for(const o of i.processing.cache){const i=o.data(O.KEY_NAME,"boxStyle");if(i)if(o.hasResource(Vn.BOX_STYLE)){if(o.inputElement){const n=o.companion;if("LABEL"===(null===(t=n)||void 0===t?void 0:t.tagName)&&!n.visible){const t=null===(e=n.data(O.KEY_NAME,"boxStyle"))||void 0===e?void 0:e.backgroundColor;t&&(i.backgroundColor=t)}}const r=this.getDrawableImages(o,i),l=i.outline;let[c,d]=this.getDrawableBorder(i,void 0,r,s&&l?Qn(l):0);const h=void 0===c&&void 0===d;if(l&&(s||h)){const[t,e]=this.getDrawableBorder(i,l,h?r:void 0,void 0,!h);t?void 0===c&&(c=t):e&&(d?d[0].item=d[0].item.concat(e[0].item):d=e)}if(c)a(o,Gn("shape",Sn,c));else if(d)a(o,Gn("layer-list",vn,d));else{const t=i.backgroundColor;if(t){const e=ta(t,!1);if(""!==e)if(o.documentBody)Jn(n.manifestThemeName,n.manifestParentThemeName,e);else{const i=o.data(O.KEY_NAME,"fontStyle");i?i.backgroundColor=t:o.android("background",e,!1)}}}}else o.documentBody&&r(o)}this._resourceSvgInstance=void 0}getDrawableBorder(t,e,i,o=0,n=!1){var a,r;const s=[,,,,],c=[,,,,],d=n?void 0:function(t){if(t){const i=t.length;if(1===i)return{radius:t[0]};{function e(t){const[e,i,o,n]=t,a={};let r=!1;return"0px"!==e&&(a.topLeftRadius=e,r=!0),"0px"!==i&&(a.topRightRadius=i,r=!0),"0px"!==o&&(a.bottomRightRadius=o,r=!0),"0px"!==n&&(a.bottomLeftRadius=n,r=!0),r?a:void 0}if(8===i){const o=[,,,,];for(let e=0,n=0;e<i;e+=2)o[n++]=Cn((parseFloat(t[e])+parseFloat(t[e+1]))/2);return e(o)}return e(t)}}}(t.borderRadius),h=o>0?Cn(o):"";let u,p,g,m,f=!0,y=!0;if(e){p=e;for(let t=0;t<4;t++)s[t]=e,c[t]=!0}else{s[0]=t.borderTop,s[1]=t.borderRight,s[2]=t.borderBottom,s[3]=t.borderLeft;for(let t=0;t<4;t++){const e=s[t];e?(f&&p&&(f=Hn(p,e),f||(y=!1)),p=e,c[t]=!0):(c[t]=!1,y=!1)}}if(y&&(u=p),u&&!qn(u.style,ea(u.width))&&!("double"===u.style&&parseInt(u.width)>1)||void 0===p&&(d||(null===(a=i)||void 0===a?void 0:a.length))){const e=!!u&&zn(u);(null===(r=i)||void 0===r?void 0:r.length)||o>0||n?(m=$n(t,i,n),(d||e)&&m[0].item.push({top:h,right:h,left:h,bottom:h,shape:{"android:shape":"rectangle",corners:d,stroke:e}})):g=function(t,e,i){return[{"xmlns:android":l.android,"android:shape":"rectangle",stroke:t,solid:e,corners:i}]}(e,!n&&Un(t.backgroundColor),d)}else if(p)if(m=$n(t,i,n),f&&!qn(p.style)){const t=ea(p.width);if("double"===p.style&&t>1)jn(m[0].item,p,c[0],c[1],c[2],c[3],o,d);else{const e="-"+Cn(t+o+1);m[0].item.push({top:c[0]?h:e,right:c[1]?h:e,bottom:c[2]?h:e,left:c[3]?h:e,shape:{"android:shape":"rectangle",corners:d,stroke:zn(p)}})}}else{function b(t,e){const i=s[e];if(i){const n=ea(i.width);if("double"===i.style&&n>1)jn(t.item,i,0===e,1===e,2===e,3===e,o,d);else{const a=n>1&&oa(i);if(a){const r="-"+Cn(n+o+1);t.item.push({top:0===e?"":r,right:1===e?"":r,bottom:2===e?"":r,left:3===e?"":r,shape:{"android:shape":"rectangle",stroke:zn(i,e,a,!0)}})}const r="-"+Cn((a?Math.ceil(n/2):n)+o+1);t.item.push({top:0===e?h:r,right:1===e?h:r,bottom:2===e?h:r,left:3===e?h:r,shape:{"android:shape":"rectangle",corners:d,stroke:zn(i,e,a)}})}}}b(m[0],0),b(m[0],3),b(m[0],2),b(m[0],1)}return[g,m]}getDrawableImages(t,i){var o;const n=i.backgroundImage,a=t.extracted;if((n||a)&&t.hasResource(Vn.IMAGE_SOURCE)){const g=this.resource,m=t.bounds,{width:f,height:y}=m,b=[],T=[],A=[],E=[],S=[],v=i.backgroundPositionX.split(Bn.SEPARATOR),x=i.backgroundPositionY.split(Bn.SEPARATOR);let R=i.backgroundRepeat.split(Bn.SEPARATOR),I=i.backgroundSize.split(Bn.SEPARATOR),w=0,_=!0;if(n){const e=this._resourceSvgInstance,i=n.length;function r(t){for(;t.length<i;)t=t.concat(t.slice(0));return t.length=i,t}R=r(R),I=r(I);let a=!1;for(let r=0;r<i;r++){let i=n[r],s=!1;if("string"==typeof i){if("initial"!==i){if(e){const[o,n]=e.createSvgElement(t,i);if(o&&n){const i=e.createSvgDrawable(t,n);if(""!==i){T[w]=i,E[w]=!0;const e=t.data(O.KEY_NAME,"svgViewBox")||{width:n.width.baseVal.value,height:n.height.baseVal.value};if(!t.svgElement){let{width:t,height:i}=e;if(t>f||i>y){const e=t/f,o=i/y;e>o?e>1?(t=f,i/=e):i=y*(o/e):o>1?(i=y,t/=o):t=f*(e/o)}e.width=t,e.height=i}A[w]=e,s=!0}o.removeChild(n)}}if(!s){const t=Mn.URL.exec(i);if(t){const e=t[1];if(e.startsWith("data:image")){const t=g.getRawData(e);(null===(o=t)||void 0===o?void 0:o.base64)&&(T[w]=t.filename.substring(0,t.filename.lastIndexOf(".")),A[w]=t,g.writeRawImage(t.filename,t.base64),s=!0)}else i=Xn(e),T[w]=O.addImage({mdpi:i}),""!==T[w]&&(A[w]=g.getImage(i),s=!0)}}}}else if(i.colorStops.length>1){const e=Zn(i,t.localSettings.targetAPI);e&&(T[w]=e,A[w]=i.dimension,s=!0)}if(s){const e=v[r]||v[r-1],i=x[r]||x[r-1];S[w]=Ln(Yn(e,i,"left")+" "+Yn(i,e,"top"),t.actualDimension,t.fontSize,A[w],I[r]),w++}else R[r]=void 0,I[r]=void 0,a=!0}a&&(R=Wn(R),I=Wn(I))}if(a){0===w&&(R.length=0,I.length=0);const e=a.filter(t=>t.visible&&(t.imageElement||"INPUT_IMAGE"===t.containerName));for(let i=0;i<e.length;i++){const o=e[i],n=g.addImageSrc(o.element);if(""!==n){const e=o.bounds;T[w]=n,R[w]="no-repeat",I[w]=na(o.actualWidth,o.actualHeight),S[w]=Ln("INPUT_IMAGE"===o.containerName?na(0,0):na(e.left-m.left+t.borderLeftWidth,e.top-m.top+t.borderTopWidth),t.actualDimension,t.fontSize,e),A[w]=g.getImage(n),w++}}}for(let o=w-1;o>=0;o--){const n=T[o],a=S[o],r=I[o],g={};let v=A[o],x=NaN,w=NaN;v&&(v.width&&v.height?(x=v.width,w=v.height):v=void 0);let N=0,C=0,L=0,P=0,k=!0,D=!0,M=!0;if("string"==typeof n){function s(t,e,i=!1){(2===a.orientation.length||i)&&(a[t]=0),a[e]=0}function d(){X="",G="",V="",S=!1,t.documentBody&&(t.visibleStyle.backgroundRepeat=!0,t.visibleStyle.backgroundRepeatY=!0)}function h(){I="",O="",a.top=0,a.right=0,a.bottom=0,a.left=0,_=!1,M=!1}const l=()=>_&&"fill_horizontal"!==I&&"repeat"!==X&&""===G,m=()=>_&&"fill_vertical"!==O&&"repeat"!==X&&""===V,b="@drawable/"+n;let T=R[o];if(-1!==T.indexOf(" ")){const[t,e]=T.split(" ");T="no-repeat"===t?"no-repeat"===e?"no-repeat":"repeat-y":"no-repeat"===e?"repeat-x":"repeat"}else"space"!==T&&"round"!==T||(T="repeat");const A=!0===E[o];let S="repeat"===T,I="",O="";if(S||"repeat-x"===T){if(v)if(a.left>0){do{a.left-=x}while(a.left>0);k=!0}else k=x<f;else a.left=0,k=!0;a.right=0}else switch(a.horizontal){case"left":case"0%":s("left","right"),I=t.localizeString("left");break;case"center":case"50%":s("left","right",!0),I=c.CENTER_HORIZONTAL;break;case"right":case"100%":s("right","left"),I=t.localizeString("right");break;default:I+=t.localizeString(0!==a.right?"right":"left")}if(S||"repeat-y"===T){if(v)if(a.top>0){do{a.top-=w}while(a.top>0);D=!0}else D=w<y;else a.top=0,D=!0;a.bottom=0}else switch(a.vertical){case"top":case"0%":s("top","bottom"),O+="top";break;case"center":case"50%":s("top","bottom",!0),O+=c.CENTER_VERTICAL;break;case"bottom":case"100%":s("bottom","top"),O+="bottom";break;default:O+=0!==a.bottom?"bottom":"top"}let B,W=0,H=0,X="",G="",V="",F="";if(S)k&&D?X="repeat":(k&&(G="repeat"),D&&(V="repeat"),S=!1);else switch(T){case"repeat-x":t.documentBody?x<f?G="repeat":I="fill_horizontal":!t.blockStatic&&x>f?W=x:G="repeat";break;case"repeat-y":t.documentBody?w<y?V="repeat":O="fill_vertical":w>y?H=w:V="repeat";break;default:X="disabled"}if(v){if(""!==I&&"repeat"===V&&x<f){function u(){""===O&&I!==t.localizeString("left")&&t.renderChildren.length&&(V="disabled"),F=I,I="",G="disabled"}switch(I){case"start":case"left":a.left+=t.borderLeftWidth,a.right=0,u();break;case"end":case"right":a.left=0,a.right+=t.borderRightWidth,u();break;case c.CENTER_HORIZONTAL:a.left=0,a.right=0,u()}}if(""!==O&&"repeat"===G&&w<y){function p(){""===I&&"top"!==O&&t.renderChildren.length&&(G="disabled"),F+=(""!==F?"|":"")+O,O="",V="disabled"}switch(O){case"top":a.top+=t.borderTopWidth,a.bottom=0,p();break;case"bottom":a.top=0,a.bottom+=t.borderBottomWidth,p();break;case c.CENTER_VERTICAL:a.top=0,a.bottom=0,p()}}}switch(r){case"auto":case"auto auto":case"initial":case"contain":break;case"100%":case"100% 100%":case"100% auto":case"auto 100%":if(!S&&"repeat"!==G&&"repeat"!==V&&(x<f||w<y)){const t=x/f,e=w/y;t<e?(W=f,H=y*(e/t),h()):t>e&&(W=f*(t/e),H=y,h())}_=!1;break;case"cover":d();break;case"round":B="fill",I="fill_horizontal",O="fill_vertical",d();break;default:r.split(" ").forEach((e,i)=>{"100%"===e?0===i?I="fill_horizontal":O="fill_vertical":S||"auto"===e||(0===i?W=t.parseUnit(e,"width",!1):H=t.parseUnit(e,"height",!1))})}if(v)switch(r){case"cover":{const t=x/f,e=w/y;if(t<e){if(W=f,H=y*(e/t),P=0,H>y){if(N=y-H,a.topAsPercent>0){const t=Math.round(N*a.topAsPercent);t+w<y&&(N=t)}}else N=0;B=""}else if(t>e){if(W=f*(t/e),H=y,W>f){if(P=f-W,a.leftAsPercent>0){const t=Math.round(P*a.leftAsPercent);t+x<f&&(P=t)}}else P=0;N=0,B=""}else B="fill";h();break}case"contain":{const t=x/f,e=w/y;t>e?(B="fill_horizontal|center_vertical",W=0,H=y*(e/t)):t<e?(B="fill_vertical|center_horizontal",W=f*(t/e),H=0):B="fill",h();break}default:0===W&&H>0&&l()&&(W=x*H/w),0===H&&W>0&&m()&&(H=w*W/x)}if(i.backgroundClip){const{top:e,right:o,left:n,bottom:r}=i.backgroundClip;0===W?W=f:W+=t.contentBoxWidth,0===H?H=y:H+=t.contentBoxHeight,W-=n+o,H-=e+r,"right"===I||"end"===I?(a.right+=o,P=0):0!==a.right?C+=o:P+=n,"bottom"===O?(a.bottom+=r,N=0):0!==a.bottom?L+=r:N+=e,B="",I="",O="",M=!1}else 0===W&&0===H&&x<f&&w<y&&l()&&m()&&!A&&(W=x,H=w);if(M){if(!S){const t=i.backgroundOrigin;t&&("repeat"!==G&&("right"===I||"end"===I?(a.right+=t.right,P=0):0!==a.leftAsPercent||0===a.rightAsPercent?0!==a.right?C-=t.left:P+=t.left:0!==a.right?C+=t.right:P-=t.right),"repeat"!==V&&("bottom"===O?(a.bottom+=t.bottom,N=0):0!==a.topAsPercent||0===a.bottomAsPercent?0!==a.bottom?L-=t.top:N+=t.top:0!==a.bottom?L+=t.bottom:N-=t.bottom),M=!1)}if(!(t.documentBody||t.is(e.IMAGE)||A))if(_){let e=!1,i=!1;if(f<x&&(!t.has("width",2,{map:"initial",not:"100%"})&&(!t.blockStatic||!B||"center"!==B&&-1===B.indexOf(c.CENTER_HORIZONTAL))||!t.pageFlow)&&(W=f-(t.contentBox?t.contentBoxWidth:0),e=!0,"disabled"!==X))switch(a.horizontal){case"left":case"0px":G="repeat"}!(y<w)||t.has("height",2,{map:"initial",not:"100%"})&&t.pageFlow||(H=y-(t.contentBox?t.contentBoxHeight:0),i=!0),(e||i)&&(""!==F&&(F+="|"),F+=e&&i?"fill":e?"fill_horizontal":"fill_vertical")}else y<w&&!t.hasPX("height")&&0===t.length&&(H=y,F="",""===O&&(O="top"))}W>0&&(g.width=W),H>0&&(g.height=H),""===F&&((W||x)+a.left>=f&&(!t.blockStatic||t.hasPX("width",!1))&&(G="",_||H||"fill"===B||-1!==I.indexOf("fill_horizontal")||(I+=(""!==I?"|":"")+"fill_horizontal"),"repeat"===X&&(V="repeat",X="")),(H||w)+a.top>=y&&!t.documentBody&&!t.has("height",4)&&(V="",_||"fill"===B||-1!==O.indexOf("fill_vertical")||t.hasPX("height")||(O+=(""!==O?"|":"")+"fill_vertical"),"repeat"===X&&(G="repeat",X="")),"repeat"!==X&&"fill"!==B&&(""!==G?""!==V||""!==O&&-1===O.indexOf("top")&&-1===O.indexOf("fill_vertical")||(F=O,O="",t.renderChildren.length&&(G="")):""===V||""!==I&&-1===I.indexOf("start")&&-1===I.indexOf("left")&&-1===I.indexOf("fill_horizontal")||(F=I,I="",t.renderChildren.length&&(V="")))),void 0===B&&(I===c.CENTER_HORIZONTAL&&O===c.CENTER_VERTICAL?x<=f&&w<=y?(F+=(""!==F?"|":"")+"center",B=""):B="center":"fill_horizontal"===I&&"fill_vertical"===O?B="fill":(B="",""!==I&&(B+=I),""!==O&&(B+=(B?"|":"")+O)),"fill_horizontal"===I&&(I=""),"fill_vertical"===O&&(O="")),t.documentBody&&"repeat"!==G&&""!==B&&""===F&&"cover"!==r&&"contain"!==r?(g.gravity=B,g.drawable=b):("repeat"===X||""!==G||""!==V||""!==F&&""!==B||"cover"===r||"contain"===r||!_&&H>0&&"cover"!==r&&"contain"!==r)&&!A?(g.gravity=F,g.bitmap=[{src:b,gravity:B,tileMode:X,tileModeX:G,tileModeY:V}]):(g.gravity=B||F,g.drawable=b)}else if(n.item){let e,i;v?(e=Math.round(x),i=Math.round(w)):(e=Math.round(t.actualWidth),i=Math.round(t.actualHeight)),r.split(" ").some(t=>"100%"!==t&&On(t,!0))&&(g.width=e,g.height=i);const s=O.insertStoredAsset("drawables",`${t.controlId}_gradient_${o+1}`,Gn("vector",In,[{"xmlns:android":l.android,"xmlns:aapt":l.aapt,"android:width":g.width||Cn(e),"android:height":g.height||Cn(i),"android:viewportWidth":""+e,"android:viewportHeight":""+i,path:{pathData:ra(e,i),"aapt:attr":{name:"android:fillColor",gradient:n}}}]));""!==s&&(g.drawable="@drawable/"+s,a.static&&(g.gravity="fill"))}else g.gradient=n,a.static&&(g.gravity="fill");if(g.drawable||g.bitmap||g.gradient){0!==a.bottom?L=(D||!M?a.bottom:Kn("bottom",a,m,v))+L:0!==a.top&&(N=(D||!M?a.top:Kn("top",a,m,v))+N),0!==a.right?C=(k||!M?a.right:Kn("right",a,m,v))+C:0!==a.left&&(P=(k||!M?a.left:Kn("left",a,m,v))+P);const t=g.width,e=g.height;0!==N&&(N<0&&e>y&&(N=Math.max(N,y-e)),g.top=Cn(N)),0!==C&&(g.right=Cn(C)),0!==L&&(g.bottom=Cn(L)),0!==P&&(P<0&&t>f&&(P=Math.max(P,f-t)),g.left=Cn(P)),t&&(g.width=Cn(t)),e&&(g.height=Cn(e)),b.push(g)}}return b}}}const la=squared.lib,{XML:ca}=la.regex,{convertUnderscore:da,fromLastIndexOf:ha}=la.util,ua=O.STORED,pa=["android","app"],ga=/\dpx$/,ma=/:(\w+)="(-?[\d.]+px)"/;function fa(t,e,i){for(const[o,n]of t.entries())if(o.startsWith(e)&&i===n)return o;return t.has(e)&&t.get(e)!==i?O.generateId("dimen",e):e}const ya=t=>ha(t,".");class ba extends squared.base.ExtensionUI{constructor(){super(...arguments),this.eventOnly=!0}beforeCascade(){const t=ua.dimens,e={};for(const t of this.application.session.cache)if(t.visible){const i=t.containerName.toLowerCase();let o=e[i];void 0===o&&(o={},e[i]=o);for(const e of pa){const i=t.namespace(e);for(const n in i)if("text"!==n){const a=i[n];if(ga.test(a)){const i=`${e},${n},${a}`;let r=o[i];void 0===r&&(r=[],o[i]=r),r.push(t)}}}}for(const i in e){const o=e[i];for(const e in o){const[n,a,r]=e.split(ca.SEPARATOR),s=fa(t,ya(i)+"_"+da(a),r),l=o[e];for(const t of l)t[n](a,"@dimen/"+s);t.set(s,r)}}}afterFinalize(){if(this.controller.hasAppendProcessing()){const t=ua.dimens;for(const e of this.application.layouts){let i,o=e.content;for(;null!==(i=ma.exec(o));){const[e,n,a]=i;if("text"!==n){const i=fa(t,"custom_"+da(n),a);o=o.replace(e,e.replace(a,"@dimen/"+i)),t.set(i,a)}}e.content=o}}}}const Ta=squared.lib,{XML:Aa}=Ta.regex,{capitalize:Ea,convertInt:Sa,convertWord:va,filterArray:xa,objectMap:Ra,spliceArray:Ia,trimString:wa}=Ta.util,{NODE_RESOURCE:_a}=squared.base.lib.enumeration,Na=O.STORED,Ca=/^(\w*?)(?:_(\d+))?$/,La=/"/g,Oa={"sans-serif":14,"sans-serif-thin":16,"sans-serif-light":16,"sans-serif-condensed":16,"sans-serif-condensed-light":16,"sans-serif-medium":21,"sans-serif-black":21,"sans-serif-smallcaps":21,"serif-monospace":21,serif:21,casual:21,cursive:21,monospace:21,"sans-serif-condensed-medium":26},Pa={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},ka={"ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif","-webkit-standard":"sans-serif"},Da={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},Ma={fontFamily:'android:fontFamily="',fontStyle:'android:textStyle="',fontWeight:'android:fontWeight="',fontSize:'android:textSize="',color:'android:textColor="@color/',backgroundColor:'android:background="@color/'};function Ba(t,e,i){const o=t.length;for(const n of e.split(";"))for(let e=0;e<o;e++){let a=-1,r="",s=t[e];for(const t in s)if(t===n){a=e,r=t,e=o;break}if(-1!==a){s=t[a],s[r]=xa(s[r],t=>!i.includes(t)),0===s[r].length&&delete s[r];break}}}class Wa extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={systemDefaultFont:"sans-serif",disableFontAlias:!1},this.eventOnly=!0}afterParseDocument(){var t,e;const i=this.resource,o=i.userSettings,n=this.options.disableFontAlias,a=o.resolutionDPI,r="dp"===o.convertPixels,{fonts:s,styles:l}=Na,c=Object.keys(Ma),d={},h={};for(const t of this.application.session.cache)if(t.data(O.KEY_NAME,"fontStyle")&&t.hasResource(_a.FONT_STYLE)){const e=t.containerName;let i=d[e];void 0===i&&(i=[],d[e]=i),i.push(t)}for(const e in d){const o=[],l=d[e];for(let e of l){const{id:l,companion:d}=e,h=e.localSettings.targetAPI,u=e.data(O.KEY_NAME,"fontStyle");let{fontFamily:p,fontStyle:g,fontWeight:m}=u;"LABEL"!==(null===(t=d)||void 0===t?void 0:t.tagName)||d.visible||(e=d),p.replace(La,"").split(Aa.SEPARATOR).some((t,o,a)=>{let r=t=wa(t,"'").toLowerCase(),l=!1;if(!n&&ka[r]&&(r=this.options.systemDefaultFont),h>=Oa[r]||!n&&h>=Oa[Pa[r]])p=r,l=!0;else if(g&&m){let e=!0;if(void 0===i.getFont(t,g,m))if(i.getFont(t,g))e=!1;else{if(o<a.length-1)return!1;o>0&&(r=t=wa(a[0],"'").toLowerCase())}if(r=va(r),e){const e=s.get(r)||{};e[t+"|"+g+"|"+m]=Da[m]||m,s.set(r,e)}p="@font/"+r,l=!0}return!!l&&("normal"===g&&(g=""),"400"===m||e.localSettings.targetAPI<26?m="":parseInt(m)>500&&(g+=(g?"|":"")+"bold"),!0)});const f={fontFamily:p,fontStyle:g,fontWeight:m,fontSize:u.fontSize,color:O.addColor(u.color),backgroundColor:O.addColor(u.backgroundColor)};for(let t=0;t<6;t++){const e=c[t];let i=f[e];if(i){3===t&&r&&(i=z(i,a,!0));const n=Ma[e]+i+'"';let s=o[t];void 0===s&&(s={},o[t]=s);let c=s[n];void 0===c&&(c=[],s[n]=c),c.push(l)}}}h[e]=o}const u={};for(const t in h){const e={};u[t]=e;const i=xa(h[t],t=>void 0!==t).sort((t,e)=>{let i=0,o=0,n=0,a=0;for(const e in t){const o=t[e].length;i=Math.max(o,i),n+=o}for(const t in e){const i=e[t];if(i){const t=i.length;o=Math.max(t,o),a+=t}}return i!==o?i>o?-1:1:n!==a?n>a?-1:1:0});do{if(1===i.length){const t=i[0];for(const i in t){const o=t[i];o.length&&(e[i]=o)}i.length=0}else{const o={};for(let n=0;n<i.length;n++){const a={},r=i[n];for(const e in r){const s=r[e];if(0===s.length)continue;if(s.length===d[t].length){o[e]=s,i[n]={};break}const l={};let c=!1;for(let t=0;t<i.length;t++)if(n!==t){const e=i[t];for(const t in e){const i=e[t];if(i.length)for(const e of s)if(i.includes(e)){let i=l[t];void 0===i&&(i=[],l[t]=i),i.push(e)}}}for(const t in l){const i=l[t];i.length>1&&(a[e<t?e+";"+t:t+";"+e]=i,c=!0)}c||(a[e]=s)}if(Object.keys(a).length){const t={},o=new Set,n={};for(const t in a)n[t]=a[t].join(",");for(const e in a)for(const i in a){const a=n[e];if(e!==i&&a===n[i]){let n=t[a];void 0===n&&(n=new Set(e.split(";")),t[a]=n);for(const t of i.split(";"))n.add(t);o.add(e).add(i)}}for(const t of o)delete a[t];for(const t in a)Ba(i,t,a[t]),e[t]=a[t];for(const o in t){const n=Array.from(t[o]).sort().join(";"),a=Ra(o.split(Aa.SEPARATOR),t=>parseInt(t));Ba(i,n,a),e[n]=a}}}const n=Object.keys(o);n.length&&(e[n.join(";")]=o[n[0]]),Ia(i,t=>{for(const e in t)if(t[e].length)return!1;return!0})}}while(i.length)}const p={},g={},m=new Set;for(const t in u){const e=u[t],i=[];for(const t in e){const o=[];for(const e of t.split(";")){const t=Aa.ATTRIBUTE.exec(e);t&&o.push({key:t[1],value:t[2]})}i.push({name:"",parent:"",items:o,ids:e[t]})}i.sort((t,e)=>{let i=t.ids.length,o=e.ids.length;if(i===o){i=t.items.length,o=e.items.length,i===o&&(i=t.name,o=e.name)}return i<=o?1:-1});const o=i.length;for(let e=0;e<o;e++)i[e].name=Ea(t)+(e>0?"_"+e:"");p[t]=i}for(const t in p)for(const e of p[t]){const t=e.ids;if(t)for(const i of t){let t=g[i];void 0===t&&(t=[],g[i]=t),t.push(e.name)}}for(const t of this.application.session.cache){const i=g[t.id];if(null===(e=i)||void 0===e?void 0:e.length)switch(t.tagName){case"METER":case"PROGRESS":t.attr("_","style","@android:style/Widget.ProgressBar.Horizontal");break;default:i.length>1?(m.add(i.join(".")),i.shift()):m.add(i[0]),t.attr("_","style","@style/"+i.join("."))}}for(const t of m){const e=[];let i,o="";if(t.split(".").forEach((t,n,a)=>{const r=Ca.exec(t);if(r){const s=p[r[1].toUpperCase()][Sa(r[2])];if(s)if(0===n)o=t,1===a.length?i=s.items:l.has(t)||l.set(t,{name:t,parent:"",items:s.items});else{if(i)for(const t of s.items){const e=i.findIndex(e=>e.key===t.key);-1!==e?i[e]=t:i.push(t)}else i=s.items.slice(0);e.push(t)}}}),i)if(0===e.length)l.set(o,{name:o,parent:"",items:i});else{const t=e.join(".");l.set(t,{name:t,parent:o,items:i})}}}}squared;class Ha extends squared.base.ExtensionUI{constructor(){super(...arguments),this.eventOnly=!0}beforeCascade(){for(const t of this.application.session.cache){const e=t.renderTemplates;if(e){let i,o;if(t.renderEach((t,e)=>{const n=t.dataset,a=n.androidInclude,r="true"===n.androidIncludeEnd;if(a||r){const s={item:t,name:a,index:e,merge:"true"===n.androidIncludeMerge};a&&(void 0===i&&(i=[]),i.push(s)),r&&(void 0===o&&(o=[]),o.push(s))}}),i&&o){const{application:t,controller:n}=this;i.length=Math.min(i.length,o.length);for(let t=i.length;t<o.length;t++)o.shift();for(let a=i.length-1;a>=0;a--){const r=i[a];for(let i=0;i<o.length;i++){const a=o[i].index;if(a>=r.index){const s=[];for(let t=r.index;t<=a;t++)s.push(e[t]),e[t]=null;const l=r.merge||s.length>1,c=l?1:0;e[r.index]={type:2,node:s[0].node,content:n.renderNodeStatic("include",{layout:"@layout/"+r.name},"",""),indent:!0};let d=n.cascadeDocument(s,c);l?d=n.getEnclosingXmlTag("merge",K(d),d):r.item.documentRoot=!0,t.saveDocument(r.name,d,"",1/0),o.splice(i,1);break}}}}}}}}const Xa=squared.lib,{formatPX:Ga}=Xa.css,{measureTextWidth:Va}=Xa.dom,{capitalizeString:Fa,isNumber:za,lowerCaseString:Ua}=Xa.util,{replaceCharacterData:qa}=Xa.xml,{NODE_RESOURCE:ja}=squared.base.lib.enumeration;class Ya extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={numberResourceValue:!1,fontVariantSmallCapsReduction:.7},this.eventOnly=!0}afterResources(){var t;const e=this.options.numberResourceValue,i=(t,i,o,n)=>{""!==(o=O.addString(n,o,e))&&t.android(i,e||!za(o)?"@string/"+o:o,!1)};for(const e of this.application.processing.cache)if(e.hasResource(ja.VALUE_STRING)){switch(e.tagName){case"SELECT":{const t=this.createOptionArray(e.element,e.controlId);""!==t&&e.android("entries","@array/"+t);break}case"IFRAME":{const t=e.data(O.KEY_NAME,"valueString");t&&O.addString(qa(t.value),t.key);break}default:if(!e.layoutFrame){const o=e.data(O.KEY_NAME,"valueString");if(o){const n=o.key||o.value;let a=o.value;if(e.naturalChild&&e.alignParent("left")&&!(!e.plainText&&e.preserveWhiteSpace||e.plainText&&e.actualParent.preserveWhiteSpace)){let t=0;const i=e.textContent,o=i.length;for(let e=0;e<o;e++)switch(i.charCodeAt(e)){case 160:t++;case 32:continue}0===t&&(a=a.replace(/^(\s|&#160;)+/,""))}if("small-caps"===e.css("fontVariant"))if(e.localSettings.targetAPI>=21)e.android("fontFeatureSettings","smcp");else{e.android("textAllCaps","true");const t=e.data(O.KEY_NAME,"fontStyle");t&&(t.fontSize=parseFloat(t.fontSize)*this.options.fontVariantSmallCapsReduction+"px")}switch(e.css("textTransform")){case"uppercase":e.android("textAllCaps","true");break;case"lowercase":a=Ua(a);break;case"capitalize":a=Fa(a)}const r=e.tagName;a=qa(a,e.preserveWhiteSpace||"CODE"===r);const s=e.css("textDecorationLine");if("none"!==s)for(const t of s.split(" "))switch(t){case"underline":a="<u>"+a+"</u>";break;case"line-through":a="<strike>"+a+"</strike>"}"INS"===r&&-1===s.indexOf("line-through")&&(a="<strike>"+a+"</strike>");let l=0;if(e.blockDimension||"table-cell"===e.display){const t=e.css("textIndent");l=e.parseUnit(t),("100%"===t||l+e.bounds.width<0)&&(a="",e.delete("android","ellipsize","maxLines"))}if(""!==a){if(0===l){const i=e.actualParent;(null===(t=i)||void 0===t?void 0:t.firstChild)!==e||!i.blockDimension&&"table-cell"!==i.display||(l=i.parseUnit(i.css("textIndent")))}if(l>0){const t=Va(" ",e.css("fontFamily"),e.fontSize)||e.fontSize/2;a="&#160;".repeat(Math.max(Math.floor(l/t),1))+a}i(e,"text",n,a)}}if(e.inputElement){if(e.controlName===n.EDIT_LIST){const t=e.element.list;t&&(this.createOptionArray(t,e.controlId),e.hasPX("width")||e.css("width",Ga(Math.max(e.bounds.width,e.width)),!0))}const t=e.data(O.KEY_NAME,"hintString");t&&i(e,"hint",e.controlId.toLowerCase()+"_hint",t)}}}if(e.styleElement){const t=e.toElementString("title");""!==t&&i(e,"tooltipText",e.controlId.toLowerCase()+"_title",t)}}}createOptionArray(t,e){var i;const o=O.getOptionArray(t);let n;if(!this.options.numberResourceValue&&o[1])n=o[1];else{const t=o[0]||o[1];if(t){n=[];for(let e of t)e=O.addString(qa(e),"",this.options.numberResourceValue),""!==e&&n.push("@string/"+e)}}return(null===(i=n)||void 0===i?void 0:i.length)?O.insertStoredAsset("arrays",e+"_array",n):""}}const Za=squared.lib,{XML:Ka}=Za.regex,{capitalize:$a,trimString:Ja}=Za.util,Qa=O.STORED,tr=/(\w+):(\w+)="([^"]+)"/;class er extends squared.base.ExtensionUI{constructor(){super(...arguments),this.eventOnly=!0}beforeCascade(){const t={},e={};for(const i of this.application.session.cache)if(i.controlId&&i.visible){const o=i.renderChildren,n=o.length;if(n>1){const a=new Map;let r=!0,s="";for(let t=0;t<n;t++){const e=o[t];let i=!1;for(const o of e.combine("_","android"))if(!i&&o.startsWith("style=")){if(0===t)s=o;else if(""===s||o!==s){r=!1;break}i=!0}else a.set(o,(a.get(o)||0)+1);if(!r||!i&&""!==s){r=!1;break}}if(r){for(const[t,e]of a.entries())e!==n&&a.delete(t);if(a.size>1){""!==s&&(s=Ja(s.substring(s.indexOf("/")+1),'"'));const n=[];for(const t of a.keys()){const e=tr.exec(t);if(e){for(const t of o)t.delete(e[1],e[2]);n.push(e[0])}}n.sort();const r=n.join(";");let l="";for(const t in e)if(e[t]===r){l=t;break}""!==s&&l.startsWith(s+".")||(l=(""!==s?s+".":"")+$a(i.controlId),t[l]=n,e[l]=r);for(const t of o)t.attr("_","style","@style/"+l)}}}}for(const e in t){const i=[],o=t[e];for(const t in o){const e=Ka.ATTRIBUTE.exec(o[t]);e&&i.push({key:e[1],value:e[2]})}Qa.styles.set(e,Object.assign(Object.assign({},j()),{name:e,items:i}))}}}var ir={"animated-vector":{"@":["xmlns:android","android:drawable"],">":{target:{"^":"android","@":["name","animation"]}}}};const or=["ordering"],nr={objectAnimator:{"^":"android","@":["propertyName","startOffset","duration","repeatCount","interpolator","valueType","valueFrom","valueTo"],">":{propertyValuesHolder:{"^":"android","@":["propertyName"],">":{keyframe:{"^":"android","@":["interpolator","fraction","value"]}}}}}};var ar={set:{"@":["xmlns:android","android:ordering"],">":{set:{"^":"android","@":or,">":{set:{"^":"android","@":or,">":{objectAnimator:nr.objectAnimator}},objectAnimator:nr.objectAnimator}},objectAnimator:nr.objectAnimator}}};void 0===squared.svg&&Object.assign(squared,{svg:{lib:{constant:{},util:{}}}});var rr=squared.svg.Svg,sr=squared.svg.SvgAnimate,lr=squared.svg.SvgAnimateTransform,cr=squared.svg.SvgBuild,dr=squared.svg.SvgG,hr=squared.svg.SvgPath,ur=squared.svg.SvgShape;const pr=squared.lib,{formatPX:gr,isPercent:mr}=pr.css,{truncate:fr}=pr.math,{CSS:yr}=pr.regex,{convertCamelCase:br,convertInt:Tr,convertWord:Ar,filterArray:Er,formatString:Sr,isArray:vr,isNumber:xr,isString:Rr,objectMap:Ir,partitionArray:wr,replaceMap:_r}=pr.util,{applyTemplate:Nr}=pr.xml,Cr=squared.svg.lib,{KEYSPLINE_NAME:Lr}=Cr.constant,{MATRIX:Or,SVG:Pr,TRANSFORM:kr}=Cr.util,Dr=O.STORED,Mr={accelerate_decelerate:"@android:anim/accelerate_decelerate_interpolator",accelerate:"@android:anim/accelerate_interpolator",anticipate:"@android:anim/anticipate_interpolator",anticipate_overshoot:"@android:anim/anticipate_overshoot_interpolator",bounce:"@android:anim/bounce_interpolator",cycle:"@android:anim/cycle_interpolator",decelerate:"@android:anim/decelerate_interpolator",linear:"@android:anim/linear_interpolator",overshoot:"@android:anim/overshoot_interpolator"},Br=["name","value","fill","stroke","fillPattern","fillRule","strokeWidth","fillOpacity","strokeOpacity","strokeLinecap","strokeLinejoin","strokeLineJoin","strokeMiterlimit"];Lr&&Object.assign(Mr,{[Lr["ease-in"]]:Mr.accelerate,[Lr["ease-out"]]:Mr.decelerate,[Lr["ease-in-out"]]:Mr.accelerate_decelerate,[Lr.linear]:Mr.linear});const Wr='<?xml version="1.0" encoding="utf-8"?>\n<pathInterpolator xmlns:android="http://schemas.android.com/apk/res/android"\n\tandroid:controlX1="{0}"\n\tandroid:controlY1="{1}"\n\tandroid:controlX2="{2}"\n    android:controlY2="{3}" />\n',Hr={stroke:["strokeColor"],fill:["fillColor"],opacity:["alpha"],"stroke-opacity":["strokeAlpha"],"fill-opacity":["fillAlpha"],"stroke-width":["strokeWidth"],"stroke-dasharray":["trimPathStart","trimPathEnd"],"stroke-dashoffset":["trimPathOffset"],d:["pathData"],"clip-path":["pathData"]};function Xr(t,e){return t&&t[e]?Mr[t[e]]||Vr(t[e]):""}function Gr(t){for(const e in Hr)if(Hr[e].includes(t))return br(e);return""}function Vr(t){if(Mr[t])return Mr[t];{const e="path_interpolator_"+Ar(t);if(!Dr.animators.has(e)){const i=Sr(Wr,...t.split(" "));Dr.animators.set(e,i)}return"@anim/"+e}}function Fr(t){const e={};for(const i of t){const{matrix:t,origin:o}=i;switch(i.type){case SVGTransform.SVG_TRANSFORM_SCALE:e.scaleX=""+t.a,e.scaleY=""+t.d,o&&(e.pivotX=""+o.x,e.pivotY=""+o.y);break;case SVGTransform.SVG_TRANSFORM_ROTATE:e.rotation=""+i.angle,o?(e.pivotX=""+o.x,e.pivotY=""+o.y):(e.pivotX="0",e.pivotY="0");break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:e.translateX=""+t.e,e.translateY=""+t.f}}return e}function zr(t,e){let i=0,o=0;for(const n of function(t){const e=[];let i=t.parentElement;for(;i&&(e.push(i),i=i.parentElement,!(i instanceof HTMLElement)););return e}(t))(Pr.svg(n)||Pr.use(n))&&n!==e&&(i+=n.x.baseVal.value,o+=n.y.baseVal.value);return{x:i,y:o}}function Ur(t,e,i=1,o=1){const n=e.length;return n>0&&(Pr.circle(t)||Pr.ellipse(t))&&e.some(t=>t.type===SVGTransform.SVG_TRANSFORM_ROTATE)&&(i!==o||n>1&&e.some(t=>t.type===SVGTransform.SVG_TRANSFORM_SCALE&&t.matrix.a!==t.matrix.d))?qr(t,e):[[],e]}function qr(t,e,i=!1){if(e.length){const n=[],a=[],r=e[0].fromCSS?[]:kr.rotateOrigin(t).reverse(),s=e.slice(0).reverse();for(let t=1;t<s.length;t++){const e=s[t],i=s[t-1];if(e.type===i.type){let o;switch(e.type){case SVGTransform.SVG_TRANSFORM_TRANSLATE:o=Or.clone(e.matrix),o.e+=i.matrix.e,o.f+=i.matrix.f;break;case SVGTransform.SVG_TRANSFORM_SCALE:o=Or.clone(e.matrix),o.a*=i.matrix.a,o.d*=i.matrix.d}o&&(e.matrix=o,s.splice(--t,1))}}const l=[];function o(){n.push(l.slice(0)),l.length=0}for(const t of s)switch(t.type){case SVGTransform.SVG_TRANSFORM_MATRIX:case SVGTransform.SVG_TRANSFORM_SKEWX:case SVGTransform.SVG_TRANSFORM_SKEWY:a.push(t);break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:i||0!==n.length||0!==l.length?(l.push(t),o()):a.push(t);break;case SVGTransform.SVG_TRANSFORM_ROTATE:for(;r.length;){const e=r.shift();if(e.angle===t.angle){0===e.x&&0===e.y||(t.origin=e);break}}if(void 0===t.origin&&1===l.length&&l[0].type===SVGTransform.SVG_TRANSFORM_SCALE){l.push(t);continue}case SVGTransform.SVG_TRANSFORM_SCALE:l.length&&o(),l.push(t)}return l.length&&n.push(l),[n.reverse(),a]}return[[],e]}function jr(t,e,i,o=!1,n){let a;const r=t[e];return r?a=Array.isArray(r)?""+r[i]:r:o||0!==e||(a=n),a||""}function Yr(t){switch(t){case"fill":case"stroke":return"";case"opacity":case"stroke-opacity":case"stroke-dasharray":case"stroke-dashoffset":case"fill-opacity":case"transform":return"floatType";case"stroke-width":return"intType";case"d":case"x":case"x1":case"x2":case"cx":case"y":case"y1":case"y2":case"cy":case"r":case"rx":case"ry":case"width":case"height":case"points":return"pathType";default:return Qr(t)?"floatType":void 0}}function Zr(t,e,i,o){const n=new sr;return n.attributeName=t,n.delay=e,n.duration=1,n.from=o||i,n.to=i,n.fillForwards=!0,n.convertToValues(),n}function Kr(t,e=!0){let i=Hr[t];return void 0===i&&e&&Qr(t)&&(i=[t]),i}function $r(t){switch(t){case SVGTransform.SVG_TRANSFORM_TRANSLATE:return["translateX","translateY"];case SVGTransform.SVG_TRANSFORM_SCALE:return["scaleX","scaleY","pivotX","pivotY"];case SVGTransform.SVG_TRANSFORM_ROTATE:return["rotation","pivotX","pivotY"]}}function Jr(t){switch(t.type){case SVGTransform.SVG_TRANSFORM_ROTATE:return lr.toRotateList(t.values);case SVGTransform.SVG_TRANSFORM_SCALE:return lr.toScaleList(t.values);case SVGTransform.SVG_TRANSFORM_TRANSLATE:return lr.toTranslateList(t.values)}}function Qr(t){switch(t){case"rotation":case"pivotX":case"pivotY":case"translateX":case"translateY":return"0";case"scaleX":case"scaleY":return"1"}}function ts(t,e=!1){const i="@color/"+O.addColor(t);return e?[i]:i}function es(t,e){return as(t.attributeName)?ts(e):e.trim()||void 0}function is(t){switch(t){case SVGGradientElement.SVG_SPREADMETHOD_PAD:return"clamp";case SVGGradientElement.SVG_SPREADMETHOD_REFLECT:return"mirror";case SVGGradientElement.SVG_SPREADMETHOD_REPEAT:return"repeat"}return""}function os(t,e,i){const o=t.type,n={type:o,item:aa(t.colorStops,i)};switch(o){case"radial":{const{cxAsString:i,cyAsString:o,rAsString:a,spreadMethod:r}=t,s=e.element;let l,c,d,h,u=[];switch(s.tagName){case"path":for(const t of cr.getPathCommands(e.value))u=u.concat(t.value);case"polygon":if(Pr.polygon(s)&&(u=u.concat(cr.clonePoints(s.points))),!u.length)return;[l,c,d,h]=cr.minMaxPoints(u),d-=l,h-=c;break;default:if(Pr.rect(s))l=s.x.baseVal.value,c=s.y.baseVal.value,d=s.width.baseVal.value,h=s.height.baseVal.value;else if(Pr.circle(s))l=s.cx.baseVal.value-s.r.baseVal.value,c=s.cy.baseVal.value-s.r.baseVal.value,d=2*s.r.baseVal.value,h=d;else{if(!Pr.ellipse(s))return;l=s.cx.baseVal.value-s.rx.baseVal.value,c=s.cy.baseVal.value-s.ry.baseVal.value,d=2*s.rx.baseVal.value,h=2*s.ry.baseVal.value}}n.centerX=""+(l+d*ss(i)),n.centerY=""+(c+h*ss(o)),n.gradientRadius=""+(d+h)/2*(mr(a)?parseFloat(a)/100:1),r&&(n.tileMode=is(r));break}case"linear":{const{x1:e,y1:i,x2:o,y2:a,spreadMethod:r}=t;n.startX=""+e,n.startY=""+i,n.endX=""+o,n.endY=""+a,r&&(n.tileMode=is(r))}}return n}function ns(t,e){const i=t.synchronized,o=e.synchronized;return i&&o?i.key>=o.key?1:-1:0}const as=t=>"fill"===t||"stroke"===t,rs=(t,e,i=-1)=>t.name+"_"+e+(-1!==i?"_"+(i+1):""),ss=t=>mr(t)?parseFloat(t)/100:.5,ls=t=>"@drawable/"+t,cs=(t="")=>({ordering:t,objectAnimator:[]});class ds extends squared.base.ExtensionUI{constructor(){super(...arguments),this.options={transformExclude:{path:[],line:[],rect:[],ellipse:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],circle:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],polyline:[],polygon:[],image:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY]},floatPrecisionKeyTime:5,floatPrecisionValue:3,animateInterpolator:""},this.eventOnly=!0,this.VECTOR_DATA=new Map,this.ANIMATE_DATA=new Map,this.ANIMATE_TARGET=new Map,this.IMAGE_DATA=[],this.SYNCHRONIZE_MODE=0,this.NAMESPACE_AAPT=!1}beforeParseDocument(){cr&&(cr.setName(),this.controller.localSettings.svg.enabled=!0)}afterResources(){if(cr)for(const t of this.application.processing.cache){let e,i;if(t.imageElement?[e,i]=this.createSvgElement(t,t.src):t.svgElement&&(i=t.element),i){const o=this.createSvgDrawable(t,i);""!==o&&(t.localSettings.targetAPI>=21?t.android("src",ls(o)):t.app("srcCompat",ls(o))),t.hasWidth||t.setLayoutWidth("wrap_content"),t.hasHeight||t.setLayoutHeight("wrap_content"),t.baseline&&t.android("baselineAlignBottom","true"),e&&e.removeChild(i)}}}afterFinalize(){this.controller.localSettings.svg.enabled=!1}createSvgElement(t,e){const i=yr.URL.exec(e);if(i&&(e=i[1]),e.toLowerCase().endsWith(".svg")||e.startsWith("data:image/svg+xml")){const i=this.resource.getRawData(e);if(i){const e=(t.actualParent||t.documentParent).element;if(e.insertAdjacentHTML("beforeend",i.content),e.lastElementChild instanceof SVGSVGElement){const i=e.lastElementChild;return 0===i.width.baseVal.value&&i.setAttribute("width",""+t.actualWidth),0===i.height.baseVal.value&&i.setAttribute("height",""+t.actualHeight),[e,i]}}}return[]}createSvgDrawable(t,e){const i=new rr(e),o=t.localSettings.targetAPI>=23,{floatPrecisionValue:n,floatPrecisionKeyTime:a}=this.options;this.SVG_INSTANCE=i,this.VECTOR_DATA.clear(),this.ANIMATE_DATA.clear(),this.ANIMATE_TARGET.clear(),this.IMAGE_DATA.length=0,this.NAMESPACE_AAPT=!1,this.SYNCHRONIZE_MODE=2|(o?32:64);const r=(t.tagName+"_"+Ar(t.controlId,!0)+"_viewbox").toLowerCase(),s=(t,e)=>r+(t?"_"+t:"")+(this.IMAGE_DATA.length?"_vector":"")+(e?"_"+e.toLowerCase():"");i.build({exclude:this.options.transformExclude,residual:Ur,precision:n}),i.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,framesPerSecond:this.controller.userSettings.framesPerSecond,precision:n}),this.queueAnimations(i,i.name,t=>"opacity"===t.attributeName);const c=this.parseVectorData(i),d=i.viewBox;let h,u=O.insertStoredAsset("drawables",s(),Nr("vector",In,[{"xmlns:android":l.android,"xmlns:aapt":this.NAMESPACE_AAPT?l.aapt:"","android:name":i.name,"android:width":gr(i.width),"android:height":gr(i.height),"android:viewportWidth":""+(d.width||i.width),"android:viewportHeight":""+(d.height||i.height),"android:alpha":parseFloat(i.opacity)<1?""+i.opacity:"",include:c}]));if(this.ANIMATE_DATA.size){const t=[{"xmlns:android":l.android,"android:drawable":ls(u),target:[]}];function p(e,i){const o=i.set,n=o.length;if(n>0){let a=!1;if(n>1&&o.every(t=>""===t.ordering)){const t={set:[],objectAnimator:[]};for(const e of o)t.set=t.set.concat(e.set),t.objectAnimator=t.objectAnimator.concat(e.objectAnimator);i=t}for(;1===i.set.length;){const t=i.set[0];if(a&&""!==t.ordering||0!==t.objectAnimator.length)break;i=t,a=!0}i["xmlns:android"]=l.android,a&&(i["android:ordering"]=i.ordering,i.ordering=void 0);const r={name:e,animation:O.insertStoredAsset("animators",s("anim",e),Nr("set",ar,[i]))};""!==r.animation&&(r.animation="@anim/"+r.animation,t[0].target.push(r))}}for(const[t,e]of this.ANIMATE_DATA.entries()){const i=new Map,r=new Map,s=[],l=[],c=[],d=[],h=[],[u,g]=wr(e.animate,t=>void 0!==t.companion),m={set:[],objectAnimator:[]},f=g.length;for(let t=0;t<f;t++){const e=g[t];if(e.setterType)Hr[e.attributeName]&&Rr(e.to)&&(e.duration>0&&e.fillReplace?l.push(e):s.push(e));else if(cr.isAnimate(e)){const n=Er(u,t=>t.companion.value===e);if(n.length){n.sort((t,e)=>t.companion.key>=e.companion.key?1:0);const o=[],a=[],r=n.length;for(let t=0;t<r;t++){const i=n[t];i.companion.key<=0?(o.push(i),0===t&&e.delay>0&&(i.delay+=e.delay,e.delay=0)):a.push(i)}o.push(e),i.set("sequentially_companion_"+t,o.concat(a))}else{const t=e.synchronized;if(t){const o=t.value;if(cr.isAnimateTransform(e)){const t=r.get(o)||[];t.push(e),r.set(o,t)}else{const t=i.get(o)||[];t.push(e),i.set(o,t)}}else cr.isAnimateTransform(e)&&e.expandToValues(),-1===e.iterationCount?l.push(e):!(!e.fromToType||cr.isAnimateTransform(e)&&e.transformOrigin)||o&&"pathType"!==Yr(e.attributeName)?e.fillReplace?l.push(e):s.push(e):c.push([e])}}}s.length&&c.push(s);for(const[t,e]of i.entries())t.startsWith("sequentially_companion")?c.push(e):c.push(e.sort(ns));for(const t of r.values())h.push(t.sort(ns));for(const t of l)d.push([[t]]);[c,h,...d].forEach((t,i)=>{if(0===t.length)return;const r={ordering:0===i||1===t.length?"":"sequentially",set:[],objectAnimator:[]};for(const s of t){let t="",l=!1,c=!1,d=!0;i<=1&&s.some(t=>!!t.synchronized&&""!==t.synchronized.value)?(cr.isAnimateTransform(s[0])||(t="sequentially"),l=!0,d=!1):i<=1&&s.some(t=>!!t.synchronized&&""===t.synchronized.value)?(t="sequentially",l=!0,c=!0):i<=1&&s.some(t=>void 0!==t.companion)?t="sequentially":(i>0&&(t="sequentially"),i>1&&cr.isAnimateTransform(s[0])&&(c=!0));const h=cs(),u=cs(),p=cs(),g=cs(),m=u.objectAnimator,f=p.objectAnimator;let y=h.objectAnimator,b=g.objectAnimator,T=[];(l?wr(s,t=>-1!==t.iterationCount):[s]).forEach((s,h)=>{var u,g;1===h&&s.length>1&&(p.ordering="sequentially");const A=new Map;for(const p of s){const E=Yr(p.attributeName);if(void 0===E)continue;const S=p.delay>0;let v,x=!1;const R=(t,e)=>{Rr(e)&&-1===y.findIndex(e=>e.propertyName===t)&&y.push(this.createPropertyValue(t,e,"0",E))},I=(t,e,i)=>{var o;if(!l&&p.fillReplace&&void 0!==E){let n,a=p.replaceValue;if(!a){if(x)a=Qr(t);else{const e=p.parent;if(e&&cr.isShape(e)){const i=e.path;i&&(a="pathData"===t?i.value:i[Gr(t)])}}a||(a=p.baseValue)}if(null===(o=e)||void 0===o?void 0:o.length){const t=e[e.length-1];if(vr(t.propertyValuesHolder)){const e=t.propertyValuesHolder[t.propertyValuesHolder.length-1];n=e.keyframe[e.keyframe.length-1].value}else n=t.valueTo}if(Rr(a)&&a!==n&&(a=es(p,a),a)){switch(t){case"trimPathStart":case"trimPathEnd":a=a.split(" ")["trimPathStart"===t?0:1]}b.push(this.createPropertyValue(t,a,"1",E,"pathType"===E?n:"",i?""+i:""))}v&&(t.endsWith("X")?b.push(this.createPropertyValue("translateX","0","1",E)):t.endsWith("Y")&&b.push(this.createPropertyValue("translateY","0","1",E)))}};if(p.setterType){const t=Kr(p.attributeName);if(t){const e=as(p.attributeName)?ts(p.to,!0):p.to.trim().split(" "),o=t.length;if(e.length===o&&!e.some(t=>""===t)){let n,a;for(let r=0;r<o;r++){let o;if("pathType"===E)o=e[r];else if(S){const t=p.baseValue;t&&(o=es(p,t.trim().split(" ")[r]))}const s=this.createPropertyValue(t[r],e[r],"1",E,o,p.delay>0?""+p.delay:"");if(i>1)f.push(s),I(t[r],void 0,i>1?p.duration:0);else{const t=p.companion;t?t.key<=0?(void 0===n&&(n=[]),n.push(s)):t.key>0&&(void 0===a&&(a=[]),a.push(s)):T.push(s)}}n&&(y=y.concat(n)),a&&(b=b.concat(a))}}}else if(cr.isAnimate(p)){let y,b=c;y=1===h?s.length>1?"0":"-1":-1!==p.iterationCount?""+Math.ceil(p.iterationCount-1):"-1";const T=this.createPropertyValue("","",""+p.duration,E,"",p.delay>0?""+p.delay:"",y);let w,_,N;if(l||"pathType"!==T.valueType)if(cr.asAnimateTransform(p))_=$r(p.type),N=Jr(p),_&&N&&(c&&0===p.keyTimes[0]&&(b=!1),(b||S)&&(w=Ir(_,t=>Qr(t)||"0")),v=p.transformOrigin),x=!0;else if(cr.asAnimateMotion(p)){if(_=$r(p.type),N=Jr(p),_&&N){const t=p.rotateValues,e=N.length;if((null===(u=t)||void 0===u?void 0:u.length)===e){_.push("rotation");for(let i=0;i<e;i++)N[i].push(t[i])}}x=!0}else switch(_=Kr(p.attributeName),T.valueType){case"intType":if(N=Ir(p.values,t=>""+Tr(t)),S){const t=p.baseValue;t&&(w=_r(cr.parseCoordinates(t),t=>""+Math.trunc(t)))}break;case"floatType":if(N="stroke-dasharray"===p.attributeName?Ir(p.values,t=>_r(t.split(" "),t=>parseFloat(t))):p.values,S){const t=p.baseValue;t&&(w=_r(cr.parseCoordinates(t),t=>""+t))}break;default:if(N=p.values.slice(0),as(p.attributeName)){if(S){const t=p.baseValue;t&&(w=ts(t,!0))}const t=N.length;for(let e=0;e<t;e++)""!==N[e]&&(N[e]=ts(N[e]))}}else if(e.pathData){const t=p.parent;let i,o;t&&cr.isShape(t)&&(o=t,t.path&&(i=t.path.transformed)),_=["pathData"],N=hr.extrapolate(p.attributeName,e.pathData,p.values,i,o,n)}if(void 0===p.keySplines&&(p.timingFunction?T.interpolator=Vr(p.timingFunction):""!==this.options.animateInterpolator&&(T.interpolator=this.options.animateInterpolator)),N&&_){const{keyTimes:s,synchronized:u}=p,y=_.length,E=s.length,x=u?u.key+u.value:0!==i||y>1?JSON.stringify(T):"";for(let i=0;i<y;i++){const u=_[i];if(b&&w&&R(u,w[i]),d&&E>1)if(o&&"pathType"!==T.valueType){!b&&S&&w&&R(u,w[i]);const t=A.get(x)||[],e=[];for(let t=0;t<E;t++){let o=jr(N,t,i,!0);o&&"floatType"===T.valueType&&(o=fr(o,n)),e.push({interpolator:t>0&&""!==o&&"pivotX"!==u&&"pivotY"!==u?Xr(p.keySplines,t-1):"",fraction:0===s[t]&&""===o?"":fr(s[t],a),value:o})}t.push({propertyName:u,keyframe:e}),A.has(x)||(""!==x&&A.set(x,t),(0===h?m:f).push(Object.assign(Object.assign({},T),{propertyValuesHolder:t}))),v=void 0}else{t="sequentially";const o=cs("sequentially");for(let t=0;t<E;t++){const a=s[t],r=Object.assign(Object.assign({},T),{propertyName:u,startOffset:0===t?""+(p.delay+(a>0?Math.floor(a*p.duration):0)):"",propertyValuesHolder:!1});let l=jr(N,t,i,!1,"pathType"===T.valueType?e.pathData:p.baseValue);if(l){let d;if(0===t?(r.valueFrom=!c&&S&&w?w[i]:"pathType"===T.valueType?e.pathData||""+N[0]:p.baseValue||p.replaceValue||"",d=0):(r.valueFrom=""+jr(N,t-1,i),d=Math.floor((a-s[t-1])*p.duration)),"floatType"===T.valueType&&(l=fr(l,n)),v&&v[t]){let e,i=0;if(u.endsWith("X")?(e="translateX",i=v[t].x):u.endsWith("Y")&&(e="translateY",i=v[t].y),e){const t=this.createPropertyValue(e,fr(i,n),""+d,"floatType");t.interpolator=Vr(Lr["step-start"]),o.objectAnimator.push(t)}}t>0&&(r.interpolator=Xr(p.keySplines,t-1)),r.duration=""+d,r.valueTo=l,m.push(r)}}o.objectAnimator.length&&r.set.push(o)}else{const t=Object.assign(Object.assign({},T),{propertyName:u,interpolator:p.duration>1?Xr(p.keySplines,0):"",propertyValuesHolder:!1}),o=N.length;if(Array.isArray(N[0])){const e=N[o-1][i];if(o>1){const o=N[0][i];o!==e&&(t.valueFrom=""+o)}t.valueTo=""+e}else{let n;o>1?(n=""+N[0],t.valueTo=""+N[o-1]):(n=p.from||(!c&&S&&w?w[i]:""),t.valueTo=p.to),"pathType"===T.valueType?t.valueFrom=n||e.pathData||t.valueTo:n!==t.valueTo&&n&&(t.valueFrom=es(p,n))}t.valueTo&&("floatType"===T.valueType&&(t.valueTo=fr(t.valueTo,n)),(0===h?m:f).push(t))}0!==h||l||-1===p.iterationCount||I(u,m)}S&&(null===(g=v)||void 0===g?void 0:g.length)&&(R("translateX","0"),R("translateY","0"))}}}});const A=m.length>0||f.length>0;"sequentially"===t&&(A&&1===y.length&&(m.unshift(y[0]),y.length=0),1===f.length&&(m.push(f[0]),f.length=0),A&&1===b.length&&(m.push(b[0]),b.length=0)),0===y.length&&0===f.length&&0===b.length&&("sequentially"===t&&1===m.length&&(t=""),"sequentially"!==r.ordering&&"sequentially"!==t&&(T=T.concat(m),m.length=0)),(m.length||f.length)&&(y.length&&(r.ordering="sequentially",r.set.push(h)),m.length&&(u.ordering=t,r.set.push(u)),f.length&&(r.ordering="sequentially",r.set.push(p)),b.length&&(r.ordering="sequentially",r.set.push(g))),T.length&&(r.objectAnimator=r.objectAnimator.concat(T))}(r.set.length||r.objectAnimator.length)&&m.set.push(r)}),p(t,m)}for(const[t,e]of this.ANIMATE_TARGET.entries()){let i;const o=(t,e,o,n,a)=>{void 0===i&&(i=[]),i.push(this.createPropertyValue(t,e,"0",o,n,a))};for(const t of e.animate)if(cr.asAnimateMotion(t)){const e=t.parent;if(e&&cr.isShape(e)){const i=e.path;if(i){const{value:e,baseValue:n}=i;e!==n&&(o("pathData",n,"pathType",e),-1===t.iterationCount||t.setterType||o("pathData",e,"pathType",n,""+t.getTotalDuration()))}}}i&&p(t,{set:[{set:void 0,objectAnimator:i}],objectAnimator:void 0})}t[0].target&&(u=O.insertStoredAsset("drawables",s("anim"),Nr("animated-vector",ir,t)))}if(this.IMAGE_DATA.length){const t=[];""!==u&&t.push({drawable:ls(u)});const e=[{"xmlns:android":l.android,item:t}];for(const e of this.IMAGE_DATA){const o=i.viewBox,n=i.width/o.width,a=i.height/o.height;let r=e.getBaseValue("x",0)*n,s=e.getBaseValue("y",0)*a,l=e.getBaseValue("width",0),c=e.getBaseValue("height",0);const d=zr(e.element,i.element);r+=d.x,s+=d.y,l*=n,c*=a;const h={width:gr(l),height:gr(c),left:0!==r?gr(r):"",top:0!==s?gr(s):""},u=ls(O.addImage({mdpi:e.href}));e.rotateAngle?h.rotate={drawable:u,fromDegrees:""+e.rotateAngle,visible:e.visible?"true":"false"}:h.drawable=u,t.push(h)}h=O.insertStoredAsset("drawables",r,Nr("layer-list",vn,e))}else h=u;return t.data(O.KEY_NAME,"svgViewBox",i.viewBox),h}parseVectorData(t,e=0){var i,o;const n=this.options.floatPrecisionValue,a=this.createGroup(t),r=a.length,s=e+r;let l="";for(const e of t)if(e.visible)if(cr.isShape(e)){const t=e.path;if(null===(i=t)||void 0===i?void 0:i.value){const[i,a]=this.createPath(e,t),r=[];if(t.strokeWidth&&(t.strokeDasharray||t.strokeDashoffset)){const s=this.ANIMATE_DATA.get(e.name);if(void 0===s||s.animate.every(t=>t.attributeName.startsWith("stroke-dash"))){const[l,c,d,h]=t.extractStrokeDash(null===(o=s)||void 0===o?void 0:o.animate,n);if(c){s&&(this.ANIMATE_DATA.delete(e.name),l&&(s.animate=l));const t=rs(e,"stroke"),o={name:t};""!==d&&(i.pathData=d),""!==h&&(o["clip-path"]=[{pathData:h}]);const u=c.length;for(let e=0;e<u;e++){const o=0===e?i:Object.assign({},i),a=c[e];o.name=t+"_"+e,s&&this.ANIMATE_DATA.set(o.name,{element:s.element,animate:Er(s.animate,t=>void 0===t.id||t.id===e)}),o.trimPathStart=fr(a.start,n),o.trimPathEnd=fr(a.end,n),r.push(o)}a.unshift(o)}}}if(0===r.length&&r.push(i),a.length){a[a.length-1].path=r,l+=Nr("group",Rn,a,s+1)}else l+=Nr("path",xn,r,s+1)}}else cr.isContainer(e)?e.length&&(l+=this.parseVectorData(e,s)):cr.asImage(e)&&(cr.asPattern(t)||(e.extract(this.options.transformExclude.image),this.IMAGE_DATA.push(e)));return r>0?(a[r-1].include=l,Nr("group",Rn,a,e+1)):l}createGroup(t){const e=[],i=[],o={"clip-path":e},n={"clip-path":i},a=[],r={};if(!(t!==this.SVG_INSTANCE&&cr.asSvg(t)||cr.asUseSymbol(t)||cr.asUsePattern(t))||0===t.x&&0===t.y||(r.name=rs(t,"main"),r.translateX=""+t.x,r.translateY=""+t.y),""!==t.clipRegion&&this.createClipPath(t,e,t.clipRegion),(e.length||Object.keys(r).length)&&(Object.assign(o,r),a.push(o)),t!==this.SVG_INSTANCE){const e={},[o]=qr(t.element,t.transforms,!0),r=rs(t,"animate");if((cr.asG(t)||cr.asUseSymbol(t))&&Rr(t.clipPath)&&this.createClipPath(t,i,t.clipPath)&&(e.name=r),this.queueAnimations(t,r,t=>cr.asAnimateTransform(t))&&(e.name=r),Object.keys(e).length&&(Object.assign(n,e),a.push(n)),o.length){let e=[];for(const t of o)a.push(Fr(t)),e=e.concat(t);t.transformed=e.reverse()}}return a}createPath(t,e){const i=this.options.floatPrecisionValue,o={name:t.name},n=[],a=[];if(cr.asUse(t)&&Rr(t.clipPath)&&this.createClipPath(t,a,t.clipPath),Rr(e.clipPath)){const t=new ur(e.element);t.build({exclude:this.options.transformExclude,residual:Ur,precision:i}),t.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,precision:i}),this.createClipPath(t,a,e.clipPath)}const r={},s=rs(t,"group");if(this.queueAnimations(t,s,t=>cr.isAnimateTransform(t),"",t.name)?r.name=s:a.length&&(r.name=""),!cr.asUse(t)||0===t.x&&0===t.y||(r.translateX=""+t.x,r.translateY=""+t.y),a.length&&(r["clip-path"]=a),Object.keys(r).length&&n.push(r),e.transformResidual)for(const t of e.transformResidual)n.push(Fr(t));const l=function(t){let e=parseFloat(t.opacity),i=t.parent;for(;i;){const t=parseFloat(i.opacity||"1");!isNaN(t)&&t<1&&(e*=t),i=i.parent}return e}(t),c=cr.asUse(t);for(let n of Br){let a=c&&t[n]||e[n];if(a){switch(n){case"name":break;case"value":n="pathData";break;case"fill":if(n="fillColor","none"===a||void 0!==o["aapt:attr"])continue;{const t=O.addColor(a);""!==t&&(a="@color/"+t)}break;case"stroke":if(n="strokeColor","none"===a)continue;{const t=O.addColor(a);""!==t&&(a="@color/"+t)}break;case"fillPattern":const t=this.SVG_INSTANCE.definitions.gradient.get(a);let r=!1;if(t)switch(e.element.tagName){case"path":if(!/[zZ]\s*$/.test(e.value))break;case"rect":case"polygon":case"polyline":case"circle":case"ellipse":{const o=os(t,e,i);o&&(a={name:"android:fillColor",gradient:o},r=!0);break}}if(!r)continue;n="aapt:attr",o.fillColor="",this.NAMESPACE_AAPT=!0;break;case"fillRule":if("evenodd"!==a)continue;n="fillType",a="evenOdd";break;case"strokeWidth":if("0"===a)continue;break;case"fillOpacity":case"strokeOpacity":if(a=""+(xr(a)?parseFloat(a):1)*l,"1"===a)continue;n="fillOpacity"===n?"fillAlpha":"strokeAlpha";break;case"strokeLinecap":if("butt"===a)continue;n="strokeLineCap";break;case"strokeLinejoin":if("miter"===a)continue;n="strokeLineJoin";break;case"strokeMiterlimit":if("4"===a)continue;n="strokeMiterLimit";break;default:continue}o[n]=a}}o.strokeWidth?o.strokeColor||(o.strokeWidth=""):o.strokeColor="";const d=new Map,h=[],u=[],p=e.value;let g=p,m=0;for(const e of t.animations)if(cr.asAnimateTransform(e)&&!e.additiveSum&&e.transformFrom){let t=Math.max(0,e.delay-1);d.set(t,{index:m,time:t,to:e.transformFrom,reset:!1,animate:e}),-1!==e.iterationCount&&e.fillReplace&&(t=e.delay+e.iterationCount*e.duration,d.has(t)||d.set(t,{index:m,time:t,to:p,reset:!0})),m++}const f=Array.from(d.values()).sort((t,e)=>t.time<e.time?-1:1),y=f.length;for(let t=0;t<y;t++){const e=f[t];if(!e.reset||e.to!==g){let i=!0;if(e.reset)t:for(let o=0;o<t;o++){const n=f[o];if(!n.reset)for(let o=t+1;o<y;o++)switch(f[o].index){case n.index:i=!1;case e.index:break t}}else{const i=[],o=new Set;for(let e=0;e<t;e++){const t=f[e];i[t.index]=i[t.index]?2:1}const n=i.length;for(let t=0;t<n;t++)if(1===i[t]){const e=f.find(e=>e.index===t&&void 0!==e.animate);if(e){const t=e.animate;t&&o.add(t.type)}}for(const t of o){const i=$r(t);if(i){const o=kr.typeAsValue(t).split(" "),n=o.length;for(let t=0;t<n;t++)h.push(Zr(i[t],e.time,o[t],""))}}}i&&(u.push(Zr("d",e.time,e.to)),g=e.to)}}this.queueAnimations(t,o.name,t=>(cr.asAnimate(t)||cr.asSet(t))&&"clip-path"!==t.attributeName,p)||0!==u.length||r.name!==s&&(o.name="");const b=this.ANIMATE_DATA;if(h.length){const t=b.get(s);t&&(t.animate=t.animate.concat(h))}if(u.length){const e=b.get(o.name);e?e.animate=e.animate.concat(u):b.set(o.name,{element:t.element,animate:u,pathData:p})}return[o,n]}createClipPath(t,e,i){const o=this.SVG_INSTANCE.definitions,n=this.options,a=n.floatPrecisionValue;let r=0;return i.split(";").forEach((i,s,l)=>{if("#"===i.charAt(0)){const t=o.clipPath.get(i);if(t){const i=new dr(t);i.build({exclude:n.transformExclude,residual:Ur,precision:a}),i.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,precision:a}),i.each(t=>{const i=t.path;if(i){const o=i.value;if(o){let i=rs(t,"clip_path",l.length>1?s+1:-1);this.queueAnimations(t,i,t=>cr.asAnimate(t)||cr.asSet(t),o)||(i=""),e.push({name:i,pathData:o})}}})}r++}else{let o=rs(t,"clip_path",l.length>1?s+1:-1);this.queueAnimations(t,o,t=>(cr.asAnimate(t)||cr.asSet(t))&&"clip-path"===t.attributeName,i)||(o=""),e.push({name:o,pathData:i}),r++}}),r>0}queueAnimations(t,e,i,o="",n){if(t.animations.length){const a=Er(t.animations,(t,e,o)=>!t.paused&&(t.duration>=0||t.setterType)&&i(t,e,o));if(a.length){const i=t.element;return this.ANIMATE_DATA.set(e,{element:i,animate:a,pathData:o}),n&&this.ANIMATE_TARGET.set(n,{element:i,animate:a,pathData:o}),!0}}return!1}createPropertyValue(t,e,i,o,n="",a="",r="0"){const s=this.options.floatPrecisionValue;return{propertyName:t,startOffset:a,duration:i,repeatCount:r,valueType:o,valueFrom:xr(n)?fr(n,s):n,valueTo:xr(e)?fr(e,s):e,propertyValuesHolder:!1}}}const hs={builtInExtensions:["android.delegate.max-width-height","android.delegate.fixed","android.delegate.negative-x","android.delegate.negative-viewport","android.delegate.percent","android.delegate.scrollbar","android.delegate.background","android.delegate.radiogroup","squared.sprite","squared.css-grid","squared.flexbox","squared.table","squared.list","squared.grid","squared.relative","squared.verticalalign","squared.whitespace","squared.accessibility","android.resource.svg","android.resource.background","android.resource.strings","android.resource.fonts","android.resource.dimens","android.resource.styles","android.resource.includes"],targetAPI:29,resolutionDPI:160,framesPerSecond:60,supportRTL:!0,preloadImages:!0,supportNegativeLeftTop:!0,exclusionsDisabled:!1,customizationsOverwritePrivilege:!0,showAttributes:!0,createQuerySelectorMap:!1,convertPixels:"dp",insertSpaces:4,handleExtensionsAsync:!0,autoCloseOnWrite:!0,showErrorMessages:!0,manifestLabelAppName:"android",manifestThemeName:"AppTheme",manifestParentThemeName:"Theme.AppCompat.Light.NoActionBar",outputMainFileName:"activity_main.xml",outputDirectory:"app/src/main",outputArchiveName:"android-xml",outputArchiveFormat:"zip",outputArchiveTimeout:30},us=squared.base.lib;let ps,gs,ms,fs=!1;const ys=t=>fs&&(t.closed||!(!fs||ps.initializing||ps.closed||!ps.userSettings.autoCloseOnWrite)&&(ps.finalize(),!0)),bs={base:{Controller:Oe,File:ei,Resource:O,View:Lt},extensions:{Accessibility:oi,CssGrid:Ri,External:Ii,Flexbox:Ui,Grid:Qi,List:uo,Relative:go,Sprite:Eo,Substitute:xo,Table:Mo,VerticalAlign:Wo,WhiteSpace:Ho,constraint:{Guideline:Uo},delegate:{Background:$o,Fixed:en,MaxWidthHeight:nn,NegativeViewport:rn,NegativeX:dn,Percent:pn,RadioGroup:bn,ScrollBar:En},resource:{Background:sa,Dimens:ba,Fonts:Wa,Includes:Ha,Strings:Ya,Styles:er,Svg:ds}},lib:{constant:u,customization:W,enumeration:i,util:$},system:{customize(t,e,i){if(M[t]){const o=M[t].assign;return o[e]?Object.assign(o[e],i):o[e]=i,o[e]}},addXmlNs(t,e){l[t]=e},copyLayoutAllXml(t,e){ys(ps)&&gs.layoutAllToXml({assets:ps.layouts,copyTo:t,callback:e})},copyResourceAllXml(t,e){ys(ps)&&gs.resourceAllToXml({copyTo:t,callback:e})},copyResourceStringXml(t,e){ys(ps)&&gs.resourceStringToXml({copyTo:t,callback:e})},copyResourceArrayXml(t,e){ys(ps)&&gs.resourceStringArrayToXml({copyTo:t,callback:e})},copyResourceFontXml(t,e){ys(ps)&&gs.resourceFontToXml({copyTo:t,callback:e})},copyResourceColorXml(t,e){ys(ps)&&gs.resourceColorToXml({copyTo:t,callback:e})},copyResourceStyleXml(t,e){ys(ps)&&gs.resourceStyleToXml({copyTo:t,callback:e})},copyResourceDimenXml(t,e){ys(ps)&&gs.resourceDimenToXml({copyTo:t,callback:e})},copyResourceDrawableXml(t,e){ys(ps)&&gs.resourceDrawableToXml({copyTo:t,callback:e})},copyResourceDrawableImageXml(t,e){ys(ps)&&gs.resourceDrawableImageToXml({copyTo:t,callback:e})},copyResourceAnimXml(t,e){ys(ps)&&gs.resourceAnimToXml({copyTo:t,callback:e})},saveLayoutAllXml(t){ys(ps)&&gs.layoutAllToXml({assets:ps.layouts,archiveTo:t||ms.outputArchiveName+"-layouts"})},saveResourceAllXml(t){ys(ps)&&gs.resourceAllToXml({archiveTo:t||ms.outputArchiveName+"-resources"})},saveResourceStringXml(t){ys(ps)&&gs.resourceStringToXml({archiveTo:t||ms.outputArchiveName+"-string"})},saveResourceArrayXml(t){ys(ps)&&gs.resourceStringArrayToXml({archiveTo:t||ms.outputArchiveName+"-array"})},saveResourceFontXml(t){ys(ps)&&gs.resourceFontToXml({archiveTo:t||ms.outputArchiveName+"-font"})},saveResourceColorXml(t){ys(ps)&&gs.resourceColorToXml({archiveTo:t||ms.outputArchiveName+"-color"})},saveResourceStyleXml(t){ys(ps)&&gs.resourceStyleToXml({archiveTo:t||ms.outputArchiveName+"-style"})},saveResourceDimenXml(t){ys(ps)&&gs.resourceDimenToXml({archiveTo:t||ms.outputArchiveName+"-dimen"})},saveResourceDrawableXml(t){ys(ps)&&gs.resourceDrawableToXml({archiveTo:t||ms.outputArchiveName+"-drawable"})},saveResourceDrawableImageXml(t){ys(ps)&&gs.resourceDrawableImageToXml({archiveTo:t||ms.outputArchiveName+"-drawable-image"})},saveResourceAnimXml(t){ys(ps)&&gs.resourceAnimToXml({archiveTo:t||ms.outputArchiveName+"-anim"})},writeLayoutAllXml:()=>ys(ps)?gs.layoutAllToXml({assets:ps.layouts}):{},writeResourceAllXml:()=>ys(ps)?gs.resourceAllToXml():{},writeResourceStringXml:()=>ys(ps)?gs.resourceStringToXml():[],writeResourceArrayXml:()=>ys(ps)?gs.resourceStringArrayToXml():[],writeResourceFontXml:()=>ys(ps)?gs.resourceFontToXml():[],writeResourceColorXml:()=>ys(ps)?gs.resourceColorToXml():[],writeResourceStyleXml:()=>ys(ps)?gs.resourceStyleToXml():[],writeResourceDimenXml:()=>ys(ps)?gs.resourceDimenToXml():[],writeResourceDrawableXml:()=>ys(ps)?gs.resourceDrawableToXml():[],writeResourceDrawableImageXml:()=>ys(ps)?gs.resourceDrawableImageToXml():[],writeResourceAnimXml:()=>ys(ps)?gs.resourceAnimToXml():[]},create(){const e=us.constant.EXT_NAME,i=o;return ps=new t(2,Lt,Oe,O,Pe),gs=new ei,ps.resourceHandler.setFileHandler(gs),ms=Object.assign({},hs),Object.assign(ps.builtInExtensions,{[e.SPRITE]:new Eo(e.SPRITE,2),[e.CSS_GRID]:new Ri(e.CSS_GRID,2),[e.FLEXBOX]:new Ui(e.FLEXBOX,2),[e.TABLE]:new Mo(e.TABLE,2,void 0,["TABLE"]),[e.LIST]:new uo(e.LIST,2,void 0,["DIV","UL","OL","DL"]),[e.GRID]:new Qi(e.GRID,2,void 0,["DIV","FORM","UL","OL","DL","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET"]),[e.RELATIVE]:new go(e.RELATIVE,2),[e.VERTICAL_ALIGN]:new Wo(e.VERTICAL_ALIGN,2),[e.WHITESPACE]:new Ho(e.WHITESPACE,2),[e.ACCESSIBILITY]:new oi(e.ACCESSIBILITY,2),[i.EXTERNAL]:new Ii(i.EXTERNAL,2),[i.SUBSTITUTE]:new xo(i.SUBSTITUTE,2),[i.CONSTRAINT_GUIDELINE]:new Uo(i.CONSTRAINT_GUIDELINE,2),[i.DELEGATE_BACKGROUND]:new $o(i.DELEGATE_BACKGROUND,2),[i.DELEGATE_FIXED]:new en(i.DELEGATE_FIXED,2),[i.DELEGATE_MAXWIDTHHEIGHT]:new nn(i.DELEGATE_MAXWIDTHHEIGHT,2),[i.DELEGATE_NEGATIVEVIEWPORT]:new rn(i.DELEGATE_NEGATIVEVIEWPORT,2),[i.DELEGATE_NEGATIVEX]:new dn(i.DELEGATE_NEGATIVEX,2),[i.DELEGATE_PERCENT]:new pn(i.DELEGATE_PERCENT,2),[i.DELEGATE_RADIOGROUP]:new bn(i.DELEGATE_RADIOGROUP,2),[i.DELEGATE_SCROLLBAR]:new En(i.DELEGATE_SCROLLBAR,2),[i.RESOURCE_INCLUDES]:new Ha(i.RESOURCE_INCLUDES,2),[i.RESOURCE_BACKGROUND]:new sa(i.RESOURCE_BACKGROUND,2),[i.RESOURCE_SVG]:new ds(i.RESOURCE_SVG,2),[i.RESOURCE_STRINGS]:new Ya(i.RESOURCE_STRINGS,2),[i.RESOURCE_FONTS]:new Wa(i.RESOURCE_FONTS,2),[i.RESOURCE_DIMENS]:new ba(i.RESOURCE_DIMENS,2),[i.RESOURCE_STYLES]:new er(i.RESOURCE_STYLES,2)}),fs=!0,{application:ps,framework:2,userSettings:ms}},cached:()=>fs?{application:ps,framework:2,userSettings:ms}:bs.create()};return bs}();
