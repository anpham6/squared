var android=function(){"use strict";var t;!function(t){t[t.CHECKBOX=1]="CHECKBOX",t[t.RADIO=2]="RADIO",t[t.EDIT=3]="EDIT",t[t.SELECT=4]="SELECT",t[t.RANGE=5]="RANGE",t[t.SVG=6]="SVG",t[t.TEXT=7]="TEXT",t[t.IMAGE=8]="IMAGE",t[t.BUTTON=9]="BUTTON",t[t.INLINE=10]="INLINE",t[t.LINE=11]="LINE",t[t.SPACE=12]="SPACE",t[t.BLOCK=13]="BLOCK",t[t.FRAME=14]="FRAME",t[t.LINEAR=15]="LINEAR",t[t.GRID=16]="GRID",t[t.RELATIVE=17]="RELATIVE",t[t.CONSTRAINT=18]="CONSTRAINT",t[t.WEBVIEW=19]="WEBVIEW",t[t.UNKNOWN=20]="UNKNOWN"}(t||(t={}));var e=Object.freeze({get CONTAINER_NODE(){return t}});const n={DELEGATE_FIXED:"android.delegate.fixed",DELEGATE_MAXWIDTHHEIGHT:"android.delegate.max-width-height",DELEGATE_PERCENT:"android.delegate.percent",DELEGATE_RADIOGROUP:"android.delegate.radiogroup",DELEGATE_SCROLLBAR:"android.delegate.scrollbar",DELEGATE_VERTICALALIGN:"android.delegate.verticalalign",CONSTRAINT_GUIDELINE:"android.constraint.guideline",RESOURCE_INCLUDES:"android.resource.includes",RESOURCE_BACKGROUND:"android.resource.background",RESOURCE_SVG:"android.resource.svg",RESOURCE_STRINGS:"android.resource.strings",RESOURCE_FONTS:"android.resource.fonts",RESOURCE_DIMENS:"android.resource.dimens",RESOURCE_STYLES:"android.resource.styles"},a={CHECKBOX:"CheckBox",RADIO:"RadioButton",EDIT:"EditText",SELECT:"Spinner",RANGE:"SeekBar",SVG:"ImageView",TEXT:"TextView",IMAGE:"ImageView",BUTTON:"Button",LINE:"View",SPACE:"Space",FRAME:"FrameLayout",LINEAR:"LinearLayout",GRID:"GridLayout",RELATIVE:"RelativeLayout",WEBVIEW:"WebView",CONSTRAINT:"android.support.constraint.ConstraintLayout",GUIDELINE:"android.support.constraint.Guideline"},o={PLAINTEXT:t.TEXT,HR:t.LINE,SVG:t.SVG,IMG:t.IMAGE,SELECT:t.SELECT,RANGE:t.RANGE,TEXT:t.EDIT,PASSWORD:t.EDIT,NUMBER:t.EDIT,EMAIL:t.EDIT,SEARCH:t.EDIT,URL:t.EDIT,DATE:t.EDIT,TEL:t.EDIT,TIME:t.EDIT,WEEK:t.EDIT,MONTH:t.EDIT,TEXTAREA:t.EDIT,FILE:t.BUTTON,IMAGE:t.BUTTON,BUTTON:t.BUTTON,SUBMIT:t.BUTTON,RESET:t.BUTTON,CHECKBOX:t.CHECKBOX,RADIO:t.RADIO,IFRAME:t.WEBVIEW,"DATETIME-LOCAL":t.EDIT},i={MARGIN:"layout_margin",MARGIN_VERTICAL:"layout_marginVertical",MARGIN_HORIZONTAL:"layout_marginHorizontal",MARGIN_TOP:"layout_marginTop",MARGIN_RIGHT:"layout_marginRight",MARGIN_BOTTOM:"layout_marginBottom",MARGIN_LEFT:"layout_marginLeft",PADDING:"padding",PADDING_VERTICAL:"paddingVertical",PADDING_HORIZONTAL:"paddingHorizontal",PADDING_TOP:"paddingTop",PADDING_RIGHT:"paddingRight",PADDING_BOTTOM:"paddingBottom",PADDING_LEFT:"paddingLeft"},r={HORIZONTAL:"horizontal",VERTICAL:"vertical"},s={relativeParent:{left:"layout_alignParentLeft",top:"layout_alignParentTop",right:"layout_alignParentRight",bottom:"layout_alignParentBottom",centerHorizontal:"layout_centerHorizontal",centerVertical:"layout_centerVertical"},relative:{left:"layout_alignLeft",top:"layout_alignTop",right:"layout_alignRight",bottom:"layout_alignBottom",baseline:"layout_alignBaseline",leftRight:"layout_toRightOf",rightLeft:"layout_toLeftOf",topBottom:"layout_below",bottomTop:"layout_above"},constraint:{left:"layout_constraintLeft_toLeftOf",top:"layout_constraintTop_toTopOf",right:"layout_constraintRight_toRightOf",bottom:"layout_constraintBottom_toBottomOf",leftRight:"layout_constraintLeft_toRightOf",rightLeft:"layout_constraintRight_toLeftOf",baseline:"layout_constraintBaseline_toBaselineOf",topBottom:"layout_constraintTop_toBottomOf",bottomTop:"layout_constraintBottom_toTopOf"}},l={android:"http://schemas.android.com/apk/res/android",app:"http://schemas.android.com/apk/res-auto",aapt:"http://schemas.android.com/aapt",tools:"http://schemas.android.com/tools"},c=["abstract","assert","boolean","break","byte","case","catch","char","class","const","continue","default","double","do","else","enum","extends","false","final","finally","float","for","goto","if","implements","import","instanceof","int","interface","long","native","new","null","package","private","protected","public","return","short","static","strictfp","super","switch","synchronized","this","throw","throws","transient","true","try","void","volatile","while"];var d=Object.freeze({EXT_ANDROID:n,CONTAINER_ANDROID:a,ELEMENT_ANDROID:o,SUPPORT_ANDROID:{DRAWER:"android.support.v4.widget.DrawerLayout",NAVIGATION_VIEW:"android.support.design.widget.NavigationView",COORDINATOR:"android.support.design.widget.CoordinatorLayout",APPBAR:"android.support.design.widget.AppBarLayout",COLLAPSING_TOOLBAR:"android.support.design.widget.CollapsingToolbarLayout",TOOLBAR:"android.support.v7.widget.Toolbar",FLOATING_ACTION_BUTTON:"android.support.design.widget.FloatingActionButton",BOTTOM_NAVIGATION:"android.support.design.widget.BottomNavigationView"},BOX_ANDROID:i,AXIS_ANDROID:r,LAYOUT_ANDROID:s,XMLNS_ANDROID:l,PREFIX_ANDROID:{MENU:"ic_menu_",DIALOG:"ic_dialog_"},RESERVED_JAVA:c});const h=squared.base.Resource,u=squared.lib.color,p=squared.lib.css,m=squared.lib.util,g=squared.lib.xml,f=h.STORED;function y(t,e=!1){if(t)for(const n in t)if("object"==typeof t[n])y(t,e);else{let a=""+t[n];switch(n){case"text":if(!a.startsWith("@string/")&&""!==(a=b.addString(a,"",e))){t[n]=`@string/${a}`;continue}break;case"src":case"srcCompat":if(m.REGEXP_COMPILED.PROTOCOL.test(a)&&""!==(a=b.addImage({mdpi:a}))){t[n]=`@drawable/${a}`;continue}}const o=u.parseColor(a);if(o){const e=b.addColor(o);""!==e&&(t[n]=`@color/${e}`)}}}class b extends squared.base.Resource{constructor(t,e){super(t,e),f.styles=new Map,f.themes=new Map,f.dimens=new Map,f.drawables=new Map,f.animators=new Map}static formatOptions(t,e=!1){for(const n in t){const a=t[n];"object"==typeof a&&y(a,e)}return t}static addTheme(...t){for(const e of t){let t="res/values",n="themes.xml";e.output&&(m.isString(e.output.path)&&(t=e.output.path.trim()),m.isString(e.output.file)&&(n=e.output.file.trim()));const a=`${m.trimString(t.trim(),"/")}/${m.trimString(n.trim(),"/")}`,o=f.themes.get(a)||new Map;let i="";if(""===e.name||"."===e.name.charAt(0)){t:for(const t of f.themes.values())for(const e of t.values())if(e.name){i=e.name;break t}if(""===i)continue}else i=e.name;e.name=i+("."===e.name.charAt(0)?e.name:""),b.formatOptions(e.items);const r=o.get(e.name);if(r)for(const t in e.items)r.items[t]=e.items[t];else o.set(e.name,e);f.themes.set(a,o)}}static addString(t,e="",n=!1){if(""!==t){""===e&&(e=t.trim());const a=m.isNumber(t);if(!a||n){for(const[e,n]of f.strings.entries())if(n===t)return e;const n=m.trimString(e.replace(/[^A-Za-z\d]+/g,"_"),"_").split(/_+/);n.length>1?(n.length>4&&(n.length=4),e=n.join("_")):e=n[0],e=e.toLowerCase(),a||/^\d/.test(e)||c.includes(e)?e=`__${e}`:""===e&&(e=`__symbol${Math.ceil(1e5*Math.random())}`),f.strings.has(e)&&(e=b.generateId("string",e)),f.strings.set(e,g.escapeNonEntity(t))}return e}return""}static addImageSrc(t,e=""){const n={};if(t.srcset){const e=t.srcset.trim();if(""!==e){const a=t.src.substring(0,t.src.lastIndexOf("/")+1);for(const t of e.split(m.REGEXP_COMPILED.SEPARATOR)){const e=/^(.+?)\s*(?:(\d*\.?\d*)x)?$/.exec(t.trim());if(e){m.hasValue(e[2])||(e[2]="1");const t=a+m.fromLastIndexOf(e[1]),o=parseFloat(e[2]);o<=.75?n.ldpi=t:o<=1?n.mdpi=t:o<=1.5?n.hdpi=t:o<=2?n.xhdpi=t:o<=3?n.xxhdpi=t:n.xxxhdpi=t}}}}return void 0===n.mdpi&&(n.mdpi=t.src),this.addImage(n,e)}static addImage(t,e=""){let n="";if(t.mdpi){n=m.fromLastIndexOf(t.mdpi);const a=m.fromLastIndexOf(n,".").toLowerCase();switch(a){case"bmp":case"cur":case"gif":case"ico":case"jpg":case"png":n=b.insertStoredAsset("images",e+n.substring(0,n.length-a.length-1).replace(/[^\w+]/g,"_"),t);break;default:n=""}}return n}static addImageUrl(t,e=""){return""!==(t=p.resolveURL(t)||m.resolvePath(t))?this.addImage({mdpi:t},e):""}static addColor(t,e=!1){if("string"==typeof t&&(t=u.parseColor(t,void 0,e)),t&&(!t.transparent||e)){const e=t.semiopaque||t.transparent?t.valueAsARGB:t.value;let n=f.colors.get(e);if(n)return n;const a=u.findColorShade(t.value);if(a)return n=e===a.value?a.name:b.generateId("color",a.name),f.colors.set(e,n),n}return""}get userSettings(){return this.application.userSettings}}const T=squared.lib.util;function A(t,e,n,a=0){return(!n||n>=a)&&(t.attr=e,!0)}const E={28:{android:{},app:{},assign:{}},27:{android:{accessibilityHeading:!1,accessibilityPaneTitle:!1,appComponentFactory:!1,buttonCornerRadius:!1,cantSaveState:!1,dialogCornerRadius:!1,fallbackLineSpacing:!1,firstBaselineToTopHeight:!1,fontVariationSettings:!1,lastBaselineToBottomHeight:!1,lineHeight:!1,maxLongVersionCode:!1,outlineAmbientShadowColor:!1,outlineSpotShadowColor:!1,screenReaderFocusable:!1,textFontWeight:!1,ttcIndex:!1,versionCodeMajor:!1,versionMajor:!1,widgetFeatures:!1,windowLayoutInDisplayCutoutMode:!1},app:{},assign:{}},26:{android:{classLoader:!1,navigationBarDividerColor:!1,showWhenLocked:!1,turnScreenOn:!1,windowLightNavigationBar:!1},app:{},assign:{}},25:{android:{fontWeight:!1,justificationMode:!1,layout_marginHorizontal:!1,layout_marginVertical:!1,paddingHorizontal:!1,paddingVertical:!1},app:{},assign:{}},24:{android:{colorSecondary:!1,contextDescription:!1,contextUri:!1,roundIcon:!1,shortcutDisabledMessage:!1,shortcutId:!1,shortcutLongLabel:!1,shortcutShortLabel:!1,showMetadataInPreview:!1},app:{},assign:{}},23:{android:{backupInForeground:!1,bitmap:!1,buttonGravity:!1,canControlMagnification:!1,canPerformGestures:!1,canRecord:!1,collapseIcon:!1,contentInsetEndWithActions:!1,contentInsetStartWithNavigation:!1,contextPopupMenuStyle:!1,countDown:!1,defaultHeight:!1,defaultToDeviceProtectedStorage:!1,defaultWidth:!1,directBootAware:!1,enableVrMode:!1,endX:!1,endY:!1,externalService:!1,fillType:!1,forceHasOverlappingRendering:!1,hotSpotX:!1,hotSpotY:!1,languageTag:!1,level:!1,listMenuViewStyle:!1,maxButtonHeight:!1,networkSecurityConfig:!1,numberPickerStyle:!1,offset:!1,pointerIcon:!1,popupEnterTransition:!1,popupExitTransition:!1,preferenceFragmentStyle:!1,resizeableActivity:!1,startX:!1,startY:!1,subMenuArrow:!1,supportsLocalInteraction:!1,supportsPictureInPicture:!1,textAppearancePopupMenuHeader:!1,tickMark:!1,tickMarkTint:!1,tickMarkTintMode:!1,titleMargin:!1,titleMarginBottom:!1,titleMarginEnd:!1,titleMarginStart:!1,titleMarginTop:!1,tunerCount:!1,use32bitAbi:!1,version:!1,windowBackgroundFallback:!1},app:{},assign:{}},22:{android:{allowUndo:!1,autoVerify:!1,breakStrategy:!1,colorBackgroundFloating:!1,contextClickable:!1,drawableTint:!1,drawableTintMode:!1,end:t=>A(t,"right"),extractNativeLibs:!1,fingerprintAuthDrawable:!1,fraction:!1,fullBackupContent:!1,hyphenationFrequency:!1,lockTaskMode:!1,logoDescription:!1,numbersInnerTextColor:!1,scrollIndicators:!1,showForAllUsers:!1,start:t=>A(t,"left"),subtitleTextColor:!1,supportsAssist:!1,supportsLaunchVoiceAssistFromKeyguard:!1,thumbPosition:!1,titleTextColor:!1,trackTint:!1,trackTintMode:!1,usesCleartextTraffic:!1,windowLightStatusBar:!1},app:{},assign:{}},21:{android:{accessibilityTraversalAfter:!1,accessibilityTraversalBefore:!1,collapseContentDescription:!1,dialogPreferredPadding:!1,resizeClip:!1,revisionCode:!1,searchHintIcon:!1},app:{},assign:{}},20:{android:{actionBarPopupTheme:!1,actionBarTheme:!1,actionModeFindDrawable:!1,actionModeShareDrawable:!1,actionModeWebSearchDrawable:!1,actionOverflowMenuStyle:!1,amPmBackgroundColor:!1,amPmTextColor:!1,ambientShadowAlpha:!1,autoRemoveFromRecents:!1,backgroundTint:!1,backgroundTintMode:!1,banner:!1,buttonBarNegativeButtonStyle:!1,buttonBarNeutralButtonStyle:!1,buttonBarPositiveButtonStyle:!1,buttonTint:!1,buttonTintMode:!1,calendarTextColor:!1,checkMarkTint:!1,checkMarkTintMode:!1,closeIcon:!1,colorAccent:!1,colorButtonNormal:!1,colorControlActivated:!1,colorControlHighlight:!1,colorControlNormal:!1,colorEdgeEffect:!1,colorPrimary:!1,colorPrimaryDark:!1,commitIcon:!1,contentAgeHint:!1,contentInsetEnd:!1,contentInsetLeft:!1,contentInsetRight:!1,contentInsetStart:!1,controlX1:!1,controlX2:!1,controlY1:!1,controlY2:!1,country:!1,datePickerDialogTheme:!1,datePickerMode:!1,dayOfWeekBackground:!1,dayOfWeekTextAppearance:!1,documentLaunchMode:!1,elegantTextHeight:!1,elevation:!1,excludeClass:!1,excludeId:!1,excludeName:!1,fastScrollStyle:!1,fillAlpha:!1,fillColor:!1,fontFeatureSettings:!1,foregroundTint:!1,foregroundTintMode:!1,fragmentAllowEnterTransitionOverlap:!1,fragmentAllowReturnTransitionOverlap:!1,fragmentEnterTransition:!1,fragmentExitTransition:!1,fragmentReenterTransition:!1,fragmentReturnTransition:!1,fragmentSharedElementEnterTransition:!1,fragmentSharedElementReturnTransition:!1,fromId:!1,fullBackupOnly:!1,goIcon:!1,headerAmPmTextAppearance:!1,headerDayOfMonthTextAppearance:!1,headerMonthTextAppearance:!1,headerTimeTextAppearance:!1,headerYearTextAppearance:!1,hideOnContentScroll:!1,indeterminateTint:!1,indeterminateTintMode:!1,inset:!1,isGame:!1,launchTaskBehindSourceAnimation:!1,launchTaskBehindTargetAnimation:!1,layout_columnWeight:!1,layout_rowWeight:!1,letterSpacing:!1,matchOrder:!1,maxRecentsv:!1,maximumAngle:!1,minimumHorizontalAngle:!1,minimumVerticalAngle:!1,multiArch:!1,navigationBarColor:!1,navigationContentDescription:!1,navigationIcon:!1,nestedScrollingEnabled:!1,numbersBackgroundColor:!1,numbersSelectorColor:!1,numbersTextColor:!1,outlineProvider:!1,overlapAnchor:!1,paddingMode:!1,pathData:!1,patternPathData:!1,persistableMode:!1,popupElevation:!1,popupTheme:!1,progressBackgroundTint:!1,progressBackgroundTintMode:!1,progressTint:!1,progressTintMode:!1,propertyXName:!1,propertyYName:!1,queryBackground:!1,recognitionService:!1,relinquishTaskIdentity:!1,reparent:!1,reparentWithOverlay:!1,restrictionType:!1,resumeWhilePausing:!1,reversible:!1,searchIcon:!1,searchViewStyle:!1,secondaryProgressTint:!1,secondaryProgressTintMode:!1,selectableItemBackgroundBorderless:!1,sessionService:!1,setupActivity:!1,showText:!1,slideEdge:!1,splitTrack:!1,spotShadowAlpha:!1,src:(t,e,n)=>(n.svgElement&&(t.obj="app",t.attr="srcCompat"),!0),stackViewStyle:!1,stateListAnimator:!1,statusBarColor:!1,strokeAlpha:!1,strokeColor:!1,strokeLineCap:!1,strokeLineJoin:!1,strokeMiterLimit:!1,strokeWidth:!1,submitBackground:!1,subtitleTextAppearance:!1,suggestionRowLayout:!1,switchStyle:!1,targetName:!1,textAppearanceListItemSecondary:!1,thumbTint:!1,thumbTintMode:!1,tileModeX:!1,tileModeY:!1,timePickerDialogTheme:!1,timePickerMode:!1,timePickerStyle:!1,tintMode:!1,titleTextAppearance:!1,toId:!1,toolbarStyle:!1,touchscreenBlocksFocus:!1,transitionGroup:!1,transitionName:!1,transitionVisibilityMode:!1,translateX:!1,translateY:!1,translationZ:!1,trimPathEnd:!1,trimPathOffset:!1,trimPathStart:!1,viewportHeight:!1,viewportWidth:!1,voiceIcon:!1,windowActivityTransitions:!1,windowAllowEnterTransitionOverlap:!1,windowAllowReturnTransitionOverlap:!1,windowClipToOutline:!1,windowContentTransitionManager:!1,windowContentTransitions:!1,windowDrawsSystemBarBackgrounds:!1,windowElevation:!1,windowEnterTransition:!1,windowExitTransition:!1,windowReenterTransition:!1,windowReturnTransition:!1,windowSharedElementEnterTransition:!1,windowSharedElementExitTransition:!1,windowSharedElementReenterTransition:!1,windowSharedElementReturnTransition:!1,windowSharedElementsUseOverlay:!1,windowTransitionBackgroundFadeDuration:!1,yearListItemTextAppearance:!1,yearListSelectorColor:!1},app:{},assign:{}},19:{android:{allowEmbedded:!1,windowSwipeToDismiss:!1},app:{},assign:{}},18:{android:{accessibilityLiveRegion:!1,addPrintersActivity:!1,advancedPrintOptionsActivity:!1,apduServiceBanner:!1,autoMirrored:!1,category:!1,fadingMode:!1,fromScene:!1,isAsciiCapable:!1,keySet:!1,requireDeviceUnlock:!1,ssp:!1,sspPattern:!1,sspPrefix:!1,startDelay:!1,supportsSwitchingToNextInputMethod:!1,targetId:!1,toScene:!1,transition:!1,transitionOrdering:!1,vendor:!1,windowTranslucentNavigation:!1,windowTranslucentStatus:!1},app:{},assign:{}},17:{android:{canRequestEnhancedWebAccessibility:(t,e)=>e<26,canRequestFilterKeyEvents:!1,canRequestTouchExplorationMode:!1,childIndicatorEnd:!1,childIndicatorStart:!1,indicatorEnd:!1,indicatorStart:!1,layoutMode:!1,mipMap:!1,mirrorForRtl:!1,requiredAccountType:!1,requiredForAllUsers:!1,restrictedAccountType:!1,windowOverscan:!1},app:{},assign:{}},16:{android:{checkedTextViewStyle:!1,format12Hour:!1,format24Hour:!1,initialKeyguardLayout:!1,labelFor:!1,layoutDirection:!1,layout_alignEnd:t=>A(t,"layout_alignRight"),layout_alignParentEnd:t=>A(t,"layout_alignParentRight"),layout_alignParentStart:t=>A(t,"layout_alignParentLeft"),layout_alignStart:t=>A(t,"layout_alignLeft"),layout_marginEnd:t=>A(t,"layout_marginRight"),layout_marginStart:t=>A(t,"layout_marginLeft"),layout_toEndOf:t=>A(t,"layout_toRightOf"),layout_toStartOf:t=>A(t,"layout_toLeftOf"),listPreferredItemPaddingEnd:t=>A(t,"listPreferredItemPaddingRight"),listPreferredItemPaddingStart:t=>A(t,"listPreferredItemPaddingLeft"),paddingEnd:t=>A(t,"paddingRight"),paddingStart:t=>A(t,"paddingLeft"),permissionFlags:!1,permissionGroupFlags:!1,presentationTheme:!1,showOnLockScreen:!1,singleUser:!1,subtypeId:!1,supportsRtl:!1,textAlignment:!1,textDirection:!1,timeZone:!1,widgetCategory:!1},app:{},assign:{}},15:{android:{fontFamily:!1,importantForAccessibility:!1,isolatedProcess:!1,keyboardLayout:!1,mediaRouteButtonStyle:!1,mediaRouteTypes:!1,parentActivityName:!1},app:{},assign:{}},14:{android:{},app:{},assign:{}},0:{android:{},app:{},assign:{Button:{android:{textAllCaps:"false"}}}}},S={android:{amPmBackgroundColor:(t,e)=>A(t,"headerBackground",e,23),amPmTextColor:(t,e)=>A(t,"headerTextColor",e,23),animationResolution:(t,e)=>e<16,canRequestEnhancedWebAccessibility:(t,e)=>e<26,dayOfWeekBackground:(t,e)=>e<23,dayOfWeekTextAppearance:(t,e)=>e<23,directionDescriptions:(t,e)=>e<23,headerAmPmTextAppearance:(t,e)=>A(t,"headerTextColor",e,23),headerDayOfMonthTextAppearance:(t,e)=>A(t,"headerTextColor",e,23),headerMonthTextAppearance:(t,e)=>A(t,"headerTextColor",e,23),headerTimeTextAppearance:(t,e)=>A(t,"headerTextColor",e,23),headerYearTextAppearance:(t,e)=>A(t,"headerTextColor",e,23),showOnLockScreen:(t,e)=>A(t,"showForAllUsers",e,23),targetDescriptions:(t,e)=>e<23,yearListItemTextAppearance:(t,e)=>A(t,"yearListTextColor",e,23),yearListSelectorColor:(t,e)=>e<23}};var v=Object.freeze({API_ANDROID:E,DEPRECATED_ANDROID:S,getValue:function(t,e,n,a){for(const o of[E[t],E[0]]){const t=T.optionalAsString(o,`assign.${e}.${n}.${a}`);if(T.isString(t))return t}return""}});const R=squared.lib.util,_=/([">])(-)?(\d+(?:\.\d+)?px)(["<])/g;function w(t){return t?t.replace(/@\+?id\//,""):""}function x(t){return Object.assign({android:{},app:{}},t)}function I(t){const e={output:{path:"res/values",file:""},name:"",parent:"",items:{}};if(t&&"object"==typeof t)for(const n in e)typeof t[n]==typeof e[n]&&(e[n]=t[n]);return e}function N(t,e=160,n=!1){let a=parseFloat(t);return isNaN(a)?"0dp":(t=(a/=e/160)>=1||0===a?""+Math.floor(a):a.toPrecision(2))+(n?"sp":"dp")}function P(t,e=160,n="dp",a=!1){return"dp"===n||a?t.replace(_,(t,...n)=>n[0]+(n[1]||"")+N(n[2],e,a)+n[3]):t}function C(t,e,n){if(e&&n>=17)switch(t){case"left":return"start";case"right":return"end";case"layout_marginLeft":return"layout_marginStart";case"layout_marginRight":return"layout_marginEnd";case"paddingLeft":return"paddingStart";case"paddingRight":return"paddingEnd";case"layout_alignParentLeft":return"layout_alignParentStart";case"layout_alignParentRight":return"layout_alignParentEnd";case"layout_alignLeft":return"layout_alignStart";case"layout_alignRight":return"layout_alignEnd";case"layout_toRightOf":return"layout_toEndOf";case"layout_toLeftOf":return"layout_toStartOf";case"layout_constraintLeft_toLeftOf":return"layout_constraintStart_toStartOf";case"layout_constraintRight_toRightOf":return"layout_constraintEnd_toEndOf";case"layout_constraintLeft_toRightOf":return"layout_constraintStart_toEndOf";case"layout_constraintRight_toLeftOf":return"layout_constraintEnd_toStartOf"}return t}function O(...t){return R.joinMap(t,t=>l[t]?`xmlns:${t}="${l[t]}"`:""," ")}function L(t){let e="";for(const n in l)-1!==t.indexOf(`${n}:`)&&(e+=`\n\t${O(n)}`);return e}var M=Object.freeze({stripId:w,createViewAttribute:x,createStyleAttribute:I,convertLength:N,replaceLength:P,replaceRTL:C,getXmlNs:O,getRootNs:L}),D=squared.base.NodeList,k=squared.base.Resource;const B=squared.base.lib.enumeration,X=squared.lib.css,G=squared.lib.dom,V=squared.lib.util,W=/^attr[A-Z]/,F=/^(?:([a-z]+):)?(\w+)="((?:@+?[a-z]+\/)?.+)"$/,z=/[^\w$\-_.]/g;function H(t){switch(t){case"justify":case"initial":case"inherit":return"";case"center":return"center_horizontal";default:return t}}function q(t){return t.documentRoot&&t.layoutFrame&&1===t.length&&t.has("maxWidth")}function $(t){if(!t.blockWidth){const e=[];if(t.autoMargin.leftRight?q(t)?t.renderChildren[0].mergeGravity("layout_gravity","center_horizontal"):e.push("center_horizontal"):t.autoMargin.left?q(t)?t.renderChildren[0].mergeGravity("layout_gravity","right"):e.push("right"):t.autoMargin.right&&e.push("left"),t.autoMargin.topBottom?e.push("center_vertical"):t.autoMargin.top?e.push("bottom"):t.autoMargin.bottom&&e.push("top"),e.length)return t.mergeGravity(t.blockWidth||!t.pageFlow?"gravity":"layout_gravity",...e),!0}return!1}function U(t,e,n=4){return 0===t?0:0===e?1:parseFloat(Math.max(t/(t+e),0).toPrecision(n))}var Y=e=>(class n extends e{constructor(t=0,e,n){super(t,e),this.renderChildren=[],this.constraint={horizontal:!1,vertical:!1,current:{}},this._namespaces=new Set(["android","app"]),this._controlName="",this._fontSize=0,this._boxAdjustment=G.newBoxModel(),this._boxReset=G.newBoxModel(),this._containerType=0,this._localSettings={targetAPI:28,supportRTL:!1,floatPrecision:3},this.__android={},this.__app={},n&&n(this)}static documentBody(){if(void 0===n._documentBody){const t=new n(0,document.body);t.hide(),t.setBounds(),n._documentBody=t}return n._documentBody}static getControlName(e){return a[t[e]]}attr(t,e,n="",a=!0){const o={};return this.supported(t,e,o)?(Object.keys(o).length&&(V.isString(o.obj)&&(t=o.obj),V.isString(o.attr)&&(e=o.attr),V.isString(o.value)&&(n=o.value),"boolean"==typeof o.overwrite&&(a=o.overwrite)),super.attr(t,e,n,a)):""}android(t,e="",n=!0){return this.attr("android",t,e,n),this.__android[t]||""}app(t,e="",n=!0){return this.attr("app",t,e,n),this.__app[t]||""}apply(t){const e=Object.assign({},t);super.apply(e);for(const t in e)this.formatted(`${t}="${e[t]}"`)}formatted(t,e=!0){const n=t.match(F);n&&this.attr(n[1]||"_",n[2],n[3],e)}anchor(t,e="",n){const a=this.renderParent;if(a)if(a.layoutConstraint){if(void 0===e||void 0===this.constraint.current[t]||n){e&&void 0===n&&(n="parent"===e);const a=s.constraint[t];if(a){if(this.app(this.localizeString(a),e,n),"parent"===e)switch(t){case"left":case"right":this.constraint.horizontal=!0;break;case"top":case"bottom":case"baseline":this.constraint.vertical=!0}return this.constraint.current[t]={documentId:e,horizontal:-1!==V.firstIndexOf(t.toLowerCase(),"left","right")},!0}}}else if(a.layoutRelative){return e&&void 0===n&&(n="true"===e),this.android(this.localizeString(s["true"===e?"relativeParent":"relative"][t]),e,n),!0}return!1}anchorParent(t,e=!1,n=!1){const a=this.renderParent;if(a){const o=t===r.HORIZONTAL;if(a.layoutConstraint){if(e||!this.constraint[t])return this.anchor(o?"left":"top","parent"),this.anchor(o?"right":"bottom","parent"),this.constraint[t]=!0,n&&this.app(`layout_constraint${V.capitalize(t)}_bias`,this[`${t}Bias`]),!0}else if(a.layoutRelative)return this.anchor(o?"left":"top","true"),this.anchor(o?"right":"bottom","true"),!0}return!1}anchorDelete(...t){const e=this.renderParent;if(e)if(e.layoutConstraint)this.delete("app",...V.replaceMap(t,t=>this.localizeString(s.constraint[t])));else if(e.layoutRelative)for(const e of t)""!==this.alignSibling(e)?this.delete("android",s.relative[e],this.localizeString(s.relative[e])):s.relativeParent[e]&&this.delete("android",this.localizeString(s.relativeParent[e]))}anchorClear(){const t=this.renderParent;t&&(t.layoutConstraint?this.anchorDelete(...Object.keys(s.constraint)):t.layoutRelative&&(this.anchorDelete(...Object.keys(s.relativeParent)),this.anchorDelete(...Object.keys(s.relative))))}alignParent(t){const e=this.renderParent;if(e)if(e.layoutConstraint){const e=s.constraint[t];if(e)return"parent"===this.app(this.localizeString(e))||"parent"===this.app(e)}else if(e.layoutRelative){const e=s.relativeParent[t];if(e)return"true"===this.android(this.localizeString(e))||"true"===this.android(e)}return!1}alignSibling(t,e){const n=this.renderParent;if(n)if(e){if(n.layoutConstraint){const n=s.constraint[t];n&&this.app(this.localizeString(n),e)}else if(n.layoutRelative){const n=s.relative[t];n&&this.android(this.localizeString(n),e)}}else if(n.layoutConstraint){const e=s.constraint[t];if(e){const t=this.app(this.localizeString(e))||this.app(e);return"parent"!==t&&t!==n.documentId?t:""}}else if(n.layoutRelative){const e=s.relative[t];if(e)return this.android(this.localizeString(e))||this.android(e)}return""}horizontalBias(){const t=this.documentParent;if(t!==this){return U(Math.max(0,this.linear.left-t.box.left),Math.max(0,t.box.right-this.linear.right),this.localSettings.floatPrecision)}return.5}verticalBias(){const t=this.documentParent;if(t!==this){return U(Math.max(0,this.linear.top-t.box.top),Math.max(0,t.box.bottom-this.linear.bottom),this.localSettings.floatPrecision)}return.5}supported(t,e,n={}){if(this.localSettings.targetAPI<28){const a=S[t];if(a&&"function"==typeof a[e]){const t=a[e](n,this.localSettings.targetAPI,this);if(!t||Object.keys(n).length)return t}for(let a=this.localSettings.targetAPI;a<=28;a++){const o=E[a];if(o&&o[t]&&void 0!==o[t][e]){const a=o[t][e];if("boolean"==typeof a)return a;if("function"==typeof a)return a(n,this.localSettings.targetAPI,this)}}}return!0}combine(...t){const e=[];for(const n of this._namespaces){const a=this[`__${n}`];if(0===t.length||t.includes(n))for(const t in a)e.push(("_"!==n?`${n}:`:"")+`${t}="${a[t]}"`)}return e.sort((t,e)=>t>e||e.startsWith("android:id=")?1:-1)}localizeString(t){return this.hasProcedure(B.NODE_PROCEDURE.LOCALIZATION)?C(t,this.localSettings.supportRTL,this.localSettings.targetAPI):t}hide(t){t?this.android("visibility","invisible"):super.hide()}clone(t,e=!1,a=!1){const o=new n(t||this.id,this.element);if(Object.assign(o.localSettings,this.localSettings),o.tagName=this.tagName,void 0!==t?o.setControlType(this.controlName,this.containerType):(o.controlId=this.controlId,o.controlName=this.controlName,o.containerType=this.containerType),o.alignmentType=this.alignmentType,o.depth=this.depth,o.visible=this.visible,o.excluded=this.excluded,o.rendered=this.rendered,o.renderParent=this.renderParent,o.documentParent=this.documentParent,o.documentRoot=this.documentRoot,this.length&&o.retain(this.duplicate()),e){Object.assign(o.unsafe("boxReset"),this._boxReset),Object.assign(o.unsafe("boxAdjustment"),this._boxAdjustment);for(const t of this._namespaces){const e=this[`__${t}`];for(const n in e)o.attr(t,n,"android"===t&&"id"===n?o.documentId:e[n])}}return a&&(o.anchorClear(),o.anchor("left",this.documentId)&&(Object.assign(o.unsafe("boxReset"),{marginLeft:1}),Object.assign(o.unsafe("boxAdjustment"),{marginLeft:0})),o.anchor("top",this.documentId)&&(Object.assign(o.unsafe("boxReset"),{marginTop:1}),Object.assign(o.unsafe("boxAdjustment"),{marginTop:0}))),o.inherit(this,"initial","base","alignment","styleMap"),Object.assign(o.unsafe("cached"),this.unsafe("cached")),o}setControlType(e,n){if(this.controlName=e,this.containerType=n||t.UNKNOWN,this.controlId=w(this.android("id")),""===this.controlId){let t;if(this.naturalElement){const e=this.element.name;("parent"===(t=(a=this.elementId||("string"==typeof e?e:""))?a.trim().replace(z,"_"):"")||c.includes(t))&&(t=`_${t}`)}this.controlId=V.convertWord(k.generateId("android",t||V.fromLastIndexOf(this.controlName,".").toLowerCase(),t?0:1)),this.android("id",this.documentId)}var a}setLayout(){const e=this.renderParent;if(e){const n=this.renderChildren,a=this.groupParent?D.actualParent(n):this.absoluteParent;let o=!0,i=!0;if(this.setVisibility(),this.documentBody&&((!this.hasWidth&&n.some(t=>t.alignParent("right"))||this.visibleStyle.backgroundColor||this.borderRightWidth>0)&&this.android("layout_width","match_parent",!1),(!this.hasHeight&&n.some(t=>t.alignParent("bottom"))||this.visibleStyle.backgroundColor||this.borderBottomWidth>0)&&this.android("layout_height","match_parent",!1)),""===this.android("layout_height"))if(!this.inlineStatic&&this.has("height")||this.toInt("height")>0&&!this.cssInitial("height")){const t=this.css("height");let n=-1;if(V.isLength(t)){if(n=this.parseUnit(t,!1),this.positionStatic&&!this.layoutFrame&&"hidden"!==this.documentParent.css("overflow")){const t=V.convertInt(e.android("layout_height"));t>0&&n>=t&&(this.singleChild?e.android("layout_height","wrap_content"):(this.android("layout_height","match_parent"),n=-1))}}else V.isPercent(t)&&("100%"===t?this.android("layout_height","match_parent"):this.documentParent.has("height")?n=Math.ceil(this.bounds.height)-this.contentBoxHeight:i=!1);-1!==n&&(this.display.startsWith("table")&&n<Math.floor(this.bounds.height)?(this.has("minHeight")||this.android("minHeight",V.formatPX(n)),this.android("layout_height","wrap_content")):this.android("layout_height",V.formatPX(n)))}else i=!1;if(this.has("minHeight")&&!this.constraint.minHeight&&(this.android("minHeight",this.convertPX(this.css("minHeight"),!1),!1),this.android("layout_height","wrap_content",!1)),""===this.android("layout_width"))if(!this.inlineStatic&&this.has("width")||this.toInt("width")>0&&!this.cssInitial("width")){const n=this.css("width");let a=-1;if(V.isLength(n)){if(a=this.parseUnit(n),this.positionStatic&&!this.layoutFrame&&"hidden"!==this.documentParent.css("overflow")){const t=V.convertInt(e.android("layout_width"));t>0&&a>=t&&(this.singleChild?e.android("layout_width","wrap_content"):(this.android("layout_width","match_parent"),a=-1))}}else V.isPercent(n)?e.is(t.GRID)?(this.android("layout_width","0px",!1),this.android("layout_columnWeight",(parseInt(n)/100).toPrecision(this.localSettings.floatPrecision),!1)):"100%"===n?this.android("layout_width","match_parent"):a=this.parseUnit(n):o=!1;-1!==a&&(this.display.startsWith("table")&&a<Math.floor(this.bounds.width)?(this.has("minWidth")||this.android("minWidth",V.formatPX(a)),this.android("layout_width","wrap_content")):this.android("layout_width",V.formatPX(a)))}else o=!1;if(this.has("minWidth")&&!this.constraint.minWidth&&(this.android("minWidth",this.convertPX(this.css("minWidth")),!1),this.android("layout_width","wrap_content",!1)),!o&&a){const i=this.blockStatic&&(this.htmlElement||this.svgElement)&&(!this.has("maxWidth")||this.some(t=>t.blockStatic));if(this.plainText){if(this.multiline&&e.layoutFrame&&e.renderChildren.length>1&&e.ascend(!0).some(t=>!t.inlineStatic&&t.has("width"))){let t=e.actualWidth;e.renderEach(e=>{e!==this&&(t-=e.actualWidth)}),t>0&&this.android("maxWidth",V.formatPX(t))}this.android("layout_width",this.actualWidth>e.box.width&&this.multiline&&this.alignParent("left")?"match_parent":"wrap_content",!1),o=!0}else{let r=0,s=0,l=0;if(this.groupParent)for(const t of n)t.inlineVertical&&r++,t.blockStatic&&s++,!t.plainText&&!t.multiline&&t.linear.width>=this.documentParent.box.width&&l++;!this.pageFlow||this.inputElement||e.is(t.GRID)||this.groupParent&&r===n.length||this.tableElement||a.gridElement||a.flexElement?(this.android("layout_width","wrap_content",!1),o=!0):(i&&(this.linear.width>=a.box.width||this.visibleStyle.background||this.layoutVertical&&!this.autoMargin.horizontal||this.gridElement||this.flexElement||a.documentBody||a.has("width",32)||a.blockStatic&&(this.singleChild||this.alignedVertically(this.previousSiblings())||!this.documentRoot&&n.some(t=>t.layoutVertical&&!t.autoMargin.horizontal&&!t.hasWidth&&!t.floating)))||this.groupParent&&(l>0||this.layoutVertical&&s>0)||this.layoutFrame&&(this.hasAlign(256)||2===D.linearData(n,!0).floated.size||n.some(t=>t.blockStatic&&(t.autoMargin.leftRight||t.rightAligned))))&&(this.android("layout_width","match_parent",!1),o=!0)}}o||this.android("layout_width","wrap_content",!1),i||this.android("layout_height","wrap_content",!1),this.layoutFrame&&this.hasAlign(64)&&this.length>1&&this.ascend(!0).some(t=>t.has("width"))&&this.each(t=>{const e=t.innerChild||t;e.element&&!e.has("width")&&t.css("width",V.formatPX(t.bounds.width))})}}setAlignment(){const e=this.renderParent;if(e){const n=this.hasAlign(64),a=this.outerParent||this,o=a.renderParent||e;let i=H(this.cssInitial("textAlign",!0)),r=H(this.cssAscend("textAlign")),s=!1;if(""===i&&this.groupParent&&!n){const t=D.actualParent(this.renderChildren);t&&(i=H(t.cssInitial("textAlign",!0)))}if(this.pageFlow){let l="";if(this.inlineVertical&&(o.layoutHorizontal&&!o.support.container.positionRelative||o.is(t.GRID))){let t,e;switch("table-cell"===this.display?(t="gravity",e=this):(t="layout_gravity",e=a),this.cssInitial("verticalAlign",!0)){case"top":e.mergeGravity(t,"top");break;case"middle":e.mergeGravity(t,"center_vertical");break;case"bottom":e.mergeGravity(t,"bottom")}}if(!this.blockWidth&&(o.layoutVertical||this.documentRoot&&(this.layoutVertical||this.layoutFrame))&&(this.floating?a.mergeGravity("layout_gravity",this.float):$(a)?s=!0:""!==i&&this.hasWidth&&!this.blockStatic&&a.mergeGravity("layout_gravity",i)),n&&(this.hasAlign(512)||this.renderChildren.length&&this.renderChildren.every(t=>t.rightAligned)?l="right":this.groupParent&&!this.renderChildren.some(t=>"right"===t.float)&&(l="left")),e.layoutFrame&&void 0===this.innerChild&&($(a)?s=!0:""!==(l=this.floating?this.float:l)&&(e.inlineWidth||this.singleChild&&!e.documentRoot)&&e.mergeGravity("layout_gravity",l),"table-cell"===e.display&&this.singleChild)){let t;switch(e.css("verticalAlign")){case"top":t="top";break;case"bottom":t="bottom";break;default:t="center_vertical"}a.mergeGravity("layout_gravity",t)}""!==l?this.blockWidth?""!==i&&"right"!==l||(i=l):a.mergeGravity("layout_gravity",l):$(this)&&""!==i&&(r="")}if(""!==r)if(""===i)switch(r){case"left":case"start":break;default:if(0===this.length||o.layoutFrame||this.documentParent.hasWidth){if(!s)if(o.layoutFrame){if(n)break;!this.pageFlow||this.floating||this.autoMargin.horizontal||a.mergeGravity("layout_gravity",r)}else this.blockStatic&&a.mergeGravity("layout_gravity","left");i=r}}else this.blockWidth||r===i||this.mergeGravity("layout_gravity",i);""===i||this.layoutFrame||this.layoutConstraint||!this.textElement&&0===this.length||this.mergeGravity("gravity",i)}}mergeGravity(t,...e){const n=new Set,a=this.android(t);if(""!==a)for(const t of a.split("|"))n.add(t);for(const t of e)""!==t&&n.add(this.localizeString(t));let o="";switch(n.size){case 0:break;case 1:o=H(n.values().next().value);default:let t="",e="",a="";for(const t of["center","fill"]){const e=`${t}_horizontal`,a=`${t}_vertical`;(n.has(t)||n.has(e)&&n.has(a))&&(n.delete(e),n.delete(a),n.add(t))}for(const o of n.values())switch(o){case"justify":case"initial":case"inherit":continue;case"left":case"start":case"right":case"end":case"center_horizontal":t=o;break;case"top":case"bottom":case"center_vertical":e=o;break;default:a+=(""!==a?"|":"")+o}o=""!==t&&""!==e?`${t}|${e}`:t||e,""!==a&&(o+=(""!==o?"|":"")+a)}return""!==o?this.android(t,o):(this.delete("android",t),"")}applyOptimizations(){this.renderParent&&(this.autoSizeBoxModel(),this.alignHorizontalLayout(),this.setLineHeight())}applyCustomizations(t=!0){const e=(e,n)=>{const a=e.assign[n];if(a)for(const e in a)for(const n in a[e])this.attr(e,n,a[e][n],t)};e(E[0],this.tagName),e(E[0],this.controlName);const n=E[this.localSettings.targetAPI];n&&(e(n,this.tagName),e(n,this.controlName))}setBoxSpacing(){const e=this.localSettings.targetAPI>=26,n=(t,n,a=!0)=>{const[o,i,r,s]=t,l={};let c=0,d=0,h=0;for(const e of t)if(l[e]=this._boxAdjustment[e],0===this._boxReset[e]){let t=this[e];if(0!==t){if("marginRight"===e&&this.inline){const e=this.documentParent.box.right;if(Math.floor(this.bounds.right)>e){this.textElement&&!this.multiline&&this.android("singleLine","true");continue}this.bounds.right+t>e&&(t=Math.max(0,e-this.bounds.right))}l[e]+=t}}e&&a&&(l[o]===l[i]&&l[i]===l[r]&&l[r]===l[s]?c=l[o]:(l[s]===l[i]&&(d=l[s]),l[o]===l[r]&&(h=l[o]))),0!==c?this.android(n,V.formatPX(c)):(0!==d?this.android(`${n}Horizontal`,V.formatPX(d)):(0!==l[s]&&this.android(this.localizeString(n+"Left"),V.formatPX(l[s])),0!==l[i]&&this.android(this.localizeString(n+"Right"),V.formatPX(l[i]))),0!==h?this.android(`${n}Vertical`,V.formatPX(h)):(0!==l[o]&&this.android(`${n}Top`,V.formatPX(l[o])),0!==l[r]&&this.android(`${n}Bottom`,V.formatPX(l[r]))))};n(X.BOX_MARGIN,"layout_margin",void 0===this.renderParent||!this.renderParent.is(t.GRID)),n(X.BOX_PADDING,"padding")}extractAttributes(t){if("rtl"===this.dir&&this.android(this.length?"layoutDirection":"textDirection","rtl"),this.styleElement){const t=X.getDataSet(this.element,"android");for(const e in t){const n="attr"===e?"android":W.test(e)?V.capitalize(e.substring(4),!1):"";if(""!==n)for(const a of t[e].split(";")){const[t,e]=a.split("::");t&&e&&this.attr(n,t,e)}}}const e="\t".repeat(t);let n="";for(const t of this.combine())n+=`\n${e+t}`;return n}autoSizeBoxModel(){if(this.hasProcedure(B.NODE_PROCEDURE.AUTOFIT)){const e=this.renderParent;let n=V.convertInt(this.android("layout_width")),a=V.convertInt(this.android("layout_height"));if(this.is(t.BUTTON)&&0===a)this.has("minHeight")||this.android("layout_height",V.formatPX(this.bounds.height+("outset"===this.css("borderStyle")?V.convertInt(this.css("borderWidth")):0)));else if(this.is(t.LINE))"HR"!==this.tagName&&a>0&&this.toInt("height",!0)>0&&this.android("layout_height",V.formatPX(a+this.borderTopWidth+this.borderBottomWidth));else if(e){let t=!1;this.tableElement?t="content-box"===this.css("boxSizing")||V.isUserAgent(24):this.styleElement&&this.hasResource(B.NODE_RESOURCE.BOX_SPACING)&&("border-box"===this.css("boxSizing")||e.tableElement||(n>0&&this.toInt("width",!this.imageElement)>0&&this.contentBoxWidth>0?this.android("layout_width",V.formatPX(n+this.contentBoxWidth)):this.imageElement&&this.singleChild&&(n=V.convertInt(e.android("layout_width")))>0&&e.android("layout_width",V.formatPX(n+this.marginLeft+this.contentBoxWidth)),a>0&&this.toInt("height",!this.imageElement)>0&&this.contentBoxHeight>0?this.android("layout_height",V.formatPX(a+this.contentBoxHeight)):this.imageElement&&this.singleChild&&(a=V.convertInt(e.android("layout_height")))>0&&e.android("layout_height",V.formatPX(a+this.marginTop+this.contentBoxHeight))),t=!0),t&&this.visibleStyle.borderWidth&&(this.modifyBox(256,this.borderLeftWidth),this.modifyBox(64,this.borderRightWidth),this.modifyBox(32,this.borderTopWidth),this.modifyBox(128,this.borderBottomWidth))}}}alignHorizontalLayout(){if(this.layoutHorizontal){if(this.layoutLinear){const t=this.renderChildren;let e;t.some(t=>t.floating)&&!t.some(t=>t.imageElement&&t.baseline)?this.android("baselineAligned","false"):(e=D.baseline(t.filter(t=>t.baseline&&!t.layoutRelative&&!t.layoutConstraint),!0)[0])&&(this.android("baselineAlignedChildIndex",""+t.indexOf(e)),e.baselineActive=!0)}if(!this.hasAlign(4096)&&!this.hasAlign(512)&&!this.visibleStyle.background){const t=this.find(t=>"left"===t.float)||this.renderChildren[0];if(t&&t.marginLeft<0){const e=Math.abs(t.marginLeft);e===this.marginLeft?(this.modifyBox(16,null),t.modifyBox(16,null)):e<this.marginLeft?(this.modifyBox(16,t.marginLeft),t.modifyBox(16,null)):(this.modifyBox(16,null),t.modifyBox(16,this.marginLeft))}}}}setLineHeight(){const t=this.lineHeight;if(t>0)if(this.textElement&&this.multiline)if(this.localSettings.targetAPI>=28)this.android("lineHeight",V.formatPX(t));else{const e=t-this.fontSize;e>0&&this.android("lineSpacingExtra",V.formatPX(e))}else{const e=this.has("lineHeight");if(this.length||e){const n=(n,a=!0)=>{if(e&&n===this){const e=t-(n.hasHeight?n.height:n.bounds.height);e>0?(n.modifyBox(2,Math.floor(e/2)),n.modifyBox(8,Math.ceil(e/2))):(n.height<t&&n.android("minHeight",V.formatPX(t)),n.has("verticalAlign")||n.mergeGravity("gravity","center_vertical"))}else{let e=(t-((n===this||n.layoutVertical&&n.length>1||n.hasAlign(4096)?n.bounds.height:n.fontSize)+n.paddingTop+n.paddingBottom))/2;e>0&&(n.modifyBox(2,Math.floor(e)-(n.inlineVertical?V.convertFloat(n.verticalAlign):0)),a&&t>n.height&&(n.height>0&&(e=t-n.height),n.modifyBox(8,Math.ceil(e))))}};if(0===this.length)n(this);else{const t=V.filterArray(this.renderChildren,t=>t.baselineActive);if(t.length)for(let e=0;e<t.length;e++){const a=t[e];a.has("lineHeight")||n(a,e>0)}else this.renderEach(t=>{t.has("lineHeight")||this.textElement&&t.multiline||n(t)})}}}}setVisibility(){const t=this.renderParent;switch(this.cssAscend("visibility",!0)){case"hidden":case"collapse":this.hide(!0)}t.tableElement&&"hide"===t.css("empty-cells")&&0===this.actualChildren.length&&""===this.textContent&&this.hide(!0)}get documentId(){const t=this.android("id");return""!==t?t:this.controlId?`@+id/${this.controlId}`:""}set anchored(t){this.constraint.horizontal=t,this.constraint.vertical=t}get anchored(){return this.constraint.horizontal&&this.constraint.vertical}set containerType(t){this._containerType=t}get containerType(){if(0===this._containerType){const t=o[this.tagName]||0;0!==t&&(this._containerType=t)}return this._containerType||0}get layoutFrame(){return this.is(t.FRAME)}get layoutLinear(){return this.is(t.LINEAR)}get layoutRelative(){return this.is(t.RELATIVE)}get layoutConstraint(){return this.is(t.CONSTRAINT)}get support(){const t=this.unsafe("cached")||{};return void 0===t.support&&(t.support={container:{positionRelative:this.layoutRelative||this.layoutConstraint}}),t.support}get inlineWidth(){return"wrap_content"===this.android("layout_width")}get inlineHeight(){return"wrap_content"===this.android("layout_height")}get blockWidth(){return"match_parent"===this.android("layout_width")}get blockHeight(){return"match_parent"===this.android("layout_height")}get singleChild(){return this.renderParent?1===this.renderParent.length:!(!this.parent||0===this.parent.id)&&1===this.parent.length}get fontSize(){return 0===this._fontSize&&(this._fontSize=V.parseUnit(this.css("fontSize"))||16),this._fontSize}set localSettings(t){Object.assign(this._localSettings,t)}get localSettings(){return this._localSettings}});class j extends(Y(squared.base.Node)){}class K extends(Y(squared.base.NodeGroup)){constructor(t,e,n,a){super(t,void 0,a),this.tagName=`${e.tagName}_GROUP`,this.documentParent=e.documentParent,this.retain(n)}}var Z='<?xml version="1.0" encoding="utf-8"?>\n',J=squared.base.NodeList;const Q=squared.base.lib.enumeration,tt=squared.lib.color,et=squared.lib.dom,nt=squared.lib.element,at=squared.lib.math,ot=squared.lib.util,it=squared.lib.xml,rt=[r.HORIZONTAL,r.VERTICAL];function st(t,e){let n,a,o,i;e?(n="left",a="right",o="leftRight",i="rightLeft"):(n="top",a="bottom",o="topBottom",i="bottomTop");for(const r of t){const t=r[0],s=r[r.length-1];t.anchor(n,"parent"),s.anchor(a,"parent");for(let n=0;n<r.length;n++){const a=r[n],s=r[n-1],l=r[n+1];e?a.app("layout_constraintVertical_bias","0"):n>0&&a.anchor("left",t.documentId),s&&a.anchor(o,s.documentId),l&&a.anchor(i,l.documentId),bt.setConstraintDimension(a),a.anchored=!0}e?t.app("layout_constraintHorizontal_chainStyle","spread_inside"):t.app("layout_constraintVertical_chainStyle","packed")}}function lt(t){t.some(t=>t.floating)&&t.sort((t,e)=>{if(t.floating&&!e.floating)return"left"===t.float?-1:1;if(!t.floating&&e.floating)return"left"===e.float?1:-1;if(t.floating&&e.floating){if(t.float!==e.float)return"left"===t.float?-1:1;if("right"===t.float&&"right"===e.float)return 1}return 0})}function ct(t,e){for(const n of e)n!==t&&(n.imageElement&&n.actualHeight>t.actualHeight?n.renderParent&&ot.withinRange(n.linear.top,n.renderParent.box.top)&&n.anchor("top","true"):(n.element&&0===n.length||n.layoutHorizontal&&n.renderChildren.every(t=>t.baseline))&&n.anchor("baseline",t.documentId))}function dt(e){return ot.filterArray(e,t=>"text-bottom"===t.verticalAlign).sort((e,n)=>e.bounds.height===n.bounds.height?e.is(t.SELECT)?1:-1:e.bounds.height>n.bounds.height?-1:1)[0]}function ht(t,e=!1){t.textElement&&"center"!==t.cssAscend("textAlign",!0)&&!t.hasWidth&&!t.multiline&&(e||t.textContent.trim().split(" ").length>0)&&t.android("singleLine","true")}function ut(t,e,n,a=!1){return t>0?(a||(t-=e[`padding${n}`]),e.documentBody&&(t-=e[`margin${n}`]),Math.max(t,0)):t}function pt(t,e){if("left"===e.float){if(e.marginRight<0){return t.modifyBox(16,e.actualWidth+(e.hasWidth?e.paddingLeft+e.borderLeftWidth:0)-Math.abs(e.marginRight)),t.anchor("left",e.documentId),e.modifyBox(4,null),!0}}else if("right"===t.float&&"right"===e.float&&e.marginLeft<0){const n=Math.abs(e.marginLeft),a=e.actualWidth;return n<a&&t.modifyBox(4,a-n),t.anchor("right",e.documentId),e.modifyBox(16,null),!0}return!1}function mt(t,e){const n=t.cssInitial(`min${e}`),a=t.cssInitial(`max${e}`);ot.isLength(n)&&(t.app(`layout_constraint${e}_min`,n),t.constraint.minWidth=!0),ot.isLength(a)&&(t.app(`layout_constraint${e}_max`,a),t.constraint.minHeight=!0)}function gt(t,e,n,a){if(ot.isPercent(n))if(a)t.android(`layout_${e.toLowerCase()}`,t.convertPX(n,"Width"===e));else if("100%"!==n){t.app(`layout_constraint${e}_percent`,(parseInt(n)/100+(t.actualParent?t.contentBoxWidth/t.actualParent.box.width:0)).toPrecision(t.localSettings.floatPrecision)),t.android(`layout_${e.toLowerCase()}`,"0px")}}function ft(t,e=!1){const n=t.has("width")?t.css("width"):"";gt(t,"Width",n,e)}function yt(t,e=!1){if(t.documentParent.hasHeight){const n=t.has("height")?t.css("height"):"";gt(t,"Height",n,e)}}class bt extends squared.base.Controller{constructor(){super(...arguments),this.localSettings={baseTemplate:Z,floatPrecision:3,layout:{pathName:"res/layout",fileExtension:"xml"},svg:{enabled:!1},unsupported:{excluded:new Set(["BR"]),tagName:new Set(["OPTION","INPUT:hidden","MAP","AREA"])},relative:{superscriptFontScale:-4,subscriptFontScale:-4},constraint:{withinParentBottomOffset:3.5}}}static evaluateAnchors(t){const e=[],n=[];for(const a of t)a.constraint.horizontal&&e.push(a),a.constraint.vertical&&n.push(a);let a=-1;for(;++a<t.length;){const o=t[a];if(!o.constraint.horizontal)for(const t in o.constraint.current){const n=o.constraint.current[t];if(n.horizontal&&e.find(t=>t.documentId===n.documentId)){o.constraint.horizontal=!0,e.push(o),a=-1;break}}if(!o.constraint.vertical)for(const t in o.constraint.current){const e=o.constraint.current[t];if(!e.horizontal&&n.find(t=>t.documentId===e.documentId)){o.constraint.vertical=!0,n.push(o),a=-1;break}}}}static setConstraintDimension(t){ft(t),yt(t),mt(t,"Width"),mt(t,"Height")}static setFlexDimension(t,e){let n,a;e?(n="width",a="height"):(n="height",a="width");let o=t.flexbox.basis;if("auto"!==o&&(ot.isPercent(o)?"0%"!==o&&(t.app(`layout_constraint${e?"Width":"Height"}_percent`,(parseFloat(o)/100).toPrecision(t.localSettings.floatPrecision)),o=""):ot.isLength(o)&&(t.android(`layout_${n}`,t.convertPX(o)),o="")),""!==o){const a=t.has(n)?t.css(n):"";t.flexbox.grow>0?(t.android(`layout_${n}`,"0px"),t.app(`layout_constraint${e?"Horizontal":"Vertical"}_weight`,""+t.flexbox.grow)):ot.isLength(a)?t.android(`layout_${n}`,a):t.flexbox.shrink>1?t.android(`layout_${n}`,"wrap_content"):e?ft(t):yt(t),t.flexbox.shrink<1&&t.app(`layout_constrained${e?"Width":"Height"}`,"true")}const i=t.has(a)?t.css(a):"";ot.isLength(i)?t.android(`layout_${a}`,i):e?yt(t,!0):ft(t,!0),mt(t,"Width"),mt(t,"Height")}finalize(t){for(const e of t.templates)e.content=it.replaceTab(P(e.content.replace(/{#0}/,L(e.content)),this.userSettings.resolutionDPI,this.userSettings.convertPixels),this.userSettings.insertSpaces)}processUnknownParent(e){const n=e.node;let a,o=!1;if(n.has("columnCount"))e.columnCount=n.toInt("columnCount"),e.setType(t.CONSTRAINT,256,4);else if(e.some(t=>!t.pageFlow))e.setType(t.CONSTRAINT,32,2);else if(1===e.length){const i=n.item(0);n.documentRoot&&function(t,e){if(t.element&&e.dataset.target){const n=document.getElementById(e.dataset.target);return null!==n&&n!==t.element}return!1}(n,i)?(n.hide(),o=!0):!(this.userSettings.collapseUnattributedElements&&n.element&&n.positionStatic)||n.documentRoot||n.groupParent||n.elementId||n.dataset.use||n.dataset.target||n.marginTop||n.marginBottom||n.hasWidth||n.hasHeight||!(n.lineHeight<=i.lineHeight)||n.visibleStyle.padding||n.visibleStyle.background||n.rightAligned||n.autoMargin.horizontal||n.companion||n.has("maxWidth")||n.has("maxHeight")||n.has("textAlign")||n.has("verticalAlign")||n.documentParent.hasAlign(4)||this.hasAppendProcessing(n.id)?e.setType(t.FRAME,2048):(i.documentRoot=n.documentRoot,i.siblingIndex=n.siblingIndex,i.parent=e.parent,n.renderAs=i,n.resetBox(30,i,!0),n.hide(),n.innerChild=i,i.outerParent=n,a=i)}else n.element&&nt.hasLineBreak(n.element,!0)?e.setType(e.some(t=>t.positionRelative&&!t.positionAuto)?t.RELATIVE:t.LINEAR,16,2):this.checkConstraintFloat(e)?e.setType(t.CONSTRAINT,1024):e.linearX?(this.checkFrameHorizontal(e)?e.renderType|=72:this.checkConstraintHorizontal(e)?e.setType(t.CONSTRAINT):this.checkRelativeHorizontal(e)?e.setType(t.RELATIVE):(e.setType(t.LINEAR),e.floated.size&&lt(e.children)),e.add(8)):e.linearY?e.setType(e.some(t=>t.positionRelative&&!t.positionAuto)?t.RELATIVE:t.LINEAR,16,n.documentRoot?2:0):e.every(t=>t.inlineFlow)?this.checkFrameHorizontal(e)?e.renderType|=72:e.setType(t.RELATIVE,8,2):e.some(t=>t.alignedVertically(t.previousSiblings(),e.children,e.cleared))?e.setType(t.LINEAR,16,2):e.setType(t.CONSTRAINT,2);return{layout:e,next:o,renderAs:a}}processUnknownChild(e){const n=e.node;let a=!1;if(0===e.containerType){const o=n.visibleStyle;n.textContent.length&&(n.inlineText||o.borderWidth)?e.setType(t.TEXT):o.backgroundImage&&!o.backgroundRepeat&&(!n.inlineText||n.toInt("textIndent")+n.actualWidth<0)?(e.setType(t.IMAGE,2048),n.exclude({resource:Q.NODE_RESOURCE.FONT_STYLE|Q.NODE_RESOURCE.VALUE_STRING})):n.block&&(o.borderWidth||o.backgroundImage||o.paddingVertical)?e.setType(t.LINE):n.documentRoot||(!this.userSettings.collapseUnattributedElements||!n.naturalElement||0!==n.bounds.height||o.background||n.elementId||n.dataset.use?e.setType(o.background?t.TEXT:t.FRAME):(n.hide(),a=!0))}return{layout:e,next:a}}processTraverseHorizontal(t,e){const{node:n,parent:a,children:o}=t;return this.checkFrameHorizontal(t)?(t.node=this.createNodeGroup(n,o,a),t.renderType|=72):void 0===e||t.length!==e.length||a.hasAlign(16)?(t.node=this.createNodeGroup(n,o,a),this.processLayoutHorizontal(t)):a.hasAlign(8)||(a.alignmentType|=8),{layout:t}}processTraverseVertical(e,n){const{node:a,parent:o,children:i,floated:r,cleared:s}=e;return!r.size||!s.size||1===r.size&&e.every((t,n)=>0===n||n===e.length-1||s.has(t))?void 0===n||e.length!==n.length||o.hasAlign(8)?o.layoutVertical||(e.node=this.createNodeGroup(a,i,o),e.setType(t.LINEAR,16)):o.hasAlign(16)||(o.alignmentType|=16):(e.node=this.createNodeGroup(a,i,o),e.renderType|=80),{layout:e}}processLayoutHorizontal(e,n=!1){let a=0;return this.checkConstraintFloat(e)?e.setType(t.CONSTRAINT,1024):this.checkConstraintHorizontal(e)?a=t.CONSTRAINT:this.checkRelativeHorizontal(e)?a=t.RELATIVE:(!n||e.linearX&&!e.floated.has("right"))&&(a=t.LINEAR,e.floated.size&&lt(e.children)),0!==a&&e.setType(a,8),{layout:e}}sortRenderPosition(t,e){if(t.layoutConstraint&&e.some(t=>!t.node.pageFlow)){const n=[],a=[],o=[];for(const i of e){const e=i.node;e.pageFlow||e.actualParent!==t?a.push(i):e.zIndex>=0?o.push(i):n.push(i)}return ot.concatMultiArray(ot.sortArray(n,!0,"zIndex","siblingIndex"),a,ot.sortArray(o,!0,"zIndex","siblingIndex"))}return e}checkFrameHorizontal(t){const[e,n]=t.partition(t=>t.floating);if(2===t.floated.size||t.cleared.size||t.some(t=>t.pageFlow&&t.autoMargin.horizontal))return!0;if(n.length){if(t.floated.has("right"))return!0;if(t.floated.has("left")&&n.some(t=>t.blockStatic)){let t=1/0;for(const e of n)t=Math.min(t,e.siblingIndex);return ot.replaceMap(e,t=>t.siblingIndex).some(e=>e<t)}}return!1}checkConstraintFloat(t){return 1===t.floated.size&&t.every(t=>t.floating&&t.marginLeft>=0&&t.marginRight>=0&&(!t.positionRelative||t.left>=0&&t.top>=0))&&J.partitionRows(t.children).length>1}checkConstraintHorizontal(t){let e=!0,n=t.children[0].actualHeight;for(let a=1;a<t.length;a++){if(n!==t.children[a].actualHeight){e=!1;break}n=t.children[a].actualHeight}return!e&&!t.parent.hasHeight&&t.some(t=>"bottom"===t.verticalAlign)&&t.every(t=>t.inlineVertical&&(t.baseline||"bottom"===t.verticalAlign))}checkRelativeHorizontal(t){return 2!==t.floated.size&&t.some(t=>t.positionRelative||t.textElement||t.imageElement||!t.baseline)}setConstraints(){for(const t of this.cache)if(t.visible&&(t.layoutRelative||t.layoutConstraint)&&t.hasProcedure(Q.NODE_PROCEDURE.CONSTRAINT)){const e=t.renderFilter(t=>!t.positioned);if(e.length)if(t.layoutRelative)this.processRelativeHorizontal(t,e);else if(t.layoutConstraint){const[n,a]=ot.partitionArray(e,t=>t.pageFlow);let o=t.box.bottom;if(a.length){t.renderEach(t=>o=Math.max(o,t.linear.bottom));for(const e of a)if(!e.positionAuto&&(e.documentParent===e.absoluteParent||"fixed"===e.position)){if(e.hasWidth&&e.autoMargin.horizontal?e.has("left")&&e.autoMargin.right?(e.anchor("left","parent"),e.modifyBox(16,e.left)):e.has("right")&&e.autoMargin.left?(e.anchor("right","parent"),e.modifyBox(4,e.right)):(e.anchorParent(r.HORIZONTAL),e.modifyBox(16,e.left),e.modifyBox(4,e.right)):(e.has("left")&&(e.anchor("left","parent"),e.modifyBox(16,ut(e.left,t,"Left"))),!e.has("right")||e.hasWidth&&e.has("left")||(e.anchor("right","parent"),e.modifyBox(4,ut(e.right,t,"Right")))),e.hasHeight&&e.autoMargin.vertical)e.has("top")&&e.autoMargin.bottom?(e.anchor("top","parent"),e.modifyBox(2,e.top)):e.has("bottom")&&e.autoMargin.top?(e.anchor("bottom","parent"),e.modifyBox(8,e.bottom)):(e.anchorParent(r.VERTICAL),e.modifyBox(2,e.top),e.modifyBox(8,e.bottom));else{if(e.has("top")){const n=t.valueBox(32);e.anchor("top","parent"),e.modifyBox(2,ut(e.top,t,"Top",1===n[0]))}if(e.has("bottom")&&(!e.hasHeight||!e.has("top"))){const n=t.valueBox(128);e.anchor("bottom","parent"),e.modifyBox(8,ut(e.bottom,t,"Bottom",1===n[0]))}}e.positioned=!0}}if(t.layoutHorizontal)this.processConstraintHorizontal(t,n);else if(t.hasAlign(256))this.processConstraintColumn(t,n);else if(n.length>1)this.processConstraintChain(t,n,o);else for(const e of n)e.autoMargin.leftRight||e.inlineStatic&&"center"===e.cssAscend("textAlign",!0)?e.anchorParent(r.HORIZONTAL):e.rightAligned?e.anchor("right","parent"):(ot.withinRange(e.linear.left,t.box.left)||e.linear.left<t.box.left)&&e.anchor("left","parent"),(ot.withinRange(e.linear.top,t.box.top)||e.linear.top<t.box.top)&&e.anchor("top","parent"),this.withinParentBottom(e.linear.bottom,o)&&e.actualParent&&!e.actualParent.documentBody&&e.anchor("bottom","parent"),bt.setConstraintDimension(e);bt.evaluateAnchors(n);for(const a of e)a.anchored||(this.addGuideline(a,t),a.pageFlow&&bt.evaluateAnchors(n)),!a.hasWidth&&a.alignParent("left")&&a.alignParent("right")&&a.android("layout_width","match_parent"),!a.hasHeight&&a.alignParent("top")&&a.alignParent("bottom")&&a.android("layout_height","match_parent")}}}renderNodeGroup(e){const{node:n,parent:a,containerType:o,alignmentType:i,rowCount:s,columnCount:l}=e,c=x();let d=!1;switch(o){case t.LINEAR:ot.hasBit(i,16)?(c.android.orientation=r.VERTICAL,d=!0):ot.hasBit(i,8)&&(c.android.orientation=r.HORIZONTAL,d=!0);break;case t.GRID:c.android.rowCount=s?""+s:"",c.android.columnCount=l?""+l:"2",d=!0;break;case t.FRAME:case t.RELATIVE:case t.CONSTRAINT:d=!0}if(d)return n.alignmentType|=i,n.setControlType(j.getControlName(o),o),n.render(!n.dataset.use&&n.dataset.target?this.application.resolveTarget(n.dataset.target):a),n.apply(c),{type:1,node:n,controlName:n.controlName}}renderNode(e){const{node:n,containerType:o,alignmentType:i}=e,s=j.getControlName(o);n.setControlType(s,o),n.alignmentType|=i;let l=e.parent,c=n.dataset.use?void 0:n.dataset.target;if(n.element)switch(n.element.tagName){case"IMG":if(n.hasResource(Q.NODE_RESOURCE.IMAGE_SOURCE)){const o=n.element,i=n.has("width",32),r=n.has("height",32),s=this.application.session.image.get(o.src);let d,h=n.toFloat("width"),u=n.toFloat("height");if(i||r)i&&(n.css("width",ot.formatPX(h*=l.box.width/100)),0===u&&s&&n.css("height",ot.formatPX(u=s.height*(h/s.width)))),r&&(n.css("height",ot.formatPX(u*=l.box.height/100)),0===h&&s&&n.css("width",ot.formatPX(h=s.width*(u/s.height)))),d=i&&r?"fitXY":"fitCenter";else switch(n.css("objectFit")){case"contain":d="centerInside";break;case"cover":d="centerCrop";break;case"scale-down":d="fitCenter";break;case"none":d="matrix";break;default:d="fitXY"}n.android("scaleType",d),!s||0!==h&&0!==u||(0===h&&(h=s.width),0===u&&(u=s.height)),(h>0&&0===u||0===h&&u>0)&&n.android("adjustViewBounds","true"),n.baseline&&n.android("baselineAlignBottom","true");const p=b.addImageSrc(o);if(""!==p&&n.android("src",`@drawable/${p}`),!n.pageFlow&&(n.left<0||n.top<0)){const o=n.absoluteParent;if(o&&"hidden"===o.css("overflow")){const o=this.application.createNode(nt.createElement(n.actualParent?n.actualParent.element:null));o.setControlType(a.FRAME,t.FRAME),o.inherit(n,"base"),o.exclude({procedure:Q.NODE_PROCEDURE.ALL,resource:Q.NODE_RESOURCE.ALL}),o.cssApply({position:n.position,zIndex:""+n.zIndex}),l.appendTry(n,o),n.parent=o,this.cache.append(o),o.android("layout_width",h>0?h<l.box.width?ot.formatPX(h):"match_parent":"wrap_content"),o.android("layout_height",u>0?u<l.box.height?ot.formatPX(u):"match_parent":"wrap_content"),o.render(c?this.application.resolveTarget(c):l),o.saveAsInitial(),this.application.addRenderTemplate(l,o,{type:1,node:o,controlName:a.FRAME}),n.modifyBox(2,n.top),n.modifyBox(16,n.left),o.innerChild=n,n.outerParent=o,l=o,e.parent=o,c=void 0}}}break;case"INPUT":{const t=n.element;switch(t.type){case"checkbox":t.checked&&n.android("checked","true");break;case"text":n.android("inputType","text");break;case"password":n.android("inputType","textPassword");break;case"range":t.value&&n.android("progress",t.value);case"time":case"week":case"month":case"number":case"datetime-local":t.min&&n.android("min",t.min),t.max&&n.android("max",t.max);break;case"url":case"email":case"search":case"tel":-1!==t.minLength&&n.android("minLength",""+t.minLength),t.maxLength>0&&n.android("maxLength",""+t.maxLength)}break}case"SELECT":n.element.size>1&&!n.cssInitial("verticalAlign")&&n.css("verticalAlign","text-bottom",!0);break;case"TEXTAREA":{const t=n.element;switch(n.android("minLines",t.rows?""+t.rows:"2"),n.css("verticalAlign")){case"middle":n.mergeGravity("gravity","center_vertical");break;case"bottom":n.mergeGravity("gravity","bottom");break;default:n.mergeGravity("gravity","top")}t.maxLength>0&&n.android("maxLength",""+t.maxLength),!n.hasWidth&&t.cols>0&&n.css("width",ot.formatPX(8*t.cols),!0),n.android("hint",t.placeholder),n.android("scrollbars",r.VERTICAL),n.android("inputType","textMultiLine"),n.overflowX&&n.android("scrollHorizontally","true"),n.cssInitial("verticalAlign")||n.css("verticalAlign","text-bottom",!0);break}case"LEGEND":{const t=Math.floor((n.bounds.height-n.fontSize)/2);t>0&&n.modifyBox(8,t),n.hasWidth||n.css("minWidth",ot.formatPX(n.bounds.width),!0);break}}if(n.inlineVertical)switch(n.verticalAlign){case"sub":n.modifyBox(8,Math.ceil(n.fontSize/this.localSettings.relative.subscriptFontScale));break;case"super":n.modifyBox(2,Math.ceil(n.fontSize/this.localSettings.relative.superscriptFontScale))}switch(s){case a.TEXT:let t="";n.overflowX&&(t+=r.HORIZONTAL),n.overflowY&&(t+=(""!==t?"|":"")+r.VERTICAL),""!==t&&n.android("scrollbars",t),n.has("letterSpacing")&&n.android("letterSpacing",n.css("letterSpacing")),"justify"===n.css("textAlign")&&n.android("justificationMode","inter_word"),n.has("textShadow")&&[/^(rgba?\(\d+, \d+, \d+(?:, [\d.]+)?\)) ([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+)$/,/^([\d.]+[a-z]+) ([\d.]+[a-z]+) ([\d.]+[a-z]+) (.+)$/].some((t,e)=>{const a=n.css("textShadow").match(t);if(a){const t=b.addColor(tt.parseColor(a[0===e?1:4]));if(""!==t)return n.android("shadowColor",`@color/${t}`),n.android("shadowDx",""+ot.convertInt(a[0===e?2:1])),n.android("shadowDy",""+ot.convertInt(a[0===e?3:2])),n.android("shadowRadius",""+ot.convertInt(a[0===e?4:3])),!0}return!1}),"nowrap"===n.css("whiteSpace")&&n.android("singleLine","true");break;case a.EDIT:case a.RANGE:n.hasWidth||n.css("width",ot.formatPX(n.bounds.width),!0);break;case a.BUTTON:""===n.cssInitial("verticalAlign")&&n.css("verticalAlign","text-bottom",!0);break;case a.LINE:n.hasHeight||n.android("layout_height",ot.formatPX(n.contentBoxHeight||1))}return(n.textElement||n.imageElement||n.svgElement)&&(n.has("maxWidth")&&n.android("maxWidth",ot.formatPX(n.parseUnit(n.css("maxWidth")))),n.has("maxHeight")&&n.android("maxHeight",ot.formatPX(n.parseUnit(n.css("maxHeight"),!1)))),n.render(c?this.application.resolveTarget(c):l),{type:1,node:n,controlName:s}}renderNodeStatic(t,e,n,a,o){const i=new j(0,void 0,this.afterInsertNode);return i.setControlType(t),""!==n&&i.android("layout_width",n||"wrap_content"),""!==a&&i.android("layout_height",a||"wrap_content"),e&&(i.apply(e),e.documentId=i.documentId),this.getEnclosingTag(1,{controlName:t,attributes:this.userSettings.showAttributes?i.extractAttributes(1):void 0,content:o})}renderSpace(t,e="",n=0,o=0,i){return i=x(i),ot.isPercent(t)&&(i.android.layout_columnWeight=(parseFloat(t)/100).toPrecision(this.localSettings.floatPrecision),t="0px"),ot.isPercent(e)&&(i.android.layout_rowWeight=(parseFloat(e)/100).toPrecision(this.localSettings.floatPrecision),e="0px"),n>0&&(i.android.layout_columnSpan=""+n),o>0&&(i.android.layout_rowSpan=""+o),this.renderNodeStatic(a.SPACE,i,t,e||void 0)}addGuideline(t,e,n="",o=!1,i=!1){const s=e.groupParent?e:t.documentParent;rt.forEach(l=>{if(!t.constraint[l]&&(""===n||l===n)){const n=l===r.HORIZONTAL;let c,d,h,u;if(n?(c=i?"right":"left",d=i?"left":"right",h=i?"rightLeft":"leftRight",u=i?"leftRight":"rightLeft"):(c=i?"bottom":"top",d=i?"top":"bottom",h=i?"bottomTop":"topBottom",u=i?"topBottom":"bottomTop"),ot.withinRange(t.linear[c],s.box[c]))return void t.anchor(c,"parent",!0);const p=t.positionStatic?"bounds":"linear";let m,g="layout_constraintGuide_",f=!1;if(!t.pageFlow&&ot.isPercent(t.css(c)))m=parseFloat(t.css(c))/100,f=!0,g+="percent";else{if(!o&&!e.hasAlign(4)){if(e.renderChildren.some(e=>{if(e!==t&&e.constraint[l]){const a=t.pageFlow&&e.pageFlow;let o=!1;if(a&&(ot.withinRange(t.linear[c],e.linear[d])?(t.anchor(h,e.documentId,!0),o=!0):ot.withinRange(t.linear[d],e.linear[c])&&(t.anchor(u,e.documentId,!0),o=!0)),(a||!t.pageFlow&&!e.pageFlow)&&(ot.withinRange(t.bounds[c],e.bounds[c])?(t.anchor(!n&&t.textElement&&t.baseline&&e.textElement&&e.baseline?"baseline":c,e.documentId,!0),o=!0):ot.withinRange(t.bounds[d],e.bounds[d])&&(t.anchor(d,e.documentId,!0),o=!0)),o)return e.constraint[l]=!0,!0}return!1}))return}if(t.positionAuto){const e=t.previousSiblings();if(e.length&&!t.alignedVertically(e)){const a=e[e.length-1];if(a.renderParent===t.renderParent)return t.anchor(n?"rightLeft":"top",a.documentId,!0),void(t.constraint[l]=a.constraint[l])}}if(o){const e=Math.abs(t[p][c]-s.box[c])/s.box[n?"width":"height"];m=parseFloat((i?1-e:e).toPrecision(this.localSettings.floatPrecision)),f=!0,g+="percent"}else m=t[p][c]-s.box[i?d:c],g+="begin"}const y=e.constraint.guideline||{};if(t.pageFlow){if(t.inlineVertical){const e=ot.convertInt(t.verticalAlign);e<0&&(m+=e)}}else t.absoluteParent===t.documentParent&&(m=n?ut(m,s,"Left"):ut(m,s,"Top",1===s.valueBox(32)[0]));if(t.constraint[l]=!0,m<=0)t.anchor(c,"parent",!0);else if(n&&s.hasWidth&&!t.has("right")&&m+t[p].width>=s.box.right||!n&&s.hasHeight&&!t.has("bottom")&&m+t[p].height>=s.box.bottom)t.anchor(d,"parent",!0);else{const o=ot.optionalAsObject(y,`${l}.${g}.${c}`);if(o)for(const e in o)if(parseInt(o[e])===m)return t.anchor(c,e,!0),void t.anchorDelete(d);const i=x({android:{orientation:n?r.VERTICAL:r.HORIZONTAL},app:{[g]:f?""+m:ot.formatPX(m)}});this.addAfterOutsideTemplate(t.id,this.renderNodeStatic(a.GUIDELINE,i));const s=i.documentId;t.anchor(c,s,!0),t.anchorDelete(d),n?t.constraint.guidelineHorizontal=s:t.constraint.guidelineVertical=s,ot.assignEmptyValue(y,l,g,c,s,""+m),e.constraint.guideline=y}}})}createNodeGroup(t,e,n,a){const o=new K(this.cache.nextId,t,e,this.afterInsertNode);return n?(n.appendTry(a||t,o),o.init()):o.siblingIndex=t.siblingIndex,this.cache.append(o),o}createNodeWrapper(t,e,n,a){const o=this.application.createNode(nt.createElement(t.actualParent?t.actualParent.element:null,t.block));return t.documentRoot&&(o.documentRoot=!0,t.documentRoot=!1),o.inherit(t,"base","alignment"),n&&o.setControlType(n,a),o.exclude({section:Q.APP_SECTION.ALL,procedure:Q.NODE_PROCEDURE.CUSTOMIZATION,resource:Q.NODE_RESOURCE.BOX_STYLE|Q.NODE_RESOURCE.ASSET}),e?(e.appendTry(t,o),t.parent=o):(o.innerChild=t,o.siblingIndex=t.siblingIndex),o.saveAsInitial(),this.application.processing.cache.append(o,!e),t.outerParent=o,t.unsetCache(),o}processRelativeHorizontal(t,e){const n=[];let a=!1;if(t.hasAlign(16))for(let t=0;t<e.length;t++){const a=e[t],o=e[t-1];0===t?a.anchor("top","true"):a.anchor("topBottom",o.documentId),n.push([a])}else{const a=(()=>{const n=t.renderParent;if(n)if(n.overflowX){if(t.has("width",2))return t.toFloat("width",!0);if(n.has("width",2))return n.toFloat("width",!0);if(n.has("width",32))return n.actualWidth-n.contentBoxWidth}else if(n.groupParent&&n.hasAlign(64)){let n=-1/0;if(ot.captureMap(t.documentParent.actualChildren,e=>"left"===e.float&&e.siblingIndex<t.siblingIndex,t=>n=Math.max(n,t.linear.right)),n!==-1/0&&e.some(t=>t.linear.left===n))return t.box.right-n}return t.box.width})(),o=Math.min(a,this.userSettings.maxWordWrapWidth),i=t.hasAlign(128)||!t.groupParent&&t.inline&&t.linear.right<=t.documentParent.box.right,r=ot.isUserAgent(24),s="nowrap"!==t.css("whiteSpace"),l=J.linearData(e,!0).cleared,c=new Set,d=t.toInt("textIndent");let h,u,p=0;ot.partitionArray(e,t=>"right"!==t.float).forEach((e,m)=>{if(0===e.length)return;const g=0===m;let f,y=!0;if(g){const t=J.actualParent(e);t&&t.cssInitialAny("textAlign","right","end")?(f="right",y=!1):f="left",lt(e)}else f="right";for(let m=0;m<e.length;m++){const b=e[m],T=e[m-1];let A=b.bounds;if(b.inlineText&&!b.hasWidth){const t=et.getRangeClientRect(b.element);(t.multiline>0||t.width<b.box.width)&&(A=t,b.multiline||(b.multiline=t.multiline>0),r&&t.multiline&&!ot.REGEXP_COMPILED.LEADINGNEWLINE.test(b.textContent)&&c.add(b))}b.multiline&&A.width<=o&&(b.multiline=!1);let E,S=g&&y?"leftRight":"rightLeft",v=!0;if(b.autoMargin.leftRight?b.anchor("centerHorizontal","true"):b.autoMargin.left?b.anchor("right","true"):b.autoMargin.right?b.anchor("left","true"):v=!1,0===m)y?(v||b.anchor(f,"true"),n.push([b])):n.push([]);else{const e=n[n.length-1],g=()=>{if(i)return!1;let t=p+b.marginLeft;h&&!e.includes(h)&&(t+=h.linear.width),void 0!==h&&b.plainText&&!b.multiline&&e.includes(h)&&!l.has(b)||(t+=A.width),b.marginRight<0&&(t+=b.marginRight);const s=((b.plainText||b.inlineText)&&-1!==b.textContent.indexOf(" ")?o:a)-(1===n.length?d:0);return Math.floor(t)-(b.styleElement&&b.inlineStatic?b.paddingLeft+b.paddingRight:0)-(r?b.borderRightWidth:0)>s};pt(b,T)&&(S="");const R=b.groupParent&&!b.hasAlign(128);E=!R&&b.element&&b.inlineVertical&&T.inlineVertical?et.getElementsBetweenSiblings(T.element,b.element,!0):void 0;const _=()=>{if(T.textElement){if(1===m&&void 0===E&&b.plainText&&!ot.REGEXP_COMPILED.TRAILINGSPACE.test(T.textContent)&&!ot.REGEXP_COMPILED.LEADINGSPACE.test(b.textContent))return!1;if(s&&(T.multiline&&nt.hasLineBreak(T.element,!1,!0)||c.has(T)))return!0}return!(T.floating&&T.alignParent("left")&&p<o)&&!(!s||!(g()||b.multiline&&nt.hasLineBreak(b.element)||b.preserveWhiteSpace&&ot.REGEXP_COMPILED.LEADINGNEWLINE.test(b.textContent)))};if(R||b.linear.top>=T.linear.bottom&&(b.blockStatic||b.floating&&T.float===b.float)||b.textElement&&_()||!b.textElement&&g()||!b.floating&&(T.blockStatic||b.previousSiblings().some(t=>t.lineBreak||t.excluded&&t.blockStatic)||E&&E.some(t=>nt.isLineBreak(t)))||l.has(b)||T.autoMargin.horizontal){u=e.find(t=>!t.floating)||e[0];for(const t of e)t!==u&&t.linear.bottom>u.linear.bottom&&(!t.floating||t.floating&&u.floating)&&(u=t);b.anchor("topBottom",u.documentId),y?(h&&b.linear.bottom<=h.bounds.bottom?v||b.anchor(S,h.documentId):(v||b.anchor(f,"true"),h=void 0),v=!0):(h&&b.linear.bottom>h.bounds.bottom&&(h=void 0),T.anchor(f,"true")),_&&b.multiline&&ht(T,s),p=Math.min(0,_&&!T.multiline&&b.multiline&&!l.has(b)?b.linear.right-t.box.right:0),n.push([b])}else""!==S&&(y?v||(b.anchor(S,T.documentId),v=!0):T.anchor(S,b.documentId)),u&&b.anchor("topBottom",u.documentId),e.push(b)}"left"===b.float&&g&&(h?b.linear.bottom>=h.linear.bottom&&(h=b):h=b);let R=0;if(E&&!E.some(t=>!!et.getElementAsNode(t)||nt.isLineBreak(t))){const t=et.getRangeClientRect(E[0]),e=E.length>1?et.getRangeClientRect(E[E.length-1]):void 0;t.multiline||void 0!==e&&e.multiline||(R=e?t.left-e.right:t.width)}p+=R+b.marginLeft+A.width+b.marginRight,m<e.length-1||i?Math.ceil(p)>=this.userSettings.maxWordWrapWidth&&!b.alignParent(f)&&ht(b,s):y||v||b.anchor(f,"true")}})}n.length>1&&(t.alignmentType|=4096,a=!0);for(let e=0;e<n.length;e++){const o=n[e];let i;if(o.length>1){let n;if((i=J.baseline(o)[0])&&(n=dt(o))){const t=i.bounds.height;n.bounds.height>t||n.companion&&n.companion.bounds.height>t||n.some(e=>!!e.companion&&e.companion.bounds.height>t)?i.anchor("bottom",n.documentId):n=void 0}const r=J.baseline(o,!0)[0],s=[];let l=0===e?"true":i?i.documentId:"";for(const e of o)if(e!==i)if(e.baseline)s.push(e);else if(e.inlineVertical)switch(e.verticalAlign){case"text-top":r&&e.anchor("top",r.documentId);break;case"super":case"top":l&&e.anchor("top",l);break;case"middle":if(a){if(i){const t=Math.max(e.actualHeight,e.lineHeight),n=Math.max(i.actualHeight,i.lineHeight);t<n&&(e.anchor("top",i.documentId),e.modifyBox(2,Math.round((n-t)/2)))}}else e.anchor("centerVertical","true");break;case"text-bottom":r&&e!==n&&e.anchor("bottom",r.documentId);break;case"sub":case"bottom":ot.withinRange(t.bounds.height,e.bounds.height)||(t.hasHeight||"true"!==l||(a?l=i.documentId:t.css("height",ot.formatPX(t.bounds.height),!0)),e.anchor("bottom",l));break;default:"0px"===e.verticalAlign||e.svgElement||s.push(e)}i&&(i.baselineActive=!0,s.length&&ct(i,s))}else o[0].baselineActive=!0}}processConstraintHorizontal(t,e){const n=J.baseline(e)[0],a=J.baseline(e,!0)[0],o=t.hasAlign(512);let i=dt(e);n&&(n.baselineActive=!0,i&&n.bounds.height<i.bounds.height?n.anchor("bottom",i.documentId):i=void 0);for(let t=0;t<e.length;t++){const s=e[t],l=e[t-1];if(0===t?s.anchor(o?"right":"left","parent"):l&&s.anchor(o?"rightLeft":"leftRight",l.documentId),s.inlineVertical)switch(s.verticalAlign){case"text-top":a&&s!==a&&s.anchor("top",a.documentId);break;case"super":case"top":s.anchor("top","parent");break;case"middle":s.anchorParent(r.VERTICAL);break;case"text-bottom":a&&s!==a&&s!==i&&s.anchor("bottom",a.documentId);break;case"sub":case"bottom":s.anchor("bottom","parent");break;case"baseline":n&&s!==n&&s.anchor("baseline",n.documentId)}}}processConstraintColumn(t,e){const n=t.toInt("columnCount"),a=Math.ceil(e.length/Math.min(n,e.length)),o=[];let r=0;for(let t=0,n=0;t<e.length;t++){const i=e[t];t%a==0&&(t>0&&n++,void 0===o[n]&&(o[n]=[])),o[n].push(i),i.length&&(r+=at.maxArray(ot.objectMap(i.children,t=>t.marginLeft+t.marginRight)))}const s=ot.convertInt(t.css("columnGap"))||16,l=Math.max((r+s*(n-1))/t.box.width/n,.01),c=[],d=[],h=[];for(let t=0;t<o.length;t++){const e=o[t],a=e[0];t>0&&a.android(a.localizeString(i.MARGIN_LEFT),ot.formatPX(a.marginLeft+s)),h.push(a);for(const t of e){let e=0;(e=t.has("width",32)?t.toFloat("width")/100:1/n-l)>0&&(t.android("layout_width","0px"),t.app("layout_constraintWidth_percent",e.toPrecision(this.localSettings.floatPrecision)))}d.push(e)}c.push(h),st(c,!0),st(d,!1)}processConstraintChain(t,e,n){const a=J.partitionRows(e),o=J.actualParent(e)||t,i=t.hasAlign(64),s=a.length>1&&t.hasAlign(1024)?J.linearData(o.actualChildren,!0).cleared:new Map;let l=!1;a.length>1&&(t.alignmentType|=4096),i&&(l=t.hasAlign(512),e.some(t=>t.has("width",32))&&t.android("layout_width","match_parent"));for(const r of e)i||(r.rightAligned?(ot.withinRange(r.linear.right,o.box.right)||r.linear.right>o.box.right)&&r.anchor("right","parent"):(ot.withinRange(r.linear.left,o.box.left)||r.linear.left<o.box.left)&&r.anchor("left","parent")),(ot.withinRange(r.linear.top,t.box.top)||r.linear.top<t.box.top||r.floating&&1===a.length)&&r.anchor("top","parent"),!this.withinParentBottom(r.linear.bottom,n)||o.documentBody||!o.hasHeight&&r.alignParent("top")||r.anchor("bottom","parent");const c=[];let d,h,u,p;l?(d="right",h="left",u="rightLeft",p="leftRight"):(d="left",h="right",u="leftRight",p="rightLeft");for(let t=0;t<a.length;t++){const e=a[t],n=e[0],m=e[e.length-1];let g;if(n.anchor(d,"parent"),"center"===o.css("textAlign")?n.app("layout_constraintHorizontal_chainStyle","spread"):e.length>1&&(l?(m.app("layout_constraintHorizontal_chainStyle","packed"),m.app("layout_constraintHorizontal_bias","1")):(n.app("layout_constraintHorizontal_chainStyle","packed"),n.app("layout_constraintHorizontal_bias","0"))),e.length>1&&m.anchor(h,"parent"),t>0){const e=a[t-1];g=e[0];for(let t=1;t<e.length;t++)e[t].linear.bottom>g.linear.bottom&&(g=e[t])}for(let f=0;f<e.length;f++){const y=e[f],b=e[f-1],T=e[f+1];if(y.autoMargin.leftRight?y.anchorParent(r.HORIZONTAL):(b&&y.anchor(u,b.documentId),T&&y.anchor(p,T.documentId)),bt.setConstraintDimension(y),t>0){const e=a[t-1],r=e[e.length-1],b=l?m:n;let T;if(!s.has(y))if(T=[],r){if(T.push(r),y.element){const t=et.getElementsBetweenSiblings(r.element,y.element);t&&ot.concatArray(T,ot.flatMap(t,t=>et.getElementAsNode(t)))}}else T.push(b);if(i&&(0===s.size||T&&!T.some(t=>s.has(t)))){if(e.length){y.anchor("topBottom",r.documentId),""===r.alignSibling("bottomTop")&&r.anchor("bottomTop",y.documentId);for(let t=c.length-2;t>=0;t--){const e=c[t];if(e.linear.bottom>r.linear.bottom){if((l?Math.ceil(e.linear[h])-Math.floor(o.box[h]):Math.ceil(o.box[h])-Math.floor(e.linear[h]))>=y.linear.width){y.anchor(u,e.documentId),y.anchorDelete(p),y===n?(y.anchorDelete(d),y.delete("app","layout_constraintHorizontal_chainStyle","layout_constraintHorizontal_bias")):y===m&&y.anchorDelete(h);break}}}}}else g&&(f>0?(y.anchor("top",n.documentId),y.modifyBox(2,-1*n.marginTop)):(y.anchor("topBottom",g.documentId),g.anchor("bottomTop",y.documentId)))}c.push(y)}}bt.evaluateAnchors(e)}withinParentBottom(t,e){return ot.withinRange(t,e,this.localSettings.constraint.withinParentBottomOffset)}get userSettings(){return this.application.userSettings}get containerTypeHorizontal(){return{containerType:t.LINEAR,alignmentType:8,renderType:0}}get containerTypeVertical(){return{containerType:t.LINEAR,alignmentType:16,renderType:0}}get containerTypeVerticalMargin(){return{containerType:t.FRAME,alignmentType:256,renderType:0}}get afterInsertNode(){const t=this.userSettings;return e=>{e.localSettings={targetAPI:void 0!==t.targetAPI?t.targetAPI:28,supportRTL:void 0===t.supportRTL||t.supportRTL,floatPrecision:this.localSettings.floatPrecision}}}}class Tt extends squared.base.ExtensionManager{}const At=squared.lib.util,Et=squared.lib.xml,St=/^[\w\W]*?(<!-- filename: (.+)\/(.+?\.xml) -->)$/,vt=/^<!-- image: (.+) -->\n<!-- filename: (.+)\/(.+?\.\w+) -->$/,Rt={color:Et.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<color name="{&value}">{&name}</color>\n<<A>>\n</resources>\n\x3c!-- filename: res/values/colors.xml --\x3e'),dimen:Et.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<dimen name="{&name}">{&value}</dimen>\n<<A>>\n</resources>\n\x3c!-- filename: res/values/dimens.xml --\x3e'),drawable:Et.parseTemplate("{&value}\n\x3c!-- filename: {&name} --\x3e"),font:Et.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<font-family {&namespace}>\n<<A>>\n\t<font android:fontStyle="{&style}" android:fontWeight="{&weight}" android:font="{&font}" />\n<<A>>\n</font-family>\n\x3c!-- filename: res/font/{&name}.xml --\x3e'),string:Et.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<string name="{&name}">{~value}</string>\n<<A>>\n</resources>\n\x3c!-- filename: res/values/strings.xml --\x3e'),string_array:Et.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<string-array name="{&name}">\n\t<<AA>>\n\t\t<item>{&value}</item>\n\t<<AA>>\n\t</string-array>\n<<A>>\n</resources>\n\x3c!-- filename: res/values/string_arrays.xml --\x3e'),style:Et.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<resources>\n<<A>>\n\t<style name="{&name}" parent="{~parent}">\n\t<<items>>\n\t\t<item name="{&name}">{&value}</item>\n\t<<items>>\n\t</style>\n<<A>>\n</resources>\n\x3c!-- filename: {0} --\x3e')};function _t(t){const e=[];for(const n of t){const t=St.exec(n);t&&e.push({pathname:t[2],filename:t[3],content:t[0].replace(t[1],"")})}return e}function wt(t){const e=[];for(const n of t){const t=vt.exec(n);t&&e.push({uri:t[1],pathname:t[2],filename:t[3],content:""})}return e}function xt(t,e,n){return{pathname:t,filename:e,content:n}}function It(t,e){return(""+t).toLowerCase()>=(""+e).toLowerCase()?1:-1}class Nt extends squared.base.File{saveAllToDisk(t){const e=[];for(let n=0;n<t.templates.length;n++){const a=t.templates[n];e.push(xt(a.pathname,0===n?this.userSettings.outputMainFileName:`${a.filename}.xml`,a.content))}this.saveToDisk(At.concatMultiArray(e,_t(this.resourceStringToXml()),_t(this.resourceStringArrayToXml()),_t(this.resourceFontToXml()),_t(this.resourceColorToXml()),_t(this.resourceStyleToXml()),_t(this.resourceDimenToXml()),_t(this.resourceDrawableToXml()),wt(this.resourceDrawableImageToXml()),_t(this.resourceAnimToXml())),this.userSettings.manifestLabelAppName)}layoutAllToXml(t,e=!1){const n={},a=[];for(let o=0;o<t.templates.length;o++){const i=t.templates[o];n[i.filename]=[i.content],e&&a.push(xt(i.pathname,0===o?this.userSettings.outputMainFileName:`${i.filename}.xml`,i.content))}return e&&this.saveToDisk(a,this.userSettings.manifestLabelAppName),n}resourceAllToXml(t=!1){const e={string:this.resourceStringToXml(),stringArray:this.resourceStringArrayToXml(),font:this.resourceFontToXml(),color:this.resourceColorToXml(),style:this.resourceStyleToXml(),dimen:this.resourceDimenToXml(),drawable:this.resourceDrawableToXml(),drawableImage:this.resourceDrawableImageToXml(),anim:this.resourceAnimToXml()};for(const t in e)0===e[t].length&&delete e[t];if(t){const t=[];for(const n in e)At.concatArray(t,"image"===n?wt(e[n]):_t(e[n]));this.saveToDisk(t,this.userSettings.manifestLabelAppName)}return e}resourceStringToXml(t=!1){const e=[],n={A:[]};this.stored.strings.has("app_name")||n.A.push({name:"app_name",value:this.userSettings.manifestLabelAppName});for(const[t,e]of Array.from(this.stored.strings.entries()).sort(It))n.A.push({name:t,value:e});return e.push(Et.replaceTab(Et.createTemplate(Rt.string,n),this.userSettings.insertSpaces,!0)),t&&this.saveToDisk(_t(e),this.userSettings.manifestLabelAppName),e}resourceStringArrayToXml(t=!1){const e=[];if(this.stored.arrays.size){const n={A:[]};for(const[t,e]of Array.from(this.stored.arrays.entries()).sort())n.A.push({name:t,AA:At.objectMap(e,t=>({value:t}))});e.push(Et.replaceTab(Et.createTemplate(Rt.string_array,n),this.userSettings.insertSpaces,!0)),t&&this.saveToDisk(_t(e),this.userSettings.manifestLabelAppName)}return e}resourceFontToXml(t=!1){const e=[];if(this.stored.fonts.size){const n=this.userSettings,a=n.targetAPI<26?"app":"android";for(const[t,o]of Array.from(this.stored.fonts.entries()).sort()){const i={name:t,namespace:O(a),A:[]};let r="";for(const e in o){const[n,a]=e.split("-");i.A.push({style:n,weight:a,font:`@font/${t+("normal"===n&&"normal"===a?`_${n}`:("normal"!==n?`_${n}`:"")+("normal"!==a?`_${a}`:""))}`})}r+=Et.createTemplate(Rt.font,i),n.targetAPI<26&&(r=r.replace(/\s+android:/g," app:")),e.push(Et.replaceTab(r,n.insertSpaces))}t&&this.saveToDisk(_t(e),this.userSettings.manifestLabelAppName)}return e}resourceColorToXml(t=!1){const e=[];if(this.stored.colors.size){const n={A:[]};for(const[t,e]of Array.from(this.stored.colors.entries()).sort())n.A.push({name:t,value:e});e.push(Et.replaceTab(Et.createTemplate(Rt.color,n),this.userSettings.insertSpaces)),t&&this.saveToDisk(_t(e),this.userSettings.manifestLabelAppName)}return e}resourceStyleToXml(t=!1){const e=this.userSettings,n=[],a=[];if(this.stored.styles.size){const t={A:[]};for(const e of Array.from(this.stored.styles.values()).sort((t,e)=>(""+t.name).toLowerCase()>=(""+e.name).toLowerCase()?1:-1))Array.isArray(e.items)&&(e.items.sort((t,e)=>t.name>=e.name?1:-1),t.A.push(e));a.push({filename:"res/values/styles.xml",data:t})}if(this.stored.themes.size){const t={};for(const[n,o]of this.stored.themes.entries()){const i={A:[]};for(const[a,r]of o.entries()){const o=[];for(const t in r.items)o.push({name:t,value:r.items[t]});t[n]&&a===e.manifestThemeName&&!o.length||i.A.push({name:a,parent:r.parent,items:o}),a===e.manifestThemeName&&(t[n]=!0)}a.push({filename:n,data:i})}}for(const t of a)n.push(Et.replaceTab(P(Et.createTemplate(Rt.style,t.data).replace("filename: {0}",`filename: ${t.filename}`),e.resolutionDPI,e.convertPixels,!0),e.insertSpaces));return t&&this.saveToDisk(_t(n),this.userSettings.manifestLabelAppName),n}resourceDimenToXml(t=!1){const e=[];if(this.stored.dimens.size){const n=this.userSettings,a={A:[]};for(const[t,e]of Array.from(this.stored.dimens.entries()).sort())a.A.push({name:t,value:e});e.push(Et.replaceTab(P(Et.createTemplate(Rt.dimen,a),n.resolutionDPI,n.convertPixels),n.insertSpaces)),t&&this.saveToDisk(_t(e),this.userSettings.manifestLabelAppName)}return e}resourceDrawableToXml(t=!1){const e=[];if(this.stored.drawables.size){const n=this.userSettings;for(const[t,a]of this.stored.drawables.entries())e.push(Et.replaceTab(P(Et.createTemplate(Rt.drawable,{name:`res/drawable/${t}.xml`,value:a}),n.resolutionDPI,n.convertPixels),n.insertSpaces));t&&this.saveToDisk(_t(e),this.userSettings.manifestLabelAppName)}return e}resourceDrawableImageToXml(t=!1){const e=[];if(this.stored.images.size){const n=this.userSettings;for(const[t,a]of this.stored.images.entries())if(Object.keys(a).length>1)for(const o in a)e.push(Et.replaceTab(Et.createTemplate(Rt.drawable,{name:`res/drawable-${o}/${t}.${At.fromLastIndexOf(a[o],".")}`,value:`\x3c!-- image: ${a[o]} --\x3e`}),n.insertSpaces));else a.mdpi&&e.push(Et.replaceTab(Et.createTemplate(Rt.drawable,{name:`res/drawable/${t}.${At.fromLastIndexOf(a.mdpi,".")}`,value:`\x3c!-- image: ${a.mdpi} --\x3e`}),n.insertSpaces));t&&this.saveToDisk(wt(e),this.userSettings.manifestLabelAppName)}return e}resourceAnimToXml(t=!1){const e=[];if(this.stored.animators.size){for(const[t,n]of this.stored.animators.entries())e.push(Et.replaceTab(Et.createTemplate(Rt.drawable,{name:`res/anim/${t}.xml`,value:n}),this.userSettings.insertSpaces));t&&this.saveToDisk(_t(e),this.userSettings.manifestLabelAppName)}return e}get userSettings(){return this.resource.userSettings}get stored(){return this.resource.stored}}const Pt=squared.base.lib.enumeration,Ct=squared.lib.dom,Ot=squared.lib.util;class Lt extends squared.base.extensions.Accessibility{constructor(){super(...arguments),this.eventOnly=!0}afterBaseLayout(){for(const t of this.application.processing.cache){const e=t.element;if(e&&t.visible&&t.hasProcedure(Pt.NODE_PROCEDURE.ACCESSIBILITY))switch(t.controlName){case a.EDIT:t.companion||[Ct.getPreviousElementSibling(e),Ct.getNextElementSibling(e)].some(n=>{if(n){const a=Ct.getElementAsNode(n),o=n&&n.parentElement&&"LABEL"===n.parentElement.tagName?Ct.getElementAsNode(n.parentElement):void 0;if(a&&a.visible&&a.pageFlow){if(Ot.hasValue(n.htmlFor)&&n.htmlFor===e.id)return a.android("labelFor",t.documentId),!0;if(a.textElement&&o)return o.android("labelFor",t.documentId),!0}}return!1});case a.SELECT:case a.CHECKBOX:case a.RADIO:case a.BUTTON:e.readOnly&&t.android("focusable","false"),e.disabled&&t.android("enabled","false")}}}}var Mt=squared.base.Layout;const Dt=squared.base.lib.constant,kt=squared.base.lib.enumeration,Bt=squared.lib.element,Xt=squared.lib.util;function Gt(t,e,n,a){const o="column"===a?16:2,i="column"===a?4:8,r="column"===a?256:32,s=t[a],l=n.startsWith("space")?function(t,e){const n=[];if("column"===e)for(let e=0;e<t.column.count;e++){n[e]=[];for(let a=0;a<t.row.count;a++)n[e].push(t.rowData[a][e])}else for(let e=0;e<t.row.count;e++)n.push(t.rowData[e]);return n}(t,a):[],c=function(t,e,n){const a="column"===e?"width":"height";let o=0;for(let n=0;n<t[e].count;n++){const i=t[e].unit[n];if(i.endsWith("px"))o+=parseInt(i);else{let e=0;Xt.captureMap(t.rowData[n],t=>t&&t.length>0,t=>e=Math.min(e,t[0].bounds[a])),o+=e}}return n[a]-(o+=(t[e].count-1)*t[e].gap)}(t,a,e);if(c>0){const d="column"===a?"width":"height",h=t[a].count,u=new Set;switch(n){case"center":e.modifyBox(r,Math.floor(c/2)),s.normal=!1;break;case"right":if("row"===a)break;case"end":case"flex-end":e.modifyBox(r,c),s.normal=!1;break;case"space-around":{const t=Math.floor(c/(2*h));for(let e=0;e<h;e++)for(const n of new Set(Xt.flatArray(l[e])))u.has(n)?n.cssPX(d,2*t):(n.modifyBox(o,t),e<h-1&&n.modifyBox(i,t),u.add(n));s.normal=!1;break}case"space-between":{const t=Math.floor(c/(2*(h-1))),e=Xt.flatArray(l[h-1]);for(let n=0;n<h;n++)for(const a of new Set(Xt.flatArray(l[n])))u.has(a)?a.cssPX(d,2*t):(n>0&&a.modifyBox(o,t),n<h-1&&!e.some(t=>t===a)&&a.modifyBox(i,t),u.add(a));s.normal=!1;break}case"space-evenly":{const t=Math.floor(c/(h+1)),e=Xt.flatArray(l[h-1]);for(let n=0;n<h;n++){const a=Math.floor(t/2);for(const r of new Set(Xt.flatArray(l[n])))u.has(r)?r.cssPX(d,t):(r.modifyBox(o,0===n?t:a),n<h-1&&!e.some(t=>t===r)&&r.modifyBox(i,a),u.add(r))}s.normal=!1;break}}}}class Vt extends squared.base.extensions.CssGrid{processNode(e,n){super.processNode(e,n);const a=e.data(Dt.EXT_NAME.CSS_GRID,"mainData");if(a){const o=new Mt(n,e,t.GRID,4,e.children);return o.rowCount=a.row.count,o.columnCount=a.column.count,{output:this.application.renderNode(o),complete:!0}}}processChild(e,n){const o=n.data(Dt.EXT_NAME.CSS_GRID,"mainData"),i=e.data(Dt.EXT_NAME.CSS_GRID,"cellData");let r,s;if(o&&i){function l(t,a,r){const s=o[a],l=`${a}Start`,c=`${a}Span`,d=i[c]-i[l],h=`min${Xt.capitalize(r)}`;let u=0,p=0,m=!1,g=0,f=0;s.unit.every(t=>"auto"===t)&&("width"===r?s.unit=[].fill("1fr"):s.unit.length=0);for(let t=0,a=0;t<i[c];t++){const o=s.unitMin[i[l]+t];g+=n.parseUnit(o);let c=s.unit[i[l]+t];if(!Xt.hasValue(c)){if(!s.auto[a])continue;c=s.auto[a],s.auto[a+1]&&a++}if(Xt.hasValue(c)){if("auto"===c||"min-content"===c||"max-content"===c){d<s.unit.length&&(!n.has(r)||s.unit.some(t=>Xt.isLength(t))||"min-content"===c)?(u=e.bounds[r],p=0,f=0):(u=0,p=0,f=.01);break}if(Xt.isPercent(c))f+=parseFloat(c)/100,p=u,u=0;else if(c.endsWith("fr"))f+=parseFloat(c),p=u,u=0;else if(c.endsWith("px")){const t=parseFloat(c);0===p?u+=t:p+=t}"0px"===o&&e.textElement&&(m=!0)}}if(i[c]>1){const t=(i[c]-1)*s.gap;u>0&&0===p?u+=t:p>0&&(p+=t),g>0&&(g+=t)}if(g>0&&(s.autoFill&&0===u&&1===o["column"===a?"row":"column"].count?(u=Math.max(e.actualWidth,g),f=0):p=g),t.android(`layout_${a}`,""+i[l]),i[c]>1&&t.android(`layout_${a}Span`,""+i[c]),p>0&&!t.has(h)&&t.css(h,Xt.formatPX(p),!0),f>0)t.android(`layout_${r}`,"0px"),t.android(`layout_${a}Weight`,""+f),t.mergeGravity("layout_gravity","column"===a?"fill_horizontal":"fill_vertical");else if(u>0){const e=`max${Xt.capitalize(r)}`;m&&!t.has(e)?(t.css(e,Xt.formatPX(u),!0),t.mergeGravity("layout_gravity","column"===a?"fill_horizontal":"fill_vertical")):t.has(r)||t.css(r,Xt.formatPX(u),!0)}}const c=e.has("alignSelf")?e.css("alignSelf"):o.alignItems,d=e.has("justifySelf")?e.css("justifySelf"):o.justifyItems;if(/(start|end|center|baseline)/.test(c)||/(start|end|center|baseline|left|right)/.test(d)){(s=this.application.createNode(Bt.createElement(e.actualParent?e.actualParent.element:null))).tagName=e.tagName,s.setControlType(a.FRAME,t.FRAME),s.inherit(e,"initial","base"),s.resetBox(510),s.exclude({procedure:kt.NODE_PROCEDURE.AUTOFIT|kt.NODE_PROCEDURE.CUSTOMIZATION,resource:kt.NODE_RESOURCE.BOX_STYLE|kt.NODE_RESOURCE.ASSET}),n.appendTry(e,s),s.render(n),this.application.processing.cache.append(s,!1),e.inheritBox(30,s),l(s,"column","width"),l(s,"row","height");let o=!1;d.endsWith("start")||d.endsWith("left")||d.endsWith("baseline")?(e.mergeGravity("layout_gravity","left"),o=!0):d.endsWith("end")||d.endsWith("right")?(e.mergeGravity("layout_gravity","right"),o=!0):d.endsWith("center")&&(e.mergeGravity("layout_gravity","center_horizontal"),o=!0),e.hasWidth||e.android("layout_width",o?"wrap_content":"match_parent",!1),c.endsWith("start")||c.endsWith("baseline")?e.mergeGravity("layout_gravity","top"):c.endsWith("end")?e.mergeGravity("layout_gravity","bottom"):c.endsWith("center")?e.mergeGravity("layout_gravity","center_vertical"):e.hasHeight||e.android("layout_height","match_parent",!1),e.parent=s,r=this.application.renderNode(new Mt(n,s,t.FRAME,2048,s.children))}const h=s||e;l(h,"column","width"),l(h,"row","height"),h.has("height")||(n.hasHeight&&(h.android("layout_height","0px"),h.android("layout_rowWeight","1")),h.mergeGravity("layout_gravity","fill_vertical")),h.has("width")||h.mergeGravity("layout_gravity","fill_horizontal")}return{parent:s,renderAs:s,outputAs:r}}postBaseLayout(t){const e=t.data(Dt.EXT_NAME.CSS_GRID,"mainData");if(e&&(t.hasWidth&&"normal"!==e.justifyContent&&Gt(e,t,e.justifyContent,"column"),t.hasHeight&&"normal"!==e.alignContent&&Gt(e,t,e.alignContent,"row"),e.column.normal&&!e.column.unit.includes("auto"))){const n=e.column.gap*(e.column.count-1);n>0&&(t.renderParent&&!t.renderParent.hasAlign(4)&&(t.cssPX("minWidth",n),t.cssPX("width",n,!1,!0)),!t.has("width")&&t.has("maxWidth")&&t.css("width",Xt.formatPX(t.actualWidth+n),!0))}}postProcedure(t){const e=t.data(Dt.EXT_NAME.CSS_GRID,"mainData");if(e){const n=this.application.controllerHandler,a=Array.from(e.children)[e.children.size-1];if(e.column.unit.length&&e.column.unit.every(t=>Xt.isPercent(t))){const o=e.column.unit.reduce((t,e)=>t+parseFloat(e),0);if(o<100){t.android("columnCount",""+(e.column.count+1));for(let r=0;r<e.row.count;r++)n.addAfterOutsideTemplate(a.id,n.renderSpace(Xt.formatPercent(100-o),"wrap_content",0,0,x({android:{[t.localizeString(i.MARGIN_LEFT)]:Xt.formatPX(e.column.gap),layout_row:""+r,layout_column:""+e.column.count}})))}}for(let t=0;t<e.emptyRows.length;t++){const o=e.emptyRows[t];if(o)for(let i=0;i<o.length;i++)if(1===o[i]){n.addAfterOutsideTemplate(a.id,n.renderSpace("wrap_content",Xt.formatPX(e.row.gap),0,0,x({android:{layout_row:""+t,layout_column:""+i}})));break}}}}}class Wt extends squared.base.extensions.External{constructor(){super(...arguments),this.eventOnly=!0}}var Ft=squared.base.Layout,zt=squared.base.NodeList;const Ht=squared.base.lib.constant,qt=(squared,squared.lib.util),$t={leftTop:["left","top"],rightBottom:["right","bottom"],rightLeftBottomTop:["rightLeft","bottomTop"],leftRightTopBottom:["leftRight","topBottom"],widthHeight:["Width","Height"],horizontalVertical:["Horizontal","Vertical"]};class Ut extends squared.base.extensions.Flexbox{processNode(e,n){super.processNode(e,n);const a=e.data(Ht.EXT_NAME.FLEXBOX,"mainData"),o=new Ft(n,e,0,4);return o.itemCount=e.length,o.rowCount=a.rowCount,o.columnCount=a.columnCount,void 0!==e.find(t=>!t.pageFlow)||a.rowDirection&&(1===a.rowCount||e.hasHeight)||a.columnDirection&&1===a.columnCount?o.containerType=t.CONSTRAINT:o.setType(t.LINEAR,a.columnDirection?8:16),{output:this.application.renderNode(o),complete:!0}}processChild(e,n){if(e.hasAlign(128))return{output:this.application.renderNode(new Ft(n,e,t.CONSTRAINT,4,e.children)),complete:!0}}postBaseLayout(e){const n=e.data(Ht.EXT_NAME.FLEXBOX,"mainData");if(n){const a=[],o=[],i=[],s=[];if(n.wrap){let r;e.each(t=>{if(t.hasAlign(128)){const l=t.renderFilter(t=>t.pageFlow);if(n.rowDirection)t.android("layout_width","match_parent"),e.hasHeight&&(t.android("layout_height","0px"),t.app("layout_constraintVertical_weight","1")),a.push(l),s.push(t);else{if(t.android("layout_height","match_parent"),o.push(l),r){let e=r[0];for(let t=1;t<r.length;t++)r[t].linear.right>e.linear.right&&(e=r[t]);const n=t.linear.left-e.actualRight();n>0&&t.modifyBox(16,n),t.constraint.horizontal=!0}i.push(t),r=l}}}),e.is(t.LINEAR)?n.columnDirection&&n.wrapReverse&&e.mergeGravity("gravity","right"):(s.length&&o.push(s),i.length&&a.push(i))}else n.rowDirection?a[0]=n.directionReverse?n.children.reverse():n.children:(e.hasHeight||e.android("layout_height","match_parent"),o[0]=n.directionReverse?n.children.reverse():n.children);[a,o].forEach((t,a)=>{const o=0===a,l=o?1:0;for(const c of t){const t=$t.widthHeight[l],d=t.toLowerCase(),h=$t.leftTop[a],u=$t.leftTop[l],p=$t.rightBottom[a],m=$t.rightBottom[l];let g,f=-1/0;qt.captureMap(c,t=>!t.flexElement,e=>f=Math.max(f,e.bounds[t.toLowerCase()]));for(let e=0;e<c.length;e++){const l=c[e],h=c[e-1],p=c[e+1];if(p&&l.anchor($t.rightLeftBottomTop[a],p.documentId),h&&l.anchor($t.leftRightTopBottom[a],h.documentId),c!==i&&c!==s){switch(l.flexbox.alignSelf){case"start":case"flex-start":l.anchor(u,"parent");break;case"end":case"flex-end":l.anchor(m,"parent");break;case"baseline":o&&(void 0===g&&(g=zt.baseline(c)[0]),g&&(l!==g?(l.anchor("baseline",g.documentId),l.constraint.vertical=!0):l.anchor("top","parent")));break;case"center":l.anchorParent(o?r.VERTICAL:r.HORIZONTAL);break;default:if(l.anchor(n.wrapReverse?m:u,"parent"),!l[`has${t}`]&&!l.has(d,32)){const e=l.unsafe("initial");e.bounds&&e.bounds[d]<f&&(l.android(`layout_${t.toLowerCase()}`,"0px"),l.anchor(n.wrapReverse?u:m,"parent"))}}bt.setFlexDimension(l,o)}o||l.anchorParent(r.HORIZONTAL),l.positioned=!0}const y=$t.horizontalVertical[a],b=c[0],T=c[c.length-1],A=`layout_constraint${y}_chainStyle`;if(b.anchor(h,"parent"),T.anchor(p,"parent"),c.every(t=>t.flexbox.grow<1))switch(n.justifyContent){case"left":if(!o)break;case"start":case"flex-start":b.app(A,"packed"),b.app(`layout_constraint${y}_bias`,"0");break;case"center":b.app(A,"packed"),b.app(`layout_constraint${y}_bias`,"0.5");break;case"right":if(!o)break;case"end":case"flex-end":b.app(A,"packed"),b.app(`layout_constraint${y}_bias`,"1");break;case"space-between":b.app(A,"spread_inside");break;case"space-evenly":b.app(A,"spread");for(const t of c)t.app(`layout_constraint${y}_weight`,""+(t.flexbox.grow||1));break;case"space-around":const t=this.application.controllerHandler,e=y.toLowerCase();b.app(A,"spread_inside"),b.constraint[e]=!1,T.constraint[e]=!1,t.addGuideline(b,b.parent,e,!0,!1),t.addGuideline(T,b.parent,e,!0,!0)}c.length>1&&(o&&qt.withinRange(e.box.left,b.linear.left)&&qt.withinRange(T.linear.right,e.box.right)||!o&&qt.withinRange(e.box.top,b.linear.top)&&qt.withinRange(T.linear.bottom,e.box.bottom))?b.app(A,"spread_inside",!1):(b.app(A,"packed",!1),b.app(`layout_constraint${y}_bias`,n.directionReverse?"1":"0",!1))}})}}}var Yt=squared.base.Layout;const jt=squared.base.lib.constant,Kt=(squared,squared.lib.util);class Zt extends squared.base.extensions.Grid{processNode(e,n){super.processNode(e,n);const a=e.data(jt.EXT_NAME.GRID,"mainData");if(a){const o=new Yt(n,e,t.GRID,4,e.children);return o.columnCount=a.columnCount,{output:this.application.renderNode(o),complete:!0}}}processChild(e,n){const a=n.data(jt.EXT_NAME.GRID,"mainData"),o=e.data(jt.EXT_NAME.GRID,"cellData");if(a&&o){o.rowSpan>1&&e.android("layout_rowSpan",""+o.rowSpan),o.columnSpan>1&&e.android("layout_columnSpan",""+o.columnSpan),"table-cell"===e.display&&e.mergeGravity("layout_gravity","fill");const a=o.siblings&&o.siblings.length?o.siblings.slice(0):void 0;if(a){const o=this.application.controllerHandler;a.unshift(e);let i=new Yt(n,e,0,0,a);if(i.linearY?(i.node=o.createNodeGroup(e,a,n),i.setType(t.LINEAR,16)):i=o.processTraverseHorizontal(i).layout,0!==i.containerType)return function(t,e){let n;for(let t=0;t<e.length;t++){const a=e[t];if(n){const t=a.data(jt.EXT_NAME.GRID,"cellData");if(t)for(const e in t)switch(typeof t[e]){case"number":n[e]+=t[e];break;case"boolean":!0===t[e]&&(n[e]=!0)}}else n=a.data(jt.EXT_NAME.GRID,"cellData");a.siblingIndex=t,a.data(jt.EXT_NAME.GRID,"cellData",null)}t.data(jt.EXT_NAME.GRID,"cellData",n)}(i.node,a),{parent:i.node,renderAs:i.node,outputAs:this.application.renderNode(i),complete:!0}}}}postBaseLayout(t){if(!t.tableElement||"collapse"!==t.css("borderCollapse")){const e=t.data(jt.EXT_NAME.GRID,"mainData");e&&t.renderEach(t=>{const n=t.data(jt.EXT_NAME.GRID,"cellData");if(n){const a=t.actualParent;if(a&&!a.visible&&(n.cellStart&&(e.paddingTop=a.paddingTop+a.marginTop),n.rowStart&&(e.paddingLeft=Math.max(a.marginLeft+a.paddingLeft,e.paddingLeft)),n.rowEnd)){const o=a.marginBottom+a.paddingBottom+(n.cellEnd?0:a.marginTop+a.paddingTop);if(o>0)if(n.cellEnd)e.paddingBottom=o;else{const n=this.application.controllerHandler;n.addAfterOutsideTemplate(t.id,n.renderSpace("match_parent",Kt.formatPX(o),e.columnCount))}e.paddingRight=Math.max(a.marginRight+a.paddingRight,e.paddingRight)}}}),t.modifyBox(32,e.paddingTop),t.modifyBox(64,e.paddingRight),t.modifyBox(128,e.paddingBottom),t.modifyBox(256,e.paddingLeft)}if(!t.hasWidth){let e=-1/0;Kt.captureMap(t.renderChildren,t=>t.inlineFlow||!t.blockStatic,t=>e=Math.max(e,t.linear.right)),Kt.withinRange(t.box.right,e)&&t.android("layout_width","wrap_content")}}}var Jt=squared.base.Layout,Qt=squared.base.NodeList;const te=squared.base.lib.constant,ee=(squared,squared.lib.css),ne=squared.lib.element,ae=squared.lib.util;class oe extends squared.base.extensions.List{processNode(e,n){super.processNode(e,n);const a=new Jt(n,e,0,0,e.children);if(a.linearY?(a.rowCount=e.length,a.columnCount=e.some(t=>"inside"===t.css("listStylePosition"))?3:2,a.setType(t.GRID,4)):this.application.controllerHandler.checkRelativeHorizontal(a)&&(a.rowCount=1,a.columnCount=a.length,a.setType(t.RELATIVE,8)),0!==a.containerType)return{output:this.application.renderNode(a),complete:!0}}processChild(e,n){const o=e.data(te.EXT_NAME.LIST,"mainData");if(o){const i=this.application.controllerHandler,r=n.paddingLeft+n.marginLeft;let s=e.marginLeft,l=0;e.modifyBox(16,null),n.is(t.GRID)?(l=ae.convertInt(n.android("columnCount")),s+=r):n.item(0)===e&&(s+=r);let c=""===o.ordinal?e.find(t=>"left"===t.float&&t.marginLeft<0&&Math.abs(t.marginLeft)<=t.documentParent.marginLeft):void 0;if(c){const a=new Jt(n,c);c.inlineText||0===c.length?a.containerType=t.TEXT:(a.retain(c.children),i.checkRelativeHorizontal(a)?a.setType(t.RELATIVE,8):a.setType(t.CONSTRAINT,2)),c.parent=n,c.render(n),3===l&&e.android("layout_columnSpan","2"),(s+=c.marginLeft)>0&&!c.hasWidth&&c.android("minWidth",ae.formatPX(s)),c.modifyBox(16,null),this.application.addRenderTemplate(n,c,this.application.renderNode(a))}else{const d=l>0?"0":"",h="inside"===e.css("listStylePosition");let u,p,m,g="";if(""!==o.imageSrc){if(o.imagePosition){const t=ee.getBackgroundPosition(o.imagePosition,e.actualDimension,e.fontSize);p=t.top,m=t.left}else g="right";u=b.addImageUrl(o.imageSrc)}else(r>0||e.marginLeft>0)&&(g="right");""===g&&(s+=e.paddingLeft,e.modifyBox(256,null));const f=.2*s/(u?2:1);let y=s;const T=x({android:{layout_columnWeight:d}}),A=ne.createElement(e.actualParent?e.actualParent.element:null);c=this.application.createNode(A),h?(i.addBeforeOutsideTemplate(c.id,i.renderNodeStatic(a.SPACE,{android:{minWidth:ae.formatPX(y),layout_columnWeight:d}})),y=24):3===l&&e.android("layout_columnSpan","2"),"DT"!==e.tagName||u?(c.tagName=`${e.tagName}_ORDINAL`,u?(Object.assign(T.android,{src:`@drawable/${u}`,scaleType:h||"right"!==g?"fitStart":"fitEnd"}),c.setControlType(a.IMAGE,t.IMAGE),m&&(y=Math.max(0,y-m))):""!==o.ordinal?(A.innerHTML=o.ordinal,c.setControlType(a.TEXT,t.TEXT)):c.setControlType(a.SPACE,t.SPACE),c.inherit(e,"textStyle"),c.cssApply({minWidth:ae.formatPX(y),marginTop:0!==e.marginTop?ae.formatPX(e.marginTop):"",paddingTop:e.paddingTop>0?ae.formatPX(e.paddingTop):"",paddingRight:"right"===g?ae.formatPX(f):"",paddingLeft:""!==g||u?"":ae.formatPX(f),fontSize:""!==o.ordinal&&!/[A-Za-z\d]+\./.test(o.ordinal)&&c.toInt("fontSize")>12?"12px":""}),h||c.mergeGravity("gravity",s>20?e.localizeString(g):"center_horizontal"),p&&c.modifyBox(2,p),m&&c.modifyBox(16,m),c.apply(T),c.render(n),this.application.processing.cache.append(c,!1),this.application.addRenderTemplate(n,c,{type:1,node:c,controlName:c.controlName}),e.companion=c):e.android("layout_columnSpan",""+l)}if(l>0&&(e.android("layout_width","0px"),e.android("layout_columnWeight","1")),e.length&&e.every(t=>t.baseline)){const a=Qt.linearData(e.children);if(a.linearX||a.linearY)return{output:this.application.renderNode(new Jt(n,e,t.LINEAR,a.linearX?8:16,e.children)),next:!0}}}}postBaseLayout(t){super.postBaseLayout(t);const e=t.android("columnCount");for(let n=0;n<t.renderChildren.length;n++){const o=t.renderChildren[n],r=t.renderChildren[n-1];let s=0;if(r){const t=ae.convertInt(r.android(i.MARGIN_BOTTOM));0!==t&&(s+=t,r.delete("android",i.MARGIN_BOTTOM),r.modifyBox(8,null))}const l=ae.convertInt(o.android(i.MARGIN_TOP));if(0!==l&&(s+=l,o.delete("android",i.MARGIN_TOP),o.modifyBox(2,null)),s>0){const t=this.application.controllerHandler,n=x({android:{layout_columnSpan:""+e}});t.addBeforeOutsideTemplate(o.id,t.renderNodeStatic(a.SPACE,n,"match_parent",ae.formatPX(s)),0)}}}postProcedure(t){t.blockStatic&&t.inlineWidth&&t.android("layout_width","match_parent")}}class ie extends squared.base.extensions.Relative{}var re=squared.base.Layout;const se=squared.base.lib.constant,le=squared.base.lib.enumeration,ce=squared.lib.util;class de extends squared.base.extensions.Sprite{processNode(e,n){const o=e.data(se.EXT_NAME.SPRITE,"mainData");if(o){const i=this.application.createNode(e.element);return i.inherit(e,"initial","base","styleMap"),i.setControlType(a.FRAME,t.FRAME),i.exclude({procedure:le.NODE_PROCEDURE.CUSTOMIZATION,resource:le.NODE_RESOURCE.IMAGE_SOURCE}),n.appendTry(e,i),this.application.processing.cache.append(i,!1),e.setControlType(a.IMAGE,t.IMAGE),e.exclude({procedure:le.NODE_PROCEDURE.AUTOFIT,resource:le.NODE_RESOURCE.FONT_STYLE|le.NODE_RESOURCE.BOX_STYLE}),e.cssApply({position:"static",top:"auto",right:"auto",bottom:"auto",left:"auto",display:"inline-block",width:ce.formatPX(o.width),height:ce.formatPX(o.height),marginTop:ce.formatPX(o.position.y),marginRight:"0px",marginBottom:"0px",marginLeft:ce.formatPX(o.position.x),paddingTop:"0px",paddingRight:"0px",paddingBottom:"0px",paddingLeft:"0px",borderTopStyle:"none",borderRightStyle:"none",borderBottomStyle:"none",borderLeftStyle:"none",borderRadius:"0px",backgroundPositionX:"0px",backgroundPositionY:"0px",backgroundColor:"transparent"}),e.unsetCache(),e.android("src",`@drawable/${b.addImage({mdpi:o.uri})}`),e.parent=i,{renderAs:i,outputAs:this.application.renderNode(new re(n,i,t.FRAME,2048,i.children)),parent:i,complete:!0}}}}class he extends squared.base.extensions.Substitute{processNode(e,n){return e.containerType=e.blockStatic?t.BLOCK:t.INLINE,super.processNode(e,n)}postProcedure(t){t.apply(b.formatOptions(x(this.options[t.elementId]),this.application.extensionManager.optionValueAsBoolean(n.RESOURCE_STRINGS,"numberResourceValue")))}}var ue=squared.base.Layout;const pe=squared.base.lib.constant,me=(squared,squared.lib.util);class ge extends squared.base.extensions.Table{processNode(e,n){super.processNode(e,n);const a=e.data(pe.EXT_NAME.TABLE,"mainData");if(a){if(a.columnCount>1){let t=!!e.data(pe.EXT_NAME.TABLE,"expand");if(e.each(e=>{if("0px"===e.css("width"))e.android("layout_width","0px"),e.android("layout_columnWeight",""+(e.element.colSpan||1));else{const n=e.data(pe.EXT_NAME.TABLE,"expand"),a=!!e.data(pe.EXT_NAME.TABLE,"exceed"),o=!!e.data(pe.EXT_NAME.TABLE,"downsized");if("boolean"==typeof n)if(n){const n=me.convertFloat(e.data(pe.EXT_NAME.TABLE,"percent"))/100;n>0&&(e.android("layout_width","0px"),e.android("layout_columnWeight",me.trimEnd(n.toPrecision(3),"0")),t=!0)}else e.android("layout_columnWeight","0");o&&(a?(e.android("layout_width","0px"),e.android("layout_columnWeight","0.01")):(e.textElement&&!/[\s\n\-]/.test(e.textContent.trim())&&e.android("maxLines","1"),e.has("width")&&e.toFloat("width")<e.bounds.width&&e.android("layout_width",me.formatPX(e.bounds.width))))}}),t&&!e.hasWidth){const t=e.actualWidth;let n=0;e.ascend().some(t=>!!t.hasWidth&&(n=t.bounds.width,!0)),t>=n?e.android("layout_width","match_parent"):e.css("width",me.formatPX(t),!0)}}const o=new ue(n,e,t.GRID,4,e.children);return o.rowCount=a.rowCount,o.columnCount=a.columnCount,{output:this.application.renderNode(o),complete:!0}}}processChild(t,e){const n=me.convertInt(t.data(pe.EXT_NAME.TABLE,"rowSpan")),a=me.convertInt(t.data(pe.EXT_NAME.TABLE,"colSpan")),o=me.convertInt(t.data(pe.EXT_NAME.TABLE,"spaceSpan"));if(n>1&&t.android("layout_rowSpan",""+n),a>1&&t.android("layout_columnSpan",""+a),t.mergeGravity("layout_gravity","fill"),o>0){const e=this.application.controllerHandler;e.addAfterOutsideTemplate(t.id,e.renderSpace("wrap_content","wrap_content",o))}}postProcedure(t){const e=me.convertInt(t.android("layout_width"));if(e>0){const n=t.bounds.width;n>e&&t.android("layout_width",me.formatPX(n)),e>0&&"auto"===t.cssInitial("width")&&t.renderChildren.every(t=>t.inlineWidth)&&t.renderEach(t=>{t.android("layout_width","0px"),t.android("layout_columnWeight","1")})}}}var fe=squared.base.Layout;const ye=squared.base.lib.constant;squared;class be extends squared.base.extensions.VerticalAlign{processNode(e,n){if(super.processNode(e,n),e.data(ye.EXT_NAME.VERTICAL_ALIGN,"mainData")){const a=new fe(n,e,t.RELATIVE,8,e.children);return{output:this.application.renderNode(a)}}}}class Te extends squared.base.extensions.WhiteSpace{constructor(){super(...arguments),this.eventOnly=!0}}var Ae=squared.base.Layout;const Ee=squared.base.lib.enumeration,Se=squared.lib.util;class ve extends squared.base.Extension{constructor(){super(...arguments),this.options={circlePosition:!1}}condition(t){return this.included(t.element)&&t.length>0}processNode(e,n){return e.exclude({procedure:Ee.NODE_PROCEDURE.CONSTRAINT}),{output:this.application.renderNode(new Ae(n,e,t.CONSTRAINT,32,e.children))}}afterConstraints(){const t=this.application.controllerHandler;for(const e of this.subscribers){const n=new Map;if(e.each(t=>{const a=[];Se.withinRange(t.linear.left,e.box.left)&&a.push("left"),Se.withinRange(t.linear.top,e.box.top)&&a.push("top"),n.set(t,a)}),this.options.circlePosition){let a,o=!1;for(const t of n.values())if(2===t.length){o=!0;break}for(const[i,s]of n.entries())if(o){if(2===s.length){i.anchor("left","parent"),i.anchor("top","parent"),a=i;break}}else if(1===s.length){s.includes("left")?(i.anchor("left","parent"),t.addGuideline(i,e,r.VERTICAL),a=i):(i.anchor("top","parent"),t.addGuideline(i,e,r.HORIZONTAL),a=i);break}void 0===a&&(a=e.item(0),t.addGuideline(a,e)),e.each(t=>{if(t!==a){const e=t.center,n=a.center,o=Math.abs(e.x-n.x),i=Math.abs(e.y-n.y),r=Math.round(Math.sqrt(Math.pow(o,2)+Math.pow(i,2)));let s=Math.round(Math.atan(Math.min(o,i)/Math.max(o,i))*(180/Math.PI));e.y>n.y?e.x>n.x?o>i?s+=90:s=180-s:o>i?s=270-s:s+=180:e.y<n.y?n.x>e.x?o>i?s+=270:s=360-s:o>i&&(s=90-s):s=e.x>n.x?90:270,t.app("layout_constraintCircle",a.documentId),t.app("layout_constraintCircleRadius",Se.formatPX(r)),t.app("layout_constraintCircleAngle",""+s)}})}else for(const[a,o]of n.entries())o.includes("left")&&a.anchor("left","parent"),o.includes("top")&&a.anchor("top","parent"),o.length<2&&t.addGuideline(a,e)}}}var Re=squared.base.Layout,_e=squared.base.NodeList;const we=squared.base.lib.enumeration,xe=squared.lib.util;function Ie(t){return t.filter(e=>!e.pageFlow&&("fixed"===e.position||e.absoluteParent===t))}function Ne(t,e){return t.some(t=>t<e)}class Pe extends squared.base.Extension{condition(t){const e=Ie(t);if(e.length){const n=[],a=[],o=[],i=[];for(const t of e)t.has("top")&&t.top>=0&&n.push(t.top),t.has("right")&&t.right>=0&&a.push(t.right),t.has("bottom")&&t.bottom>=0&&o.push(t.bottom),t.has("left")&&t.left>=0&&i.push(t.left);return Ne(n,t.paddingTop+(t.documentBody?t.marginTop:0))||Ne(a,t.paddingRight+(t.documentBody?t.marginRight:0))||Ne(o,t.paddingBottom+(t.documentBody?t.marginBottom:0))||Ne(i,t.paddingLeft+(t.documentBody?t.marginLeft:0))||t.documentBody&&a.length>0&&t.hasWidth}return!1}processNode(e,n){const[a,o]=xe.partitionArray(Ie(e),t=>t.absoluteParent===e);xe.concatArray(xe.sortArray(a,!0,"zIndex","siblingIndex"),xe.sortArray(o,!0,"zIndex","siblingIndex")),o.length=0;for(const t of e.duplicate())a.includes(t)||o.push(t);if(o.length){const i=this.application.controllerHandler.createNodeGroup(o[0],o,e);i.inherit(e,"initial","base"),i.exclude({procedure:we.NODE_PROCEDURE.NONPOSITIONAL,resource:we.NODE_RESOURCE.BOX_STYLE|we.NODE_RESOURCE.ASSET}),a.push(i),i.innerChild=e;for(let t=0;t<a.length;t++)a[t].siblingIndex=t;return e.sort(_e.siblingIndex),e.resetBox(480|(e.documentBody?30:0),i,!0),e.outerParent=i,{output:this.application.renderNode(new Re(n,e,t.CONSTRAINT,32,a))}}}postBaseLayout(t){if(t.hasWidth&&t.outerParent&&t.documentBody&&t.some(t=>t.has("right"))){const e=t.cssInitial("width",!0),n=t.cssInitial("minWidth",!0);t.cssApply({width:"auto",minWidth:"auto"},!0),t.outerParent.cssApply({width:e,minWidth:n},!0),t.android("layout_width","match_parent")}}}var Ce=squared.base.Layout;squared;class Oe extends squared.base.Extension{condition(t){return!t.textElement&&!t.imageElement&&!t.svgElement&&(t.has("maxWidth")||t.has("maxHeight"))}processNode(e,n){const a=this.application.controllerHandler.createNodeWrapper(e,n);if(a.css("display","block",!0),e.has("maxWidth")){const t=e.css("maxWidth");a.cssApply({width:t,maxWidth:t},!0)}if(e.has("maxHeight")){const t=e.css("maxHeight");a.cssApply({height:t,maxHeight:t},!0)}return{parent:a,renderAs:a,outputAs:this.application.renderNode(new Ce(n,a,t.FRAME,2048,a.children))}}}var Le=squared.base.Layout;squared;const Me=squared.lib.util;class De extends squared.base.Extension{condition(t,e){return e.layoutVertical&&!t.documentBody&&t.pageFlow&&!t.imageElement&&t.has("width",32,{not:"100%"})}processNode(e,n){const a=this.application.controllerHandler.createNodeWrapper(e,n);return a.android("layout_width","match_parent"),a.android("layout_height","wrap_content"),e.has("height",2)||e.css("height",Me.formatPX(e.bounds.height),!0),e.resetBox(30,a,!0),{parent:a,renderAs:a,outputAs:this.application.renderNode(new Le(n,a,t.CONSTRAINT,2048,a.children))}}}var ke=squared.base.NodeList;const Be=squared.base.lib.enumeration,Xe="RadioGroup";class Ge extends squared.base.Extension{condition(t){return"RADIO"===t.tagName&&!!t.element.name&&!!t.parent&&t.parent.controlName!==Xe}processNode(e,n){const o=e.element,i=[];let s;const l=n.flatMap(t=>{t.renderAs&&(t.renderAs===e?s=t:i.push(t),t=t.renderAs);const n=t.element;return"radio"!==n.type||n.name!==o.name||t.rendered?void 0:t});if(l.length>1){const o=this.application.controllerHandler.createNodeGroup(e,l,n,s);o.alignmentType|=8|(n.length!==l.length?128:0),n.layoutConstraint&&(o.companion=s||e),o.setControlType(Xe,t.INLINE),o.inherit(e,"alignment"),o.css("verticalAlign","text-bottom"),o.each((n,o)=>{n!==e&&n.setControlType(a.RADIO,t.RADIO),n.positioned=!0,n.siblingIndex=o});for(const t of i)t.hide();return o.exclude({resource:Be.NODE_RESOURCE.ASSET}),o.render(!e.dataset.use&&e.dataset.target?this.application.resolveTarget(e.dataset.target):n),o.android("orientation",ke.linearData(l).linearX?r.HORIZONTAL:r.VERTICAL),this.subscribers.add(o),{renderAs:o,outputAs:{type:1,node:o,controlName:Xe},parent:o,complete:!0}}}postBaseLayout(t){t.some(e=>!(!e.element||!e.element.checked)&&(t.android("checkedButton",e.documentId),!0))}}const Ve=squared.base.lib.enumeration,We=squared.lib.element,Fe="HorizontalScrollView",ze="android.support.v4.widget.NestedScrollView";class He extends squared.base.Extension{condition(t){return t.length>0&&(t.overflowX||t.overflowY||this.included(t.element)&&(t.hasWidth||t.hasHeight))}processNode(e,n){const a=[],o=[];if(e.overflowX&&e.overflowY)a.push(Fe,ze);else if(e.overflowX)a.push(Fe);else if(e.overflowY)a.push(ze);else{let t=0;e.hasWidth&&(t|=8,a.push(Fe)),e.hasHeight&&(t|=16,a.push(ze)),e.overflow=t}for(let i=0;i<a.length;i++){const r=this.application.createNode(0===i?e.element:We.createElement(e.actualParent?e.actualParent.element:null,e.block));r.setControlType(a[i],t.BLOCK),0===i?(r.inherit(e,"initial","base","styleMap"),n.appendTry(e,r)):(r.inherit(e,"base"),r.exclude({resource:Ve.NODE_RESOURCE.BOX_STYLE})),r.exclude({resource:Ve.NODE_RESOURCE.ASSET}),r.resetBox(480),o.push(r)}for(let t=0;t<o.length;t++){const a=o[t],i=o[t-1];switch(a.controlName){case ze:{const t=e.css("height");e.android("layout_width","wrap_content"),a.android("layout_height",e.convertPX(t,!1)),a.cssApply({overflow:"scroll visible",overflowX:"visible",overflowY:"scroll"});break}case Fe:{const t=e.css("width");a.android("layout_width",e.convertPX(t)),e.android("layout_height","wrap_content"),a.cssApply({overflow:"visible scroll",overflowX:"scroll",overflowY:"visible"});break}}a.render(0===t?!e.dataset.use&&e.dataset.target?this.application.resolveTarget(e.dataset.target):n:i),a.unsetCache(),this.application.addRenderTemplate(a.renderParent||n,a,{type:1,node:a,controlName:a.controlName}),this.application.processing.cache.append(a)}2===o.length?(e.android("layout_width","wrap_content"),e.android("layout_height","wrap_content")):e.overflowX?(e.android("layout_width","wrap_content"),e.android("layout_height","match_parent")):(e.android("layout_width","match_parent"),e.android("layout_height","wrap_content"));const i=o.pop();return e.parent=i,n.layoutConstraint&&(i.companion=e),e.overflow=0,e.resetBox(30),e.exclude({resource:Ve.NODE_RESOURCE.BOX_STYLE}),{parent:e.parent}}}var qe='<?xml version="1.0" encoding="utf-8"?>\n<layer-list xmlns:android="http://schemas.android.com/apk/res/android">\n<<A>>\n\t<item>\n\t\t<shape android:shape="rectangle">\n\t\t\t<solid android:color="{&color}" />\n\t\t</shape>\n\t</item>\n<<A>>\n<<B>>\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}" android:drawable="@drawable/{~src}" android:width="{~width}" android:height="{~height}">\n\t<<gradient>>\n\t\t<shape android:shape="rectangle">\n\t\t\t<gradient android:type="{&type}" android:startColor="{~startColor}" android:endColor="{~endColor}" android:centerColor="{~centerColor}" android:angle="{~angle}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" android:visible="{~visible}" />\n\t\t</shape>\n\t<<gradient>>\n\t<<bitmap>>\n\t\t<bitmap android:src="@drawable/{&src}" android:gravity="{~gravity}" android:tileMode="{~tileMode}" android:tileModeX="{~tileModeX}" android:tileModeY="{~tileModeY}" />\n\t<<bitmap>>\n\t<<rotate>>\n\t\t<rotate android:drawable="@drawable/{&src}" android:fromDegrees="{~fromDegrees}" android:toDegrees="{~toDegrees}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}" android:visible="{~visible}" />\n\t<<rotate>>\n\t</item>\n<<B>>\n<<C>>\n\t<item android:left="{~left}" android:top="{~top}" android:right="{~right}" android:bottom="{~bottom}">\n\t\t<shape android:shape="rectangle">\n\t\t<<stroke>>\n\t\t\t<stroke android:width="{&width}" {~borderStyle} />\n\t\t<<stroke>>\n\t\t<<corners>>\n\t\t\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomRightRadius="{~bottomRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" />\n\t\t<<corners>>\n\t\t</shape>\n\t</item>\n<<C>>\n</layer-list>',$e='<?xml version="1.0" encoding="utf-8"?>\n<vector xmlns:android="http://schemas.android.com/apk/res/android" {~namespace} android:name="{~name}" android:width="{&width}" android:height="{&height}" android:viewportWidth="{&viewportWidth}" android:viewportHeight="{&viewportHeight}" android:alpha="{~alpha}">\n<<A>>\n\t##region-start##\n\t<group android:name="{~groupName}" android:translateX="{~translateX}" android:translateY="{~translateY}">\n\t##region-start##\n\t\t<<clipRegion>>\n\t\t<clip-path android:name="{~clipName}" android:pathData="{&clipPathData}" />\n\t\t<<clipRegion>>\n\t\t##path-start##\n\t\t<group android:name="{~groupName}" android:rotation="{~rotation}" android:scaleX="{~scaleX}" android:scaleY="{~scaleY}" android:translateX="{~translateX}" android:translateY="{~translateY}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}">\n\t\t##path-start##\n\t\t<<clipPath>>\n\t\t\t<clip-path android:name="{~clipName}" android:pathData="{&clipPathData}" />\n\t\t<<clipPath>>\n\t\t<<BB>>\n\t\t\t##render-start##\n\t\t\t<group android:name="{~groupName}" android:rotation="{~rotation}" android:scaleX="{~scaleX}" android:scaleY="{~scaleY}" android:translateX="{~translateX}" android:translateY="{~translateY}" android:pivotX="{~pivotX}" android:pivotY="{~pivotY}">\n\t\t\t##render-start##\n\t\t\t<<clipGroup>>\n\t\t\t<clip-path android:name="{~clipName}" android:pathData="{&clipPathData}" />\n\t\t\t<<clipGroup>>\n\t\t\t<<CCC>>\n\t\t\t\t<<clipElement>>\n\t\t\t\t<clip-path android:name="{~clipName}" android:pathData="{&clipPathData}" />\n\t\t\t\t<<clipElement>>\n\t\t\t\t<path android:name="{~name}" android:fillColor="{~fill}" android:fillAlpha="{~fillOpacity}" android:fillType="{~fillRule}" android:strokeColor="{~stroke}" android:strokeAlpha="{~strokeOpacity}" android:strokeWidth="{~strokeWidth}" android:strokeLineCap="{~strokeLinecap}" android:strokeLineJoin="{~strokeLinejoin}" android:strokeMiterLimit="{~strokeMiterlimit}" android:trimPathStart="{~trimPathStart}" android:trimPathEnd="{~trimPathEnd}" android:trimPathOffset="{~trimPathOffset}" android:pathData="{&value}">\n\t\t\t\t<<fillPattern>>\n\t\t\t\t\t<aapt:attr name="android:fillColor">\n\t\t\t\t\t<<gradients>>\n\t\t\t\t\t\t<gradient android:type="{&type}" android:startColor="{~startColor}" android:endColor="{~endColor}" android:centerColor="{~centerColor}" android:startX="{~startX}" android:startY="{~startY}" android:endX="{~endX}" android:endY="{~endY}" android:centerX="{~centerX}" android:centerY="{~centerY}" android:gradientRadius="{~gradientRadius}" android:tileMode="{~tileMode}">\n\t\t\t\t\t\t<<colorStops>>\n\t\t\t\t\t\t\t<item android:offset="{&offset}" android:color="{&color}" />\n\t\t\t\t\t\t<<colorStops>>\n\t\t\t\t\t\t</gradient>\n\t\t\t\t\t<<gradients>>\n\t\t\t\t\t</aapt:attr>\n\t\t\t\t<<fillPattern>>\n\t\t\t\t</path>\n\t\t\t<<CCC>>\n\t\t\t##render-end##\n\t\t\t</group>\n\t\t\t##render-end##\n\t\t\t<<DDD>>\n\t\t\t!!{&templateName}!!\n\t\t\t<<DDD>>\n\t\t<<BB>>\n\t\t##path-end##\n\t\t</group>\n\t\t##path-end##\n\t##region-end##\n\t</group>\n\t##region-end##\n<<A>>\n<<B>>\n!!{&templateName}!!\n<<B>>\n</vector>';const Ue=squared.svg&&squared.svg.SvgBuild,Ye=squared.base.lib.enumeration,je=squared.lib.color,Ke=squared.lib.css,Ze=squared.lib.math,Je=squared.lib.util,Qe=squared.lib.xml,tn={LAYER_LIST:Qe.parseTemplate(qe),SHAPE:Qe.parseTemplate('<?xml version="1.0" encoding="utf-8"?>\n<shape xmlns:android="http://schemas.android.com/apk/res/android" android:shape="rectangle">\n<<A>>\n\t<stroke android:width="{&width}" {~borderStyle} />\n<<A>>\n<<B>>\n\t<solid android:color="{&color}" />\n<<B>>\n<<C>>\n\t<corners android:radius="{~radius}" android:topLeftRadius="{~topLeftRadius}" android:topRightRadius="{~topRightRadius}" android:bottomRightRadius="{~bottomRightRadius}" android:bottomLeftRadius="{~bottomLeftRadius}" />\n<<C>>\n</shape>'),VECTOR:Qe.parseTemplate($e)};function en(t){return`android:color="@color/${t}"`}function nn(t,e=-1,n=!1){const a=en(b.addColor(t.color)),o=parseInt(t.width),i=t.style,r="groove"===i;if(o>1&&(r||"ridge"===i)){const o=je.parseColor(t.color);if(o){const t=je.reduceColor(o.valueAsRGBA,r||"#000000"===o.value?.5:-.5);if(t){const i=b.addColor(t);if(""!==i)if(0!==e&&2!==e||(n=!n),"#000000"!==o.value||(!r||1!==e&&3!==e)&&(r||0!==e&&2!==e)||(n=!n),n)switch(e){case 0:case 3:return en(i);case 1:case 2:return a}else switch(e){case 0:case 3:return a;case 1:case 2:return en(i)}}}}else{let t=0;switch(i){case"dotted":t=1;break;case"dashed":t=2}if(t>0)return`${a} android:dashWidth="${o*t}px" android:dashGap="${o}px"`}return a}function an(t,e=-1,n=!1,a=!1){if(t){if(!n||a)return[{width:t.width,borderStyle:nn(t,a?e:-1)}];if(n)return[{width:Je.formatPX(Math.ceil(parseFloat(t.width)/2)),borderStyle:nn(t,e,!0)}]}return!1}function on(t){if(t.borderRadius){if(1===t.borderRadius.length)return[{radius:t.borderRadius[0]}];{let e;if(8===t.borderRadius.length){e=[];for(let n=0;n<t.borderRadius.length;n+=2)e.push(Je.formatPX((parseFloat(t.borderRadius[n])+parseFloat(t.borderRadius[n+1]))/2))}else e=t.borderRadius;const n=["topLeft","topRight","bottomRight","bottomLeft"],a={};let o=!1;for(let t=0;t<e.length;t++)"0px"!==e[t]&&(a[`${n[t]}Radius`]=e[t],o=!0);if(o)return[a]}}return!1}function rn(t,e,n,a,o,i,r){const s=parseInt(e.width),l=Math.floor(s/3),c=2===s%3?1:0,d=l+c,h=l+c;let u=`${Je.formatPX(s-l)}`,p=`-${u}`;t.push({top:n?"":p,right:a?"":p,bottom:o?"":p,left:i?"":p,stroke:[{width:Je.formatPX(d),borderStyle:nn(e)}],corners:r}),3===s&&(p=`-${u=`${Je.formatPX(s)}`}`),t.push({top:n?u:p,right:a?u:p,bottom:o?u:p,left:i?u:p,stroke:[{width:Je.formatPX(h),borderStyle:nn(e)}],corners:r})}function sn(t,e,n){const a="initial"===t||"unset"===t;return-1===t.indexOf(" ")&&-1!==e.indexOf(" ")?/^[a-z]+$/.test(t)?`${a?n:t} 0px`:`${n} ${t}`:a?"0px":t}function ln(t,e,n,a){b.addTheme({name:t,parent:e,items:{[n]:a}})}function cn(t,e=21,n){const a={type:t.type,colorStops:!1},o=e>=21;switch(t.type){case"conic":{const e=t.center;a.type="sweep",o?(a.centerX=""+2*e.left,a.centerY=""+2*e.top):(a.centerX=Je.formatPercent(100*e.leftAsPercent),a.centerY=Je.formatPercent(100*e.topAsPercent));break}case"radial":{const e=t.center,n=t.radius;o?(a.gradientRadius=""+n,a.centerX=""+e.left,a.centerY=""+e.top):(a.gradientRadius=Je.formatPX(n),a.centerX=Je.formatPercent(100*e.leftAsPercent),a.centerY=Je.formatPercent(100*e.topAsPercent));break}case"linear":{const e=t.dimension,o=e.width,i=e.height,r=t.angle;let s=t.angleExtent.x,l=t.angleExtent.y;r<=90?(l+=i,a.startX="0",a.startY=""+i):r<=180?(a.startX="0",a.startY="0"):r<=270?(s+=o,a.startX=""+o,a.startY="0"):(s+=o,l+=i,a.startX=""+o,a.startY=""+i),a.endX=Ze.truncate(s,n),a.endY=Ze.truncate(l,n);break}}const i=t.colorStops;return o?a.colorStops=dn(i):(a.startColor=`@color/${b.addColor(i[0].color,!0)}`,a.endColor=`@color/${b.addColor(i[i.length-1].color,!0)}`,i.length>2&&(a.centerColor=`@color/${b.addColor(i[Math.floor(i.length/2)].color,!0)}`)),a}function dn(t,e){const n=[];for(const a of t)n.push({color:`@color/${b.addColor(a.color,!0)}`,offset:Ze.truncate(a.offset,e)});return n}function hn(t,e,n,a){if("left"===t){if(Je.isPercent(e.horizontal))return parseFloat(e.horizontal)/100*(n.width-a.width)}else if(Je.isPercent(e.horizontal))return parseFloat(e.horizontal)/100*(n.height-a.height);return e[t]}class un extends squared.base.Extension{constructor(){super(...arguments),this.options={autoSizeBackgroundImage:!0},this.eventOnly=!0}afterResources(){const e=this.application.userSettings;for(const i of this.application.processing.cache.duplicate().sort(t=>t.visible?0:-1)){const r=i.data(b.KEY_NAME,"boxStyle");if(r&&i.hasResource(Ye.NODE_RESOURCE.BOX_STYLE)){const s=r.backgroundRepeat.split(Je.REGEXP_COMPILED.SEPARATOR),l=r.backgroundSize.split(Je.REGEXP_COMPILED.SEPARATOR),c=r.backgroundPositionX.split(Je.REGEXP_COMPILED.SEPARATOR),d=r.backgroundPositionY.split(Je.REGEXP_COMPILED.SEPARATOR),h=[],u=[],p=[];let m=0;if(i.hasResource(Ye.NODE_RESOURCE.IMAGE_SOURCE)){if(r.backgroundImage){for(m=r.backgroundImage.length;l.length<m;)Je.concatArray(l,l.slice(0));l.length=m;for(let t=0,e=0;t<m;t++){const n=r.backgroundImage[t];let a=!0;if("string"==typeof n)"initial"!==n&&(h[e]=b.addImageUrl(n),""!==h[e]&&(p[e]=b.ASSETS.images.get(Ke.resolveURL(n)),a=!1));else if(n.colorStops.length>1){const t=cn(n,i.localSettings.targetAPI);t&&(h[e]=t,p[e]=n.dimension,a=!1)}if(a)s.splice(t,1),l.splice(t,1),m--;else{const n=c[t]||c[t-1],a=d[t]||d[t-1];u[e]=Ke.getBackgroundPosition(`${sn(n,a,"left")} ${sn(a,n,"top")}`,i.actualDimension,i.fontSize),e++}}}if(i.extracted){0===m&&(s.length=0,l.length=0);const t=i.extracted.filter(t=>t.visible&&(t.imageElement||"IMAGE"===t.tagName));for(let e=0,n=m;e<t.length;e++){const a=t[e],o=a.element,r=b.addImageSrc(o);if(""!==r){h[n]=r,p[n]=b.ASSETS.images.get(o.src),s[n]="no-repeat",l[n]=`${a.actualWidth}px ${a.actualHeight}px`,u[n]=Ke.getBackgroundPosition("IMAGE"===a.tagName?"0px 0px":`${a.bounds.left-i.bounds.left}px ${a.bounds.top-i.bounds.top}px`,i.actualDimension,i.fontSize),n++}}}m=h.length}const g=[r.borderTop,r.borderRight,r.borderBottom,r.borderLeft],f=[],y=new Set,T=new Set;let A;for(let t=0;t<g.length;t++){const e=g[t];e?(f[t]=!0,y.add(nn(e)),T.add(e.width),A=e):f[t]=!1}const E=void 0!==A||void 0!==r.borderRadius,S=i.companion;if(S&&!S.visible&&S.htmlElement&&!Ke.isInheritedStyle(S.element,"backgroundColor")){const t=S.data(b.KEY_NAME,"boxStyle");t&&t.backgroundColor&&(r.backgroundColor=t.backgroundColor)}if(m||E){const c={A:!1,B:[],C:!1};let d="";for(let e=m-1;e>=0;e--){const o=h[e],r={bitmap:!1,rotate:!1,gradient:!1},d=i.of(t.IMAGE,2048)&&1===m,g=u[e];if("string"==typeof o){const t=p[e];function n(){d||(g.left=0,g.right=0)}function a(){d||(g.top=0,g.bottom=0)}let c="",h="",u="",m="",f="",y="";if("center"!==g.horizontal&&"50%"!==g.horizontal||"center"!==g.vertical&&"50%"!==g.vertical){switch(g.horizontal){case"0%":case"left":n(),u=i.localizeString("left");break;case"50%":case"center":n(),u="center_horizontal";break;case"100%":case"right":n(),u=i.localizeString("right");break;default:u+=i.localizeString(0!==g.right?"right":"left")}switch(u+="|",g.vertical){case"0%":case"top":a(),u+="top";break;case"50%":case"center":a(),u+="center_vertical";break;case"100%":case"bottom":a(),u+="bottom";break;default:u+=0!==g.bottom?"bottom":"top"}}else n(),a(),u="center";switch(s[e]){case"repeat":(!t||t.width<i.actualWidth||t.height<i.actualHeight)&&(m="repeat");break;case"repeat-x":(!t||t.width<i.actualWidth)&&(f="repeat");break;case"repeat-y":(!t||t.height<i.actualHeight)&&(y="repeat");break;default:m="disabled",t&&(i.inputElement||i.imageElement)&&(c=Je.formatPX(t.width),h=Je.formatPX(t.height))}if(""!==u&&0===i.renderChildren.length&&t&&t.width>0&&t.height>0){if("repeat"===y){const e=i.hasWidth?i.width+i.paddingLeft+i.paddingRight:i.bounds.width-(i.borderLeftWidth+i.borderRightWidth);if(t.width<e){const n=Je.convertInt(i.android("layout_width"));-1!==u.indexOf("left")||-1!==u.indexOf("start")?(g.right=e-t.width,!i.hasWidth&&e>n&&i.android("layout_width",Je.formatPX(i.actualWidth))):-1!==u.indexOf("right")||-1!==u.indexOf("end")?(g.left=e-t.width,!i.hasWidth&&e>n&&i.android("layout_width",Je.formatPX(i.actualWidth))):"center"!==u&&-1===u.indexOf("center_horizontal")||(g.left=Math.floor((e-t.width)/2),c=Je.formatPX(t.width),!i.hasWidth&&e>n&&i.android("layout_width",Je.formatPX(i.actualWidth)))}}if("repeat"===f){const e=i.hasHeight?i.height+i.paddingTop+i.paddingBottom:i.bounds.height-(i.borderTopWidth+i.borderBottomWidth);if(t.height<e){const n=Je.convertInt(i.android("layout_height"));-1!==u.indexOf("top")?(g.bottom=e-t.height,!i.hasHeight&&e>n&&i.android("layout_height",Je.formatPX(i.actualHeight))):-1!==u.indexOf("bottom")?(g.top=e-t.height,!i.hasHeight&&e>n&&i.android("layout_height",Je.formatPX(i.actualHeight))):"center"!==u&&-1===u.indexOf("center_vertical")||(g.top=Math.floor((e-t.height)/2),h=Je.formatPX(t.height),!i.hasHeight&&e>n&&i.android("layout_height",Je.formatPX(i.actualHeight)))}}}if(d){let t;if(/^(left|start)/.test(u)?t="fitStart":/^(right|end)/.test(u)?t="fitEnd":("center"===u||u.startsWith("center_horizontal"))&&(t="center"),t&&i.android("scaleType",t),g.left>0&&i.modifyBox(16,g.left),g.top>0&&i.modifyBox(2,g.top),i.android("src",`@drawable/${o}`),!E)return}else{if("auto"!==l[e]&&"auto auto"!==l[e]&&"initial"!==l[e])switch(l[e]){case"cover":case"contain":case"100% 100%":c="",h="",m="",f="",y="",u="";break;default:const t=l[e].split(" ");"100%"===t[0]?f="":"100%"===t[1]&&(y="");for(let e=0;e<t.length;e++){const n=t[e];"auto"!==n&&"100%"!==n&&(0===e?c=i.convertPX(n,!0,!1):h=i.convertPX(n,!1,!1))}}r.width=c,r.height=h,""!==u||""!==m||""!==f||""!==y?r.bitmap=[{src:o,gravity:u,tileMode:m,tileModeX:f,tileModeY:y}]:r.src=o}0!==g.top&&(r.top=Je.formatPX(g.top)),0!==g.right&&(r.right=Je.formatPX(g.right)),0!==g.bottom&&(r.bottom=Je.formatPX(g.bottom)),0!==g.left&&(r.left=Je.formatPX(g.left))}else{const t=p[e];if(o.colorStops){const n=Math.round(t.width),a=Math.round(t.height);r.width=Je.formatPX(n),r.height=Je.formatPX(a);const s={namespace:O("aapt"),width:r.width||Je.formatPX(n),height:r.height||Je.formatPX(a),viewportWidth:""+n,viewportHeight:""+a,alpha:"",A:[{region:[[]],clipRegion:!1,path:[[]],clipPath:!1,BB:[{render:[[]],CCC:[{value:Ue.drawRect(n,a),clipElement:!1,fillPattern:[{gradients:[o]}]}],DDD:!1}]}],B:!1};r.src=b.insertStoredAsset("drawables",`${i.tagName.toLowerCase()}_${i.controlId}_gradient_${e}`,Qe.createTemplate(tn.VECTOR,s,!0))}else r.gradient=[o];0!==g.top&&(r.top=Je.formatPX(hn("top",g,i.bounds,t))),0!==g.left&&(r.left=Je.formatPX(hn("left",g,i.bounds,t)))}(r.src||r.bitmap||r.gradient)&&c.B.push(r)}let S=!1;if(r.backgroundColor){const t=b.addColor(r.backgroundColor);""!==t&&(S=[{color:`@color/${t}`}])}const v=r.border,R=on(r);let _,w;if(void 0===A||v&&!("double"===v.style&&parseInt(v.width)>2||("groove"===v.style||"ridge"===v.style)&&parseInt(v.width)>1)){const t=!!v&&an(v);h.length?(_=tn.LAYER_LIST,c.A=S,(t||R)&&(c.C=[{stroke:t,corners:R}])):(_=tn.SHAPE,w={A:t,B:S,C:R})}else{_=tn.LAYER_LIST,c.A=S,c.C=[];const t=f[1]&&f[2];function o(e){return e+(t?0:1===e?1:2)}if(1===y.size&&1===T.size&&A&&"groove"!==A.style&&"ridge"!==A.style){const t=parseInt(A.width);if("double"===A.style&&t>2)rn(c.C,A,f[0],f[1],f[2],f[3],R);else{const e=`-${Je.formatPX(o(t))}`,n=!f[0]&&!f[3],a=!f[0]&&f[1]&&f[2]&&f[3],i=f[0]&&f[1]&&f[2]&&!f[3];c.C.push({top:f[0]?"":e,right:f[1]?f[3]||n||i?"":A.width:e,bottom:f[2]?f[0]||n||a?"":A.width:e,left:f[3]?"":e,stroke:an(A),corners:R})}}else for(let e=0;e<g.length;e++){const n=g[e];if(n){const a=parseInt(n.width);if("double"===n.style&&a>2)rn(c.C,n,0===e,1===e,2===e,3===e,R);else{const i=a>1&&("groove"===n.style||"ridge"===n.style),r=o(i?Math.ceil(a/2):a),s=!t&&"1px"===n.width;let l=`-${Je.formatPX(r)}`,d=`-${Je.formatPX(r+(t?1:0))}`;c.C.push({top:0===e?"":d,right:1===e?s?n.width:"":l,bottom:2===e?s?n.width:"":l,left:3===e?"":l,stroke:an(n,e,i),corners:R}),i&&(l=`-${Je.formatPX(o(a))}`,d=`-${Je.formatPX(a+(t?1:0))}`,c.C.unshift({top:0===e?"":d,right:1===e?s?n.width:"":l,bottom:2===e?s?n.width:"":l,left:3===e?"":l,stroke:an(n,e,!0,!0),corners:!1}))}}}}if(_&&(d=b.insertStoredAsset("drawables",`${i.tagName.toLowerCase()}_${i.controlId}`,Qe.createTemplate(_,w||c,c.B.some(t=>!!t.src)))),h.length&&(i.data("RESOURCE","backgroundImage",!0),this.options.autoSizeBackgroundImage&&!i.documentRoot&&!i.imageElement&&!i.svgElement&&i.renderParent&&!i.renderParent.tableElement&&i.hasProcedure(Ye.NODE_PROCEDURE.AUTOFIT))){let e=0,n=0;if("IMAGE"!==i.tagName){for(const t of p)t&&(e=Math.max(e,t.width),n=Math.max(n,t.height));if(0===e){let t=i;for(;t&&!t.documentBody&&(t.hasWidth&&(e=t.actualWidth),t.hasHeight&&(n=t.actualHeight),t.pageFlow&&!(e>0&&n>0));)t=t.documentParent}}if(!i.has("width",2)){const n=i.bounds.width+(i.is(t.LINE)?0:i.borderLeftWidth+i.borderRightWidth);(0===e||n>0&&n<e)&&i.css("width",Je.formatPX(n),!0)}if(!i.has("height",2)){const e=i.bounds.height+(i.is(t.LINE)?0:i.borderTopWidth+i.borderBottomWidth);(0===n||e>0&&e<n)&&(i.css("height",Je.formatPX(e),!0),i.marginTop<0&&i.modifyBox(2,null),i.marginBottom<0&&i.modifyBox(8,null))}}""!==d&&(d=`@drawable/${d}`,i.documentBody?ln(e.manifestThemeName,e.manifestParentThemeName,"android:background",d):i.android("background",d,!1))}else if(r.backgroundColor){let t=b.addColor(r.backgroundColor);if(""!==t)if(t=`@color/${t}`,i.documentBody)ln(e.manifestThemeName,e.manifestParentThemeName,"android:windowBackground",t);else{const e=i.data(b.KEY_NAME,"fontStyle");e?e.backgroundColor=r.backgroundColor:i.android("background",t,!1)}}}}}}const pn=squared.lib.util,mn=b.STORED,gn=/[\s\n]+<[^<]*?(\w+):(\w+)="(-?[\d.]+(?:px|dp|sp))"/,fn=/^[\s\n]+<([\w\-.]+)[\s\n]/,yn=/^-?[\d.]+(px|dp|sp)$/,bn=["android","app"];function Tn(t,e,n){for(const[a,o]of t.entries())if(a.startsWith(e)&&n===o)return a;return t.has(e)&&t.get(e)!==n?b.generateId("dimen",e):e}function An(t){return pn.fromLastIndexOf(t,".")}class En extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}beforeCascadeDocument(){const t={};for(const e of this.application.session.cache)if(e.visible){const n=e.tagName.toLowerCase();void 0===t[n]&&(t[n]={});for(const a of bn){const o=e.namespace(a);for(const i in o){const r=o[i].trim();if(yn.test(r)){const o=`${a},${i},${r}`;void 0===t[n][o]&&(t[n][o]=[]),t[n][o].push(e)}}}}for(const e in t){const n=t[e];for(const t in n){const[a,o,i]=t.split(pn.REGEXP_COMPILED.SEPARATOR),r=Tn(mn.dimens,`${An(e)}_${pn.convertUnderscore(o)}`,i);for(const e of n[t])e[a](o,`@dimen/${r}`);mn.dimens.set(r,i)}}}afterFinalize(){for(const t of this.application.viewData){let e,n=t.content;for(;null!==(e=gn.exec(n));){const t=fn.exec(e[0]);if(t){const a=Tn(mn.dimens,`${An(t[1]).toLowerCase()}_${pn.convertUnderscore(e[2])}`,e[3]);mn.dimens.set(a,e[3]),n=n.replace(e[0],e[0].replace(e[3],`@dimen/${a}`))}}t.content=n}}}const Sn=squared.base.lib.enumeration,vn=squared.lib.util,Rn=/^(\w*?)(?:_(\d+))?$/,_n={"sans-serif":14,"sans-serif-thin":16,"sans-serif-light":16,"sans-serif-condensed":16,"sans-serif-condensed-light":16,"sans-serif-medium":21,"sans-serif-black":21,"sans-serif-smallcaps":21,"serif-monospace":21,serif:21,casual:21,cursive:21,monospace:21,"sans-serif-condensed-medium":26},wn={arial:"sans-serif",helvetica:"sans-serif",tahoma:"sans-serif",verdana:"sans-serif",times:"serif","times new roman":"serif",palatino:"serif",georgia:"serif",baskerville:"serif",goudy:"serif",fantasy:"serif","itc stone serif":"serif","sans-serif-monospace":"monospace",monaco:"monospace",courier:"serif-monospace","courier new":"serif-monospace"},xn={"ms shell dlg \\32":"sans-serif","system-ui":"sans-serif","-apple-system":"sans-serif"},In={100:"thin",200:"extra_light",300:"light",400:"normal",500:"medium",600:"semi_bold",700:"bold",800:"extra_bold",900:"black"},Nn={fontFamily:'android:fontFamily="{0}"',fontStyle:'android:textStyle="{0}"',fontWeight:'android:fontWeight="{0}"',fontSize:'android:textSize="{0}"',color:'android:textColor="@color/{0}"',backgroundColor:'android:background="@color/{0}"'};vn.isUserAgent(16)&&(xn.consolas="monospace");const Pn=b.STORED;function Cn(t,e,n){for(const a of e.split(";"))for(let e=0;e<t.length;e++){let o=-1,i="";for(const n in t[e])if(n===a){o=e,i=n,e=t.length;break}if(-1!==o){t[o][i]=vn.filterArray(t[o][i],t=>!n.includes(t)),0===t[o][i].length&&delete t[o][i];break}}}class On extends squared.base.Extension{constructor(){super(...arguments),this.options={fontResourceValue:!0},this.eventOnly=!0}afterParseDocument(){const t={},e={};for(const e of this.application.session.cache)e.visible&&e.data(b.KEY_NAME,"fontStyle")&&e.hasResource(Sn.NODE_RESOURCE.FONT_STYLE)&&(void 0===t[e.tagName]&&(t[e.tagName]=[]),t[e.tagName].push(e));const n=Object.keys(Nn);for(const a in t){const o=[];for(let e of t[a]){const t=Object.assign({},e.data(b.KEY_NAME,"fontStyle")),{id:a,companion:i}=e;i&&!i.visible&&"LABEL"===i.tagName&&(e=i);let r=!1;if(t.backgroundColor&&(t.backgroundColor=b.addColor(t.backgroundColor)),t.fontFamily){let n=t.fontFamily.split(vn.REGEXP_COMPILED.SEPARATOR)[0].replace(/"/g,"").toLowerCase(),a="",o="";if(t.color=b.addColor(t.color),this.options.fontResourceValue&&xn[n]&&(n=xn[n]),_n[n]&&e.localSettings.targetAPI>=_n[n]||this.options.fontResourceValue&&wn[n]&&e.localSettings.targetAPI>=_n[wn[n]]?(r=!0,t.fontFamily=n,"normal"===t.fontStyle&&(t.fontStyle=""),"400"!==t.fontWeight&&e.supported("android","fontWeight")||(t.fontWeight="")):(n=vn.convertWord(n),t.fontFamily=`@font/${n+("normal"!==t.fontStyle?`_${t.fontStyle}`:"")+("400"!==t.fontWeight?`_${In[t.fontWeight]||t.fontWeight}`:"")}`,a=t.fontStyle,o=t.fontWeight,t.fontStyle="",t.fontWeight=""),!r){const t=b.STORED.fonts.get(n)||{};t[`${a}-${In[o]||o}`]=!0,b.STORED.fonts.set(n,t)}}for(let e=0;e<n.length;e++){const i=t[n[e]];if(i){const t=vn.formatString(Nn[n[e]],i);void 0===o[e]&&(o[e]={}),void 0===o[e][t]&&(o[e][t]=[]),o[e][t].push(a)}}}e[a]=o}const a={};for(const n in e){a[n]={};const o=vn.filterArray(e[n],t=>void 0!==t).sort((t,e)=>{let n=0,a=0,o=0,i=0;for(const e in t)n=Math.max(t[e].length,n),o+=t[e].length;for(const t in e)e[t]&&(a=Math.max(e[t].length,a),i+=e[t].length);return n!==a?n>a?-1:1:o!==i?o>i?-1:1:0});do{if(1===o.length){for(const t in o[0])o[0][t].length&&(a[n][t]=o[0][t]);o.length=0}else{const e={};for(let i=0;i<o.length;i++){const r={};for(const a in o[i]){const s=o[i][a];if(0===s.length)continue;if(s.length===t[n].length){e[a]=s,o[i]={};break}const l={};let c=!1;for(let t=0;t<o.length;t++)if(i!==t)for(const e in o[t]){const n=o[t][e];if(n.length)for(const t of s)n.includes(t)&&(void 0===l[e]&&(l[e]=[]),l[e].push(t))}for(const t in l)l[t].length>1&&(r[[a,t].sort().join(";")]=l[t],c=!0);c||(r[a]=s)}if(Object.keys(r).length){const t={},e=new Set,i={};for(const t in r)i[t]=r[t].join(",");for(const n in r)for(const a in r){const o=i[n];if(n!==a&&o===i[a]){void 0===t[o]&&(t[o]=new Set(n.split(";")));for(const e of a.split(";"))t[o].add(e);e.add(n).add(a)}}for(const t of e)delete r[t];for(const t in r)Cn(o,t,r[t]),a[n][t]=r[t];for(const e in t){const i=Array.from(t[e]).sort().join(";"),r=vn.objectMap(e.split(vn.REGEXP_COMPILED.SEPARATOR),t=>parseInt(t));Cn(o,i,r),a[n][i]=r}}}const i=Object.keys(e);i.length&&(a[n][i.join(";")]=e[i[0]]),vn.spliceArray(o,t=>{for(const e in t)if(t[e].length)return!1;return!0})}}while(o.length>0)}const o={},i={},r=new Set;for(const t in a){const e=a[t],n=[];for(const t in e){const a=[];for(const e of t.split(";")){const t=vn.REGEXP_COMPILED.ATTRIBUTE.exec(e);t&&a.push({name:t[1],value:t[2]})}n.push({name:"",parent:"",items:a,ids:e[t]})}n.sort((t,e)=>{let n=0,a=0;return t.ids&&e.ids&&(n=t.ids.length,a=e.ids.length),n===a&&(n=t.items.length,a=e.items.length),n===a&&(n=t.items[0].name,a=e.items[0].name),n===a&&(n=t.items[0].value,a=e.items[0].value),n<=a?1:-1});for(let e=0;e<n.length;e++)n[e].name=vn.capitalize(t)+(e>0?`_${e}`:"");o[t]=n}for(const t in o)for(const e of o[t])if(e.ids)for(const t of e.ids)void 0===i[t]&&(i[t]=[]),i[t].push(e.name);for(const t of this.application.session.cache){const e=i[t.id];e&&e.length&&(r.add(e.join(".")),t.attr("_","style",`@style/${e.pop()}`))}for(const t of r){let e="";for(const n of t.split(".")){const t=n.match(Rn);if(t){const a=o[t[1].toUpperCase()][vn.convertInt(t[2])];a&&(Pn.styles.set(n,Object.assign({},a,{name:n,parent:e})),e=n)}}}}}squared;class Ln extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}beforeCascadeDocument(){for(const t of this.application.session.cache)if(t.renderParent&&t.renderTemplates){const e=[],n=[];if(t.renderEach((t,a)=>{const o=t.dataset.androidInclude||"",i="true"===t.dataset.androidIncludeEnd;if(o||i){const r={item:t,name:o,index:a,merge:"true"===t.dataset.androidIncludeMerge};o&&e.push(r),i&&n.push(r)}}),e.length&&n.length){const a=this.application.controllerHandler;e.length=Math.min(e.length,n.length);for(let t=e.length;t<n.length;t++)n.shift();for(let o=e.length-1;o>=0;o--){const i=e[o];for(let e=0;e<n.length;e++){const o=n[e].index;if(o>=i.index){const r=[];for(let e=i.index;e<=o;e++)r.push(t.renderTemplates[e]),t.renderTemplates[e]=null;const s=i.merge||r.length>1,l=s?1:0;t.renderTemplates[i.index]={type:2,node:r[0].node,content:a.renderNodeStatic("include",{layout:`@layout/${i.name}`},"",""),indent:!0},s||i.item.documentRoot||(i.item.documentRoot=!0);let c=a.cascadeDocument(r,l);s&&(c=a.getEnclosingTag(1,{controlName:"merge",attributes:L(c),content:c})),this.application.addIncludeFile(i.item.id,i.name,c),n.splice(e,1);break}}}}}}}const Mn=squared.base.lib.enumeration,Dn=squared.lib.css,kn=squared.lib.util;function Bn(t){return t.replace(/&nbsp;/g,"&#160;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"\\'").replace(/"/g,"&quot;")}class Xn extends squared.base.Extension{constructor(){super(...arguments),this.options={numberResourceValue:!1},this.eventOnly=!0}afterResources(){for(const t of this.application.processing.cache)if(t.hasResource(Mn.NODE_RESOURCE.VALUE_STRING))switch(t.tagName){case"SELECT":{const e=t.element,[n,a]=b.getOptionArray(e,this.application.userSettings.replaceCharacterEntities);let o;if(!this.options.numberResourceValue&&a&&a.length)o=a;else{const t=n||a;if(t){o=[];for(let e of t)""!==(e=b.addString(Bn(e),"",this.options.numberResourceValue))&&o.push(`@string/${e}`)}}if(o&&o.length){const e=b.insertStoredAsset("arrays",`${t.controlId}_array`,o);""!==e&&t.android("entries",`@array/${e}`)}break}case"IFRAME":{const e=t.data(b.KEY_NAME,"valueString"),n=Bn(e.value);b.addString(n,e.name);break}default:{const e=t.data(b.KEY_NAME,"valueString");if(e){const n=t.renderParent;let a=e.value;if(n&&n.layoutRelative&&t.alignParent("left")&&!Dn.isParentStyle(t.element,"whiteSpace","pre","pre-wrap")){const e=t.textContent;let n=0;for(let t=0;t<e.length;t++)switch(e.charCodeAt(t)){case 160:n++;case 32:continue}0===n&&(a=a.replace(/^(\s|&#160;)+/,""))}a=Bn(a),t.htmlElement&&"small-caps"===t.css("fontVariant")&&(a=a.toUpperCase());const o=t.actualParent;if(o){let e=0;(o.blockDimension||t.blockDimension)&&(e=t.toInt("textIndent")||o.toInt("textIndent")),0===e||!t.blockDimension&&o.firstChild!==t||(e>0?a="&#160;".repeat(Math.floor(e/(t.fontSize/2)))+a:t.toInt("textIndent")+t.bounds.width<0&&(a=""))}const i=b.addString(a,e.name,this.options.numberResourceValue);""!==i&&t.android("text",this.options.numberResourceValue||!kn.isNumber(i)?`@string/${i}`:i,!1)}}}}}const Gn=squared.lib.util,Vn=b.STORED;class Wn extends squared.base.Extension{constructor(){super(...arguments),this.eventOnly=!0}beforeCascadeDocument(){const t={};for(const e of this.application.session.cache)if(e.visible&&e.controlId){const n=e.renderChildren;if(n.length>1){const a=new Map;let o="",i=!0;for(let t=0;t<n.length;t++){let e=!1;if(n[t].combine("_","android").some(n=>{if(n.startsWith("style=")){if(0===t)o=n;else if(""===o||n!==o)return i=!1,!0;e=!0}else a.set(n,(a.get(n)||0)+1);return!1}),!i||""!==o&&!e){i=!1;break}}if(i){for(const[t,e]of a.entries())e!==n.length&&a.delete(t);if(a.size>1){""!==o&&(o=Gn.trimString(o.substring(o.indexOf("/")+1),'"'));const i=[];for(const t of a.keys()){const e=t.match(/(\w+):(\w+)="([^"]+)"/);if(e){for(const t of n)t.delete(e[1],e[2]);i.push(e[0])}}i.sort();let r="";for(const e in t)if(t[e].join(";")===i.join(";")){r=e;break}""!==o&&r.startsWith(`${o}.`)||(t[r=""!==o?o+"."+e.controlId:Gn.capitalize(e.controlId)]=i);for(const t of n)t.attr("_","style",`@style/${r}`)}}}}for(const e in t){const n=[];for(const a in t[e]){const o=Gn.REGEXP_COMPILED.ATTRIBUTE.exec(t[e][a]);o&&n.push({name:o[1],value:o[2]})}Vn.styles.set(e,Object.assign({},I(),{name:e,items:n,ids:[]}))}}}var Fn='<?xml version="1.0" encoding="utf-8"?>\n<animated-vector xmlns:android="http://schemas.android.com/apk/res/android" android:drawable="@drawable/{&vectorName}">\n<<A>>\n\t<target android:name="{&name}" android:animation="@anim/{&animationName}" />\n<<A>>\n</animated-vector>';const zn='<<fillBefore>>\n\t<set>\n\t<<values>><<values>>\n\t</set>\n<<fillBefore>>\n<<repeating>>\n\t<objectAnimator\n\t\tandroid:propertyName="{~propertyName}"\n\t\tandroid:interpolator="{~interpolator}"\n\t\tandroid:valueType="{~valueType}"\n\t\tandroid:valueFrom="{~valueFrom}"\n\t\tandroid:valueTo="{~valueTo}"\n\t\tandroid:startOffset="{~startOffset}"\n\t\tandroid:duration="{&duration}"\n\t\tandroid:repeatCount="{&repeatCount}">\n\t<<propertyValues>>\n\t\t<propertyValuesHolder android:propertyName="{&propertyName}">\n\t\t<<keyframes>>\n\t\t\t<keyframe android:interpolator="{~interpolator}" android:fraction="{~fraction}" android:value="{~value}" />\n\t\t<<keyframes>>\n\t\t</propertyValuesHolder>\n\t<<propertyValues>>\n\t</objectAnimator>\n<<repeating>>\n<<fillCustom>>\n\t<set android:ordering="{~ordering}">\n\t<<values>><<values>>\n\t</set>\n<<fillCustom>>\n<<fillAfter>>\n\t<set>\n\t<<values>>\n\t\t<objectAnimator\n\t\t\tandroid:propertyName="{&propertyName}"\n\t\t\tandroid:interpolator="{~interpolator}"\n\t\t\tandroid:valueType="{~valueType}"\n\t\t\tandroid:valueFrom="{~valueFrom}"\n\t\t\tandroid:valueTo="{&valueTo}"\n\t\t\tandroid:startOffset="{~startOffset}"\n\t\t\tandroid:duration="{&duration}"\n\t\t\tandroid:repeatCount="{&repeatCount}" />\n\t<<values>>\n\t</set>\n<<fillAfter>>';var Hn=`<?xml version="1.0" encoding="utf-8"?>\n<set xmlns:android="http://schemas.android.com/apk/res/android" android:ordering="{~ordering}">\n${zn}\n</set>`;var qn=`<?xml version="1.0" encoding="utf-8"?>\n<set xmlns:android="http://schemas.android.com/apk/res/android">\n<<A>>\n\t<set android:ordering="{~ordering}">\n\t<<AA>>\n\t\t<set android:ordering="{~ordering}">\n${squared.lib.xml.pushIndent(zn,2)}\n\t\t</set>\n\t<<AA>>\n\t<<BB>>\n\t\t<<together>>\n\t\t<objectAnimator\n\t\t\tandroid:propertyName="{&propertyName}"\n\t\t\tandroid:interpolator="{~interpolator}"\n\t\t\tandroid:valueType="{~valueType}"\n\t\t\tandroid:valueFrom="{~valueFrom}"\n\t\t\tandroid:valueTo="{&valueTo}"\n\t\t\tandroid:startOffset="{~startOffset}"\n\t\t\tandroid:duration="{&duration}"\n\t\t\tandroid:repeatCount="{&repeatCount}" />\n\t\t<<together>>\n\t<<BB>>\n\t</set>\n<<A>>\n</set>`;squared.svg||(squared.svg={lib:{}});var $n=squared.svg.Svg,Un=squared.svg.SvgAnimate,Yn=squared.svg.SvgAnimateTransform,jn=squared.svg.SvgBuild,Kn=squared.svg.SvgG,Zn=squared.svg.SvgPath,Jn=squared.svg.SvgShape;const Qn=squared.lib.util,ta=squared.lib.math,ea=squared.lib.xml,na=squared.svg.lib.constant,aa=squared.svg.lib.util,oa={},ia=b.STORED,ra={accelerate_decelerate:"@android:anim/accelerate_decelerate_interpolator",accelerate:"@android:anim/accelerate_interpolator",anticipate:"@android:anim/anticipate_interpolator",anticipate_overshoot:"@android:anim/anticipate_overshoot_interpolator",bounce:"@android:anim/bounce_interpolator",cycle:"@android:anim/cycle_interpolator",decelerate:"@android:anim/decelerate_interpolator",linear:"@android:anim/linear_interpolator",overshoot:"@android:anim/overshoot_interpolator"};na&&Object.assign(ra,{[na.KEYSPLINE_NAME["ease-in"]]:ra.accelerate,[na.KEYSPLINE_NAME["ease-out"]]:ra.decelerate,[na.KEYSPLINE_NAME["ease-in-out"]]:ra.accelerate_decelerate,[na.KEYSPLINE_NAME.linear]:ra.linear});const sa='<?xml version="1.0" encoding="utf-8"?>\n<pathInterpolator xmlns:android="http://schemas.android.com/apk/res/android"\n\tandroid:controlX1="{0}"\n\tandroid:controlY1="{1}"\n\tandroid:controlX2="{2}"\n\tandroid:controlY2="{3}" />',la={stroke:["strokeColor"],fill:["fillColor"],opacity:["alpha"],"stroke-opacity":["strokeAlpha"],"fill-opacity":["fillAlpha"],"stroke-width":["strokeWidth"],"stroke-dasharray":["trimPathStart","trimPathEnd"],"stroke-dashoffset":["trimPathOffset"],d:["pathData"],"clip-path":["pathData"]};function ca(t,e){return t&&t[e]?ra[t[e]]||ua(t[e]):""}function da(t){for(const e in la)if(la[e].includes(t))return Qn.convertCamelCase(e);return""}function ha(t,e,n=-1){return`${t.name}_${e+(-1!==n?`_${n+1}`:"")}`}function ua(t){if(ra[t])return ra[t];{const e=`path_interpolator_${Qn.convertWord(t)}`;if(!ia.animators.has(e)){const n=Qn.formatString(sa,...t.split(" "));ia.animators.set(e,n)}return`@anim/${e}`}}function pa(t){const e={};for(let n=0;n<t.length;n++){const a=t[n],o=a.matrix;switch(a.type){case SVGTransform.SVG_TRANSFORM_SCALE:e.scaleX=""+o.a,e.scaleY=""+o.d,a.origin&&(e.pivotX=""+a.origin.x,e.pivotY=""+a.origin.y);break;case SVGTransform.SVG_TRANSFORM_ROTATE:e.rotation=""+a.angle,a.origin?(e.pivotX=""+a.origin.x,e.pivotY=""+a.origin.y):(e.pivotX="0",e.pivotY="0");break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:e.translateX=""+o.e,e.translateY=""+o.f}}return e}function ma(t,e){let n=0,a=0;for(const o of function(t){const e=[];let n=t.parentElement;for(;n&&(e.push(n),!((n=n.parentElement)instanceof HTMLElement)););return e}(t))(aa.SVG.svg(o)||aa.SVG.use(o))&&o!==e&&(n+=o.x.baseVal.value,a+=o.y.baseVal.value);return{x:n,y:a}}function ga(t,e,n=1,a=1){if(e.length&&(aa.SVG.circle(t)||aa.SVG.ellipse(t))){if(-1!==e.findIndex(t=>t.type===SVGTransform.SVG_TRANSFORM_ROTATE)&&(n!==a||e.length>1&&e.some(t=>t.type===SVGTransform.SVG_TRANSFORM_SCALE&&t.matrix.a!==t.matrix.d)))return fa(t,e)}return[[],e]}function fa(t,e,n=!1){if(e.length){const o=[],i=[],r=e.slice(0).reverse(),s=e[0].fromCSS?[]:aa.TRANSFORM.rotateOrigin(t).reverse();for(let t=1;t<r.length;t++){const e=r[t],n=r[t-1];if(e.type===n.type){let a;switch(e.type){case SVGTransform.SVG_TRANSFORM_TRANSLATE:(a=aa.MATRIX.clone(e.matrix)).e+=n.matrix.e,a.f+=n.matrix.f;break;case SVGTransform.SVG_TRANSFORM_SCALE:(a=aa.MATRIX.clone(e.matrix)).a*=n.matrix.a,a.d*=n.matrix.d}a&&(e.matrix=a,r.splice(--t,1))}}const l=[];function a(){o.push(l.slice(0)),l.length=0}for(const t of r)switch(t.type){case SVGTransform.SVG_TRANSFORM_MATRIX:case SVGTransform.SVG_TRANSFORM_SKEWX:case SVGTransform.SVG_TRANSFORM_SKEWY:i.push(t);break;case SVGTransform.SVG_TRANSFORM_TRANSLATE:n||0!==o.length||0!==l.length?(l.push(t),a()):i.push(t);break;case SVGTransform.SVG_TRANSFORM_ROTATE:for(;s.length;){const e=s.shift();if(e.angle===t.angle){0===e.x&&0===e.y||(t.origin=e);break}}if(void 0===t.origin&&1===l.length&&l[0].type===SVGTransform.SVG_TRANSFORM_SCALE){l.push(t);continue}case SVGTransform.SVG_TRANSFORM_SCALE:l.length&&a(),l.push(t)}return l.length&&o.push(l),[o.reverse(),i]}return[[],e]}function ya(t,e,n,a=!1,o){let i;const r=t[e];return r?i=Array.isArray(r)?""+r[n]:r:a||0!==e||(i=o),i||""}function ba(t){switch(t){case"fill":case"stroke":return"";case"opacity":case"stroke-opacity":case"stroke-dasharray":case"stroke-dashoffset":case"fill-opacity":case"transform":return"floatType";case"stroke-width":return"intType";case"d":case"x":case"x1":case"x2":case"cx":case"y":case"y1":case"y2":case"cy":case"r":case"rx":case"ry":case"width":case"height":case"points":return"pathType";default:return va(t)?"floatType":void 0}}function Ta(t,e,n,a){const o=new Un;return o.attributeName=t,o.delay=e,o.duration=1,o.from=a||n,o.to=n,o.fillForwards=!0,o.convertToValues(),o}function Aa(t,e=!0){let n=la[t];return void 0===n&&e&&va(t)&&(n=[t]),n}function Ea(t){switch(t){case SVGTransform.SVG_TRANSFORM_TRANSLATE:return["translateX","translateY"];case SVGTransform.SVG_TRANSFORM_SCALE:return["scaleX","scaleY","pivotX","pivotY"];case SVGTransform.SVG_TRANSFORM_ROTATE:return["rotation","pivotX","pivotY"]}}function Sa(t){switch(t.type){case SVGTransform.SVG_TRANSFORM_ROTATE:return Yn.toRotateList(t.values);case SVGTransform.SVG_TRANSFORM_SCALE:return Yn.toScaleList(t.values);case SVGTransform.SVG_TRANSFORM_TRANSLATE:return Yn.toTranslateList(t.values)}}function va(t){switch(t){case"rotation":case"pivotX":case"pivotY":case"translateX":case"translateY":return"0";case"scaleX":case"scaleY":return"1"}}function Ra(t){return"fill"===t||"stroke"===t}function _a(t,e=!1){const n=`@color/${b.addColor(t)}`;return e?[n]:n}function wa(t,e){return Ra(t.attributeName)?_a(e):e.trim()||void 0}function xa(t){switch(t){case SVGGradientElement.SVG_SPREADMETHOD_PAD:return"clamp";case SVGGradientElement.SVG_SPREADMETHOD_REFLECT:return"mirror";case SVGGradientElement.SVG_SPREADMETHOD_REPEAT:return"repeat"}return""}const Ia=t=>Qn.isPercent(t)?parseFloat(t)/100:.5;class Na extends squared.base.Extension{constructor(){super(...arguments),this.options={transformExclude:{path:[],line:[],rect:[],ellipse:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],circle:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY],polyline:[],polygon:[],image:[SVGTransform.SVG_TRANSFORM_SKEWX,SVGTransform.SVG_TRANSFORM_SKEWY]},floatPrecisionKeyTime:5,floatPrecisionValue:3,animateInterpolator:""},this.eventOnly=!0,this.VECTOR_DATA=new Map,this.ANIMATE_DATA=new Map,this.IMAGE_DATA=[],this.SYNCHRONIZE_MODE=0,this.NAMESPACE_AAPT=!1}beforeInit(){jn&&(void 0===oa.ANIMATED&&(oa.ANIMATED=ea.parseTemplate(Fn),oa.LAYER_LIST=ea.parseTemplate(qe),oa.OBJECTANIMATOR=ea.parseTemplate(Hn),oa.SET_OBJECTANIMATOR=ea.parseTemplate(qn)),jn.setName(),this.application.controllerHandler.localSettings.svg.enabled=!0)}afterResources(){for(const t of this.application.processing.cache)if(t.svgElement){const e=new $n(t.element),n=t.localSettings.targetAPI>=23;this.SVG_INSTANCE=e,this.VECTOR_DATA.clear(),this.ANIMATE_DATA.clear(),this.IMAGE_DATA.length=0,this.NAMESPACE_AAPT=!1,this.SYNCHRONIZE_MODE=2|(n?32:64),e.build({exclude:this.options.transformExclude,residual:ga,precision:this.options.floatPrecisionValue}),e.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,precision:this.options.floatPrecisionValue}),this.parseVectorData(e),this.queueAnimations(e,e.name,t=>"opacity"===t.attributeName);const a=Qn.convertWord(`${t.tagName}_${t.controlId}_viewbox`,!0).toLowerCase(),o=(t="",e="")=>a+(""!==t?`_${t}`:"")+(this.IMAGE_DATA.length?"_vector":"")+(""!==e?`_${e.toLowerCase()}`:"");let i="",r="";{const t=ea.parseTemplate($e);let n=ea.createTemplate(t,{namespace:this.NAMESPACE_AAPT?O("aapt"):"",name:e.name,width:Qn.formatPX(e.width),height:Qn.formatPX(e.height),viewportWidth:""+(e.viewBox.width||e.width),viewportHeight:""+(e.viewBox.height||e.height),alpha:parseFloat(e.opacity)<1?""+e.opacity:"",A:[],B:[{templateName:e.name}]});const a=new Map;t.__ROOT__=t.A;for(const[e,n]of this.VECTOR_DATA.entries())a.set(e,ea.createTemplate(t,n));const i=Array.from(a.entries()).reverse();for(let t=0;t<i.length;t++){let e=i[t][1];for(let n=t;n<i.length;n++){const t=`!!${i[n][0]}!!`;if(-1!==e.indexOf(t)){e=e.replace(t,i[n][1]);break}}n=n.replace(`!!${i[t][0]}!!`,e)}r=b.insertStoredAsset("drawables",o(),ea.formatTemplate(n))}if(this.ANIMATE_DATA.size){const t={vectorName:r,A:[]};for(const[e,a]of this.ANIMATE_DATA.entries()){const i={name:e},r={A:[]},s=new Map,l=new Map,c=[],d=[],h=[],u=[],p=[],[m,g]=Qn.partitionArray(a.animate,t=>void 0!==t.companion);for(let t=0;t<g.length;t++){const e=g[t];if(e.setterType)la[e.attributeName]&&Qn.hasValue(e.to)&&(e.duration>0&&e.fillReplace?d.push(e):c.push(e));else if(jn.isAnimate(e)){const a=Qn.filterArray(m,t=>t.companion.value===e);if(a.length){a.sort((t,e)=>t.companion.index>=e.companion.index?1:0);const n=[],o=[];for(let t=0;t<a.length;t++){const i=a[t];i.companion.index<=0?(n.push(i),0===t&&e.delay>0&&(i.delay+=e.delay,e.delay=0)):o.push(i)}n.push(e),Qn.concatArray(n,o),s.set(`sequentially_companion_${t}`,n)}else{const t=e.synchronized;if(t)if(jn.asAnimateTransform(e)){const n=l.get(t.value)||[];n.push(e),l.set(t.value,n)}else{const n=s.get(t.value)||[];n.push(e),s.set(t.value,n)}else jn.asAnimateTransform(e)&&e.expandToValues(),-1===e.iterationCount?d.push(e):!(!e.fromToType||jn.asAnimateTransform(e)&&e.transformOrigin)||n&&"pathType"!==ba(e.attributeName)?e.fillReplace?d.push(e):c.push(e):h.push([e])}}}c.length&&h.push(c);for(const[t,e]of s.entries())t.startsWith("sequentially_companion")?h.push(e):h.push(e.sort((t,e)=>t.synchronized&&e.synchronized&&t.synchronized.index>=e.synchronized.index?1:-1));for(const t of l.values())p.push(t.sort((t,e)=>t.synchronized&&e.synchronized&&t.synchronized.index>=e.synchronized.index?1:-1));for(const t of d)u.push([[t]]);if([h,p,...u].forEach((t,e)=>{const o={ordering:0===e||1===t.length?"":"sequentially",AA:[],BB:[]};for(const i of t){let t="",r=!1,s=!1,l=!0;e<=1&&i.some(t=>!!t.synchronized&&""!==t.synchronized.value)?(jn.asAnimateTransform(i[0])||(t="sequentially"),r=!0,l=!1):e<=1&&i.some(t=>!!t.synchronized&&""===t.synchronized.value)?(t="sequentially",r=!0,s=!0):e<=1&&i.some(t=>void 0!==t.companion)?t="sequentially":(e>0&&(t="sequentially"),e>1&&jn.asAnimateTransform(i[0])&&(s=!0));const c={ordering:t,fillBefore:[],repeating:[],fillCustom:[],fillAfter:[]},d={values:[]},h={values:[]},u={values:[]},p={together:[]};(r?Qn.partitionArray(i,t=>-1!==t.iterationCount):[i]).forEach((t,i)=>{1===i&&t.length>1&&(h.ordering="sequentially");const m=new Map;for(const g of t){const f=ba(g.attributeName);if(void 0===f)continue;const y=(t,e)=>{e&&-1===d.values.findIndex(e=>e.propertyName===t)&&d.values.push(this.createPropertyValue(t,e,"0",f))},b=g.delay>0;let T,A=!1;const E=(t,e,n,a)=>{if(!r&&g.fillReplace&&void 0!==f){let o,i=g.replaceValue;if(i||(A?i=va(t):g.parent&&jn.isShape(g.parent)&&g.parent.path&&(i="pathData"===t?g.parent.path.value:g.parent.path[da(t)]),i||(i=g.baseValue)),n&&n.length){const t=n[n.length-1];if(Qn.isArray(t.propertyValues)){const e=t.propertyValues[t.propertyValues.length-1];o=e.keyframes[e.keyframes.length-1].value}else o=t.valueTo}if(Qn.isString(i)&&i!==o&&(i=wa(g,i))){switch(t){case"trimPathStart":case"trimPathEnd":i=i.split(" ")["trimPathStart"===t?0:1]}e.values.push(this.createPropertyValue(t,i,"1",f,"pathType"===f?o:"",a?""+a:""))}T&&(t.endsWith("X")?e.values.push(this.createPropertyValue("translateX","0","1",f)):t.endsWith("Y")&&e.values.push(this.createPropertyValue("translateY","0","1",f)))}};if(g.setterType){const t=Aa(g.attributeName);if(t){const n=Ra(g.attributeName)?_a(g.to,!0):g.to.trim().split(" ");if(n.length===t.length&&!n.some(t=>""===t)){let a,o;for(let i=0;i<t.length;i++){let r;"pathType"===f?r=n[i]:b&&g.baseValue&&(r=wa(g,g.baseValue.trim().split(" ")[i]));const s=this.createPropertyValue(t[i],n[i],"1",f,r,g.delay>0?""+g.delay:"");e>1?(h.values.push(s),E(t[i],u,void 0,e>1?g.duration:0)):g.companion&&g.companion.index<=0?(void 0===a&&c.fillBefore.push(a={values:[]}),a.values.push(s)):g.companion&&g.companion.index>0?(void 0===o&&c.fillAfter.push(o={values:[]}),o.values.push(s)):p.together.push(s)}}}}else if(jn.isAnimate(g)){let d;const p=this.createPropertyValue("","",""+g.duration,f,"",g.delay>0?""+g.delay:"",d=1===i?t.length>1?"0":"-1":-1!==g.iterationCount?""+Math.ceil(g.iterationCount-1):"-1");void 0===g.keySplines&&(g.timingFunction?p.interpolator=ua(g.timingFunction):""!==this.options.animateInterpolator&&(p.interpolator=this.options.animateInterpolator));const S=[];let v,R;if(r||"pathType"!==p.valueType)if(jn.asAnimateTransform(g)){if(void 0===(v=Ea(g.type)))continue;R=Sa(g),(s||b)&&Qn.concatArray(S,Qn.objectMap(v,t=>va(t)||"0")),T=g.transformOrigin,A=!0}else switch(v=Aa(g.attributeName),p.valueType){case"intType":R=Qn.objectMap(g.values,t=>""+Qn.convertInt(t)),b&&g.baseValue&&Qn.concatArray(S,Qn.replaceMap(jn.parseCoordinates(g.baseValue),t=>""+Math.trunc(t)));break;case"floatType":switch(g.attributeName){case"stroke-dasharray":R=Qn.objectMap(g.values,t=>Qn.replaceMap(t.split(" "),t=>parseFloat(t)));break;default:R=g.values}b&&g.baseValue&&Qn.concatArray(S,Qn.replaceMap(jn.parseCoordinates(g.baseValue),t=>""+t));break;default:if(R=g.values.slice(0),Ra(g.attributeName)){b&&g.baseValue&&Qn.concatArray(S,_a(g.baseValue,!0));for(let t=0;t<R.length;t++)""!==R[t]&&(R[t]=_a(R[t]))}}else if(a.pathData){let t,e;g.parent&&jn.isShape(g.parent)&&(e=g.parent,g.parent.path&&(t=g.parent.path.transformed)),v=["pathData"],R=Zn.extrapolate(g.attributeName,a.pathData,g.values,t,e,this.options.floatPrecisionValue)}if(R&&v){const t=g.synchronized?g.synchronized.index+g.synchronized.value:0!==e||v.length>1?JSON.stringify(p):"";for(let e=0;e<v.length;e++){const d=v[e];if(s&&y(d,S[e]),l&&g.keyTimes.length>1)if(n&&"pathType"!==p.valueType){!s&&b&&y(d,S[e]);const n=m.get(t)||[],a=[];for(let t=0;t<g.keyTimes.length;t++){let n=ya(R,t,e,!0);""!==n&&(n=ta.truncateString(n,this.options.floatPrecisionValue));let o=t>0&&""!==n&&"pivotX"!==d&&"pivotY"!==d?ca(g.keySplines,t-1):"";""===o&&g.isLoop(t)&&(o=ua(na.KEYSPLINE_NAME["step-start"])),a.push({interpolator:o,fraction:0===g.keyTimes[t]&&""===n?"":ta.truncate(g.keyTimes[t],this.options.floatPrecisionKeyTime),value:n})}n.push({propertyName:d,keyframes:a}),m.has(t)||(""!==t&&m.set(t,n),(0===i?c.repeating:h.values).push(Object.assign({},p,{propertyValues:n}))),T=void 0}else{c.ordering="sequentially";const t={ordering:"sequentially",fillBefore:!1,repeating:[],fillCustom:!1,fillAfter:!1};for(let n=0;n<g.keyTimes.length;n++){const o=Object.assign({},p,{propertyName:d,startOffset:0===n?""+(g.delay+(g.keyTimes[n]>0?Math.floor(g.keyTimes[n]*g.duration):0)):"",propertyValues:!1}),i=ya(R,n,e,!1,"pathType"===p.valueType?a.pathData:g.baseValue);if(i){let r;if(0===n?(o.valueFrom=!s&&b?S[e]:"pathType"===p.valueType?a.pathData||""+R[0]:g.baseValue||g.replaceValue||"",r=0):(o.valueFrom=""+ya(R,n-1,e),r=Math.floor((g.keyTimes[n]-g.keyTimes[n-1])*g.duration)),T&&T[n]){let e,a=0;if(d.endsWith("X")?(e="translateX",a=T[n].x):d.endsWith("Y")&&(e="translateY",a=T[n].y),e){const n=this.createPropertyValue(e,""+a,""+r,"floatType");n.interpolator=ua(na.KEYSPLINE_NAME["step-start"]),t.repeating.push(n)}}let l=n>0?ca(g.keySplines,n-1):"";""===l&&g.isLoop(n)&&(l=ua(na.KEYSPLINE_NAME["step-start"])),o.interpolator=l,o.duration=""+r,o.valueTo=i,c.repeating.push(o)}}t.repeating.length&&o.AA.push(t)}else{const t=Object.assign({},p,{propertyName:d,interpolator:g.duration>1?ca(g.keySplines,0):"",propertyValues:!1});if(Array.isArray(R[0])){const n=R[R.length-1][e];if(R.length>1){const a=R[0][e];a!==n&&(t.valueFrom=""+a)}t.valueTo=""+n}else{let n;R.length>1?(n=""+R[0],t.valueTo=""+R[R.length-1]):(n=g.from||(!s&&b?S[e]:""),t.valueTo=g.to),"pathType"===p.valueType?t.valueFrom=n||a.pathData||t.valueTo:n&&n!==t.valueTo&&(t.valueFrom=wa(g,n))}t.valueTo&&(0===i?c.repeating:h.values).push(t)}0!==i||r||E(d,u,c.repeating)}b&&T&&T.length&&(y("translateX","0"),y("translateY","0"))}}}});const m=c.repeating.length>0||h.values.length>0;m&&d.values.length&&(1===d.values.length?c.repeating.unshift(d.values[0]):c.fillBefore.push(d)),h.values.length&&(1===d.values.length?c.repeating.push(h.values[0]):c.fillCustom.push(h)),m&&u.values.length&&(1===u.values.length?c.repeating.push(u.values[0]):c.fillAfter.push(u));const g=c.fillBefore.length>0||c.fillCustom.length>0||c.fillAfter.length>0;g||"sequentially"!==c.ordering||1!==c.repeating.length||(c.ordering=""),!g&&"sequentially"!==o.ordering&&"sequentially"!==c.ordering&&c.repeating.every(t=>!1===t.propertyValues)?(Qn.concatArray(p.together,c.repeating),c.repeating.length=0):m&&o.AA.push(c),p.together.length&&o.BB.push(p)}(o.AA.length||o.BB.length)&&r.A.push(o)}),r.A.length){let n;if(1===r.A.length){const t=r.A[0];""===t.ordering&&t.BB&&0===t.BB.length&&t.AA&&1===t.AA.length&&(n=t.AA[0])}i.animationName=b.insertStoredAsset("animators",o("anim",e),n?ea.createTemplate(oa.OBJECTANIMATOR,n):ea.createTemplate(oa.SET_OBJECTANIMATOR,r)),""!==i.animationName&&t.A.push(i)}}t.A.length&&(r=b.insertStoredAsset("drawables",o("anim"),ea.createTemplate(oa.ANIMATED,t)))}if(this.IMAGE_DATA.length){const t=[];""!==r&&t.push({src:r});const n={A:!1,B:t,C:!1};for(const n of this.IMAGE_DATA){const a=e.width/e.viewBox.width,o=e.height/e.viewBox.height;let i=n.getBaseValue("x",0)*a,r=n.getBaseValue("y",0)*o,s=n.getBaseValue("width",0),l=n.getBaseValue("height",0);const c=ma(n.element,e.element);i+=c.x,r+=c.y,l*=o;const d={width:Qn.formatPX(s*=a),height:Qn.formatPX(l),left:0!==i?Qn.formatPX(i):"",top:0!==r?Qn.formatPX(r):"",src:b.addImage({mdpi:n.href}),rotate:[]};n.rotateAngle&&(d.rotate.push({src:d.src,fromDegrees:""+n.rotateAngle,visible:n.visible?"true":"false"}),d.src=""),t.push(d)}i=b.insertStoredAsset("drawables",a,ea.formatTemplate(ea.createTemplate(oa.LAYER_LIST,n)))}else i=r;""!==i&&(t.localSettings.targetAPI>=21?t.android("src",`@drawable/${i}`):t.app("srcCompat",`@drawable/${i}`)),t.hasWidth||t.android("layout_width","wrap_content"),t.hasHeight||t.android("layout_height","wrap_content")}}afterFinalize(){this.application.controllerHandler.localSettings.svg.enabled=!1}parseVectorData(t){const e=this.createGroup(t);for(const n of t)if(n.visible){const a=[],o=[],i=[[]],r=[];if(jn.isShape(n)){if(!n.path||!n.path.value)continue;{const t=this.createPath(n,n.path,i);if(t.strokeWidth&&(t.strokeDasharray||t.strokeDashoffset)){const e=this.ANIMATE_DATA.get(n.name);if(void 0===e||e.animate.every(t=>t.attributeName.startsWith("stroke-dash"))){const[o,s,l]=n.path.extractStrokeDash(e&&e.animate,this.options.floatPrecisionValue);if(o){const c=ha(n,"stroke");""!==s&&(t.value=s),""!==l&&r.push({clipPathData:l});for(let n=0;n<o.length;n++){const i=0===n?t:Object.assign({},t);i.name=`${c}_${n}`,e&&this.ANIMATE_DATA.set(i.name,{element:e.element,animate:Qn.filterArray(e.animate,t=>void 0===t.id||t.id===n)}),i.trimPathStart=ta.truncate(o[n].start,this.options.floatPrecisionValue),i.trimPathEnd=ta.truncate(o[n].end,this.options.floatPrecisionValue),a.push(i)}e&&this.ANIMATE_DATA.delete(n.name),i[0].push({groupName:c})}}}0===a.length&&a.push(t)}}else{if(jn.asImage(n)){if(!jn.asPattern(t)){if(0===n.width||0===n.height){const t=this.application.session.image.get(n.href);t&&t.width>0&&t.height>0&&(n.width=t.width,n.height=t.height,n.setRect())}n.extract(this.options.transformExclude.image),this.IMAGE_DATA.push(n)}continue}if(jn.isContainer(n)){if(!n.length)continue;this.parseVectorData(n),o.push({templateName:n.name})}}e.BB.push({render:i,clipGroup:r,CCC:a,DDD:o})}this.VECTOR_DATA.set(t.name,e)}createGroup(t){const e=[[]],n=[],a=[[]],o=[],i={region:e,clipRegion:n,path:a,clipPath:o,BB:[]},r={};if(!(t!==this.SVG_INSTANCE&&jn.asSvg(t)||jn.asUseSymbol(t)||jn.asUsePattern(t))||0===t.x&&0===t.y||(r.groupName=ha(t,"main"),r.translateX=""+t.x,r.translateY=""+t.y),""!==t.clipRegion&&this.createClipPath(t,n,t.clipRegion),(n.length||Object.keys(r).length)&&e[0].push(r),t!==this.SVG_INSTANCE){const e={},[n]=fa(t.element,t.transforms,!0),i=ha(t,"animate");if((jn.asG(t)||jn.asUseSymbol(t))&&Qn.hasValue(t.clipPath)&&this.createClipPath(t,o,t.clipPath)&&(e.groupName=i),this.queueAnimations(t,i,t=>jn.asAnimateTransform(t))&&(e.groupName=i),Object.keys(e).length&&a[0].push(e),n.length){const e=[];for(const t of n)a[0].push(pa(t)),Qn.concatArray(e,t);t.transformed=e.reverse()}}return i}createPath(t,e,n){const a=[],o={name:t.name,clipElement:a,fillPattern:!1},i=(t,n=!1)=>{if(n){const n=`${t}Pattern`,a=o[n];if(a){const i=this.SVG_INSTANCE.definitions.gradient.get(a);if(i)switch(e.element.tagName){case"path":if(!/[zZ]\s*$/.test(e.value))break;case"rect":case"polygon":case"polyline":case"circle":case"ellipse":{const a=function(t,e,n){const a={type:t.type,colorStops:dn(t.colorStops,n)};switch(t.type){case"radial":{const n=t,o=[];let i,r,s,l;switch(e.element.tagName){case"path":for(const t of jn.getPathCommands(e.value))Qn.concatArray(o,t.value);case"polygon":if(aa.SVG.polygon(e.element)&&Qn.concatArray(o,jn.clonePoints(e.element.points)),!o.length)return;[i,r,s,l]=jn.minMaxPoints(o),s-=i,l-=r;break;default:if(aa.SVG.rect(e.element)){const t=e.element;i=t.x.baseVal.value,r=t.y.baseVal.value,s=t.width.baseVal.value,l=t.height.baseVal.value}else if(aa.SVG.circle(e.element)){const t=e.element;i=t.cx.baseVal.value-t.r.baseVal.value,r=t.cy.baseVal.value-t.r.baseVal.value,l=s=2*t.r.baseVal.value}else{if(!aa.SVG.ellipse(e.element))return;{const t=e.element;i=t.cx.baseVal.value-t.rx.baseVal.value,r=t.cy.baseVal.value-t.ry.baseVal.value,s=2*t.rx.baseVal.value,l=2*t.ry.baseVal.value}}}a.centerX=""+(i+s*Ia(n.cxAsString)),a.centerY=""+(r+l*Ia(n.cyAsString)),a.gradientRadius=""+(s+l)/2*(Qn.isPercent(n.rAsString)?parseFloat(n.rAsString)/100:1),n.spreadMethod&&(a.tileMode=xa(n.spreadMethod));break}case"linear":{const e=t;a.startX=""+e.x1,a.startY=""+e.y1,a.endX=""+e.x2,a.endY=""+e.y2,e.spreadMethod&&(a.tileMode=xa(e.spreadMethod))}}return a}(i,e,this.options.floatPrecisionValue);if(a)return o[t]="",o[n]=[{gradients:[a]}],void(this.NAMESPACE_AAPT=!0);break}}o[n]=!1}}const a=b.addColor(o[t]);""!==a&&(o[t]=`@color/${a}`)};if(jn.asUse(t)&&Qn.hasValue(t.clipPath)&&this.createClipPath(t,a,t.clipPath),Qn.hasValue(e.clipPath)){const t=new Jn(e.element);t.build({exclude:this.options.transformExclude,residual:ga,precision:this.options.floatPrecisionValue}),t.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,precision:this.options.floatPrecisionValue}),this.createClipPath(t,a,e.clipPath)}const r={},s=ha(t,"group");if(this.queueAnimations(t,s,t=>jn.asAnimateTransform(t))?r.groupName=s:a.length&&(r.groupName=""),!jn.asUse(t)||0===t.x&&0===t.y||(r.translateX=""+t.x,r.translateY=""+t.y),Object.keys(r).length&&n[0].push(r),e.transformResidual)for(const t of e.transformResidual)n[0].push(pa(t));const l=function(t){let e=parseFloat(t.opacity),n=t.parent;for(;n;){const t=parseFloat(n.opacity||"1");!isNaN(t)&&t<1&&(e*=t),n=n.parent}return e}(t);for(const t in e){let n=e[t];if(Qn.isString(n)){switch(t){case"fillRule":if("evenodd"!==n)continue;n="evenOdd";break;case"strokeWidth":if("0"===n)continue;break;case"fillOpacity":case"strokeOpacity":if("1"===(n=""+(Qn.isNumber(n)?parseFloat(n):1)*l))continue;break;case"strokeLinecap":if("butt"===n)continue;break;case"strokeLinejoin":if("miter"===n)continue;break;case"strokeMiterlimit":if("4"===n)continue}o[t]=n}}i("fill",!0),i("stroke");const c=new Map,d=[],h=[],u=e.value;let p=u,m=0;for(const e of t.animations)if(jn.asAnimateTransform(e)&&!e.additiveSum&&e.transformFrom){let t=Math.max(0,e.delay-1);c.set(t,{index:m,time:t,to:e.transformFrom,reset:!1,animate:e}),-1!==e.iterationCount&&e.fillReplace&&(c.has(t=e.delay+e.iterationCount*e.duration)||c.set(t,{index:m,time:t,to:u,reset:!0})),m++}const g=Array.from(c.values()).sort((t,e)=>t.time<e.time?-1:1);for(let t=0;t<g.length;t++){const e=g[t];if(!e.reset||e.to!==p){let n=!0;if(e.reset)t:for(let a=0;a<t;a++){const o=g[a];if(!o.reset)for(let a=t+1;a<g.length;a++)switch(g[a].index){case o.index:n=!1;case e.index:break t}}else{const n=[],a=new Set;for(let e=0;e<t;e++){const t=g[e];n[t.index]=n[t.index]?2:1}for(let t=0;t<n.length;t++)if(1===n[t]){const e=g.find(e=>e.index===t&&void 0!==e.animate);e&&e.animate&&a.add(e.animate.type)}for(const t of a){const n=Ea(t);if(n){const a=aa.TRANSFORM.typeAsValue(t).split(" ");for(let t=0;t<a.length;t++)d.push(Ta(n[t],e.time,a[t],""))}}}n&&(h.push(Ta("d",e.time,e.to)),p=e.to)}}if(this.queueAnimations(t,o.name,t=>(jn.asAnimate(t)||jn.asSet(t))&&"clip-path"!==t.attributeName,u)||0!==h.length||(o.name=""),d.length){const t=this.ANIMATE_DATA.get(s);t&&Qn.concatArray(t.animate,d)}if(h.length){const e=this.ANIMATE_DATA.get(o.name);e?Qn.concatArray(e.animate,h):this.ANIMATE_DATA.set(o.name,{element:t.element,animate:h,pathData:u})}return o}createClipPath(t,e,n){let a=0;return n.split(";").forEach((n,o,i)=>{if("#"===n.charAt(0)){const t=this.SVG_INSTANCE.definitions.clipPath.get(n);if(t){const n=new Kn(t);n.build({exclude:this.options.transformExclude,residual:ga,precision:this.options.floatPrecisionValue}),n.synchronize({keyTimeMode:this.SYNCHRONIZE_MODE,precision:this.options.floatPrecisionValue}),n.each(t=>{if(t.path&&t.path.value){let n=ha(t,"clip_path",i.length>1?o+1:-1);this.queueAnimations(t,n,t=>jn.asAnimate(t)||jn.asSet(t),t.path.value)||(n=""),e.push({clipName:n,clipPathData:t.path.value})}})}a++}else{let r=ha(t,"clip_path",i.length>1?o+1:-1);this.queueAnimations(t,r,t=>(jn.asAnimate(t)||jn.asSet(t))&&"clip-path"===t.attributeName,n)||(r=""),e.push({clipName:r,clipPathData:n}),a++}}),a>0}queueAnimations(t,e,n,a=""){if(t.animations.length){const o=Qn.filterArray(t.animations,(t,e,a)=>!t.paused&&(t.duration>0||t.setterType)&&n(t,e,a));if(o.length)return this.ANIMATE_DATA.set(e,{element:t.element,animate:o,pathData:a}),!0}return!1}createPropertyValue(t,e,n,a,o="",i="",r="0"){return{propertyName:t,startOffset:i,duration:n,repeatCount:r,valueType:a,valueFrom:Qn.isNumber(o)?ta.truncateString(o,this.options.floatPrecisionValue):o,valueTo:Qn.isNumber(e)?ta.truncateString(e,this.options.floatPrecisionValue):e,propertyValues:!1}}}const Pa={builtInExtensions:["android.delegate.fixed","android.delegate.max-width-height","android.delegate.percent","android.delegate.radiogroup","android.delegate.scrollbar","squared.external","squared.substitute","squared.sprite","squared.css-grid","squared.flexbox","squared.table","squared.list","squared.grid","squared.relative","squared.verticalalign","squared.whitespace","squared.accessibility","android.constraint.guideline","android.resource.includes","android.resource.background","android.resource.svg","android.resource.strings","android.resource.fonts","android.resource.dimens","android.resource.styles"],targetAPI:28,resolutionDPI:160,supportRTL:!0,preloadImages:!0,ellipsisOnTextOverflow:!0,maxWordWrapWidth:1024,supportNegativeLeftTop:!0,collapseUnattributedElements:!0,exclusionsDisabled:!0,customizationsDisabled:!0,customizationsOverwritePrivilege:!0,replaceCharacterEntities:!1,showAttributes:!0,convertPixels:"dp",insertSpaces:4,handleExtensionsAsync:!0,autoCloseOnWrite:!0,manifestLabelAppName:"android",manifestThemeName:"AppTheme",manifestParentThemeName:"Theme.AppCompat.Light.NoActionBar",outputDirectory:"app/src/main",outputMainFileName:"activity_main.xml",outputArchiveFileType:"zip",outputMaxProcessingTime:30};let Ca,Oa,La,Ma=!1;function Da(t){return Ma&&!!t&&(t.closed||!(!Ca||!Ca.userSettings.autoCloseOnWrite||Ca.initialized||Ca.closed||(Ca.finalize(),0)))}const ka={base:{Controller:bt,File:Nt,Resource:b,View:j},extensions:{Accessibility:Lt,CssGrid:Vt,External:Wt,Flexbox:Ut,Grid:Zt,List:oe,Relative:ie,Sprite:de,Substitute:he,Table:ge,VerticalAlign:be,WhiteSpace:Te,constraint:{Guideline:ve},delegate:{Fixed:Pe,MaxWidthHeight:Oe,Percent:De,RadioGroup:Ge,ScrollBar:He},resource:{Background:un,Dimens:En,Fonts:On,Includes:Ln,Strings:Xn,Styles:Wn,Svg:Na}},lib:{constant:d,customization:v,enumeration:e,util:M},system:{customize(t,e,n){if(E[t]){const a=E[t].assign;return void 0===a[e]?a[e]=n:Object.assign(a[e],n),a[e]}},addXmlNs(t,e){l[t]=e},writeLayoutAllXml:(t=!1)=>Oa&&Da(Ca)?Oa.layoutAllToXml(Ca.sessionData,t):{},writeResourceAllXml:(t=!1)=>Oa&&Da(Ca)?Oa.resourceAllToXml(t):{},writeResourceStringXml:(t=!1)=>Oa&&Da(Ca)?Oa.resourceStringToXml(t):[],writeResourceArrayXml:(t=!1)=>Oa&&Da(Ca)?Oa.resourceStringArrayToXml(t):[],writeResourceFontXml:(t=!1)=>Oa&&Da(Ca)?Oa.resourceFontToXml(t):[],writeResourceColorXml:(t=!1)=>Oa&&Da(Ca)?Oa.resourceColorToXml(t):[],writeResourceStyleXml:(t=!1)=>Oa&&Da(Ca)?Oa.resourceStyleToXml(t):[],writeResourceDimenXml:(t=!1)=>Oa&&Da(Ca)?Oa.resourceDimenToXml(t):[],writeResourceDrawableXml:(t=!1)=>Oa&&Da(Ca)?Oa.resourceDrawableToXml(t):[],writeResourceDrawableImageXml:(t=!1)=>Oa&&Da(Ca)?Oa.resourceDrawableImageToXml(t):[],writeResourceAnimXml:(t=!1)=>Oa&&Da(Ca)?Oa.resourceAnimToXml(t):[]},create(){const t=squared.base.lib.constant.EXT_NAME,e=n;return Ca=new squared.base.Application(2,j,bt,b,Tt),Oa=new Nt(Ca.resourceHandler),La=Object.assign({},Pa),Object.assign(Ca.builtInExtensions,{[t.EXTERNAL]:new Wt(t.EXTERNAL,2),[t.SUBSTITUTE]:new he(t.SUBSTITUTE,2),[t.SPRITE]:new de(t.SPRITE,2),[t.CSS_GRID]:new Vt(t.CSS_GRID,2),[t.FLEXBOX]:new Ut(t.FLEXBOX,2),[t.TABLE]:new ge(t.TABLE,2,["TABLE"]),[t.LIST]:new oe(t.LIST,2,["DIV","UL","OL","DL"]),[t.GRID]:new Zt(t.GRID,2,["DIV","FORM","UL","OL","DL","TABLE","NAV","SECTION","ASIDE","MAIN","HEADER","FOOTER","P","ARTICLE","FIELDSET"]),[t.RELATIVE]:new ie(t.RELATIVE,2),[t.VERTICAL_ALIGN]:new be(t.VERTICAL_ALIGN,2),[t.WHITESPACE]:new Te(t.WHITESPACE,2),[t.ACCESSIBILITY]:new Lt(t.ACCESSIBILITY,2),[e.CONSTRAINT_GUIDELINE]:new ve(e.CONSTRAINT_GUIDELINE,2),[e.DELEGATE_FIXED]:new Pe(e.DELEGATE_FIXED,2),[e.DELEGATE_MAXWIDTHHEIGHT]:new Oe(e.DELEGATE_MAXWIDTHHEIGHT,2),[e.DELEGATE_PERCENT]:new De(e.DELEGATE_PERCENT,2),[e.DELEGATE_RADIOGROUP]:new Ge(e.DELEGATE_RADIOGROUP,2),[e.DELEGATE_SCROLLBAR]:new He(e.DELEGATE_SCROLLBAR,2),[e.RESOURCE_INCLUDES]:new Ln(e.RESOURCE_INCLUDES,2),[e.RESOURCE_BACKGROUND]:new un(e.RESOURCE_BACKGROUND,2),[e.RESOURCE_SVG]:new Na(e.RESOURCE_SVG,2),[e.RESOURCE_STRINGS]:new Xn(e.RESOURCE_STRINGS,2),[e.RESOURCE_FONTS]:new On(e.RESOURCE_FONTS,2),[e.RESOURCE_DIMENS]:new En(e.RESOURCE_DIMENS,2),[e.RESOURCE_STYLES]:new Wn(e.RESOURCE_STYLES,2)}),Ma=!0,{application:Ca,framework:2,userSettings:La}},cached:()=>Ma?{application:Ca,framework:2,userSettings:La}:ka.create()};return ka}();
