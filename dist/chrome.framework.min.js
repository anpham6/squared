var chrome=function(){"use strict";const{UNABLE_TO_FINALIZE_DOCUMENT:e,reject:t}=squared.lib.error,{isPlainObject:s}=squared.lib.util;class Application extends squared.base.Application{constructor(){super(...arguments),this.extensions=[],this.systemName="chrome"}init(){this.session.unusedStyles=new Set}reset(){this.session.unusedStyles.clear(),super.reset()}insertNode(e,t){if("#"===e.nodeName[0]){if(this.userSettings.excludePlainText)return;this.controllerHandler.applyDefaultStyles(e,t)}return this.createNodeStatic(t,e)}saveAs(e,t){return this.processAssets("saveAs",e||this.userSettings.outputArchiveName,t)}copyTo(e,t){return this.processAssets("copyTo",e,t)}appendTo(e,t){return this.processAssets("appendTo",e,t)}async processAssets(r,i,n){if(this.reset(),!this.parseDocumentSync())return t(e);(n=s(n)?Object.assign({},n):{}).saveAsWebPage=!0;const o=this.fileHandler;if(n.removeUnusedStyles){const e=Array.from(this.session.unusedStyles);e.length&&(n.unusedStyles=n.unusedStyles?Array.from(new Set(n.unusedStyles.concat(e))):e)}if(n.configUri){const e=new Map;n.assetMap=e,n.database||(n.database=[]);const t=n.database,s=await o.loadJSON(n.configUri);if(s){if(s.success&&Array.isArray(s.data)){const r=s.data,i=new Map;location.href.includes("?")&&new URLSearchParams(location.search).forEach(((e,t)=>i.set(t,[new RegExp(`\\{\\{\\s*${t}\\s*\\}\\}`,"g"),e])));const n=e=>{if(e&&"number"!=typeof e&&"boolean"!=typeof e){const t=e,s="object"==typeof e||Array.isArray(e);s&&(e=JSON.stringify(e));const r=e;for(const[t,s]of i.values())e=e.replace(t,s);if(r===e)return t;if(s)try{return JSON.parse(e)}catch(e){return t}}return e};for(const s of r)if(s.selector){const r=s.cloudDatabase;if(r&&i.size)for(const e in r)"value"!==e&&(r[e]=n(r[e]));document.querySelectorAll(s.selector).forEach((i=>{switch(s.type){case"text":case"attribute":r&&t.push(Object.assign(Object.assign({},r),{element:{outerHTML:i.outerHTML}}));break;default:e.set(i,s)}}))}}else s.error&&o.writeErrorMesssage(s.error);0===t.length&&delete n.database}}return o[r](i,n)}get initializing(){return!1}get length(){return 1}}class Extension extends squared.base.Extension{processFile(e){return!0}}var r=squared.lib.base.Pattern;const{FILE:i}=squared.lib.regex,n=squared.base.Resource.ASSETS,{convertWord:o,fromLastIndexOf:a,parseMimeType:c,replaceMap:l,resolvePath:u,splitPair:p,splitPairStart:m,trimEnd:f}=squared.lib.util,{appendSeparator:h,parseWatchInterval:g}=squared.base.lib.util,d=new r(/\s*(.+?\.[^\s,]+)(\s+[\d.]+[wx])?\s*,?/g),v=new WeakMap;let A=0;function y(e,t){if(t){const s=new RegExp(`${e}:\\s*((?:[^"]|\\\\")+)`).exec(N(t));if(s){const e=l(s[1].split("::"),(e=>e.trim()));return{file:e[0],format:e[1]}}}}function b(e){if(e){let t;const s=/\bcompress\[\s*([a-z\d]+)\s*\]/g;let r;for(;r=s.exec(e);)(t||(t=[])).push({format:r[1]});return{preserve:e.includes("preserve"),inline:e.includes("inline"),compress:t}}return{}}function T(e,t,s){if((e=N(e)).startsWith("./")&&(e=e.substring(2)),!e.includes("/"))return["","",e];let r;if("/"===e[0])r="__serverroot__";else if(e.startsWith("../")){r="__serverroot__";const t=location.pathname.split("/");if(--t.length)for(let s=0,r=e.length;s<r&&("../"===e.substring(s,s+3)&&0!=--t.length);s+=3);e=t.join("/")+"/"+e.split("../").pop()}const i=p(e,"/",!1,!0);return t&&(i[1]=S(i[1],s)),[r,i[0],i[1]]}function S(e,t){return t||(t=j(e)),"__assign__"+(t?"."+t:"unknown")}function x(e,t){const s=u(e instanceof HTMLObjectElement?e.data:e.src);s&&t.set(e,s)}function w(e){for(const t in e){const s=e[t],r=s.length;if(r>1){const e=[],t=++A;for(let i=0;i<r;++i){const r=s[i];r.bundleId=t,r.bundleIndex=i,i>0&&delete r.cloudStorage,e&&r.uri&&e.push(new URL(r.uri))}e:if(e.length===r){const t=e[0].origin,i=e[0].pathname.split("/");for(let s=1;s<r;++s){const r=e[s];if(r.origin!==t)break e;if(i.length){const e=r.pathname.split("/");for(let t=0;t<e.length;++t)if(i[t]!==e[t]){i.splice(t,1/0);break}}}s[0].bundleRoot=t+i.join("/")+"/"}}}}function E(e,t,s,r,i,n){const o=t.innerHTML;if(o.trim()){const[a,c,l]=T(s),p=e[e.length-1],m={uri:u(s,location.href),pathname:c,filename:l,moveTo:a,content:o,format:r,preserve:i,inlineContent:n?C(t):void 0};if(!p||!R(p,m,!0))return O(e,m),m;(p.trailingContent||(p.trailingContent=[])).push({value:o,preserve:i})}return null}function M(e,t){const s=(t.moveTo||"")+t.pathname+"/"+t.filename;(e[s]||(e[s]=[])).push(t)}function L(e,t){for(let s=0,r=e.length;s<r;++s)if(R(e[s],t)){for(let i=s+1;i<r;++i)if(!R(e[i],t))return O(e,t),!0;return!1}return O(e,t),!0}function O(e,t){const s=t.filename;let r=0;for(;e.find((e=>R(e,t)));){const[e,s]=p(t.filename,".");t.filename=e+"_"+ ++r+(s?"."+s:"")}r>0&&v.set(t,s)}function C(e){switch(e.tagName){case"SCRIPT":return"script";case"LINK":case"STYLE":return"style"}}function I(e,t,s){return t.exclude?(e.push({pathname:"",filename:"",exclude:!0,outerHTML:s}),!0):!!t.ignore}function _(e,t,s){if(s){const r=H(e,t,s);if(r)return[r,!1]}else if(t&&"~"!==t)return[t,!0];return["",!1]}function k(e,t,s,r,i){t&&(e.compress||(e.compress=[])).push(...t),s&&(e.tasks=s),i&&(e.attributes=i),r&&(e.cloudStorage=r)}function H(e,t,s){if(e&&(!t||"~"===t)){const s=new URL(e);if(location.origin===s.origin){const s=location.origin.length,r=e.substring(s+1).split("/");for(const e of location.href.substring(s+1).split("/"))if(e!==r.shift())return"";t=r.join("/")}}return h(t,s)}function F(){const e=location.href.split("/").pop().split("?")[0];return/\.html?$/.exec(e)?e:"index.html"}const R=(e,t,s)=>e.pathname===t.pathname&&(e.filename===t.filename||v.get(e)===t.filename||s&&e.filename.startsWith("__assign__"))&&(e.moveTo||"")===(t.moveTo||""),U=e=>{var t;return null===(t=e.dataset.chromeTasks)||void 0===t?void 0:t.trim().split(/\s*\+\s*/)},q=(e,t,s)=>e.type.trim().toLowerCase()||t&&c(t)||s,j=e=>e.includes(".")?a(e,".").trim().toLowerCase():"",P=(e,t)=>e.substring(t,e.lastIndexOf("/")),N=e=>e.replace(/\\+/g,"/");class File extends squared.base.File{static parseUri(e,t){let s,r,n,l,p,g,d;t&&({element:s,saveAs:r,format:n,saveTo:l,inline:p,fromConfig:d}=t);let v=f(e,"/"),A;const b=v.startsWith(f(location.origin,"/"));if(r){if(r=f(N(r),"/"),l||d)A=r;else{const e=y("saveAs",r);e?(({file:A,format:n}=e),p&&s&&(g=s.outerHTML)):A=r}"~"===A&&(A=""),b&&A&&(v=u(A,location.href))}if(!b&&!A&&t&&t.preserveCrossOrigin)return null;const S=i.PROTOCOL.exec(v);if(S){const t=S[2],r=S[3],i=S[4]||"",u=j(e);let f="",d="",v="",y,x;if(A&&l)[x,f,d]=T(h(A,"__assign__"+(u?"."+u:"")));else if(b){v=m(location.pathname,"/",!1,!0)+"/";let e=i.length;if(e){let t=0;e=Math.min(e,v.length);for(let s=0;s<e&&i[s]===v[s];++s)t=s;y=i.substring(0,t+1)}}else f=o(t)+(r?"/"+r.substring(1):"")+"/";return d||(A?[x,f,d]=T(A):i&&"/"!==i&&(d=a(i,"/","\\"),b?i.startsWith(v)?f=P(i,v.length):(x="__serverroot__",y="",f=P(i,0)):f+=P(i,1))),{uri:e,rootDir:y,moveTo:x,pathname:N(decodeURIComponent(f)),filename:decodeURIComponent(d),mimeType:u&&c(u),format:n,outerHTML:g,inlineContent:p&&s?C(s):void 0}}return null}copyTo(e,t={}){return t.directory=e,this.copying(this.processAssets(t))}appendTo(e,t={}){return t.filename||(t.filename=this.userSettings.outputArchiveName),t.appendTo=e,this.archiving(this.processAssets(t))}saveAs(e,t={}){return t.filename=e,this.archiving(this.processAssets(t))}getHtmlPage(e){var t,s;const r=document.documentElement;let i=r.dataset.chromeFile,n,o,a,c,l,u,p,m,f,h;if("ignore"===i)return[];if(e&&(({preserveCrossOrigin:o,assetMap:n}=e),a=null===(t=e.saveAs)||void 0===t?void 0:t.html),n&&n.has(r)){const e=n.get(r);if(e.ignore||e.exclude)return[];({filename:c,process:u,compress:p,tasks:m,cloudStorage:f,attributes:h}=e)}else if(a){if(a.ignore||a.exclude)return[];({filename:c,process:u,compress:p,tasks:m,cloudStorage:f,attributes:h}=a)}else m=U(r);c&&(i=""),u&&(l=u.join("+"));const g=File.parseUri(location.href,{preserveCrossOrigin:o,saveAs:i,format:l});return this.processExtensions(g)?(k(g,p,m,f,h),h&&(g.outerHTML=null===(s=/^\s*<[\S\s]*html[^>]+>\s*/i.exec(r.outerHTML))||void 0===s?void 0:s[0].replace(/(\s?[\w-]+="")+>/g,"")),g.filename||(g.filename=c||F()),g.mimeType="text/html",[g]):[]}getScriptAssets(e){var t,s;let r,i,n;e&&(({assetMap:r,preserveCrossOrigin:i}=e),n=null===(t=e.saveAs)||void 0===t?void 0:t.script);const o=[],a={};let c;if(r)for(const e of r.values())if(!e.selector){const t=e.template;if(t)switch(e.type){case"html":case"js":case"css":{const{module:r,identifier:i}=t;let n=t.value;r&&i&&n&&(n=n.trim())&&n.startsWith("function")&&(((s=(c||(c={html:{},js:{},css:{}}))[e.type])[r]||(s[r]={}))[i]=n);break}}}return document.querySelectorAll("script").forEach((e=>{var t;const s=e.dataset.chromeTemplate;if(s||"text/template"===e.type){let i,n,a;if(r&&r.has(e)){const t=r.get(e);i=t.type,t.template&&({module:n,identifier:a}=t.template),I(o,t,e.outerHTML)}else s&&([i,n,a]=l(s.split("::"),((e,t)=>(0===t?e.toLowerCase():e).trim())));if(i&&n&&a)switch(i){case"html":case"js":case"css":((t=(c||(c={html:{},js:{},css:{}}))[i])[n]||(t[n]={}))[a]=e.textContent.trim()}}else{const t=e.src.trim();this.createBundle(o,a,e,t,q(e,t,"text/javascript"),i,r,n)}})),w(a),[o,c]}getLinkAssets(e){var t;let s,r,i;e&&(({assetMap:s,preserveCrossOrigin:i}=e),r=null===(t=e.saveAs)||void 0===t?void 0:t.link);const o=[],a={};let c,l,p,m,f;document.querySelectorAll("link, style").forEach((e=>{let t,n;if(e instanceof HTMLLinkElement&&(t=e.href.trim()))switch(e.rel.trim().toLowerCase()){case"stylesheet":n="text/css";break;case"icon":n="image/x-icon"}this.createBundle(o,a,e,t,n||q(e,t,"text/css"),i,s,r,"text/css"===n||e instanceof HTMLStyleElement)})),r&&({process:c,compress:l,preserve:p,tasks:m,cloudStorage:f}=r);for(const[e,t]of n.rawData)if("text/css"===t.mimeType){const s=File.parseUri(u(e),{preserveCrossOrigin:i,format:c?c.join("+"):void 0});this.processExtensions(s)&&(k(s,l,m,f),p&&(s.preserve=!0),s.mimeType=t.mimeType,o.push(s))}return w(a),o}getImageAssets(e){let t,s,r,i;e&&(({assetMap:t,preserveCrossOrigin:s}=e),e.saveAs&&({image:r,base64:i}=e.saveAs));const o=[];document.querySelectorAll("video").forEach((e=>this.processImageUri(o,e,u(e.poster),r,s,t))),document.querySelectorAll("picture > source").forEach((e=>{for(const i of e.srcset.trim().split(","))this.processImageUri(o,e,u(m(i," ")),r,s,t)})),document.querySelectorAll("img, input[type=image]").forEach((e=>{const i=e.src.trim();i.startsWith("data:image/")||this.processImageUri(o,e,u(i),r,s,t)})),document.querySelectorAll("img[srcset], picture > source[srcset]").forEach((e=>{for(d.matcher(e.srcset.trim());d.find();)this.processImageUri(o,e,u(d.group(1)),r,s,t)}));for(const e of n.image.keys())this.processImageUri(o,null,e,r,s);for(const e of n.rawData.values()){const{base64:t,filename:n,mimeType:a}=e;if(t){if(i){let e;if(a&&a.startsWith("image/")&&(e=i.commands,e))for(let t=0;t<e.length;++t){const s=/^\s*(?:(png|jpeg|webp|bmp)\s*[@%]?)([\S\s]*)$/.exec(e[t]);s?e[t]=s[1]+"@"+s[2].trim():e.splice(t--,1)}const c=this.processImageUri(o,null,u(T(h(i.pathname,n))[1]+"/"+n,location.href),r,s);c&&(c.base64=t,(null==e?void 0:e.length)&&(c.commands||(c.commands=e)),c.cloudStorage=i.cloudStorage)}}else if(a&&e.content){const t={pathname:`__generated__/${a.split("/").pop()}`,filename:n,content:e.content,mimeType:a};this.processExtensions(t)&&o.push(t)}}return o}getVideoAssets(e){return this.getRawAssets("video",e)}getAudioAssets(e){return this.getRawAssets("audio",e)}getFontAssets(e){const t=e&&e.preserveCrossOrigin,s=[];for(const e of n.fonts.values())for(let r=0,i=e.length;r<i;++r){const i=e[r].srcUrl;if(i){const e=File.parseUri(i,{preserveCrossOrigin:t});this.processExtensions(e)&&s.push(e)}}return s}finalizeRequestBody(e,t){e.database=t.database,e.unusedStyles=t.unusedStyles,e.transpileMap=t.transpileMap}getCopyQueryParameters(e){return this.getArchiveQueryParameters(e)+(e.watch?"&watch=1":"")}getArchiveQueryParameters(e){return"&chrome=1"+(e.productionRelease?"&release=1":"")}getRawAssets(e,t){var s;let r,i,n;t&&(({assetMap:r,preserveCrossOrigin:i}=t),n=null===(s=t.saveAs)||void 0===s?void 0:s.image);const o=[];return document.querySelectorAll(e).forEach((e=>{const t=new Map;let s="";switch(e.tagName){case"VIDEO":case"AUDIO":e.querySelectorAll("source, track").forEach((e=>x(e,t)));break;case"OBJECT":case"EMBED":s=e.type;case"IFRAME":{const t="IFRAME"===e.tagName,a=e.dataset.chromeFile;if(!t||a&&a.startsWith("saveTo")){const t=(e instanceof HTMLObjectElement?e.data:e.src).trim();if(s.startsWith("image/")||c(t).startsWith("image/"))return void this.processImageUri(o,e,t,n,i,r)}else if(t)return}}x(e,t);for(const[e,s]of t){const t=e.dataset.chromeFile;let n,a,c,l,u,p,m,f,h;if("ignore"===t)continue;if(r&&r.has(e)){const t=r.get(e);if(I(o,t,e.outerHTML))continue;({saveTo:n,filename:c,compress:l,tasks:u,watch:p,cloudStorage:m,attributes:f}=t),[n,a]=_(s,n||t.pathname,c),n&&(c=""),h=!0}else{const s=y("saveAs",t);s&&(n=s.file),({compress:l}=b(e.dataset.chromeOptions)),u=U(e),p=g(e.dataset.chromeWatch)}const d=File.parseUri(s,{preserveCrossOrigin:i,saveAs:n,saveTo:a,fromConfig:h});this.processExtensions(d)&&(k(d,l,u,m,f),c&&(d.filename=c),p&&(d.watch=p),d.outerHTML=e.outerHTML,o.push(d))}})),o}processAssets(e){const t=this.getHtmlPage(e).concat(this.getLinkAssets(e));if(e.saveAsWebPage)for(let e=0,s=t.length;e<s;++e){const s=t[e];switch(s.mimeType){case"text/html":s.baseUrl=location.origin+(s.rootDir||location.pathname.substring(0,location.pathname.lastIndexOf("/")+1));case"text/css":s.mimeType="@"+s.mimeType}}const[s,r]=this.getScriptAssets(e);return t.push(...s,...this.getImageAssets(e),...this.getVideoAssets(e),...this.getAudioAssets(e),...this.getRawAssets("object",e),...this.getRawAssets("embed",e),...this.getRawAssets("iframe",e),...this.getFontAssets(e)),e.assets=t,delete e.assetMap,r&&(e.transpileMap=r),e}createBundle(e,t,s,r,i,n,o,a,c=!0){let l=s.dataset.chromeFile,p,m,f,h,d,v,A,T,S,x,w,O;if("exclude"===l||"ignore"===l)return;if(o&&o.has(s)){const t=o.get(s);if(I(e,t,s.outerHTML))return;let i;({filename:i,preserve:f,inline:h,process:d,compress:v,tasks:A,watch:T,cloudStorage:S,attributes:x}=t),l=r?t.saveAs:t.exportAs,!l&&i&&(t.pathname?([l]=_(r,t.pathname,i),l||(p=i)):p=i),w=!0}else if(c&&a){if(I(e,a,s.outerHTML))return;if(p=a.filename,({preserve:f,inline:h,process:d,compress:v,tasks:A,watch:T,cloudStorage:S,attributes:x}=a),r)l=p&&H(r,a.pathname,p),l&&(p="");else{if(!p)return;l="./"+p,p=""}O=!0}else({preserve:f,inline:h,compress:v}=b(s.dataset.chromeOptions)),A=U(s),T=g(s.dataset.chromeWatch);d&&(m=d.join("+"));let C=null;if(r)C=File.parseUri(u(r),{element:s,saveAs:l,format:m,inline:h,preserveCrossOrigin:n,fromConfig:w}),C&&L(e,C)&&(C.bundleIndex=-1);else if(l){if(!w&&!O){const e=y("exportAs",l);e&&({file:l,format:m}=e)}C=E(e,s,l,m,f,h),C&&(C.bundleIndex=-1)}this.processExtensions(C)&&(k(C,v,A,S,x),p&&(C.filename=p),f&&(C.preserve=!0),T&&(C.watch=T),C.mimeType=i,C.outerHTML=s.outerHTML,M(t,C),e.push(C))}processImageUri(e,t,s,r,i,n){if(s=s.trim()){let o,a,c,u,p,m,f,h,d,v,A,T;if(t){const i=t.dataset.chromeFile;if("ignore"===i)return;if(n&&n.has(t)){const r=n.get(t);if(I(e,r,t.outerHTML))return;({saveTo:o,pathname:c,filename:u,commands:f,inline:p,compress:m,tasks:h,watch:d,cloudStorage:v,attributes:A}=r),[o,a]=_(s,o||c,u),o&&(u=""),T=!0}else if(r){if(I(e,r,t.outerHTML))return;({pathname:c,commands:f,inline:p,compress:m,tasks:h,watch:d,cloudStorage:v,attributes:A}=r),[o,a]=_(s,c)}else if(i){let e=y("saveTo",i);e?[o,a]=_(s,e.file):(e=y("saveAs",i),e&&(o=e.file));const{chromeCommands:r,chromeOptions:n,chromeWatch:c}=t.dataset;r&&(f=l(r.split("::"),(e=>e.trim()))),({inline:p,compress:m}=b(n)),h=U(t),d=g(c)}}else r&&(({pathname:c,commands:f,inline:p,compress:m,tasks:h,cloudStorage:v}=r),[o,a]=_(s,c));const S=File.parseUri(s,{preserveCrossOrigin:i,saveAs:o,saveTo:a,fromConfig:T});if(this.processExtensions(S))return k(S,m,h,v,A),u&&(S.filename=u),d&&(S.watch=d),t&&(S.outerHTML=t.outerHTML),f&&f.length&&"~"!==f[0]&&(S.commands=f),p&&(S.format="base64"),e.push(S),S}}processExtensions(e){if(e){for(const t of this.application.extensions)if(!t.processFile(e))return!1;return!0}return!1}get application(){return this.resource.application}get userSettings(){return this.resource.userSettings}}const W={builtInExtensions:[],preloadImages:!1,preloadFonts:!1,preloadCustomElements:!1,excludePlainText:!0,createElementMap:!0,createQuerySelectorMap:!0,pierceShadowRoot:!1,showErrorMessages:!1,outputEmptyCopyDirectory:!1,outputTasks:{},outputWatch:{},outputArchiveName:"chrome-data",outputArchiveFormat:"zip"},{DIRECTORY_NOT_PROVIDED:D,FRAMEWORK_NOT_INSTALLED:V,reject:B}=squared.lib.error,{isString:z,isPlainObject:$}=squared.lib.util;let J=null,Q=null;function K(e,t,s,r){return $(t)?t.assets&&e.push(...t.assets):t={},Object.assign(t,{assets:e,directory:s,filename:r})}const Y=e=>e||J.userSettings.outputArchiveName,Z=undefined;return{base:{Application:Application,Extension:Extension,File:File},lib:{},extensions:{},system:{copyHtmlPage:(e,t)=>z(e)?Q?Q.copying(K(Q.getHtmlPage(t),t,e)):B(V):B(D),copyScriptAssets:(e,t)=>z(e)?Q?Q.copying(K(Q.getScriptAssets(t)[0],t,e)):B(V):B(D),copyLinkAssets:(e,t)=>z(e)?Q?Q.copying(K(Q.getLinkAssets(t),t,e)):B(V):B(D),copyImageAssets:(e,t)=>z(e)?Q?Q.copying(K(Q.getImageAssets(t),t,e)):B(V):B(D),copyVideoAssets:(e,t)=>z(e)?Q?Q.copying(K(Q.getVideoAssets(t),t,e)):B(V):B(D),copyAudioAssets:(e,t)=>z(e)?Q?Q.copying(K(Q.getAudioAssets(t),t,e)):B(V):B(D),copyFontAssets:(e,t)=>z(e)?Q?Q.copying(K(Q.getFontAssets(t),t,e)):B(V):B(D),saveHtmlPage:(e,t)=>Q?Q.archiving(K(Q.getHtmlPage(t),t,void 0,Y(e)+"-html")):B(V),saveScriptAssets:(e,t)=>Q?Q.archiving(K(Q.getScriptAssets(t)[0],t,void 0,Y(e)+"-script")):B(V),saveLinkAssets:(e,t)=>Q?Q.archiving(K(Q.getLinkAssets(t),t,void 0,Y(e)+"-link")):B(V),saveImageAssets:(e,t)=>Q?Q.archiving(K(Q.getImageAssets(t),t,void 0,Y(e)+"-image")):B(V),saveVideoAssets:(e,t)=>Q?Q.archiving(K(Q.getVideoAssets(t),t,void 0,Y(e)+"-video")):B(V),saveAudioAssets:(e,t)=>Q?Q.archiving(K(Q.getAudioAssets(t),t,void 0,Y(e)+"-audio")):B(V),saveFontAssets:(e,t)=>Q?Q.archiving(K(Q.getFontAssets(t),t,void 0,Y(e)+"-font")):B(V)},create:()=>(J=new Application(4,squared.base.Node,squared.base.Controller,squared.base.ExtensionManager,squared.base.Resource),Q=new File,J.resourceHandler.fileHandler=Q,{application:J,framework:4,userSettings:Object.assign({},W)}),cached(){return J?{application:J,framework:4,userSettings:J.userSettings}:this.create()}}}();
