var chrome=function(){"use strict";class e extends squared.base.Node{constructor(e,t,n,r){super(e,t,n),this._cached={},n&&this.init(),r&&r(this)}}class t extends squared.base.Application{insertNode(t,n){if("#text"===t.nodeName){if(this.userSettings.excludePlainText)return;this.controllerHandler.applyDefaultStyles(t)}const r=this.createNode(t,!1);return r.plainText&&e.copyTextStyle(r,n),r}afterCreateCache(){this.processing.node&&this.controllerHandler.addElementList(this.processing.cache)}}const n=squared.lib.constant,r=squared.lib.session;class s extends squared.base.Controller{constructor(){super(...arguments),this.localSettings={svg:{enabled:!0},supported:{fontFormat:"*",imageFormat:"*"},unsupported:{cascade:new Set,tagName:new Set,excluded:new Set}},this._elementMap=new Map}init(){}sortInitialCache(){}reset(){this._elementMap.clear()}applyDefaultStyles(e){"#text"===e.nodeName&&r.setElementCache(e,"styleMap",this.application.processing.sessionId,{position:"static",display:"inline",verticalAlign:"baseline",float:n.CSS.NONE,clear:n.CSS.NONE})}includeElement(){return!0}addElement(e){this._elementMap.set(e.element,e)}addElementList(e){for(const t of e)this._elementMap.set(t.element,t)}get elementMap(){return this._elementMap}get userSettings(){return this.application.userSettings}}class i extends squared.base.ExtensionManager{}class l extends squared.base.Resource{get userSettings(){return this.application.userSettings}}const a={builtInExtensions:[],preloadImages:!1,handleExtensionsAsync:!0,showErrorMessages:!1,createQuerySelectorMap:!0,excludePlainText:!0},o=squared.lib.util;let c,u,d,p,m=!1;function g(e){const t=p.get(e);if(t)return t;const n=c.userSettings,r=n.preloadImages;return n.preloadImages=!1,c.parseDocument(e),n.preloadImages=r,p.get(e)||null}function f(e){return __awaiter(this,void 0,void 0,function*(){const t=p.get(e);return t||(yield c.parseDocument(e),p.get(e)||null)})}const h={base:{Controller:s,Resource:l,View:e},lib:{},extensions:{},system:{getElement:e=>c?g(e):null,getElementById(e){if(c){const t=document.getElementById(e);if(t)return g(t)}return null},querySelector(e){if(c){const t=document.querySelector(e);if(t)return g(t)}return null},querySelectorAll(e){const t=[];return c&&document.querySelectorAll(e).forEach(e=>{const n=g(e);n&&t.push(n)}),t},getElementMap:()=>c?c.controllerHandler.elementMap:new Map},create:()=>(c=new t(4,e,s,l,i),p=(u=c.controllerHandler).elementMap,d=Object.assign({},a),m=!0,{application:c,framework:4,userSettings:d}),cached:()=>m?{application:c,framework:4,userSettings:d}:h.create(),getElement:e=>__awaiter(void 0,void 0,void 0,function*(){return c?yield f(e):null}),getElementById:e=>__awaiter(void 0,void 0,void 0,function*(){if(c){const t=document.getElementById(e);if(t)return yield f(t)}return null}),querySelector:e=>__awaiter(void 0,void 0,void 0,function*(){if(c){const t=document.querySelector(e);if(t)return yield f(t)}return null}),querySelectorAll:e=>__awaiter(void 0,void 0,void 0,function*(){if(c){const t=document.querySelectorAll(e),n=Array(t.length);let r=!1;return yield(()=>__awaiter(this,void 0,void 0,function*(){t.forEach((e,t)=>__awaiter(this,void 0,void 0,function*(){const s=yield f(e);s?n[t]=s:r=!0}))}))(),r?o.flatArray(n):n}return[]})};return h}();
